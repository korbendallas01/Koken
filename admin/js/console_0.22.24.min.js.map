{"version":3,"sources":["jquery.min.js","jquery-migrate.min.js","jquery-ui.min.js","moment.min.js","ace/ace.js","ace/mode-css.js","ace/mode-html.js","ace/theme-koken.js","ace/theme-kokenlight.js","animationframe.js","inflection.js","jquery-ui-timepicker-addon.js","jquery.bbq.js","jquery.easing.1.3.js","jquery.fitvids.js","jquery.mousewheel.min.js","jquery.zclip.min.js","knockout.min.js","koken-core.js","mediaelement-and-player.min.js","moment-timezone.min.js","piecon.js","plupload.min.js","redactor.js","spectrum.js"],"names":["exportAce","ns","require","module","callback","_require","root","global","define","packaged","_define","original","ACE_NAMESPACE","this","requirejs","deps","payload","apply","window","arguments","console","error","trace","length","modules","payloads","parentId","Object","prototype","toString","call","params","i","l","dep","lookup","push","normalizeModule","moduleName","indexOf","chunks","split","charAt","base","slice","join","previous","replace","exports","mod","id","uri","req","returnValue","dom","event","Editor","EditSession","UndoManager","Renderer","VirtualRenderer","MultiSelect","config","edit","el","_id","document","getElementById","Error","env","editor","doc","createEditSession","getInnerText","innerHTML","setSession","onResize","resize","bind","addListener","on","removeListener","text","mode","setUndoManager","Behaviour","$behaviours","add","name","action","undefined","addBehaviours","behaviours","key","remove","inherit","filter","getBehaviours","ret","addUnicodePackage","pack","codePoint","packages","L","Ll","Lu","Lt","Lm","Lo","M","Mn","Mc","Me","N","Nd","Nl","No","P","Pd","Ps","Pe","Pi","Pf","Pc","Po","S","Sm","Sc","Sk","So","Z","Zs","Zl","Zp","C","Cc","Cf","Co","Cs","Cn","TokenIterator","session","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","token","getTokenAt","$tokenIndex","index","stepBackward","stepForward","rowCount","getLength","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","column","start","value","lang","TextHighlightRules","$rules","regex","defaultToken","addRules","rules","prefix","state","rule","next","nextState","getRules","embedRules","HighlightRules","escapeRules","states","append","Array","deepCopy","$embeds","getEmbeds","pushState","currentState","stack","unshift","popState","shift","normalizeRules","processState","processed","end","isArray","stateName","r","include","includeName","toInsert","args","concat","noEscape","x","splice","keywordMap","createKeywordMapper","caseInsensitive","keys","forEach","map","ignoreCase","splitChar","keywords","create","className","a","toLowerCase","list","getPrototypeOf","__proto__","$keywordList","getKeywords","$keywords","oop","EventEmitter","Anchor","row","$onChange","onChange","attach","setPosition","implement","getPosition","$clipPositionToDocument","getDocument","$insertRight","e","delta","data","range","Math","max","noClip","pos","old","_signal","detach","removeEventListener","getLine","min","BackgroundTokenizer","tokenizer","running","lines","currentLine","self","$worker","workerStart","Date","endLine","startLine","len","processedLines","$tokenizeRow","setTimeout","fireUpdateEvent","setTokenizer","setDocument","stop","firstRow","lastRow","first","last","startRow","scheduleStart","$updateOnChange","clearTimeout","getState","line","getLineTokens","tokens","Range","SearchHighlight","regExp","clazz","type","setRegexp","MAX_RANGES","cache","update","html","markerLayer","ranges","getMatchOffsets","match","offset","j","drawSingleLineMarker","toScreenRange","Folding","getFoldAt","side","foldLine","getFoldLine","folds","fold","contains","isEnd","isStart","getFoldsInRange","foldLines","$foldData","foundFolds","cmp","compareRange","getFoldsInRangeList","getAllFolds","getFoldStringAt","trim","str","lastFold","compareEnd","substring","docRow","startFoldLine","foldData","getNextFoldLine","getFoldedRowCount","$addFoldLine","sort","b","addFold","placeholder","added","Fold","collapseChildren","$clipRangeToDocument","startColumn","endRow","endColumn","startFold","endFold","addSubFold","removeFolds","subFold","sameRow","foldLineNext","merge","FoldLine","$useWrapMode","$updateWrapData","$updateRowLengthCache","$modified","_emit","addFolds","removeFold","pop","newFoldLine","$updating","cloneFolds","expandFold","subFolds","restoreRange","foldAll","expandFolds","unfold","location","expandInner","fromPoints","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","walk","lastColumn","getDisplayLine","$cloneFoldData","fd","clone","toggleFold","tryToUnfold","bracketPos","selection","getRange","isEmpty","cursor","findMatchingBracket","comparePoint","getCommentFoldRange","isMultiLine","getTextRange","dir","iterator","test","re","RegExp","depth","foldWidgets","getFoldWidget","getFoldWidgetRange","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","style","$foldMode","$setFolding","foldMode","$updateFoldWidgets","updateFoldWidgets","getParentFoldRangeData","ignoreCurrent","fw","firstRange","c","onFoldWidgetClick","domEvent","options","children","shiftKey","all","ctrlKey","metaKey","siblings","altKey","$toggleFoldWidget","target","srcElement","isEqual","toggleFoldWidget","toggleParent","getCursor","setFoldLine","shiftRow","compareStart","containsRow","comp","lastEnd","isNewRow","getNextFoldTo","kind","addRemoveChars","log","foldBefore","idxToPosition","idx","lastFoldEndColumn","MAX_TOKEN_COUNT","Tokenizer","regExps","matchMappings","ruleRegExps","matchTotal","mapping","flag","splitterRurles","adjustedregex","matchcount","exec","tokenArray","onMatch","$arrayTokens","$applyToken","digit","parseInt","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","m","values","types","src","y","inChClass","lastCapture","esc","parenOpen","parenClose","square","substr","startState","lastIndex","skipped","consumePoint","point","anchor","consumeRange","restorePoint","RangeList","inherits","containsRange","compare","afterStart","unicode","Mode","$behaviour","tokenRe","nonTokenRe","getTokenizer","$tokenizer","$highlightRules","lineCommentStart","blockComment","toggleCommentLines","iter","fun","ignoreBlankLines","shouldRemove","minIndent","Infinity","tabSize","getTabSize","insertAtTabStop","regexpStart","escapeRegExp","getUseSoftTabs","uncomment","shouldInsertSpace","removeInLine","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","minEmptyLength","indent","search","floor","toggleBlockComment","colDiff","initialRange","toOrientedRange","startRange","endRange","insert","fromOrientedRange","getNextLineIndent","tab","$getIndent","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$modes","delegations","scope","functionName","defaultHandler","$delegator","method","transformAction","param","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","word","score","meta","$id","comparePoints","pointIndex","excludeEdges","startIndex","cmpEnd","cmpStart","endIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipRows","clipped","removeAll","changeRange","lineDif","n","p1","p2","p","intersects","setStart","setEnd","inside","insideStart","insideEnd","compareInside","extend","collapseRows","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","BracketMatch","position","chr","charBeforeCursor","$findClosingBracket","$findOpeningBracket","getBracketRange","$brackets",")","(","]","[","{","}","bracket","typeRe","openBracket","valueIndex","closingBracket","valueLength","Selection","clearSelection","lead","selectionLead","createAnchor","selectionAnchor","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","setSelectionAnchor","getSelectionAnchor","getSelectionLead","shiftSelection","columns","moveCursorTo","isBackwards","$moveSelection","selectAll","setRange","setSelectionRange","reverse","selectTo","mover","selectToPosition","moveCursorToPosition","moveTo","moveToPosition","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","getWordRange","selectWord","selectAWord","getAWordRange","getLineRange","excludeLastChar","rowEnd","rowStart","selectLine","moveCursorBy","isTabStop","screenRow","documentToScreenRow","firstColumnPosition","screenToDocumentPosition","beforeCursor","leadingSpace","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","moveCursorLongWordRight","rightOfCursor","moveCursorLongWordLeft","leftOfCursor","stringReverse","$shortWordEndIndex","ch","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","chars","screenPos","docPos","lineWidgets","keepDesiredColumn","moveCursorToScreen","desiredColumn","toJSON","rangeCount","r1","fromJSON","rangeList","toSingleRange","addRange","Search","$options","set","mixin","getOptions","copyObject","setOptions","find","$matchIterator","findAll","needle","$assembleRegExp","getLines","getAllLines","$isMultiLine","prevRange","maxRow","outer","matches","replacement","preserveCase","toUpperCase","backwards","matchIterator","Number","MAX_VALUE","_callback","$lineIterator","$disableFakeMultiline","wholeWord","modifier","caseSensitive","$assembleMultilineRegExp","parts","skipCurrent","wrap","TextMode","Document","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","onChangeFold","resetOptions","setMode","isFullWidth","bgTokenizer","resetCaches","$resetRowCache","$docRowCache","$screenRowCache","$getRowCacheIndex","cacheArray","val","low","hi","mid","$wrapData","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","ignore","$deltasDoc","$deltasFold","$informUndoManager","schedule","setValue","$deltas","getUndoManager","reset","getValue","getSelection","undoManager","cancel","$syncInformUndoManager","group","deltas","execute","mergeUndoDeltas","delayedCall","markUndoGroup","$defaultUndoManager","undo","redo","getTabString","stringRepeat","setUseSoftTabs","setOption","$useSoftTabs","$mode","$indentWithTabs","setTabSize","$tabSize","$overwrite","setOverwrite","overwrite","getOverwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","addMarker","inFront","marker","renderer","addDynamicMarker","removeMarker","markerId","markers","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","$annotations","getAnnotations","clearAnnotations","$detectNewLine","$autoNewLine","inToken","wordRange","setNewLineMode","newLineMode","getNewLineMode","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","cb","$onChangeMode","path","loadModule","$isPlaceholder","$stopWorker","$startWorker","addEventListener","_self","wrapMethod","$wrapMethod","foldingRules","terminate","Worker","noWorker","getMode","$scrollTop","setScrollTop","scrollTop","isNaN","getScrollTop","$scrollLeft","setScrollLeft","scrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","width","w","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","lastUndoRange","revertDeltas","$getUndoSelection","foldDelta","redoChanges","applyDeltas","setUndoSelect","enable","isUndo","isInsert","lastDeltaIsInsert","moveText","fromRange","toPosition","copy","toRange","rowDiff","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","size","$moveLines","diff","$clipRowToDocument","removeLines","insertLines","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","getUseWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","arr","abs","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","CHAR","CHAR_EXT","PUNCTUATION","SPACE","TAB","TAB_SPACE","addSplit","displayed","lastSplit","lastDocSplit","splits","displayLength","isCode","$wrapAsCode","minSplit","charCodeAt","getScreenTabSize","maxScreenColumn","screenColumn","getRowLength","h","getRowLineCount","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","rowCache","doCache","splitIndex","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","defineOptions","$wrap","col","get","handlesSet","initialValue","firstLineNumber","useSoftTabs","HashHandler","CommandManager","platform","commands","byName","setDefaultHandler","command","$readOnly","readOnly","retvalue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","getKeyboardHandler","$callKeyboardHandlers","hashId","keyString","keyCode","toExecute","success","passEvent","stopEvent","onCommandKey","keyCodeToString","onTextInput","useragent","isMac","commandKeyBinding","__defineGetter__","__defineSetter__","warned","warn","commmandKeyBinding","addCommands","addCommand","removeCommand","bindKey","_buildKeyHash","ckb","keyPart","binding","parseKeys","removeCommands","bindKeys","keyList","FUNCTION_KEYS","KEY_MODS","findKeyCommand","ckbr","FoldHandler","getDocumentPosition","getAccelKey","gutterRegion","$gutterLayer","getRegion","isFocused","focus","scrollCursorIntoView","win","mac","init","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","prompt","gotoLine","getAllRanges","findNext","findPrevious","multiSelectAction","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","scrollBy","layerConfig","lineHeight","jumpToMatching","getSelectionRange","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","once","newCallback","handlers","_disabled_","disabled","removeDefaultHandler","capturing","off","removeAllListeners","$doc","hasUndo","dirtyCounter","$undoStack","$redoStack","NaN","undoSelectionRange","redoSelectionRange","hasRedo","markClean","isClean","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","head","getDocumentHead","s","createElement","appendChild","onload","_","isAbort","GutterLayer","Gutter","MarkerLayer","Marker","TextLayer","Text","CursorLayer","Cursor","HScrollBar","VScrollBar","RenderLoop","FontMetrics","editorCss","importCssString","container","theme","$keepTextAreaAtCursor","addCssClass","setTheme","$gutter","scroller","content","onGutterResize","$markerBack","textLayer","$textLayer","canvas","element","$markerFront","$cursorLayer","$horizScroll","$vScroll","scrollBar","scrollBarV","scrollBarH","$scrollAnimation","scrollMargin","top","left","cursorPos","$fontMetrics","updateCharacterSize","gutterWidth","$size","height","scrollerHeight","scrollerWidth","$dirty","padding","firstRowScreen","characterWidth","minHeight","maxHeight","gutterOffset","right","bottom","v","$loop","$renderChanges","ownerDocument","defaultView","CHANGE_FULL","setPadding","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_GUTTER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","allowBoldFonts","$allowBoldFonts","setStyle","getCharacterWidth","getLineHeight","$updatePrintMargin","onChangeNewLineMode","updateLines","$changedLines","$updateEolChar","onChangeTabSize","updateText","updateFull","updateFontSize","checkForSizeChanges","$changes","$updateSizeAsync","pending","resizing","clientHeight","scrollHeight","clientWidth","scrollWidth","changes","$updateCachedSize","$padding","$extraHeight","oldSize","getHeight","$showGutter","offsetWidth","getWidth","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","setAnimatedScroll","shouldAnimate","getAnimatedScroll","$animatedScroll","setShowInvisibles","showInvisibles","getShowInvisibles","getOption","getDisplayIndentGuides","setDisplayIndentGuides","display","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","getShowGutter","setShowGutter","show","getFadeFoldWidgets","setFadeFoldWidgets","setHighlightGutterLine","shouldHighlight","getHighlightGutterLine","$updateGutterLineHighlight","$pixelPos","getPixelPosition","$gutterLineHighlight","$printMarginEl","containerEl","insertBefore","firstChild","visibility","getContainerElement","getMouseEventTarget","getTextAreaContainer","$moveTextAreaToCursor","posTop","posLeft","$composition","textarea","getFirstVisibleRow","getFirstFullyVisibleRow","getLastFullyVisibleRow","flint","getLastVisibleRow","setScrollMargin","sm","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","setScrollHeight","$updateScrollBarH","setScrollWidth","$frozen","freeze","unfreeze","marginTop","marginLeft","$highlightGutterLine","scrollLines","$updateLines","$autosize","$maxLines","desiredHeight","$minLines","vScroll","setVisible","$gutterWidth","hideScrollbars","screenLines","longestLine","$getLongestLine","horizScroll","hScrollChanged","$scrollPastEnd","$vScrollBarAlwaysVisible","vScrollChanged","firstRowHeight","lineCount","ceil","round","charCount","updateFrontMarkers","setMarkers","updateBackMarkers","updateBreakpoints","updateCursor","hideCursor","showCursor","scrollSelectionIntoView","$viewMargin","topMargin","bottomMargin","getScrollTopRow","getScrollBottomRow","scrollToRow","alignCursor","alignment","STEPS","$calcSteps","fromValue","toValue","steps","func","t","x_min","dx","pow","scrollToLine","center","animate","initialScroll","animateScrolling","oldSteps","from","to","clearInterval","$timer","setInterval","scrollToY","scrollToX","scrollTo","deltaX","deltaY","isScrollableBy","pixelToScreenCoordinates","canvasPos","getBoundingClientRect","screenToTextCoordinates","textToScreenCoordinates","pageX","pageY","visualizeFocus","visualizeBlur","removeCssClass","showComposition","keepTextAreaAtCursor","cssText","setCompositionText","hideComposition","afterLoad","$themeId","cssClass","$theme","setCssClass","isDark","getTheme","unsetStyle","setCursorStyle","setMouseCursor","cursorStyle","destroy","animatedScroll","printMarginColumn","printMargin","showGutter","fadeFoldWidgets","showFoldWidgets","setShowFoldWidgets","showLineNumbers","setShowLineNumbers","displayIndentGuides","highlightGutterLine","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","fontSize","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","$fixedWidth","scriptOptions","scriptUrl","scripts","getElementsByTagName","script","getAttribute","attributes","attr","deHyphenate","basePath","workerPath","modePath","themePath","m1","net","suffix","$moduleUrls","hasOwnProperty","moduleUrl","component","sep","setModuleUrl","subst","$loading","onLoad","moduleType","optionsProvider","optList","optionNames","result","opt","forwardTo","defaultOptions","obj","setDefaultValue","opts","setDefaultValues","optionHash","parentEl","$showFoldWidgets","$updateAnnotations","$cells","annotation","rowInfo","annoText","escapeHTML","breakpoints","decorations","$firstLineNumber","lastLineNumber","gutterRenderer","$renderer","cell","removeChild","textNode","foldWidget","createTextNode","getText","$computePadding","$showLineNumbers","getShowLineNumbers","getShowFoldWidgets","computedStyle","paddingLeft","paddingRight","rect","DragdropHandler","mouseHandler","prevCursor","now","vMovement","hMovement","cursorMovedTime","$blockScrolling","cursorPointOnCaretMoved","distance","calcDistance","SCROLL_CURSOR_HYSTERESIS","SCROLL_CURSOR_DELAY","autoScroll","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","hScroll","autoScrollStartTime","AUTOSCROLL_DELAY","onDragInterval","dragCursor","addDragMarker","dragSelectionMarker","getSelectionStyle","setBlinking","timerId","counter","onMouseMove","clearDragMarker","isInternal","getReadOnly","onMouseMoveTimer","canAccept","dataTransfer","some","getDropEffect","copyAllowed","moveAllowed","copyModifierState","effectAllowed","dropEffect","blankImage","isOpera","onMouseDown","dragOperation","mouseTarget","onDragStart","cancelDrag","draggable","startSelect","captureMouse","_top","offsetTop","setDragImage","clearData","setData","setState","onDragEnd","onDragEnter","onDragOver","clientX","clientY","onDragLeave","onDrop","dropData","getData","ax","ay","bx","by","sqrt","dragWait","interval","mousedownEvent","time","getDragDelay","startDrag","dragWaitEnd","selectEnd","dragReadyEnd","onMouseDrag","isIE","dragDrop","$dragEnabled","inSelection","button","getButton","clickCount","detail","inMultiSelectMode","getShiftKey","eventTarget","unselectable","isWebKit","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","setInnerHtml","stringBuilder","extraStyle","lineRange","extraLength","MouseEvent","$pos","$inSelection","selectionRange","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","getNewLineCharacter","$characterSize","measure","$pollSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","$indentGuideRe","spaceContent","tabContent","lineElements","childNodes","lineElementsIdx","lineElement","$renderLine","$useLineGroups","oldConfig","lastChild","fragment","$renderLinesFragment","createDocumentFragment","$textToken","rparen","lparen","$renderToken","replaceReg","replaceFunc","tabIdx","idx4","classToUse","space","output","classes","renderIndentGuide","cols","$renderWrappedLine","onlyContents","splitChars","$renderSimpleLine","$getFoldLineTokens","addTokens","renderTokens","$measureNode","parentNode","Tooltip","isOpen","$element","$parentNode","$init","getElement","setText","setInnerText","setHtml","setClassName","hide","offsetHeight","IE8","isVisible","isBlinking","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateVisibility","$updateOpacity","opacity","blinking","restartTimer","setBlinkInterval","setSmoothBlinking","removeCursor","intervalId","timeoutId","blink","onScreen","cursorLeft","cursorTop","selections","$selectionMarkers","cursorIndex","pixelPos","$setOverwrite","GutterHandler","showTooltip","mouseEvent","gutter","hideTooltip","tooltipAnnotation","tooltip","$tooltipFollowsMouse","moveTooltip","gutterElement","tooltipTimeout","GutterTooltip","$clickSelection","hasCssClass","isMousePressed","windowWidth","innerWidth","documentElement","windowHeight","innerHeight","ScrollBar","parent","classSuffix","inner","skipEvent","onScroll","$scrollbarWidth","scrollbarWidth","setHeight","setInnerHeight","setWidth","setInnerWidth","ScrollBarV","ScrollBarH","DefaultHandlers","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","DRAG_OFFSET","ev","selectionEmpty","textInput","onContextMenu","$focusTimout","shiftPressed","setCapture","select","orientedRange","unitName","selectAllEnd","selectByWordsEnd","selectByLinesEnd","releaseCapture","focusWait","wheelY","wheelX","timeStamp","dt","$lastScrollTime","isScrolable","speed","onRender","change","nextFrame","DefaultGutterHandler","MouseHandler","onMouseEvent","addMultiMouseDownListener","addMouseWheelListener","gutterEl","mousemove","$scrollSpeed","mouseMoveHandler","$mouseMoved","onCaptureEnd","onCaptureInterval","$onCaptureMouseMove","releaseMouse","isOldIE","capture","scrollSpeed","dragDelay","dragEnabled","focusTimout","tooltipFollowsMouse","CHAR_COUNT","$setMeasureNodeStyles","$main","$testFractionalRect","textContent","isRoot","whiteSpace","font","overflow","$measureSizes","fontWeight","boldSize","charSizes","setPolling","$measureCharWidth","BROKEN_SETDATA","isChrome","TextInput","host","resetSelection","inComposition","inputHandler","selectionStart","selectionEnd","resetValue","PLACEHOLDER","syncValue","onContextMenuClose","tempStyle","isTouchPad","setAttribute","autocorrect","autocapitalize","spellcheck","cut","copied","pasted","isSelectionEmpty","activeElement","onBlur","onFocus","blur","syncSelection","isAllSelected","createTextRange","collapse","moveStart","moveEnd","createRange","parentElement","inPropertyChange","onPropertyChange","syncProperty","sendText","keytable","13","27","onCompositionEnd","onCompositionUpdate","onCompositionStart","onSelect","setInputHandler","getInputHandler","afterContextMenu","onPaste","execCommand","source","onInput","onCut","getCopyText","clipboardData","supported","onCopy","addCommandKeyListener","lastValue","timer","syncComposition","isGecko","setReadOnly","borderTopWidth","borderLeftWidth","maxTop","move","isWin","string","count","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyArray","array","cons","constructor","arrayToMap","createMap","props","arrayRemove","deferredCall","fcn","deferred","timeout","isPending","defaultTimeout","delay","isSamePoint","$multiselectOnSessionChange","$onAddRange","$onRemoveRange","$onMultiSelect","$onSingleSelect","onSessionChange","defaultCommands","addAltCursorListeners","altCursor","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","oldRange","mergeOverlappingRanges","lastRange","$initRangeList","splitIntoLines","rectSel","toggleBlockSelection","rectangularRangeBlock","screenCursor","screenAnchor","includeEmptyLines","xBackwards","yBackwards","docEnd","updateSelectionMarkers","addSelectionMarker","selectionMarkerCount","removeSelectionMarker","removeSelectionMarkers","markerList","keyBinding","keyboardHandler","$onMultiSelectExec","multiSelect","inVirtualMode","forEachSelection","exitMultiSelectMode","cmd","$byLines","inVirtualSelectionMode","reg","tmpSel","cmdResult","anim","onCursorChange","onSelectionChange","getSelectedText","buf","nl","additive","$search","selectMoreLines","skip","screenLead","newRange","toRemove","sel","tmp","words","selectMore","alignCursors","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","d","fr","lr","guessRange","$reAlignText","forceLeft","alignLeft","startW","textW","endW","alignRight","unAlign","isLeftAligned","isRightAligned","oldSession","enableMultiselect","$mouseHandler","$historyTracker","$initOperationListeners","_$emitInputEvent","startOperation","prev","prevOp","lastFileJumpPos","curOp","selectionChanged","endOperation","$opResetTimer","docChanged","commadEvent","previousCommand","$mergeUndoDeltas","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","$keybindingId","handler","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onScrollTopChange","onScrollLeftChange","oldEditor","getSession","getFontSize","setFontSize","$highlightBrackets","$bracketHighlight","$highlightPending","getCursorPosition","getMatching","$isFocused","$cursorChange","$updateHighlightActiveLine","$highlightActiveLine","$selectionStyle","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","startOuter","endOuter","lineCols","getBehavioursEnabled","transform","$mergeNextCommand","lineState","shouldOutdent","isNewLine","lineIndent","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","getHighlightActiveLine","setHighlightSelectedWord","getHighlightSelectedWord","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","getWrapBehavioursEnabled","fade","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","number","amount","charRange","parseFloat","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","endPoint","linesMoved","rangeIndex","isRowVisible","isRowFullyVisible","$getVisibleRowCount","$moveByPage","getCursorPositionScreen","preventScroll","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","$resetCursorStyle","$cursorStyle","cursorLayer","selectionStyle","highlightActiveLine","highlightSelectedWord","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","foldStyle","alt","ctrl","isMultiSelect","mouseX","mouseY","onMouseSelection","blockSelect","newCursor","onMouseSelectionEnd","onSelectionInterval","OS","LINUX","MAC","WINDOWS","getOS","isLinux","navigator","os","ua","userAgent","appName","isMozilla","controllers","product","isOldGecko","opera","isAIR","isIPad","readonly","isAvailable","ctor","superCtor","super_","enumerable","writable","configurable","proto","WorkerClient","topLevelNamespaces","classname","workerUrl","$sendDeltaQueue","changeListener","onMessage","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","DOMException","blob","$workerBlob","URL","webkitURL","blobURL","createObjectURL","revokeObjectURL","postMessage","callbackId","callbacks","onmessage","msg","protocol","pathname","deltaQueue","emit","ex","attachToDocument","q","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","blobBuilder","getBlob","UIWorkerClient","messageBuffer","main","emitSync","sender","processNext","setEmitSync","Main","Keys","MODIFIER_KEYS","16","17","18","224","option","super","8","9","19","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","-13","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","188","190","191","192","219","220","221","222","enter","escape","del","mods","String","fromCharCode","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","lengthDiff","distanceFromStart","otherPos","newPos","undosRequired","normalizeCommandKeys","getModifierHash","pressedKeys","altGr","keyLocation","ts","elem","attachEvent","wrapper","_wrapper","detachEvent","cancelBubble","1","2","4","eventHandler","releaseCaptureHandler","onMouseUp","factor","wheelDeltaX","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","timeouts","callbackName","startX","startY","clicks","eventNames","3","isNewClick","getModifierString","lastKeyDownKeyCode","lastDefaultPrevented","postMessageId","nextTick","messageName","listener","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","level","openingBracketBlock","closingBracketBlock","XHTML_NS","tag","createElementNS","toggleCssClass","node","hasCssString","sheets","createStyleSheet","styleSheets","owningElement","importCssStylsheet","link","rel","href","getInnerWidth","getInnerHeight","pageYOffset","getPageScrollTop","getPageScrollLeft","pageXOffset","body","getComputedStyle","currentStyle","minWidth","noScrollbar","withScrollbar","innerHtml","cloneNode","replaceChild","innerText","getParentWindow","parentWindow","Empty","doesDefinePropertyWork","object","defineProperty","exception","toInteger","Function","that","TypeError","bound","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","__lookupGetter__","__lookupSetter__","makeArray","lengthBefore","array_splice","deleteCount","removeCount","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","boxedString","splitString","toObject","thisp","every","reduce","reduceRight","sought","lastIndexOf","getOwnPropertyDescriptor","ERR_NON_OBJECT","property","descriptor","getter","setter","getOwnPropertyNames","createEmpty","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","definePropertyWorksOnObject","definePropertyWorksOnDom","definePropertyFallback","ERR_NON_OBJECT_DESCRIPTOR","ERR_NON_OBJECT_TARGET","ERR_ACCESSORS_NOT_SUPPORTED","seal","freezeObject","preventExtensions","isSealed","isFrozen","isExtensible","hasDontEnumBug","dontEnums","dontEnumsLength","ii","dontEnum","getTime","ws","o","getNativeFlags","multiline","extended","sticky","item","real","compliantExecNpcg","compliantLastIndexIncrement","r2","_xregexp","captureNames","binarySearch","comparator","findAnnotations","matched","LineWidgets","widgetManager","oldWidget","gutterAnno","sc","fixedWidth","coverGutter","arrow","removeLineWidget","addLineWidget","onmousedown","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","_inDocument","$updateRows","noWidgets","zIndex","pixelHeight","onWidgetChanged","changedWidgets","coverLine","$lines","_insertLines","$split","$newLineMode","$clipPosition","firstLine","lastLine","insertNewLine","firstFullRow","lastFullRow","_removeLines","removeNewLine","newLine","secondLine","indexToPosition","newlineLength","positionToIndex","ace","CssHighlightRules","MatchingBraceOutdent","CssBehaviour","CStyleFoldMode","$outdent","worker","supportType","supportFunction","supportConstant","supportConstantColor","supportConstantFonts","numRe","pseudoElements","pseudoClasses","keywordMapper","support.function","support.constant","support.type","support.constant.color","support.constant.fonts","media","ruleset","openBracePos","CstyleBehaviour","rightChar","selected","context","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","initContext","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","isSaneInsertion","recordAutoInsert","recordMaybeInsert","matching","isAutoInsertedClosing","popAutoInsertedClosing","closing","isMaybeInsertedClosing","clearMaybeInsertedClosing","next_indent","quote","leftChar","quotepos","$matchTokenType","iterator2","BaseFoldMode","commentRegex","forceMultiline","getSectionRange","startIndent","subRange","JavaScriptMode","CssMode","HtmlHighlightRules","HtmlBehaviour","HtmlFoldMode","HtmlCompletions","fragmentContext","$completer","js-","css-","JavaScriptHighlightRules","XmlHighlightRules","tagMap","form","img","label","table","tbody","td","tfoot","th","tr","start_tag_stuff","end_tag_stuff","embedTagRules","normalize","xml_declaration","instruction","doctype","declarations","cdata","reference","qstring_inner","qqstring_inner","multiLineString","hasType","tokenTypes","XmlBehaviour","voidElements","atCursor","rightChars","MixedFoldMode","XmlFoldMode","area","br","embed","hr","keygen","track","wbr","li","dd","rt","rp","optgroup","colgroup","DocCommentHighlightRules","getStartRule","getEndRule","defaultMode","subModes","$getMode","$tryMode","variable.language","keyword","storage.type","constant.language","constant.language.boolean","kwBeforeRe","identifierRe","escapedRe","no_regex","regex_character_class","function_arguments","comment_regex_allowed","line_comment_regex_allowed","line_comment","qqstring","qstring","_getFirstTagInLine","tagName","selfClosing","_parseTag","tagRe","_readTagForward","_readTagBackward","_pop","firstTag","isBackward","tokenizedLine","endState","results","findTagName","commonAttributes","eventAttributes","globalAttributes","attributeMap","title","noscript","section","nav","article","aside","h1","h2","h3","h4","h5","h6","header","footer","address","pre","blockquote","ol","ul","dl","figure","figcaption","div","em","strong","small","cite","dfn","abbr","code","var","samp","kbd","sub","sup","u","mark","ruby","bdi","bdo","span","ins","iframe","video","audio","svg","math","caption","thead","fieldset","legend","datalist","progress","meter","details","summary","menu","dialog","allElements","getTagCompletions","getAttributeCompetions","elements","attribute","snippet","currTime","timeToCall","lastTime","vendors","cancelAnimationFrame","InflectionJS","uncountable_words","plural_rules","singular_rules","non_titlecased_words","id_suffix","underbar","space_or_underbar","uppercase","underbar_prefix","apply_rules","override","fromIndex","compareFunc","_uncountable_words","_plural_rules","_singular_rules","_non_titlecased_words","pluralize","plural","singularize","singular","camelize","lowFirstLetter","str_path","str_arr","initX","underscore","humanize","capitalize","dasherize","titleize","demodulize","tableize","classify","foreign_key","dropIdUbar","ordinalize","ltd","ld","suf","$","ui","timepicker","version","Timepicker","regional","currentText","closeText","amNames","pmNames","timeFormat","timeSuffix","timeOnlyTitle","timeText","hourText","minuteText","secondText","millisecText","microsecText","timezoneText","isRTL","_defaults","showButtonPanel","timeOnly","timeOnlyShowDate","showHour","showMinute","showSecond","showMillisec","showMicrosec","showTimezone","showTime","stepHour","stepMinute","stepSecond","stepMillisec","stepMicrosec","hour","minute","second","millisec","microsec","timezone","hourMin","minuteMin","secondMin","millisecMin","microsecMin","hourMax","minuteMax","secondMax","millisecMax","microsecMax","minDateTime","maxDateTime","maxTime","minTime","hourGrid","minuteGrid","secondGrid","millisecGrid","microsecGrid","alwaysSetTime","separator","altFieldTimeOnly","altTimeFormat","altSeparator","altTimeSuffix","pickerTimeFormat","pickerTimeSuffix","showTimepicker","timezoneList","addSliderAccess","sliderAccessArgs","controlType","defaultValue","parse","$input","$altInput","$timeObj","inst","hour_slider","minute_slider","second_slider","millisec_slider","microsec_slider","timezone_select","hourMinOriginal","minuteMinOriginal","secondMinOriginal","millisecMinOriginal","microsecMinOriginal","hourMaxOriginal","minuteMaxOriginal","secondMaxOriginal","millisecMaxOriginal","microsecMaxOriginal","ampm","formattedDate","formattedTime","formattedDateTime","units","support","control","setDefaults","settings","extendRemove","_newInst","tp_inst","inlineSettings","fns","overrides","attrName","attrValue","eval","err","beforeShow","dp_inst","isFunction","evnts","onChangeMonthYear","year","month","_updateDateTime","onClose","dateText","timeDefined","detectSupport","_controls","tzl","tzi","tzv","timezoneOffsetString","iso8601","timezoneOffsetNumber","getTimezoneOffset","altField","css","trigger","minDate","maxDate","_onFocus","_addTimePicker","currDT","_parseTime","_limitMinMaxDateTime","_injectTimePicker","timeString","withDate","datepicker","_getInst","dp_dateFormat","_get","parseRes","parseDateTimeInternal","_getFormatConfig","timeObj","parseTime","$dp","dpDiv","litem","uitem","gridSize","noDisplay","tmph","formatTime","showTz","$tp","prepend","marginRight","borderCollapse","click","$t","ap","f","_onTimeChange","_onSelectHandler","textAlign","fn","local_timezone","selectedYear","selectedMonth","selectedDay","selectLocalTimezone","$buttonPanel","rtl","sliderAccess","sliderAccessWidth","outerWidth","each","$g","oldWidth","oldMarginLeft","newWidth","newMarginLeft","adjustSliders","dp_date","minDateTimeDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getMicroseconds","maxDateTimeDate","tempMinTime","tempMaxTime","minMax","secMax","step","hasChanged","inArray","inputEl","dtTmp","currentYear","currentMonth","currentDay","_daylightSavingAdjust","dateFmt","formatCfg","timeAvailable","formatDate","lastVal","altFormattedDateTime","altFormat","_updateDatepicker","slider","unit","prop","orientation","slide","format","appendTo","tmp_args","datetimepicker","parseDateTime","dateFormat","dateTimeString","dateSettings","timeSettings","date","setHours","setMicroseconds","strictParse","treg","getPatternAmpm","getFormatPositions","finds","orders","z","regstr","ml","order","resTime","looseParse","err2","tmptime","ampmName","convert24to12","_base_selectDate","_selectDate","dateStr","inline","stay_open","_notifyChange","_base_updateDatepicker","_curInst","_datepickerShowing","_lastInput","_base_doKeyPress","_doKeyPress","tz","dateChars","_possibleChars","datetimeChars","charCode","_base_updateAlternate","_updateAlternate","_getDate","_base_doKeyUp","_doKeyUp","_base_gotoToday","_gotoToday","_setTime","_disableTimepickerDatepicker","_enableTimepickerDatepicker","defaults","_setTimeDatepicker","_setDateFromField","tp_date","_base_setDateDatepicker","_setDateDatepicker","timezoneAdjust","_base_getDateDatepicker","_getDateDatepicker","noDefault","_base_parseDate","parseDate","_base_formatDate","_formatDate","day","_base_optionDatepicker","_optionDatepicker","name_clone","onselect","isEmptyObject","tf","isIn","computeEffectiveSetting","splitDateTime","timeParts","timePartsLen","allParts","allPartsLen","dateString","parsedTime","tzMinutes","minutes","hours","iso","tzString","normalized","toTimezone","toTz","setMinutes","timeRange","startTime","endTime","handleRange","datetimeRange","dateRange","checkDates","changed","startdt","enddt","changeddt","setMilliseconds","minInterval","maxInterval","selectedDateTime","_util","_extendRemove","_isEmptyObject","_convert24to12","_detectSupport","_selectLocalTimezone","_computeEffectiveSetting","_splitDateTime","_parseDateTimeInternal","microseconds","jQuery","is_string","arg","curry","aps","get_fragment","re_fragment","get_querystring","jq_param_sub","is_fragment","get_func","merge_mode","qs","url_params","hash","re_params_fragment","re_params_querystring","jq_deparam","str_fragment","str_querystring","jq_param_sorted","re_no_escape","decode","fragment_prefix","jq_deparam_sub","url_or_params","coerce","jq_param","jq_fn_sub","force_attr","jq_elemUrlAttr","nodeName","jq_param_fragment","jq_deparam_fragment","jq_bbq_pushState","jq_bbq_getState","ajax_crawlable","decodeURIComponent","jq_bbq","bbq","special","str_hashchange","str_elemUrlAttr","str_href","str_src","elemUrlAttr_cache","sorted","traditional","key_obj","encodeURIComponent","ajaxCrawlable","deparam","coerce_types","true","false","null","cur","keys_last","has_args","removeState","handleObj","new_handler","old_handler","fake_onhashchange","doc_mode","documentMode","supports_onhashchange","teardown","poll","history_hash","history_get","last_hash","history_set","timeout_id","fn_retval","easing","def","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","fitVids","customSelector","selectors","ignoreList","$allVideos","not","$this","parents","aspectRatio","videoID","random","removeAttr","Zepto","admin_path","base_path","has","localstorage","localStorage","retina","devicePixelRatio","matchMedia","paths","admin","base_relative","store","fallback_previews","image","plugin_paths","reserved","uploader","dragging","dragTimeout","currentFile","runtimes","flash_swf_url","browse_button_hover","browse_button_active","headers","X-KOKEN-AUTH","helpers","parse_tag_input","multis","tags","bool","clean","file_ext","file","ext","distinctArray","filtered","grep","k","guid","outside","closest","rtrim","charlist","strcon","haystack","stristr","unique","temp","uniqueObjects","dupe","JSON","stringify","viewport_area","midOff","midWidth","midHeight","outerHeight","total","framework","internalcache","_current","scroll","observers","interfaces","cookie","expire","expires","setTime","toGMTString","rebuildInheritance","alteredSubclass","subclass","app","GUI","sync","request","finished","active","pubsub","models","views","events","router","exit","ko","subscribable","obs","_Koken","construct","klass","intface","orig","observer","exclude","recur","observableArray","observable","notify","note","txt","template","K","messages","vsprintf","removeClass","addClass","is","fadeIn","fadeOut","wait","namespace","_subs","subscribe","unbind","queue","items","async","counts","max_async","max_sync","system","max_parallel_requests","verifyData","status","rerun","putIntoQueue","runQueue","_run","_item","_method","_success","_error","dataType","ajax","done","fail","always","clonedItems","newRequest","modal","hasKeepCancel","cancelId","_data","channels","channel","doesMatch","regx","target_interface","local","hasChanges","c_leave","k_leave","unsaved_changes","pluginCleanup","plugins","plugin","rendered","routes","route","_interface","koken","_path","_context","_routes","view","pluginPath","lastLocal","_session","store_api","uuid","post","proxy","persist","protect","setItem","removeItem","getItem","F","res","run","_ctxt","getResponseHeader","unmap","unwrapped","extract","utils","unwrapObservable","__k","__Koken","_guid","user_plugins","kguid","setting","_internalTemplate","selector","existingElement","_vm","_element","_obj","dataFor","templateId","appendAfter","insertAfter","applyBindings","_hook","hooks","_args","_route","interface","modified_route","which","activeInterface","album","_channel","_kproto","_change","_event","_type","_validate","valid","form_validation","_internalKokenTemplates","koken.library.albumSidebar","library","sidebar","asset","save","instant","album_type","koken.library.sidebar","spectrum","showInput","color","koken.library.multiSidebar","get_asset_by_id","koken.library.navigation","set_current_nav","koken.sheet.section","koken.settings.edit.top","koken.settings.edit.bottom","_reloadLibraryContent","api_url","_render","_renderedElement","_template","_selector","__selector__","_toAppend","_scrollbar","scrollbar","_save","updated","arrayFirst","_sync","_sheet","sheet","toggle_sheet","hasTemplate","_cb","__callback","hook","render","reloadLibraryContent","utilities","validate","__init","templates","_update","doesHaveTemplates","reinit","bindingHandlers","valueAccessor","allBindingsAccessor","unwrap","sliderOptions","data-send-as","send_as","data-default-value","default","ErrorHandlingBindingProvider","bindingProvider","nodeHasBindings","getBindings","bindingContext","bindingsError","keepId","keepFn","clear","reload","current","message","groupCollapsed","groupEnd","instance","selectRange","apiError","apiErrorMessage","apiMaintenance","http","tests","browserSupported","logout","Piecon","background","shadow","fallback","resizeInt","ms","lastClickedElement","lastHash","firstRun","sortToDrag","itemsBeingSortedDragged","tagsHasBeenEdited","lastFocused","resizeHandlers","hasClass","contain","margin-top","margin-left","lazy_album_sheet","ratio","lastpos","calcs","wrapInner","bar","loopy","cache_key","bar_p","pause","show_tick","listen","order_by","suppress","scroll_overlay","lazy","mid_scroll_finish","isError","getErrorMessageElement","email","_el","isSheet","canBeValidated","handlersBound","validations","bindings","validateBtn","validateBtnActv","validationsVisible","isAlreadyValid","initial_value","editorWindow","autosave","rangeTimer","autosaveInterval","changeToSlider","rangeEl","appendToElement","triggerElement","autocomplete","term","tid","canClose","allowClose","canClickOutside","closeFn","cancelFn","percent","firstLoad","uploaderIsBeingInitialized","evt","match_album_visibility","fromVisibility","toVisibility","viz_type_reset","viz_type_current","viz_type_new","page_to_edit","unpublish_essay","page_type","leave_edit","delete_tag","site","do_revert","do_revert_settings","category_actions","delete_category","init_draft","draft_exists","switch_draft","publish","delete_text","delete_draft","reset_nav","assign_cover","about","load_tree","fetch_themes","init_copiers","init_triggers","real_base_path","load_categories","migrations_running","load","urls","url_data","has_urls","process_plugin_data","reset_settings","has_toured","tour","getJSON","update_count","products","disable_auto_updates","update_available","update_available_version","update_url","migrations","run_migrations","handle","_didFindPluginEvent","_plugin","uploading_default_license","ob","uploading_default_license_clean","bits","user","destroyEditor","moment","fromNow","delete_tag_confirm","zclip","afterCopy","ids","alteredcategories","_inp","hasCheck","tempcategories","categories","catsChecked","replaceAlteredCategories","ac","tot","_cats","tag_actions","parsed_tags","noobs","recent","_t","temptags","close_sidebar_drawer","drawerOpen","tagBeingDeleted","removing","didChange","nextPage","links","currentLink","eq","prevPage","update_slug","slug","existingSlug","validateRegex","timestamp_actions","utc","site_timezone","onunload","andSelf","toggle_dropdown","dropdowns","wedge","_ob","cleanNode","toggle_visibility","scroll_top","toggle","toggleClass","ignore_release","migrate","install_release","update_failed","requirements","update_compat_fail","required","update_recovered","themes","toggle_plugin","activated","page","pages","mid_multi","loadklass","load_image","load_content","file_modified_on","presets","drag","multiselect","prevUntil","_li","nextUntil","load_to","subscription","dispose","_filename","filename","show_error","last_upload","load_page","is_loading","pages_loaded","total_pages","content_per_page","_url","fragments","create_node","duration","filters","extensions","browse_button","drop_element","plupload","Uploader","uploaded","__koken","up","features","max_file_size","parseSize","chunk_size","upload_limit","multipart_params","thumb","files","parseJSON","response","update_item","plugin_upload","basename","text_upload","shortcode_upload","refresh","upload","cleanup","isUploading","starttime","updateStatus","failed","close","slideUp","toAlbum","albumParams","toAlbumId","unbindAll","update_album_counts","public","update_summary","bars","dragdrop","loaded","bytesPerSec","setProgress","shouldUploadToAlbum","uploading_default_visibility","startUpload","upload_session_start","import_content","license","max_download","uploading_default_max_download_size","slideDown","itemsQueuedElement","currentItemsQueued","load_albums_full","albums","albums_full","events_init","flat","albums_flat","unlisted_albums","private_albums","noob","catDoesntExist","category","create_collection","image_processing_library","image_processing_libraries","site_url","__site_url_has_changed","image_use_defaults","use_default_labels_links","site_time_format","site_date_format","favorite","feature","essay","timeline","home","hashchange","default_links","pulse_transitions_that_ease","user_shortcodes","user_pulse_plugins","user_pulse_transitions","user_pulse_transitions_settings","user_oembeds","user_oembed_thumbs","user_shortcodes_icons","user_custom_sources","essays","user_custom_sources_keys","decodeUrl","allAlbums","hasPlugin","postLoad","tmpl","class","uCaseWords","$1","truncate","format_date","fmt","apply_timezone","isNumeric","form_site_link","vars","rewrite_enabled","inArrayTags","searchIn","found","user_transitions","user_transitions_settings","custom_sources","info","shortcodes","internal","media_row_icon","icon","oembeds","has_thumbnail","pulse","transitions","supports_easing","ident","plugin_enabler","control_first","__plugin","multi_in_array","needles","get_album_cover","covers","tiny","cropped","get_preset_url","preset","make_url_safe","foreign_characters","||","|","","","","","||||||||||||||||||||||||","|||||||||||||||||||||||||","","","||||","||||","","","|||","|||","|||||||||||||||||||||","|||||||||||||||||||||","","","|||||","|||||","|","|","||||||||||||||||||","||||||||||||||||||","","","||","||","||||||","||||||","","","|||||","||||||","|||||||||||||||||||||||||||","||||||||||||||||||||||||||||","","","||||","||||","||||||","||||||||","|||||","||||","|||||||||||||||||||||||","|||||||||||||||||||||||||","|||||||||","||||||","","","","","||||","||||","|","","","","","","","","","","","","","","","","","","","","","","","","","","","order_by_string","sync_order_by","order_string","album_id","is_set","load_text","change_order_by","direction","change_order_direction","slug_is_editable","asset_resize","show_cover","timestamp","modified_on","_items","ulCopy","ulCopyData","sortable","hasBeenUpdated","helper","tolerance","cursorAt","itemSortDrag","isBeingDropped","is_quick_collection","remainder","quick_collection","itemID","replaceWith","beforeStop","__koken__","revert","originalPosition","fadeTo","badge","rewrite_hash","disableSelection","trash","search_filter","assets","_asset_type","raw","description","recursiveTitleChange","isMultiAlbum","content_loading","loading","selected_type","asset_single_view","thumbnail_scale","scale_thumbnails","desc","drawer","common","multiselection_categories","mixed","collection","itemId","hasgeo","asset_multi_view","get_selected_asset_categories","multi","isContent","tagsCommonAcrossAll","selectionHasTags","tagsToShow","actual","licenses","visibilities","downloads","visible","download","is_orderable","url_parts","php_class_name","is_sortable","upload_match_url","is_uploadable","final_url","non_api","order_direction","load_until","order_defined","order_direction_defined","is_quick","trashRestoreDisabled","default_sort","passengers","next_page","enable_plugin_import","toggle_focal","focal_point","sort_year","sort_month","setup_keyboard_bindings","setup_drawer_events","gear_hovering","load_quick_collection","bypass","new_index","prev_item","next_item","select_all","search_filter_change","badges","Event","_asset","asset_type","save_asset","recursive_search","shouldShowModal","labels","albumShouldMatchVsibility","multiHistory","_years","years","_months","months","_days","days","_hours","_mins","apiStr","itemData","captured_on","raw_dt","unix","multiedit","maxdl","singleHistory","overall","images","in_album","row_index","trashed","arrayForEach","share","_lat","geolocation","latitude","_long","longitude","formatted_address","google","maps","Map","zoom","LatLng","mapTypeId","MapTypeId","ROADMAP","animation","Animation","DROP","toggle_share_modal_option","share_modal_link","inp","cache_path","extension","share_modal_link_custom","constrain_ratio","aspect_ratio","edit_menu","atag","fav","feat","quick","remove_from_mid","newContentArr","cover","_ids","updates","upd_type","is_collection","itemRemovedIndex","nextId","_covers","refreshTree","degree","relative_url","reverse_manual","save_changes","btn","isTrigger","toggle_gear_popout","gear_popout","koData","featured","selectedAlbum","_syncAPI","tag_search","category_search","title_search","reset_filter","setup_sidebar_pickers","reset_secret_link","open_sidebar_drawer","origText","more_properties","_finish","validated","moreData","toggle_license","album-visibility","arrow_toggle","open_sets","arrow_toggle_date","sidebar_callback","noShow","coversHeight","allCovers","exists","cover_draggable","primary","containment","dblclick","cover_droppable","droppable","hoverClass","accept","over","out","drop","alreadyDropped","album_draggable","root_droppable","parent_viz","equal","listed","url_match","album_set","shouldBeNotified","isInPublic","remove_from_set","change_listed","_albumIds","_reqs","side_droppable","getContentById","droppableContext","hasBeenAdded","wasSupposedToBeAdded","numNotAdded","revertDuration","album_droppable","greedy","__ids","imagesBeingMoved","private","unlisted","get_selected_asset_albums","_added","album_set_droppable","droppableId","isParent","parentsUntil","_totalDrops","_clone","dropVisibility","trash_droppable","collect","ndex","isSingle","thumCSS","listHW","lis","show_root_site_links","plugin_sel","$li","$a","focal_draggable","rewrite_ui","uploaded_on","datetime","frag","valueHasMutated","buildUploader","disableBrowse","cover_ids","ttl","published","published_on","modified","created","created_on","wr","koken_rating_average","captured","medium","koken_rating_count","restart","loaded_from_cache","loadstamp","_parts","hasUploadedContent","firstTime","album_fan","stacks","finish","imgs","idsToSend","catsToAdd","catsToDelete","selection_categories","allCategory","selectedCategory","updatedData","hasBeenEdited","toBeAdded","toBeRemoved","toBeDetermined","sidebarTags","toBeAddedClone","hidden","complete","file_type","vid","mediaelementplayer","videoWidth","videoHeight","flashName","asset_position_focal","wrap_offset","img_offset","dims","mid_single","mid_div","prependTo","enableAutosize","asset_dimensions","mid_w","mid_h","mid_aspect","aspect","rmId","cov","cookies","multiTagsBeingPushed","getNow","collections","videos","sets","content_type","album_class","selection_albums","commonCats","cat","has_tag","is_closed","check","isChild","child","left_id","is_cover","in_array","exif_label","exif","fields","uploading_default_album_visibility","add_tag","remove_tag","lastSelected","initUpload","_selected","setSelected","php","bttn","stamp","login","message_state","change_state","message_interval","new_state","retrieve_password","back_to_login","serialize","slider_number_toggle","preview","edit_plugin_data","dependencies","strict","evaluate","pass","conditions","condition","equals","console_url","base_url","view_clean","originalEvent","quality_defaults","medium_large","large","xlarge","huge","sharpening_defaults","_zones","zone","offset_label","timezones","applications","clear_image_cache","clear_system_cache","build_image_cache","_n","_next","pct","create_api_token","new_api_token","role","deny_app_access","application_request","revoke_app_access","grant_app_access","send_test_email","delivery_address","email_delivery_address","email_handler","save_plugin","new_data","edit_plugin","edit_plugin_error","save_user","new_pwd","confirm_pwd","save_password","help","commons_change","(console|administrator|importing|publishing|photos|applications|plugins|email|system|cache|advanced)(/(.*))?","disable_system_info","guids","purchase","koken_store_guid","install_plugin","history","replaceState","doesNotHaveValidations","validation","jsdate","formatChrCb","formatChr","_pad","txt_words","D","getDay","Y","W","A","B","H","getUTCHours","getUTCMinutes","getUTCSeconds","g","G","I","UTC","O","tzo","T","U","date_options","time_options","nonce","date_is_custom","time_is_custom","custom_time_change","time_change","custom","custom_date_change","date_change","remove_selected","settings_visibility","skip_deps","els","check_dependencies","$div","loaded_page","greater_than","less_than","shortcuts","panel","run_expand","isNavBeingDragged","contentDocument","pulses","gear","settings_panel","sitepanel_pulse","$K","contentWindow","groups","override_pulse_settings","siteframe","updateloc","historycache","colorpicker","iframeFix","range_listen","settings_flat","live_updates","reload_preview","is_pulse","current_style_defaults","new_style_variables","styles","variables","styled_settings","el_val","current_style_default","alpha","alphaInput","settings_send","toRgbString","style_text","lb_style_text","field","lightbox","live_update_css","clean_v","_v","pulse_settings_group","pulse_settings_send","checked","refresh_site_data","load_theme_previews","parse_draft_data","source_filter","index_route","frame","shade","spriteCoords","coords","expand","custom_css","editor_type","rel_path","navigation","front","source_label","loaded_route","is_sub_archive","current_page_nav","available","edit_nav","navigation_draft","special_paths","has_page_template","supported_archives","templates_grouped","indexes","specials","lb","intId","parse_filters","toggle_css_editor","mid_col","toggle_editor_theme","kokentheme","kokenlighttheme","check_for_custom_styling","custom_style","manage_filter_tag","add_filter_tag","apply_filters","new_route","_manage_link","allow_label","auto","url_data_send","is_album","filterTmp","filterObj","push_route","save_nav","filter_current","members","update_state","gear_menu","ref","edit_link","selectedLabel","navigation_sort","sortables","current_nav","new_nav","theme_view","page_view","iframe_loaded","nav_from_link","reset_link_form","link_to_edit","link_to_current","current_path","lbl","album_content","content_url","_magics","_p","match_data","update_link","is_new","add_custom_link","create_custom_link","edit_nav_group","used","used_albums","used_pages","used_sections","supported_sections","rss","profiles","internals","sections","toggle_link_specials","arrayFilter","_index","arrayIndexOf","refresh_destination","add_index_link","sheet_title","add_archive_link","toggle_link_sections","toggle_link_rss","toggle_link_profiles","service","service_key","twitter","toggle_link_pages","toggle_link_albums","valid_path","existing_paths","change_link_type","link_type","change_nav_filter","confirm_site_revert","revert_settings","confirm_site_revert_settings","published_theme","drafts","theme_change","draft_id","new_draft","site_loaded","draftExists","draft","reset_links","saved","settings_position","_h","_w","ph","pw","vdiff","hdiff","loadUrl","loc","subnavigation","ui_init","view_change","vis","site_inspector_scrollTop","left_col_vis","revertNote","revertCompleteMessage","only","main_menu","pulse_groups","register","update_link_filters","page_select","single","themes/install/([^:]+):([a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12})(?:/(\\d+))?$","install_theme","themes/?(preview:([^/]+)/?)?","preview_obj","(draft|live)/?((theme|page)/?)?(url:(.*)$)?","settings_panel_docked","tagline","navigation_groups","author","draft_history","create_link_template","create_link","edit_link_data","current_page_link","custom_source_keys","tag_option","order_set","order_type","left_col","right_col","add_link","fwd","top_content","top_essay","set_val","refs","can_link_to_album","link_to","page_data_label","selected_options","mailbox","current_iframe_src","resetContext","moving","entries","store_url","php_version","image_processing","image_processing_support","pinged","update_products","redirect","navigate","init_url","notification","refresh_themes","refresh_plugins","update_products_fail","cart_count","updates_count","username","support_link","end_autosave","trip_sheet_resize","current_shortcode_data","parse_shortcode","media_type","controls","preload","content_html","dataUrl","autostart","Pulse","endpoint","shortcode_collection","favorites","shortcode_media","editing","insert_link","__featured_image","Image","setup_custom_shortcode_sort","current_shortcode","to_replace","info_clone","unescape_code","isreplacing","cp","libUrl","loadOverridden","navItems","urlToLoad","sheet_media_chosen","secondary","fetch_drafts","load_edit","last_edit","excerpt_timer","excerpt","firstPageLoad","draft_title","start_autosave","old_title","scrollOffset","setSelection","tgt","$el","newData","shortData","featured_from_oembed","large_thumbnail_url","thumbnail_url","save_feature","featured_order","escape_code","autosave_timeout_id","autosave_text_id","getCatsTopics","calendar_data","dates","text_wrap","shortcode_keys","shortcode_wrap","param_arr","oembed","text_unwrap","_map_page_to_edit","__loaded","create_text","wasCreated","_airButtons","_buttonsCustom","save_selection","anchorNode","media_sheet","album_sheet","selected_text","upload_sheet","_reset","saveSelection","custom_sheet","shortcode_custom","essays_only","pages_only","shortcode","styleEl","styleOut","insert_shortcode","klink","new_window","existing","redactor","shim_paragraph","observeImages","air","convertDivs","airButtons","buttonsCustom","image_regex","update_editor","shortcode_remove_field","shortcode_add_field","filler","undo_draft","open_in_site","internal_id","delete_from_list","list_index_to_delete","toggle_featured","_editor","toggle_html","toggle_editor","editor_on","text_edit_full","toggle_editor_view","toggle_theme","browser_valid","toggle_expand","toggle_grid","grid","toggle_topic","is_topic","get_selected_topics","narr","open_year","clear_filters","canLeave","leave","edit_shortcode_media","edit_shortcode","title_alt","description_alt","shortcode_edit","custom_url","remove_shortcode","unpublish","text_live","is_autosaving","silent","featured_image","dindex","toggle_internal_link","insert_collection","insert_custom","media_row_label","setFocusNode","update_shortcode","insert_upload","restoreSelection","insert_media","currRow","assign_feature","delete_feature","clear_link","inp_val","getSelectedHtml","insertHtml","edit_page","selected_cats","get_selected_cats","curr_cats","cc","save_and_close","this_year","this_month","isalbumset","lastexeccommand","getSelectSpacing","_spacer","_out","selection_info","isTopic","selected_topics","year_open","hasEditedItems","hasEdits","topics","__topic_str","__topic_ids","sheet_loaded","isediting","embed_item","add_topic","hasBeenAltered","Koken","currentFavicon","originalFavicon","originalTitle","agent","browser","ie","chrome","webkit","safari","mozilla","getFaviconTag","removeFaviconTag","setFaviconTag","getCanvas","drawFavicon","percentage","getContext","faviconImage","clearRect","beginPath","arc","fillStyle","fill","lineTo","toDataURL","crossOrigin","updateTitle","_0xf6db","RELANG","RLANG","link_insert","unlink","formatting","paragraph","header1","header2","header3","header4","bold","italic","fontcolor","backcolor","unorderedlist","orderedlist","outdent","_delete","insert_table","insert_row_above","insert_row_below","insert_column_left","insert_column_right","delete_column","delete_row","delete_table","add_head","delete_head","image_position","none","image_web_link","mailto","web","video_html_code","choose","or_choose","drop_file_here","align_left","align_center","align_right","align_justify","horizontalrule","deleted","link_new_tab","$obj","Redactor","keyupCallback","keydownCallback","execCommandCallback","tabindex","autoresize","fixed","fixedTop","fixedBox","mobile","wym","paragraphy","convertLinks","autosaveCallback","imageGetJson","imageUpload","imageUploadCallback","fileUpload","fileUploadCallback","uploadCrossDomain","uploadFields","overlay","allowedTags","buttonsAdd","buttons","colors","allEmptyHtml","mozillaEmptyHtml","buffer","visual","modal_file","modal_image_edit","modal_image","modal_link","modal_table","modal_video","toolbar","dropdown","separator_drop1","separator_drop2","separator_drop3","alignleft","aligncenter","alignright","justify","isMobile","build","enableAir","buildToolbar","oldsafari","setBuffer","saveScroll","pasteCleanUp","extractContent","pastedFrag","getFragmentHtml","keyup","keydown","autoSave","observeTables","observeScroll","formatEmpty","formatNewLine","linkify","syncCode","getParentNode","getBuffer","insertNodeAtCaret","safariShiftKeyEnter","$box","textareamode","showAir","setCode","getCode","msie","resizeImage","tableObserver","scrolltop","boxtop","$toolbar","pasteHTML","parent2","oldIE","getCurrentNode","newElement","nodehtml","X","R","blocks","m0","m2","m3","stripTags","allowed","$0","formattingRemove","prebuffer","formattingIndenting","formattingEmptyTags","etags","bbb","formattingAddBefore","btags","eee","formattingAddAfter","atags","aaa","setBtnActive","setBtnInactive","buildButton","buildColorPicker","buildDropdown","hdlHideDropDown","hideDropDown","hdlShowDropDown","showDropDown","drop_a","swatch","backgroundColor","elnone","setBackgroundNone","setColorNone","getBtn","hideAllDropDown","air_top","showedDropDown","cloned","savedSel","savedSelObj","getOrigin","getFocus","getRangeAt","startContainer","selectNodeContents","insertNode","cloneRange","removeAllRanges","nodeType","outerHTML","textRange","markerSpan","moveToElementText","cloneContents","htmlText","start_x","start_y","clicked","clicker","min_w","min_h","hover","mousedown","mouseup","imageEdit","mouse_y","div_h","new_h","new_w","showTable","modalInit","insertTable","table_box","tableid","modalClose","$table","$table_tr","$table_td","$tbody","$thead","$current_td","$current_tr","deleteTable","deleteRow","deleteColumn","cellIndex","addHead","deleteHead","insertRowAbove","insertRow","insertRowBelow","insertColumnLeft","insertColumn","insertColumnRight","new_tr","showVideo","insertVideo","imageDelete","imageSave","floating","float","margin","showImage","folders","folder","folderclass","thumbtitle","folderkey","imageSetThumb","onchangeFunc","dragupload","uploadInit","tabs","imageUploadCallbackLink","endCallback","_imageSet","json","filelink","showLink","insert_link_node","turl","setModalTab","insertLink","tab_selected","_insertLink","showFile","hdlModalClose","modalSaveBodyOveflow","num","uploadOptions","element_action","submit","uploadSubmit","uploadForm","uploadFrame","uploadLoaded","formId","fileId","oldElement","frames","rawString","jsonString","alert","ipad","getEditor","getSelected","removeData","setFocus","Construct","atext","droparea","dropareabox","dropalternative","ondrag","ondragleave","uploadProgress","ajaxSettings","provider","ondrop","FormData","contentType","processData","url1","url2","linkifyThis","nodeValue","textselect","namespaces","textunselect","handlerKey","hideAll","spectrums","instanceOptions","callbackContext","defaultOpts","initialize","palletElementClick","IE","showButtons","showPalette","showPaletteOnly","showInitial","shouldReplace","boundElement","replacer","offsetElement","setFromTextInput","cancelButton","chooseButton","dragX","dragY","currentHue","slideHeight","dragStart","dragStop","dragger","currentSaturation","dragWidth","currentValue","dragHeight","initialColor","addSelectionToPalette","palette","setPalette","paletteContainer","delegate","initialColorContainer","isInitialized","paletteLookup","hex","tinycolor","toHexString","maxPaletteSize","drawPalette","paletteTemplate","drawInitial","initial","colorOnShow","activeIndex","reflow","draggingClass","updateUI","realColor","changeOnMove","updateOriginalInput","newColor","newHsv","toHsv","updateHelperLocations","flatColor","realHex","previewElement","isInput","dragHelperHeight","dragHelper","slideY","slideHelper","slideHelperHeight","slideWidth","slideHelperHelperHeight","getOffset","spect","throttle","markup","replaceInput","picker","extraY","dpWidth","dpHeight","inputHeight","docElem","viewWidth","viewHeight","noop","onmove","onstart","onstop","prevent","touches","maxWidth","hasTouch","rightclick","duringDragEvents","debounce","throttler","gradientFix","dataID","extra","loadOpts","skipRatio","ok","_tc_id","toHsvString","toHsl","toHslString","toHex","toRgb","toName","toFilter","rgb","rgba","hsl","hsla","hsv","hex6","hex3","desaturate","saturate","greyscale","lighten","darken","complement","triad","tetrad","splitcomplement","analogous","monochromatic","readable","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],"mappings":"AAAA;AACA;AACA;AACA;ACHA;AACA;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;CCyBA,WAgHA,QAASA,GAAUC,GACf,GAAIC,GAAU,SAASC,EAAQC,GAC3B,MAAOC,GAAS,GAAIF,EAAQC,IAG5BE,EAAOC,CACPN,KACKM,EAAON,KACRM,EAAON,OACXK,EAAOC,EAAON,IAGbK,EAAKE,QAAWF,EAAKE,OAAOC,WAC7BC,EAAQC,SAAWL,EAAKE,OACxBF,EAAKE,OAASE,EACdJ,EAAKE,OAAOC,UAAW,GAGtBH,EAAKJ,SAAYI,EAAKJ,QAAQO,WAC/BJ,EAASM,SAAWL,EAAKJ,QACzBI,EAAKJ,QAAUA,EACfI,EAAKJ,QAAQO,UAAW,GAnIhC,GAAIG,GAAgB,GAEhBL,EAAS,WACT,MAAOM,QAIX,IAAKD,GAAsC,mBAAdE,WAA7B,CAIA,GAAIJ,GAAU,SAASP,EAAQY,EAAMC,GACjC,MAAsB,gBAAXb,QACHO,EAAQC,SACRD,EAAQC,SAASM,MAAMC,OAAQC,YAE/BC,QAAQC,MAAM,mDACdD,QAAQE,WAKQ,GAApBH,UAAUI,SACVP,EAAUD,GAETL,EAAQc,UACTd,EAAQc,WACRd,EAAQe,aAGZf,EAAQe,SAAStB,GAAUa,OAC3BN,EAAQc,QAAQrB,GAAU,QAE1BE,EAAW,SAASqB,EAAUvB,EAAQC,GACtC,GAA+C,mBAA3CuB,OAAOC,UAAUC,SAASC,KAAK3B,GAA8B,CAE7D,IAAK,GADD4B,MACKC,EAAI,EAAGC,EAAI9B,EAAOoB,OAAQS,EAAIC,IAAKD,EAAG,CAC3C,GAAIE,GAAMC,EAAOT,EAAUvB,EAAO6B,GAClC,KAAKE,GAAO7B,EAASM,SACjB,MAAON,GAASM,SAASM,MAAMC,OAAQC,UAC3CY,GAAOK,KAAKF,GAEZ9B,GACAA,EAASa,MAAM,KAAMc,OAGxB,CAAA,GAAsB,gBAAX5B,GAAqB,CACjC,GAAIa,GAAUmB,EAAOT,EAAUvB,EAC/B,QAAKa,GAAWX,EAASM,SACdN,EAASM,SAASM,MAAMC,OAAQC,YAEvCf,GACAA,IAGGY,GAGP,GAAIX,EAASM,SACT,MAAON,GAASM,SAASM,MAAMC,OAAQC,aAI/CkB,EAAkB,SAASX,EAAUY,GACrC,GAAIA,EAAWC,QAAQ,QAAS,EAAI,CAChC,GAAIC,GAASF,EAAWG,MAAM,IAC9B,OAAOJ,GAAgBX,EAAUc,EAAO,IAAM,IAAMH,EAAgBX,EAAUc,EAAO,IAEzF,GAA4B,KAAxBF,EAAWI,OAAO,GAAW,CAC7B,GAAIC,GAAOjB,EAASe,MAAM,KAAKG,MAAM,GAAG,GAAIC,KAAK,IAGjD,KAFAP,EAAaK,EAAO,IAAML,EAEpBA,EAAWC,QAAQ,QAAS,GAAMO,GAAYR,GAAY,CAC5D,GAAIQ,GAAWR,CACfA,GAAaA,EAAWS,QAAQ,SAAU,KAAKA,QAAQ,iBAAkB,KAIjF,MAAOT,IAEPH,EAAS,SAAST,EAAUY,GAE5BA,EAAaD,EAAgBX,EAAUY,EAEvC,IAAInC,GAASO,EAAQc,QAAQc,EAC7B,KAAKnC,EAAQ,CAET,GADAA,EAASO,EAAQe,SAASa,GACJ,kBAAXnC,GAAuB,CAC9B,GAAI6C,MACAC,GACAC,GAAIZ,EACJa,IAAK,GACLH,QAASA,EACTvC,UAAU,GAGV2C,EAAM,SAASjD,EAAQC,GACvB,MAAOC,GAASiC,EAAYnC,EAAQC,IAGpCiD,EAAclD,EAAOiD,EAAKJ,EAASC,EACvCD,GAAUK,GAAeJ,EAAID,QAC7BtC,EAAQc,QAAQc,GAAcU,QACvBtC,GAAQe,SAASa,GAE5BnC,EAASO,EAAQc,QAAQc,GAAcU,GAAW7C,EAEtD,MAAOA,GA4BXH,GAAUY,OAIVJ,OAAO,WAAY,UAAW,UAAW,SAAW,yBAA0B,cAAe,gBAAiB,aAAc,mBAAoB,kBAAmB,uBAAwB,mBAAoB,2BAA4B,4BAA6B,kBAAmB,6BAA8B,qBAAsB,uBAAwB,cAAe,SAASN,EAAS8C,EAAS7C,GAGjZD,EAAQ,uBAER,IAAIoD,GAAMpD,EAAQ,aACdqD,EAAQrD,EAAQ,eAEhBsD,EAAStD,EAAQ,YAAYsD,OAC7BC,EAAcvD,EAAQ,kBAAkBuD,YACxCC,EAAcxD,EAAQ,iBAAiBwD,YACvCC,EAAWzD,EAAQ,sBAAsB0D,gBACzCC,EAAc3D,EAAQ,kBAAkB2D,WAC5C3D,GAAQ,0BACRA,EAAQ,2BACRA,EAAQ,iBACRA,EAAQ,4BACRA,EAAQ,oBACRA,EAAQ,sBAER8C,EAAQc,OAAS5D,EAAQ,YACzB8C,EAAQ9C,QAAUA,EAClB8C,EAAQe,KAAO,SAASC,GACpB,GAAkB,gBAAR,GAAkB,CACxB,GAAIC,GAAMD,EACNA,EAAKE,SAASC,eAAeF,EACjC,KAAKD,EACD,KAAM,IAAII,OAAM,4BAA8BH,GAGtD,GAAID,EAAGK,KAAOL,EAAGK,IAAIC,iBAAkBd,GACnC,MAAOQ,GAAGK,IAAIC,MAElB,IAAIC,GAAMvB,EAAQwB,kBAAkBlB,EAAImB,aAAaT,GACrDA,GAAGU,UAAY,EAEf,IAAIJ,GAAS,GAAId,GAAO,GAAIG,GAASK,GACrC,IAAIH,GAAYS,GAChBA,EAAOK,WAAWJ,EAElB,IAAIF,IACAH,SAAUK,EACVD,OAAQA,EACRM,SAAUN,EAAOO,OAAOC,KAAKR,EAAQ,MAOzC,OALAf,GAAMwB,YAAY7D,OAAQ,SAAUmD,EAAIO,UACxCN,EAAOU,GAAG,UAAW,WACjBzB,EAAM0B,eAAe/D,OAAQ,SAAUmD,EAAIO,YAE/CZ,EAAGK,IAAMC,EAAOD,IAAMA,EACfC,GAEXtB,EAAQwB,kBAAoB,SAASU,EAAMC,GACvC,GAAIZ,GAAM,GAAId,GAAYyB,EAAMC,EAEhC,OADAZ,GAAIa,eAAe,GAAI1B,IAChBa,GAEXvB,EAAQS,YAAcA,EACtBT,EAAQU,YAAcA,IAGtBlD,OAAO,sBAAuB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAG3F,GAAIkF,GAAY,WACbxE,KAAKyE,iBAGR,WAEIzE,KAAK0E,IAAM,SAAUC,EAAMC,EAAQrF,GAC/B,OAAQsF,QACN,IAAK7E,MAAKyE,YACNzE,KAAKyE,cACT,KAAKzE,MAAKyE,YAAYE,GAClB3E,KAAKyE,YAAYE,MAEvB3E,KAAKyE,YAAYE,GAAMC,GAAUrF,GAGrCS,KAAK8E,cAAgB,SAAUC,GAC3B,IAAK,GAAIC,KAAOD,GACZ,IAAK,GAAIH,KAAUG,GAAWC,GAC1BhF,KAAK0E,IAAIM,EAAKJ,EAAQG,EAAWC,GAAKJ,KAKlD5E,KAAKiF,OAAS,SAAUN,GAChB3E,KAAKyE,aAAezE,KAAKyE,YAAYE,UAC9B3E,MAAKyE,YAAYE,IAIhC3E,KAAKkF,QAAU,SAAUZ,EAAMa,GAC3B,GAAoB,kBAATb,GACP,GAAIS,IAAa,GAAIT,IAAOc,cAAcD,OAE1C,IAAIJ,GAAaT,EAAKc,cAAcD,EAExCnF,MAAK8E,cAAcC,IAGvB/E,KAAKoF,cAAgB,SAAUD,GAC3B,GAAKA,EAEE,CAEH,IAAK,GADDE,MACKlE,EAAI,EAAGA,EAAIgE,EAAOzE,OAAQS,IAC3BnB,KAAKyE,YAAYU,EAAOhE,MACxBkE,EAAIF,EAAOhE,IAAMnB,KAAKyE,YAAYU,EAAOhE,IAGjD,OAAOkE,GARP,MAAOrF,MAAKyE,eAYrBxD,KAAKuD,EAAUzD,WAElBoB,EAAQqC,UAAYA,IAEpB7E,OAAO,eAAgB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GA2CpF,QAASgG,GAAmBC,GACxB,GAAIC,GAAY,QAChB,KAAK,GAAIb,KAAQY,GACbpD,EAAQsD,SAASd,GAAQY,EAAKZ,GAAMzC,QAAQsD,EAAW,SA7C/DrD,EAAQsD,YAERH,GACII,EAAI,4sFACJC,GAAI,uhFACJC,GAAI,o8EACJC,GAAI,0DACJC,GAAI,8QACJC,GAAI,knEACJC,EAAI,izCACJC,GAAI,4tCACJC,GAAI,qsBACJC,GAAI,0CACJC,EAAI,4hBACJC,GAAI,8TACJC,GAAI,6DACJC,GAAI,+MACJC,EAAI,40BACJC,GAAI,wEACJC,GAAI,mSACJC,GAAI,+RACJC,GAAI,mDACJC,GAAI,2CACJC,GAAI,wCACJC,GAAI,+xBACJC,EAAI,0kCACJC,GAAI,mWACJC,GAAI,yFACJC,GAAI,4KACJC,GAAI,43BACJC,EAAI,gDACJC,GAAI,wCACJC,GAAI,OACJC,GAAI,OACJC,EAAI,0mFACJC,GAAI,qBACJC,GAAI,iFACJC,GAAI,YACJC,GAAI,YACJC,GAAI,ikFAWRnI,OAAO,sBAAuB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAC3F,GAAIyI,GAAgB,SAASC,EAASC,EAAYC,GAC9ClI,KAAKmI,SAAWH,EAChBhI,KAAKoI,KAAOH,EACZjI,KAAKqI,WAAaL,EAAQM,UAAUL,EAEpC,IAAIM,GAAQP,EAAQQ,WAAWP,EAAYC,EAC3ClI,MAAKyI,YAAcF,EAAQA,EAAMG,OAAQ,IAG7C,WACI1I,KAAK2I,aAAe,WAGhB,IAFA3I,KAAKyI,aAAe,EAEbzI,KAAKyI,YAAc,GAAG,CAEzB,GADAzI,KAAKoI,MAAQ,EACTpI,KAAKoI,KAAO,EAEZ,MADApI,MAAKoI,KAAO,EACL,IAGXpI,MAAKqI,WAAarI,KAAKmI,SAASG,UAAUtI,KAAKoI,MAC/CpI,KAAKyI,YAAczI,KAAKqI,WAAW3H,OAAS,EAGhD,MAAOV,MAAKqI,WAAWrI,KAAKyI,cAEhCzI,KAAK4I,YAAc,WACf5I,KAAKyI,aAAe,CAEpB,KADA,GAAII,GACG7I,KAAKyI,aAAezI,KAAKqI,WAAW3H,QAAQ,CAI/C,GAHAV,KAAKoI,MAAQ,EACRS,IACDA,EAAW7I,KAAKmI,SAASW,aACzB9I,KAAKoI,MAAQS,EAEb,MADA7I,MAAKoI,KAAOS,EAAW,EAChB,IAGX7I,MAAKqI,WAAarI,KAAKmI,SAASG,UAAUtI,KAAKoI,MAC/CpI,KAAKyI,YAAc,EAGvB,MAAOzI,MAAKqI,WAAWrI,KAAKyI,cAEhCzI,KAAK+I,gBAAkB,WACnB,MAAO/I,MAAKqI,WAAWrI,KAAKyI,cAEhCzI,KAAKgJ,mBAAqB,WACtB,MAAOhJ,MAAKoI,MAEhBpI,KAAKiJ,sBAAwB,WACzB,GAAIC,GAAYlJ,KAAKqI,WACjBc,EAAanJ,KAAKyI,YAClBW,EAASF,EAAUC,GAAYE,KACnC,IAAexE,SAAXuE,EACA,MAAOA,EAGX,KADAA,EAAS,EACFD,EAAa,GAChBA,GAAc,EACdC,GAAUF,EAAUC,GAAYG,MAAM5I,MAG1C,OAAO0I,MAGZnI,KAAK8G,EAAchH,WAEtBoB,EAAQ4F,cAAgBA,IAGxBpI,OAAO,iCAAkC,UAAW,UAAW,SAAW,gBAAiB,SAASN,EAAS8C,EAAS7C,GAGtH,GAAIiK,GAAOlK,EAAQ,eAEfmK,EAAqB,WAErBxJ,KAAKyJ,QACDJ,QACId,MAAQ,aACRmB,MAAQ,OAERC,aAAe,YAK3B,WAEI3J,KAAK4J,SAAW,SAASC,EAAOC,GAC5B,GAAKA,EAKL,IAAK,GAAI9E,KAAO6E,GAAO,CAEnB,IAAK,GADDE,GAAQF,EAAM7E,GACT7D,EAAI,EAAGA,EAAI4I,EAAMrJ,OAAQS,IAAK,CACnC,GAAI6I,GAAOD,EAAM5I,EACb6I,GAAKC,OACmB,gBAAbD,GAAKC,KACRD,EAAKE,WAAgD,IAAnCF,EAAKE,UAAUxI,QAAQoI,KACzCE,EAAKE,UAAYJ,EAASE,EAAKE,WAED,IAA9BF,EAAKC,KAAKvI,QAAQoI,KAClBE,EAAKC,KAAOH,EAASE,EAAKC,OAK1CjK,KAAKyJ,OAAOK,EAAS9E,GAAO+E,MAnB5B,KAAK,GAAI/E,KAAO6E,GACZ7J,KAAKyJ,OAAOzE,GAAO6E,EAAM7E,IAsBrChF,KAAKmK,SAAW,WACZ,MAAOnK,MAAKyJ,QAGhBzJ,KAAKoK,WAAa,SAAUC,EAAgBP,EAAQQ,EAAaC,EAAQC,GACrE,GAAIJ,GAAsC,kBAAlBC,IAClB,GAAIA,IAAiBF,WACrBE,CACN,IAAIE,EACA,IAAK,GAAIpJ,GAAI,EAAGA,EAAIoJ,EAAO7J,OAAQS,IAC/BoJ,EAAOpJ,GAAK2I,EAASS,EAAOpJ,OAC7B,CACHoJ,IACA,KAAK,GAAIvF,KAAOoF,GACZG,EAAOhJ,KAAKuI,EAAS9E,GAK7B,GAFAhF,KAAK4J,SAASQ,EAAYN,GAEtBQ,EAEA,IAAK,GADDV,GAAWa,MAAM1J,UAAUyJ,EAAS,OAAS,WACxCrJ,EAAI,EAAGA,EAAIoJ,EAAO7J,OAAQS,IAC/ByI,EAASxJ,MAAMJ,KAAKyJ,OAAOc,EAAOpJ,IAAKoI,EAAKmB,SAASJ,GAGxDtK,MAAK2K,UACN3K,KAAK2K,YACT3K,KAAK2K,QAAQpJ,KAAKuI,IAGtB9J,KAAK4K,UAAY,WACb,MAAO5K,MAAK2K,QAGhB,IAAIE,GAAY,SAASC,EAAcC,GAGnC,OAFoB,SAAhBD,GAA2BC,EAAMrK,SACjCqK,EAAMC,QAAQhL,KAAKkK,UAAWY,GAC3B9K,KAAKkK,WAEZe,EAAW,SAASH,EAAcC,GAElC,MADAA,GAAMG,QACCH,EAAMG,SAAW,QAG5BlL,MAAKmL,eAAiB,WAGlB,QAASC,GAAapG,GAClB,GAAI+E,GAAQF,EAAM7E,EAClB+E,GAAMsB,WAAY,CAClB,KAAK,GAAIlK,GAAI,EAAGA,EAAI4I,EAAMrJ,OAAQS,IAAK,CACnC,GAAI6I,GAAOD,EAAM5I,IACZ6I,EAAKN,OAASM,EAAKX,QACpBW,EAAKN,MAAQM,EAAKX,MACbW,EAAKC,OACND,EAAKC,SACTD,EAAKC,KAAK1I,MACNoI,aAAcK,EAAKzB,QAEnBA,MAAOyB,EAAKzB,MAAQ,OACpBmB,MAAOM,EAAKsB,KAAOtB,EAAKX,MACxBY,KAAM,QAEVD,EAAKzB,MAAQyB,EAAKzB,MAAQ,SAC1ByB,EAAKzI,MAAO,EAEhB,IAAI0I,GAAOD,EAAKC,MAAQD,EAAKzI,IAC7B,IAAI0I,GAAQQ,MAAMc,QAAQtB,GAAO,CAC7B,GAAIuB,GAAYxB,EAAKwB,SAChBA,KACDA,EAAYxB,EAAKzB,MACO,gBAAbiD,KACPA,EAAYA,EAAU,IAAM,IAC5B3B,EAAM2B,KACNA,GAAanJ;AAErBwH,EAAM2B,GAAavB,EACnBD,EAAKC,KAAOuB,EACZJ,EAAaI,OACE,OAARvB,IACPD,EAAKC,KAAOgB,EAShB,IANIjB,EAAKzI,OACLyI,EAAKE,UAAYF,EAAKC,MAAQD,EAAKzI,KACnCyI,EAAKC,KAAOY,QACLb,GAAKzI,MAGZyI,EAAKH,MACL,IAAK,GAAI4B,KAAKzB,GAAKH,MACXA,EAAM4B,GACF5B,EAAM4B,GAAGlK,MACTsI,EAAM4B,GAAGlK,KAAKnB,MAAMyJ,EAAM4B,GAAIzB,EAAKH,MAAM4B,IAE7C5B,EAAM4B,GAAKzB,EAAKH,MAAM4B,EAIlC,IAAIzB,EAAK0B,SAA0B,gBAAR1B,GACvB,GAAI2B,GAAc3B,EAAK0B,SAAW1B,EAC9B4B,EAAW/B,EAAM8B,OACdlB,OAAMc,QAAQvB,KACrB4B,EAAW5B,EAEf,IAAI4B,EAAU,CACV,GAAIC,IAAQ1K,EAAG,GAAG2K,OAAOF,EACrB5B,GAAK+B,WACLF,EAAOA,EAAK1G,OAAO,SAAS6G,GAAI,OAAQA,EAAE/B,QAC9CF,EAAMkC,OAAO7L,MAAM2J,EAAO8B,GAC1B1K,IACAyK,EAAW,KAGX5B,EAAKkC,aACLlC,EAAKzB,MAAQvI,KAAKmM,oBACdnC,EAAKkC,WAAYlC,EAAKL,cAAgB,OAAQK,EAAKoC,uBAEhDpC,GAAKL,eAzExB,GAAItH,GAAK,EACLwH,EAAQ7J,KAAKyJ,MA4EjB3I,QAAOuL,KAAKxC,GAAOyC,QAAQlB,EAAcpL,OAG7CA,KAAKmM,oBAAsB,SAASI,EAAK5C,EAAc6C,EAAYC,GAC/D,GAAIC,GAAW5L,OAAO6L,OAAO,KAc7B,OAbA7L,QAAOuL,KAAKE,GAAKD,QAAQ,SAASM,GAC9B,GAAIC,GAAIN,EAAIK,EACRJ,KACAK,EAAIA,EAAEC,cAEV,KAAK,GADDC,GAAOF,EAAEjL,MAAM6K,GAAa,KACvBtL,EAAI4L,EAAKrM,OAAQS,KACtBuL,EAASK,EAAK5L,IAAMyL,IAExB9L,OAAOkM,eAAeN,KACtBA,EAASO,UAAY,MAEzBjN,KAAKkN,aAAepM,OAAOuL,KAAKK,GAChCH,EAAM,KACCC,EACD,SAASlD,GAAQ,MAAOoD,GAASpD,EAAMwD,gBAAkBnD,GACzD,SAASL,GAAQ,MAAOoD,GAASpD,IAAUK,IAGrD3J,KAAKmN,YAAc,WACf,MAAOnN,MAAKoN,aAGjBnM,KAAKuI,EAAmBzI,WAE3BoB,EAAQqH,mBAAqBA,IAG7B7J,OAAO,cAAe,UAAW,UAAW,SAAW,cAAe,yBAA0B,SAASN,EAAS8C,EAAS7C,GAG3H,GAAI+N,GAAMhO,EAAQ,aACdiO,EAAejO,EAAQ,uBAAuBiO,aAE9CC,EAASpL,EAAQoL,OAAS,SAAS7J,EAAK8J,EAAKpE,GAC7CpJ,KAAKyN,UAAYzN,KAAK0N,SAASzJ,KAAKjE,MACpCA,KAAK2N,OAAOjK,GAES,mBAAV0F,GACPpJ,KAAK4N,YAAYJ,EAAIA,IAAKA,EAAIpE,QAE9BpJ,KAAK4N,YAAYJ,EAAKpE,KAG9B,WAEIiE,EAAIQ,UAAU7N,KAAMsN,GACpBtN,KAAK8N,YAAc,WACf,MAAO9N,MAAK+N,wBAAwB/N,KAAKwN,IAAKxN,KAAKoJ,SAEvDpJ,KAAKgO,YAAc,WACf,MAAOhO,MAAKqD,UAEhBrD,KAAKiO,cAAe,EACpBjO,KAAK0N,SAAW,SAASQ,GACrB,GAAIC,GAAQD,EAAEE,KACVC,EAAQF,EAAME,KAElB,KAAIA,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,KAAOa,EAAMhF,MAAMmE,KAAOxN,KAAKwN,QAG5Da,EAAMhF,MAAMmE,IAAMxN,KAAKwN,KAGvBa,EAAMhF,MAAMmE,KAAOxN,KAAKwN,KAAOa,EAAMhF,MAAMD,OAASpJ,KAAKoJ,QAA7D,CAGA,GAAIoE,GAAMxN,KAAKwN,IACXpE,EAASpJ,KAAKoJ,OACdC,EAAQgF,EAAMhF,MACdiC,EAAM+C,EAAM/C,GAEK,gBAAjB6C,EAAMvJ,OACFyE,EAAMmE,MAAQA,GAAOnE,EAAMD,QAAUA,EACjCC,EAAMD,SAAWA,GAAUpJ,KAAKiO,eACzB5E,EAAMmE,MAAQlC,EAAIkC,IACzBpE,GAAUkC,EAAIlC,OAASC,EAAMD,QAE7BA,GAAUC,EAAMD,OAChBoE,GAAOlC,EAAIkC,IAAMnE,EAAMmE,MAEpBnE,EAAMmE,MAAQlC,EAAIkC,KAAOnE,EAAMmE,IAAMA,IAC5CA,GAAOlC,EAAIkC,IAAMnE,EAAMmE,KAEH,gBAAjBW,EAAMvJ,OACTyE,EAAMmE,KAAOA,IACbA,GAAOlC,EAAIkC,IAAMnE,EAAMmE,KAEH,eAAjBW,EAAMvJ,OACTyE,EAAMmE,MAAQA,GAAOnE,EAAMD,OAASA,EAEhCA,EADAkC,EAAIlC,QAAUA,EACLC,EAAMD,OAENkF,KAAKC,IAAI,EAAGnF,GAAUkC,EAAIlC,OAASC,EAAMD,SAE/CC,EAAMmE,MAAQlC,EAAIkC,KAAOnE,EAAMmE,IAAMA,GACxClC,EAAIkC,MAAQA,IACZpE,EAASkF,KAAKC,IAAI,EAAGnF,EAASkC,EAAIlC,QAAUC,EAAMD,QACtDoE,GAAQlC,EAAIkC,IAAMnE,EAAMmE,KACjBlC,EAAIkC,MAAQA,IACnBA,GAAOlC,EAAIkC,IAAMnE,EAAMmE,IACvBpE,EAASkF,KAAKC,IAAI,EAAGnF,EAASkC,EAAIlC,QAAUC,EAAMD,QAE/B,eAAhB+E,EAAMvJ,QACTyE,EAAMmE,KAAOA,IACTlC,EAAIkC,KAAOA,EACXA,GAAOlC,EAAIkC,IAAMnE,EAAMmE,KAEvBA,EAAMnE,EAAMmE,IACZpE,EAAS,IAKrBpJ,KAAK4N,YAAYJ,EAAKpE,GAAQ,KAElCpJ,KAAK4N,YAAc,SAASJ,EAAKpE,EAAQoF,GACrC,GAAIC,EAUJ,IARIA,EADAD,GAEIhB,IAAKA,EACLpE,OAAQA,GAGNpJ,KAAK+N,wBAAwBP,EAAKpE,GAGxCpJ,KAAKwN,KAAOiB,EAAIjB,KAAOxN,KAAKoJ,QAAUqF,EAAIrF,OAA9C,CAGA,GAAIsF,IACAlB,IAAKxN,KAAKwN,IACVpE,OAAQpJ,KAAKoJ,OAGjBpJ,MAAKwN,IAAMiB,EAAIjB,IACfxN,KAAKoJ,OAASqF,EAAIrF,OAClBpJ,KAAK2O,QAAQ,UACTD,IAAKA,EACLpF,MAAOmF,MAGfzO,KAAK4O,OAAS,WACV5O,KAAKqD,SAASwL,oBAAoB,SAAU7O,KAAKyN,YAErDzN,KAAK2N,OAAS,SAASjK,GACnB1D,KAAKqD,SAAWK,GAAO1D,KAAKqD,SAC5BrD,KAAKqD,SAASc,GAAG,SAAUnE,KAAKyN,YAEpCzN,KAAK+N,wBAA0B,SAASP,EAAKpE,GACzC,GAAIqF,KAkBJ,OAhBIjB,IAAOxN,KAAKqD,SAASyF,aACrB2F,EAAIjB,IAAMc,KAAKC,IAAI,EAAGvO,KAAKqD,SAASyF,YAAc,GAClD2F,EAAIrF,OAASpJ,KAAKqD,SAASyL,QAAQL,EAAIjB,KAAK9M,QAEvC8M,EAAM,GACXiB,EAAIjB,IAAM,EACViB,EAAIrF,OAAS,IAGbqF,EAAIjB,IAAMA,EACViB,EAAIrF,OAASkF,KAAKS,IAAI/O,KAAKqD,SAASyL,QAAQL,EAAIjB,KAAK9M,OAAQ4N,KAAKC,IAAI,EAAGnF,KAGzEA,EAAS,IACTqF,EAAIrF,OAAS,GAEVqF,KAGZxN,KAAKsM,EAAOxM,aAIfpB,OAAO,4BAA6B,UAAW,UAAW,SAAW,cAAe,yBAA0B,SAASN,EAAS8C,EAAS7C,GAGzI,GAAI+N,GAAMhO,EAAQ,aACdiO,EAAejO,EAAQ,uBAAuBiO,aAE9C0B,EAAsB,SAASC,EAAWxL,GAC1CzD,KAAKkP,SAAU,EACflP,KAAKmP,SACLnP,KAAKuK,UACLvK,KAAKoP,YAAc,EACnBpP,KAAKiP,UAAYA,CAEjB,IAAII,GAAOrP,IAEXA,MAAKsP,QAAU,WACX,GAAKD,EAAKH,QAAV,CAOA,IALA,GAAIK,GAAc,GAAIC,MAClBJ,EAAcC,EAAKD,YACnBK,GAAU,EACV/L,EAAM2L,EAAK3L,IAER2L,EAAKF,MAAMC,IACdA,GAEJ,IAAIM,GAAYN,EAEZO,EAAMjM,EAAIoF,YACV8G,EAAiB,CAErB,KADAP,EAAKH,SAAU,EACRE,EAAcO,GAAK,CACtBN,EAAKQ,aAAaT,GAClBK,EAAUL,CACV,GACIA,WACKC,EAAKF,MAAMC,GAEpB,IADAQ,IACKA,EAAiB,GAAK,GAAO,GAAIJ,MAASD,EAAe,GAG1D,MAFAF,GAAKH,QAAUY,WAAWT,EAAKC,QAAS,SACxCD,EAAKD,YAAcA,GAI3BC,EAAKD,YAAcA,EAEfM,GAAaD,GACbJ,EAAKU,gBAAgBL,EAAWD,OAI5C,WAEIpC,EAAIQ,UAAU7N,KAAMsN,GACpBtN,KAAKgQ,aAAe,SAASf,GACzBjP,KAAKiP,UAAYA,EACjBjP,KAAKmP,SACLnP,KAAKuK,UAELvK,KAAKqJ,MAAM,IAEfrJ,KAAKiQ,YAAc,SAASvM,GACxB1D,KAAK0D,IAAMA,EACX1D,KAAKmP,SACLnP,KAAKuK,UAELvK,KAAKkQ,QAETlQ,KAAK+P,gBAAkB,SAASI,EAAUC,GACtC,GAAIhC,IACAiC,MAAOF,EACPG,KAAMF,EAEVpQ,MAAK2O,QAAQ,UAAWP,KAAMA,KAElCpO,KAAKqJ,MAAQ,SAASkH,GAClBvQ,KAAKoP,YAAcd,KAAKS,IAAIwB,GAAY,EAAGvQ,KAAKoP,YAAapP,KAAK0D,IAAIoF,aACtE9I,KAAKmP,MAAMlD,OAAOjM,KAAKoP,YAAapP,KAAKmP,MAAMzO,QAC/CV,KAAKuK,OAAO0B,OAAOjM,KAAKoP,YAAapP,KAAKuK,OAAO7J,QAEjDV,KAAKkQ,OACLlQ,KAAKkP,QAAUY,WAAW9P,KAAKsP,QAAS,MAG5CtP,KAAKwQ,cAAgB,WACZxQ,KAAKkP,UACNlP,KAAKkP,QAAUY,WAAW9P,KAAKsP,QAAS,OAGhDtP,KAAKyQ,gBAAkB,SAAStC,GAC5B,GAAIE,GAAQF,EAAME,MACdkC,EAAWlC,EAAMhF,MAAMmE,IACvBmC,EAAMtB,EAAM/C,IAAIkC,IAAM+C,CAE1B,IAAY,IAARZ,EACA3P,KAAKmP,MAAMoB,GAAY,SACpB,IAAoB,cAAhBpC,EAAMvJ,QAA0C,eAAhBuJ,EAAMvJ,OAC7C5E,KAAKmP,MAAMlD,OAAOsE,EAAUZ,EAAM,EAAG,MACrC3P,KAAKuK,OAAO0B,OAAOsE,EAAUZ,EAAM,EAAG,UACnC,CACH,GAAI9D,GAAOpB,MAAMkF,EAAM,EACvB9D,GAAKb,QAAQuF,EAAU,GACvBvQ,KAAKmP,MAAMlD,OAAO7L,MAAMJ,KAAKmP,MAAOtD,GACpC7L,KAAKuK,OAAO0B,OAAO7L,MAAMJ,KAAKuK,OAAQsB,GAG1C7L,KAAKoP,YAAcd,KAAKS,IAAIwB,EAAUvQ,KAAKoP,YAAapP,KAAK0D,IAAIoF,aAEjE9I,KAAKkQ,QAETlQ,KAAKkQ,KAAO,WACJlQ,KAAKkP,SACLwB,aAAa1Q,KAAKkP,SACtBlP,KAAKkP,SAAU,GAEnBlP,KAAKsI,UAAY,SAASkF,GACtB,MAAOxN,MAAKmP,MAAM3B,IAAQxN,KAAK6P,aAAarC,IAEhDxN,KAAK2Q,SAAW,SAASnD,GAGrB,MAFIxN,MAAKoP,aAAe5B,GACpBxN,KAAK6P,aAAarC,GACfxN,KAAKuK,OAAOiD,IAAQ,SAG/BxN,KAAK6P,aAAe,SAASrC,GACzB,GAAIoD,GAAO5Q,KAAK0D,IAAIoL,QAAQtB,GACxBzD,EAAQ/J,KAAKuK,OAAOiD,EAAM,GAE1BY,EAAOpO,KAAKiP,UAAU4B,cAAcD,EAAM7G,EAAOyD,EAWrD,OATIxN,MAAKuK,OAAOiD,GAAO,IAAOY,EAAKrE,MAAQ,IACvC/J,KAAKuK,OAAOiD,GAAOY,EAAKrE,MACxB/J,KAAKmP,MAAM3B,EAAM,GAAK,KAClBxN,KAAKoP,YAAc5B,EAAM,IACzBxN,KAAKoP,YAAc5B,EAAM,IACtBxN,KAAKoP,aAAe5B,IAC3BxN,KAAKoP,YAAc5B,EAAM,GAGtBxN,KAAKmP,MAAM3B,GAAOY,EAAK0C,UAGnC7P,KAAK+N,EAAoBjO,WAE5BoB,EAAQ6M,oBAAsBA,IAG9BrP,OAAO,wBAAyB,UAAW,UAAW,SAAW,eAAgB,cAAe,aAAc,SAASN,EAAS8C,EAAS7C,GAGzI,GAAIiK,GAAOlK,EAAQ,cAEf0R,GADM1R,EAAQ,aACNA,EAAQ,WAAW0R,OAE3BC,EAAkB,SAASC,EAAQC,EAAOC,GAC1CnR,KAAKoR,UAAUH,GACfjR,KAAKkR,MAAQA,EACblR,KAAKmR,KAAOA,GAAQ,SAGxB,WACInR,KAAKqR,WAAa,IAElBrR,KAAKoR,UAAY,SAASH,GAClBjR,KAAKiR,OAAO,IAAMA,EAAO,KAE7BjR,KAAKiR,OAASA,EACdjR,KAAKsR,WAGTtR,KAAKuR,OAAS,SAASC,EAAMC,EAAazJ,EAAS/E,GAC/C,GAAKjD,KAAKiR,OAIV,IAAK,GAFD5H,GAAQpG,EAAOkN,SAAU7E,EAAMrI,EAAOmN,QAEjCjP,EAAIkI,EAAOlI,GAAKmK,EAAKnK,IAAK,CAC/B,GAAIuQ,GAAS1R,KAAKsR,MAAMnQ,EACV,OAAVuQ,IACAA,EAASnI,EAAKoI,gBAAgB3J,EAAQ8G,QAAQ3N,GAAInB,KAAKiR,QACnDS,EAAOhR,OAASV,KAAKqR,aACrBK,EAASA,EAAO3P,MAAM,EAAG/B,KAAKqR,aAClCK,EAASA,EAAOnF,IAAI,SAASqF,GACzB,MAAO,IAAIb,GAAM5P,EAAGyQ,EAAMC,OAAQ1Q,EAAGyQ,EAAMC,OAASD,EAAMlR,UAE9DV,KAAKsR,MAAMnQ,GAAKuQ,EAAOhR,OAASgR,EAAS,GAG7C,KAAK,GAAII,GAAIJ,EAAOhR,OAAQoR,KACxBL,EAAYM,qBACRP,EAAME,EAAOI,GAAGE,cAAchK,GAAUhI,KAAKkR,MAAOjO,OAKrEhC,KAAK+P,EAAgBjQ,WAExBoB,EAAQ6O,gBAAkBA,IAG1BrR,OAAO,4BAA6B,UAAW,UAAW,SAAW,YAAa,6BAA8B,wBAAyB,sBAAuB,SAASN,EAAS8C,EAAS7C,GAQ3L,QAAS2S,KACLjS,KAAKkS,UAAY,SAAS1E,EAAKpE,EAAQ+I,GACnC,GAAIC,GAAWpS,KAAKqS,YAAY7E,EAChC,KAAK4E,EACD,MAAO,KAGX,KAAK,GADDE,GAAQF,EAASE,MACZnR,EAAI,EAAGA,EAAImR,EAAM5R,OAAQS,IAAK,CACnC,GAAIoR,GAAOD,EAAMnR,EACjB,IAAIoR,EAAKlE,MAAMmE,SAAShF,EAAKpE,GAAS,CAClC,GAAY,GAAR+I,GAAaI,EAAKlE,MAAMoE,MAAMjF,EAAKpE,GACnC,QACG,IAAI+I,IAAQ,GAAMI,EAAKlE,MAAMqE,QAAQlF,EAAKpE,GAC7C,QAEJ,OAAOmJ,MAInBvS,KAAK2S,gBAAkB,SAAStE,GAC5B,GAAIhF,GAAQgF,EAAMhF,MACdiC,EAAM+C,EAAM/C,IACZsH,EAAY5S,KAAK6S,UACjBC,IAEJzJ,GAAMD,QAAU,EAChBkC,EAAIlC,QAAU,CAEd,KAAK,GAAIjI,GAAI,EAAGA,EAAIyR,EAAUlS,OAAQS,IAAK,CACvC,GAAI4R,GAAMH,EAAUzR,GAAGkN,MAAM2E,aAAa3E,EAC1C,IAAW,GAAP0E,EAAJ,CAGK,GAAIA,IAAO,EACZ,KAIJ,KAAK,GADDT,GAAQM,EAAUzR,GAAGmR,MAChBR,EAAI,EAAGA,EAAIQ,EAAM5R,OAAQoR,IAAK,CACnC,GAAIS,GAAOD,EAAMR,EAEjB,IADAiB,EAAMR,EAAKlE,MAAM2E,aAAa3E,GAC1B0E,IAAO,EACP,KACG,IAAW,GAAPA,EAAJ,CAGP,GAAW,IAAPA,EACA,KAEJD,GAAWvR,KAAKgR,MAMxB,MAHAlJ,GAAMD,QAAU,EAChBkC,EAAIlC,QAAU,EAEP0J,GAGX9S,KAAKiT,oBAAsB,SAASvB,GAChC,GAAIjH,MAAMc,QAAQmG,GAAS,CACvB,GAAIY,KACJZ,GAAOpF,QAAQ,SAAS+B,GACpBiE,EAAQA,EAAMxG,OAAO9L,KAAK2S,gBAAgBtE,KAC3CrO,UAEH,IAAIsS,GAAQtS,KAAK2S,gBAAgBjB,EAErC,OAAOY,IAEXtS,KAAKkT,YAAc,WAIf,IAAK,GAHDZ,MACAM,EAAY5S,KAAK6S,UAEZ1R,EAAI,EAAGA,EAAIyR,EAAUlS,OAAQS,IAClC,IAAK,GAAI2Q,GAAI,EAAGA,EAAIc,EAAUzR,GAAGmR,MAAM5R,OAAQoR,IAC3CQ,EAAM/Q,KAAKqR,EAAUzR,GAAGmR,MAAMR,GAEtC,OAAOQ,IAEXtS,KAAKmT,gBAAkB,SAAS3F,EAAKpE,EAAQgK,EAAMhB,GAE/C,GADAA,EAAWA,GAAYpS,KAAKqS,YAAY7E,IACnC4E,EACD,MAAO,KAMX,KAAK,GADDiB,GAAKd,EAHLe,GACAhI,KAAOlC,OAAQ,IAGVjI,EAAI,EAAGA,EAAIiR,EAASE,MAAM5R,OAAQS,IAAK,CAC5CoR,EAAOH,EAASE,MAAMnR,EACtB,IAAI4R,GAAMR,EAAKlE,MAAMkF,WAAW/F,EAAKpE,EACrC,IAAI2J,IAAO,EAAI,CACXM,EAAMrT,KACD8O,QAAQyD,EAAKlJ,MAAMmE,KACnBgG,UAAUF,EAAShI,IAAIlC,OAAQmJ,EAAKlJ,MAAMD,OAC/C,OAEC,GAAY,IAAR2J,EACL,MAAO,KAEXO,GAAWf,EAKf,MAHKc,KACDA,EAAMrT,KAAK8O,QAAQyD,EAAKlJ,MAAMmE,KAAKgG,UAAUF,EAAShI,IAAIlC,SAE1DgK,IAAQ,EACDC,EAAIG,UAAU,EAAGpK,EAASkK,EAAShI,IAAIlC,QACjC,GAARgK,EACEC,EAAIG,UAAUpK,EAASkK,EAAShI,IAAIlC,QAEpCiK,GAGfrT,KAAKqS,YAAc,SAASoB,EAAQC,GAChC,GAAIC,GAAW3T,KAAK6S,UAChB1R,EAAI,CAKR,KAJIuS,IACAvS,EAAIwS,EAASjS,QAAQgS,IACrBvS,IAAK,IACLA,EAAI,GACHA,EAAGA,EAAIwS,EAASjT,OAAQS,IAAK,CAC9B,GAAIiR,GAAWuB,EAASxS,EACxB,IAAIiR,EAAS/I,MAAMmE,KAAOiG,GAAUrB,EAAS9G,IAAIkC,KAAOiG,EACpD,MAAOrB,EACJ,IAAIA,EAAS9G,IAAIkC,IAAMiG,EAC1B,MAAO,MAGf,MAAO,OAEXzT,KAAK4T,gBAAkB,SAASH,EAAQC,GACpC,GAAIC,GAAW3T,KAAK6S,UAChB1R,EAAI,CAKR,KAJIuS,IACAvS,EAAIwS,EAASjS,QAAQgS,IACrBvS,IAAK,IACLA,EAAI,GACHA,EAAGA,EAAIwS,EAASjT,OAAQS,IAAK,CAC9B,GAAIiR,GAAWuB,EAASxS,EACxB,IAAIiR,EAAS9G,IAAIkC,KAAOiG,EACpB,MAAOrB,GAGf,MAAO,OAGXpS,KAAK6T,kBAAoB,SAASxD,EAAOC,GAErC,IAAK,GADDqD,GAAW3T,KAAK6S,UAAWhK,EAAWyH,EAAKD,EAAM,EAC5ClP,EAAI,EAAGA,EAAIwS,EAASjT,OAAQS,IAAK,CACtC,GAAIiR,GAAWuB,EAASxS,GACpBmK,EAAM8G,EAAS9G,IAAIkC,IACnBnE,EAAQ+I,EAAS/I,MAAMmE,GAC3B,IAAIlC,GAAOgF,EAAM,CACVjH,EAAQiH,IACJjH,GAASgH,EACRxH,GAAYyH,EAAKjH,EAEjBR,EAAW,EAEnB,OACMyC,GAAO+E,IAETxH,GADAQ,GAASgH,EACI/E,EAAIjC,EAEJiC,EAAI+E,EAAM,GAGnC,MAAOxH,IAGX7I,KAAK8T,aAAe,SAAS1B,GAKzB,MAJApS,MAAK6S,UAAUtR,KAAK6Q,GACpBpS,KAAK6S,UAAUkB,KAAK,SAASlH,EAAGmH,GAC5B,MAAOnH,GAAExD,MAAMmE,IAAMwG,EAAE3K,MAAMmE,MAE1B4E,GAEXpS,KAAKiU,QAAU,SAASC,EAAa7F,GACjC,GAEIkE,GAFAoB,EAAW3T,KAAK6S,UAChBsB,GAAQ,CAGRD,aAAuBE,GACvB7B,EAAO2B,GAEP3B,EAAO,GAAI6B,GAAK/F,EAAO6F,GACvB3B,EAAK8B,iBAAmBhG,EAAMgG,kBAElCrU,KAAKsU,qBAAqB/B,EAAKlE,MAE/B,IAAIkC,GAAWgC,EAAKlJ,MAAMmE,IACtB+G,EAAchC,EAAKlJ,MAAMD,OACzBoL,EAASjC,EAAKjH,IAAIkC,IAClBiH,EAAYlC,EAAKjH,IAAIlC,MACzB,MAAMmH,EAAWiE,GACbjE,GAAYiE,GAAUD,GAAeE,EAAY,GACjD,KAAM,IAAIlR,OAAM,kDAEpB,IAAImR,GAAY1U,KAAKkS,UAAU3B,EAAUgE,EAAa,GAClDI,EAAU3U,KAAKkS,UAAUsC,EAAQC,GAAW,EAChD,IAAIC,GAAaC,GAAWD,EACxB,MAAOA,GAAUE,WAAWrC,EAEhC,IACKmC,IAAcA,EAAUrG,MAAMqE,QAAQnC,EAAUgE,IAC7CI,IAAYA,EAAQtG,MAAMoE,MAAM+B,EAAQC,GAE5C,KAAM,IAAIlR,OAAM,+CAAiDgP,EAAKlE,MAAQqG,EAAUrG,MAE5F,IAAIiE,GAAQtS,KAAK2S,gBAAgBJ,EAAKlE,MAClCiE,GAAM5R,OAAS,IACfV,KAAK6U,YAAYvC,GACjBA,EAAMhG,QAAQ,SAASwI,GACnBvC,EAAKqC,WAAWE,KAIxB,KAAK,GAAI3T,GAAI,EAAGA,EAAIwS,EAASjT,OAAQS,IAAK,CACtC,GAAIiR,GAAWuB,EAASxS,EACxB,IAAIqT,GAAUpC,EAAS/I,MAAMmE,IAAK,CAC9B4E,EAAS6B,QAAQ1B,GACjB4B,GAAQ,CACR,OACG,GAAI5D,GAAY6B,EAAS9G,IAAIkC,IAAK,CAGrC,GAFA4E,EAAS6B,QAAQ1B,GACjB4B,GAAQ,GACH5B,EAAKwC,QAAS,CACf,GAAIC,GAAerB,EAASxS,EAAI,EAChC,IAAI6T,GAAgBA,EAAa3L,MAAMmE,KAAOgH,EAAQ,CAClDpC,EAAS6C,MAAMD,EACf,QAGR,MACG,GAAIR,GAAUpC,EAAS/I,MAAMmE,IAChC,MAcR,MAVK2G,KACD/B,EAAWpS,KAAK8T,aAAa,GAAIoB,GAASlV,KAAK6S,UAAWN,KAE1DvS,KAAKmV,aACLnV,KAAKoV,gBAAgBhD,EAAS/I,MAAMmE,IAAK4E,EAAS/I,MAAMmE,KAExDxN,KAAKqV,sBAAsBjD,EAAS/I,MAAMmE,IAAK4E,EAAS/I,MAAMmE,KAClExN,KAAKsV,WAAY,EACjBtV,KAAKuV,MAAM,cAAgBnH,KAAMmE,EAAM3N,OAAQ,QAExC2N,GAGXvS,KAAKwV,SAAW,SAASlD,GACrBA,EAAMhG,QAAQ,SAASiG,GACnBvS,KAAKiU,QAAQ1B,IACdvS,OAGPA,KAAKyV,WAAa,SAASlD,GACvB,GAAIH,GAAWG,EAAKH,SAChB7B,EAAW6B,EAAS/I,MAAMmE,IAC1BgH,EAASpC,EAAS9G,IAAIkC,IAEtBoF,EAAY5S,KAAK6S,UACjBP,EAAQF,EAASE,KACrB,IAAoB,GAAhBA,EAAM5R,OACNkS,EAAU3G,OAAO2G,EAAUlR,QAAQ0Q,GAAW,OAElD,IAAIA,EAAS/D,MAAMoE,MAAMF,EAAKjH,IAAIkC,IAAK+E,EAAKjH,IAAIlC,QAC5CkJ,EAAMoD,MACNtD,EAAS9G,IAAIkC,IAAM8E,EAAMA,EAAM5R,OAAS,GAAG4K,IAAIkC,IAC/C4E,EAAS9G,IAAIlC,OAASkJ,EAAMA,EAAM5R,OAAS,GAAG4K,IAAIlC,WAEtD,IAAIgJ,EAAS/D,MAAMqE,QAAQH,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,QAClDkJ,EAAMpH,QACNkH,EAAS/I,MAAMmE,IAAM8E,EAAM,GAAGjJ,MAAMmE,IACpC4E,EAAS/I,MAAMD,OAASkJ,EAAM,GAAGjJ,MAAMD,WAE3C,IAAImJ,EAAKwC,QACLzC,EAAMrG,OAAOqG,EAAM5Q,QAAQ6Q,GAAO,OAEtC,CACI,GAAIoD,GAAcvD,EAASxQ,MAAM2Q,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,OAC5DkJ,GAAQqD,EAAYrD,MACpBA,EAAMpH,QACNyK,EAAYtM,MAAMmE,IAAM8E,EAAM,GAAGjJ,MAAMmE,IACvCmI,EAAYtM,MAAMD,OAASkJ,EAAM,GAAGjJ,MAAMD,OAGzCpJ,KAAK4V,YACF5V,KAAKmV,aACLnV,KAAKoV,gBAAgB7E,EAAUiE,GAE/BxU,KAAKqV,sBAAsB9E,EAAUiE,IAE7CxU,KAAKsV,WAAY,EACjBtV,KAAKuV,MAAM,cAAgBnH,KAAMmE,EAAM3N,OAAQ,YAGnD5E,KAAK6U,YAAc,SAASvC,GAExB,IAAK,GADDuD,MACK1U,EAAI,EAAGA,EAAImR,EAAM5R,OAAQS,IAC9B0U,EAAWtU,KAAK+Q,EAAMnR,GAG1B0U,GAAWvJ,QAAQ,SAASiG,GACxBvS,KAAKyV,WAAWlD,IACjBvS,MACHA,KAAKsV,WAAY,GAGrBtV,KAAK8V,WAAa,SAASvD,GACvBvS,KAAKyV,WAAWlD,GAChBA,EAAKwD,SAASzJ,QAAQ,SAASwI,GAC3BvC,EAAKyD,aAAalB,GAClB9U,KAAKiU,QAAQa,IACd9U,MACCuS,EAAK8B,iBAAmB,GACxBrU,KAAKiW,QAAQ1D,EAAKlJ,MAAMmE,IAAI,EAAG+E,EAAKjH,IAAIkC,IAAK+E,EAAK8B,iBAAiB,GAEvE9B,EAAKwD,aAGT/V,KAAKkW,YAAc,SAAS5D,GACxBA,EAAMhG,QAAQ,SAASiG,GACnBvS,KAAK8V,WAAWvD,IACjBvS,OAGPA,KAAKmW,OAAS,SAASC,EAAUC,GAC7B,GAAIhI,GAAOiE,CAYX,IAXgB,MAAZ8D,GACA/H,EAAQ,GAAI0C,GAAM,EAAG,EAAG/Q,KAAK8I,YAAa,GAC1CuN,GAAc,GAEdhI,EAD0B,gBAAZ+H,GACN,GAAIrF,GAAMqF,EAAU,EAAGA,EAAUpW,KAAK8O,QAAQsH,GAAU1V,QAC3D,OAAS0V,GACNrF,EAAMuF,WAAWF,EAAUA,GAE3BA,EAEZ9D,EAAQtS,KAAKiT,oBAAoB5E,GAC7BgI,EACArW,KAAK6U,YAAYvC,OAGjB,KADA,GAAIyD,GAAWzD,EACRyD,EAASrV,QACZV,KAAKkW,YAAYH,GACjBA,EAAW/V,KAAKiT,oBAAoB5E,EAG5C,IAAIiE,EAAM5R,OACN,MAAO4R,IAEftS,KAAKuW,YAAc,SAAS9C,EAAQ+C,GAChC,QAASxW,KAAKqS,YAAYoB,EAAQ+C,IAGtCxW,KAAKyW,cAAgB,SAAShD,EAAQ+C,GAClC,GAAIpE,GAAWpS,KAAKqS,YAAYoB,EAAQ+C,EACxC,OAAOpE,GAAWA,EAAS9G,IAAIkC,IAAMiG,GAGzCzT,KAAK0W,gBAAkB,SAASjD,EAAQ+C,GACpC,GAAIpE,GAAWpS,KAAKqS,YAAYoB,EAAQ+C,EACxC,OAAOpE,GAAWA,EAAS/I,MAAMmE,IAAMiG,GAG3CzT,KAAK2W,mBAAqB,SAASvE,EAAUoC,EAAQC,EAAWlE,EAAUgE,GACtD,MAAZhE,IACAA,EAAW6B,EAAS/I,MAAMmE,IAC1B+G,EAAc,GAGJ,MAAVC,IACAA,EAASpC,EAAS9G,IAAIkC,IACtBiH,EAAYzU,KAAK8O,QAAQ0F,GAAQ9T,OAErC,IAAIgD,GAAM1D,KAAK0D,IACXkT,EAAW,EAiBf,OAfAxE,GAASyE,KAAK,SAAS3C,EAAa1G,EAAKpE,EAAQ0N,GAC7C,KAAItJ,EAAM+C,GAAV,CAEA,GAAI/C,GAAO+C,EAAU,CACjB,GAAInH,EAASmL,EACT,MACJuC,GAAaxI,KAAKC,IAAIgG,EAAauC,GAInCF,GADe,MAAf1C,EACYA,EAEAxQ,EAAIoL,QAAQtB,GAAKgG,UAAUsD,EAAY1N,KAExDoL,EAAQC,GACJmC,GAGX5W,KAAK+W,eAAiB,SAASvJ,EAAKiH,EAAWlE,EAAUgE,GACrD,GAAInC,GAAWpS,KAAKqS,YAAY7E,EAEhC,IAAK4E,EAKD,MAAOpS,MAAK2W,mBACRvE,EAAU5E,EAAKiH,EAAWlE,EAAUgE,EALxC,IAAI3D,EAEJ,OADAA,GAAO5Q,KAAK0D,IAAIoL,QAAQtB,GACjBoD,EAAK4C,UAAUe,GAAe,EAAGE,GAAa7D,EAAKlQ,SAOlEV,KAAKgX,eAAiB,WAClB,GAAIC,KAQJ,OAPAA,GAAKjX,KAAK6S,UAAUtG,IAAI,SAAS6F,GAC7B,GAAIE,GAAQF,EAASE,MAAM/F,IAAI,SAASgG,GACpC,MAAOA,GAAK2E,SAEhB,OAAO,IAAIhC,GAAS+B,EAAI3E,MAMhCtS,KAAKmX,WAAa,SAASC,GACvB,GAEI7E,GACA8E,EAHAC,EAAYtX,KAAKsX,UACjBjJ,EAAQiJ,EAAUC,UAItB,IAAIlJ,EAAMmJ,UAAW,CACjB,GAAIC,GAASpJ,EAAMhF,KAGnB,IAFAkJ,EAAOvS,KAAKkS,UAAUuF,EAAOjK,IAAKiK,EAAOrO,QAIrC,WADApJ,MAAK8V,WAAWvD,IAET8E,EAAarX,KAAK0X,oBAAoBD,IACP,GAAlCpJ,EAAMsJ,aAAaN,GACnBhJ,EAAM/C,IAAM+L,GAEZhJ,EAAMhF,MAAQgO,EACdhJ,EAAMhF,MAAMD,SACZiF,EAAM/C,IAAIlC,WAEPiO,EAAarX,KAAK0X,qBAAqBlK,IAAKiK,EAAOjK,IAAKpE,OAAQqO,EAAOrO,OAAS,MACjD,GAAlCiF,EAAMsJ,aAAaN,GACnBhJ,EAAM/C,IAAM+L,EAEZhJ,EAAMhF,MAAQgO,EAElBhJ,EAAMhF,MAAMD,UAEZiF,EAAQrO,KAAK4X,oBAAoBH,EAAOjK,IAAKiK,EAAOrO,SAAWiF,MAEhE,CACH,GAAIiE,GAAQtS,KAAK2S,gBAAgBtE,EACjC,IAAI+I,GAAe9E,EAAM5R,OAErB,WADAV,MAAKkW,YAAY5D,EAEM,IAAhBA,EAAM5R,SACb6R,EAAOD,EAAM,IAOrB,GAHKC,IACDA,EAAOvS,KAAKkS,UAAU7D,EAAMhF,MAAMmE,IAAKa,EAAMhF,MAAMD,SAEnDmJ,GAAQA,EAAKlE,MAAMrN,YAAcqN,EAAMrN,WAEvC,WADAhB,MAAK8V,WAAWvD,EAIpB,IAAI2B,GAAc,KAClB,KAAK7F,EAAMwJ,cAAe,CAEtB,GADA3D,EAAclU,KAAK8X,aAAazJ,GAC7B6F,EAAYxT,OAAS,EACpB,MACJwT,GAAcA,EAAYd,OAAOI,UAAU,EAAG,GAAK,KAGvDxT,KAAKiU,QAAQC,EAAa7F,IAG9BrO,KAAK4X,oBAAsB,SAASpK,EAAKpE,EAAQ2O,GAC7C,GAAIC,GAAW,GAAIjQ,GAAc/H,KAAMwN,EAAKpE,GACxCb,EAAQyP,EAASjP,iBACrB,IAAIR,GAAS,kBAAkB0P,KAAK1P,EAAM4I,MAAO,CAC7C,GAAI9C,GAAQ,GAAI0C,GACZmH,EAAK,GAAIC,QAAO5P,EAAM4I,KAAKjP,QAAQ,OAAQ,OAC/C,IAAW,GAAP6V,EAAU,CACV,EACIxP,GAAQyP,EAASrP,qBACbJ,GAAS2P,EAAGD,KAAK1P,EAAM4I,MAC/B6G,GAASpP,cAQb,GALAyF,EAAMhF,MAAMmE,IAAMwK,EAAShP,qBAC3BqF,EAAMhF,MAAMD,OAAS4O,EAAS/O,wBAA0B,EAExD+O,EAAW,GAAIjQ,GAAc/H,KAAMwN,EAAKpE,GAEpC2O,IAAO,EAAI,CACX,EACIxP,GAAQyP,EAASpP,oBACbL,GAAS2P,EAAGD,KAAK1P,EAAM4I,MAC/B5I,GAAQyP,EAASrP,mBAEjBJ,GAAQyP,EAASjP,iBAIrB,OAFAsF,GAAM/C,IAAIkC,IAAMwK,EAAShP,qBACzBqF,EAAM/C,IAAIlC,OAAS4O,EAAS/O,wBAA0BV,EAAMe,MAAM5I,OAAS,EACpE2N,IAIfrO,KAAKiW,QAAU,SAAS1F,EAAUiE,EAAQ4D,GACzBvT,QAATuT,IACAA,EAAQ,IACZ,IAAIC,GAAcrY,KAAKqY,WACvB,IAAKA,EAAL,CAEA7D,EAASA,GAAUxU,KAAK8I,YACxByH,EAAWA,GAAY,CACvB,KAAK,GAAI/C,GAAM+C,EAAU/C,EAAMgH,EAAQhH,IAGnC,GAFwB,MAApB6K,EAAY7K,KACZ6K,EAAY7K,GAAOxN,KAAKsY,cAAc9K,IAClB,SAApB6K,EAAY7K,GAAhB,CAGA,GAAIa,GAAQrO,KAAKuY,mBAAmB/K,EACpC,IAAIa,GAASA,EAAMwJ,eACZxJ,EAAM/C,IAAIkC,KAAOgH,GACjBnG,EAAMhF,MAAMmE,KAAO+C,EACxB,CACE/C,EAAMa,EAAM/C,IAAIkC,GAChB,KACI,GAAI+E,GAAOvS,KAAKiU,QAAQ,MAAO5F,EAC3BkE,KACAA,EAAK8B,iBAAmB+D,GAC9B,MAAMlK,SAIpBlO,KAAKwY,aACDC,OAAU,EACVC,UAAa,EACbC,aAAgB,GAEpB3Y,KAAK4Y,WAAa,YAClB5Y,KAAK6Y,aAAe,SAASC,GACzB,IAAK9Y,KAAKwY,YAAYM,GAClB,KAAM,IAAIvV,OAAM,uBAAyBuV,EAAQ,IAAMhY,OAAOuL,KAAKrM,KAAKwY,aAAaxW,KAAK,MAAQ,IAEtG,IAAIhC,KAAK4Y,YAAcE,EAAvB,CAGA9Y,KAAK4Y,WAAaE,EAEL,UAATA,GACA9Y,KAAKmW,QACT,IAAI7R,GAAOtE,KAAK+Y,SAChB/Y,MAAKgZ,YAAY,MACjBhZ,KAAKgZ,YAAY1U,KAGrBtE,KAAKgZ,YAAc,SAASC,GACxB,GAAIjZ,KAAK+Y,WAAaE,EAAtB,CAQA,GALAjZ,KAAK+Y,UAAYE,EAEjBjZ,KAAKoE,eAAe,SAAUpE,KAAKkZ,oBACnClZ,KAAKuV,MAAM,qBAEN0D,GAA+B,UAAnBjZ,KAAK4Y,WAElB,YADA5Y,KAAKqY,YAAc,KAIvBrY,MAAKqY,eACLrY,KAAKsY,cAAgBW,EAASX,cAAcrU,KAAKgV,EAAUjZ,KAAMA,KAAK4Y,YACtE5Y,KAAKuY,mBAAqBU,EAASV,mBAAmBtU,KAAKgV,EAAUjZ,KAAMA,KAAK4Y,YAEhF5Y,KAAKkZ,mBAAqBlZ,KAAKmZ,kBAAkBlV,KAAKjE,MACtDA,KAAKmE,GAAG,SAAUnE,KAAKkZ,sBAI3BlZ,KAAKoZ,uBAAyB,SAAU5L,EAAK6L,GACzC,GAAIC,GAAKtZ,KAAKqY,WACd,KAAKiB,GAAOD,GAAiBC,EAAG9L,GAC5B,QAGJ,KADA,GAAiB+L,GAAbpY,EAAIqM,EAAM,EACPrM,GAAK,GAAG,CACX,GAAIqY,GAAIF,EAAGnY,EAIX,IAHS,MAALqY,IACAA,EAAIF,EAAGnY,GAAKnB,KAAKsY,cAAcnX,IAE1B,SAALqY,EAAc,CACd,GAAInL,GAAQrO,KAAKuY,mBAAmBpX,EAGpC,IAFKoY,IACDA,EAAalL,GACbA,GAASA,EAAM/C,IAAIkC,KAAOA,EAC1B,MAERrM,IAGJ,OACIkN,MAAOlN,KAAM,GAAMkN,EACnBkL,WAAYA,IAIpBvZ,KAAKyZ,kBAAoB,SAASjM,EAAKU,GACnCA,EAAIA,EAAEwL,QACN,IAAIC,IACAC,SAAU1L,EAAE2L,SACZC,IAAK5L,EAAE6L,SAAW7L,EAAE8L,QACpBC,SAAU/L,EAAEgM,QAGZ7L,EAAQrO,KAAKma,kBAAkB3M,EAAKmM,EACxC,KAAKtL,EAAO,CACR,GAAIlL,GAAM+K,EAAEkM,QAAUlM,EAAEmM,UACpBlX,IAAM,kBAAkB8U,KAAK9U,EAAGyJ,aAChCzJ,EAAGyJ,WAAa,kBAI5B5M,KAAKma,kBAAoB,SAAS3M,EAAKmM,GACnC,GAAK3Z,KAAKsY,cAAV,CAEA,GAAInH,GAAOnR,KAAKsY,cAAc9K,GAC1BoD,EAAO5Q,KAAK8O,QAAQtB,GAEpBuK,EAAe,QAAT5G,GAAiB,EAAK,EAC5BoB,EAAOvS,KAAKkS,UAAU1E,EAAKuK,KAAQ,EAAK,EAAInH,EAAKlQ,OAAQqX,EAE7D,IAAIxF,EAKA,YAJIoH,EAAQC,UAAYD,EAAQG,IAC5B9Z,KAAKyV,WAAWlD,GAEhBvS,KAAK8V,WAAWvD,GAIxB,IAAIlE,GAAQrO,KAAKuY,mBAAmB/K,GAAK,EACzC,IAAIa,IAAUA,EAAMwJ,gBAChBtF,EAAOvS,KAAKkS,UAAU7D,EAAMhF,MAAMmE,IAAKa,EAAMhF,MAAMD,OAAQ,GACvDmJ,GAAQlE,EAAMiM,QAAQ/H,EAAKlE,QAE3B,WADArO,MAAKyV,WAAWlD,EAKxB,IAAIoH,EAAQM,SAAU,CAClB,GAAI7L,GAAOpO,KAAKoZ,uBAAuB5L,EACvC,IAAIY,EAAKC,MACL,GAAIkC,GAAWnC,EAAKC,MAAMhF,MAAMmE,IAAM,EAClCgH,EAASpG,EAAKC,MAAM/C,IAAIkC,GAEhCxN,MAAKiW,QAAQ1F,EAAUiE,EAAQmF,EAAQG,IAAM,IAAQ,OAC9CH,GAAQC,UACfpF,EAASnG,EAAQA,EAAM/C,IAAIkC,IAAMxN,KAAK8I,YACtC9I,KAAKiW,QAAQzI,EAAM,EAAGa,EAAM/C,IAAIkC,IAAKmM,EAAQG,IAAM,IAAQ,IACpDzL,IACHsL,EAAQG,MACRzL,EAAMgG,iBAAmB,KAC7BrU,KAAKiU,QAAQ,MAAO5F,GAGxB,OAAOA,KAKXrO,KAAKua,iBAAmB,SAASC,GAC7B,GAAIhN,GAAMxN,KAAKsX,UAAUmD,YAAYjN,GACrCA,GAAMxN,KAAK0W,gBAAgBlJ,EAC3B,IAAIa,GAAQrO,KAAKma,kBAAkB3M,KAEnC,KAAIa,EAAJ,CAEA,GAAID,GAAOpO,KAAKoZ,uBAAuB5L,GAAK,EAG5C,IAFAa,EAAQD,EAAKC,OAASD,EAAKmL,WAEhB,CACP/L,EAAMa,EAAMhF,MAAMmE,GAClB,IAAI+E,GAAOvS,KAAKkS,UAAU1E,EAAKxN,KAAK8O,QAAQtB,GAAK9M,OAAQ,EAErD6R,GACAvS,KAAKyV,WAAWlD,GAEhBvS,KAAKiU,QAAQ,MAAO5F,MAKhCrO,KAAKmZ,kBAAoB,SAASjL,GAC9B,GAAIC,GAAQD,EAAEE,KACVC,EAAQF,EAAME,MACd8B,EAAW9B,EAAMhF,MAAMmE,IACvBmC,EAAMtB,EAAM/C,IAAIkC,IAAM2C,CAE1B,IAAY,IAARR,EACA3P,KAAKqY,YAAYlI,GAAY,SAC1B,IAAoB,cAAhBhC,EAAMvJ,QAA0C,eAAhBuJ,EAAMvJ,OAC7C5E,KAAKqY,YAAYpM,OAAOkE,EAAUR,EAAM,EAAG,UACxC,CACH,GAAI9D,GAAOpB,MAAMkF,EAAM,EACvB9D,GAAKb,QAAQmF,EAAU,GACvBnQ,KAAKqY,YAAYpM,OAAO7L,MAAMJ,KAAKqY,YAAaxM,KA/sB5D,GAAIkF,GAAQ1R,EAAQ,YAAY0R,MAC5BmE,EAAW7V,EAAQ,eAAe6V,SAClCd,EAAO/U,EAAQ,UAAU+U,KACzBrM,EAAgB1I,EAAQ,qBAAqB0I,aAktBjD5F,GAAQ8P,QAAUA,IAIlBtS,OAAO,8BAA+B,UAAW,UAAW,SAAW,aAAc,SAASN,EAAS8C,EAAS7C,GAIhH,QAAS4V,GAASvB,EAAUrB,GACxBtS,KAAK2T,SAAWA,EACZlJ,MAAMc,QAAQ+G,GACdtS,KAAKsS,MAAQA,EAEbA,EAAQtS,KAAKsS,OAAUA,EAG3B,IAAIhC,GAAOgC,EAAMA,EAAM5R,OAAS,EAChCV,MAAKqO,MAAQ,GAAI0C,GAAMuB,EAAM,GAAGjJ,MAAMmE,IAAK8E,EAAM,GAAGjJ,MAAMD,OACnCkH,EAAKhF,IAAIkC,IAAK8C,EAAKhF,IAAIlC,QAC9CpJ,KAAKqJ,MAAQrJ,KAAKqO,MAAMhF,MACxBrJ,KAAKsL,IAAQtL,KAAKqO,MAAM/C,IAExBtL,KAAKsS,MAAMhG,QAAQ,SAASiG,GACxBA,EAAKmI,YAAY1a,OAClBA,MAjBP,GAAI+Q,GAAQ1R,EAAQ,YAAY0R,OAoBhC,WACI/Q,KAAK2a,SAAW,SAASzP,GACrBlL,KAAKqJ,MAAMmE,KAAOtC,EAClBlL,KAAKsL,IAAIkC,KAAOtC,EAChBlL,KAAKsS,MAAMhG,QAAQ,SAASiG,GACxBA,EAAKlJ,MAAMmE,KAAOtC,EAClBqH,EAAKjH,IAAIkC,KAAOtC,KAIxBlL,KAAKiU,QAAU,SAAS1B,GACpB,GAAIA,EAAKwC,QAAS,CACd,GAAIxC,EAAKlJ,MAAMmE,IAAMxN,KAAKuQ,UAAYgC,EAAKiC,OAASxU,KAAKwU,OACrD,KAAM,IAAIjR,OAAM,4DAEpBvD,MAAKsS,MAAM/Q,KAAKgR,GAChBvS,KAAKsS,MAAMyB,KAAK,SAASlH,EAAGmH,GACxB,OAAQnH,EAAEwB,MAAMkF,WAAWS,EAAE3K,MAAMmE,IAAKwG,EAAE3K,MAAMD,UAEhDpJ,KAAKqO,MAAMkF,WAAWhB,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,QAAU,GAC3DpJ,KAAKsL,IAAIkC,IAAM+E,EAAKjH,IAAIkC,IACxBxN,KAAKsL,IAAIlC,OAAUmJ,EAAKjH,IAAIlC,QACrBpJ,KAAKqO,MAAMuM,aAAarI,EAAKjH,IAAIkC,IAAK+E,EAAKjH,IAAIlC,QAAU,IAChEpJ,KAAKqJ,MAAMmE,IAAM+E,EAAKlJ,MAAMmE,IAC5BxN,KAAKqJ,MAAMD,OAASmJ,EAAKlJ,MAAMD,YAEhC,IAAImJ,EAAKlJ,MAAMmE,KAAOxN,KAAKsL,IAAIkC,IAClCxN,KAAKsS,MAAM/Q,KAAKgR,GAChBvS,KAAKsL,IAAIkC,IAAM+E,EAAKjH,IAAIkC,IACxBxN,KAAKsL,IAAIlC,OAASmJ,EAAKjH,IAAIlC,WACxB,CAAA,GAAImJ,EAAKjH,IAAIkC,KAAOxN,KAAKqJ,MAAMmE,IAKlC,KAAM,IAAIjK,OAAM,iEAJhBvD,MAAKsS,MAAMtH,QAAQuH,GACnBvS,KAAKqJ,MAAMmE,IAAM+E,EAAKlJ,MAAMmE,IAC5BxN,KAAKqJ,MAAMD,OAASmJ,EAAKlJ,MAAMD,OAInCmJ,EAAKH,SAAWpS,MAGpBA,KAAK6a,YAAc,SAASrN,GACxB,MAAOA,IAAOxN,KAAKqJ,MAAMmE,KAAOA,GAAOxN,KAAKsL,IAAIkC,KAGpDxN,KAAK6W,KAAO,SAAStX,EAAUiV,EAAQC,GACnC,GAEIlC,GACAuI,EAAM5K,EAHN6K,EAAU,EACVzI,EAAQtS,KAAKsS,MAED0I,GAAW,CAEb,OAAVxG,IACAA,EAASxU,KAAKsL,IAAIkC,IAClBiH,EAAYzU,KAAKsL,IAAIlC,OAGzB,KAAK,GAAIjI,GAAI,EAAGA,EAAImR,EAAM5R,OAAQS,IAAK,CAInC,GAHAoR,EAAOD,EAAMnR,GAEb2Z,EAAOvI,EAAKlE,MAAMuM,aAAapG,EAAQC,GACnCqG,IAAQ,EAER,WADAvb,GAAS,KAAMiV,EAAQC,EAAWsG,EAASC,EAM/C,IAFA9K,EAAO3Q,EAAS,KAAMgT,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,OAAQ2R,EAASC,GAClE9K,GAAQA,GAAQ3Q,EAASgT,EAAK2B,YAAa3B,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,OAAQ2R,GAC1E7K,GAAgB,GAAR4K,EACR,MAEJE,IAAYzI,EAAKwC,QACjBgG,EAAUxI,EAAKjH,IAAIlC,OAEvB7J,EAAS,KAAMiV,EAAQC,EAAWsG,EAASC,IAG/Chb,KAAKib,cAAgB,SAASzN,EAAKpE,GAE/B,IAAK,GADDmJ,GAAMQ,EACD5R,EAAI,EAAGA,EAAInB,KAAKsS,MAAM5R,OAAQS,IAAK,CAGxC,GAFAoR,EAAOvS,KAAKsS,MAAMnR,GAClB4R,EAAMR,EAAKlE,MAAMkF,WAAW/F,EAAKpE,GAC7B2J,IAAO,EACP,OACIR,KAAMA,EACN2I,KAAM,QAEP,IAAW,GAAPnI,EACP,OACIR,KAAMA,EACN2I,KAAM,UAIlB,MAAO,OAGXlb,KAAKmb,eAAiB,SAAS3N,EAAKpE,EAAQuG,GACxC,GACI4C,GAAMD,EADNjN,EAAMrF,KAAKib,cAAczN,EAAKpE,EAElC,IAAI/D,EAEA,GADAkN,EAAOlN,EAAIkN,KACK,UAAZlN,EAAI6V,MACD3I,EAAKlJ,MAAMD,QAAUA,GACrBmJ,EAAKlJ,MAAMmE,KAAOA,EAErBnN,OAAOE,SAAWF,OAAOE,QAAQ6a,IAAI5N,EAAKpE,EAAQmJ,OAC/C,IAAIA,EAAKlJ,MAAMmE,KAAOA,EAAK,CAC9B8E,EAAQtS,KAAKsS,KACb,IAAInR,GAAImR,EAAM5Q,QAAQ6Q,EAItB,KAHS,GAALpR,IACAnB,KAAKqJ,MAAMD,QAAUuG,GAEpBxO,EAAGA,EAAImR,EAAM5R,OAAQS,IAAK,CAG3B,GAFAoR,EAAOD,EAAMnR,GACboR,EAAKlJ,MAAMD,QAAUuG,GAChB4C,EAAKwC,QACN,MAEJxC,GAAKjH,IAAIlC,QAAUuG,EAEvB3P,KAAKsL,IAAIlC,QAAUuG,IAK/B3P,KAAK4B,MAAQ,SAAS4L,EAAKpE,GACvB,GAAImJ,GAAOvS,KAAKib,cAAczN,EAAKpE,GAAQmJ,KACvCD,EAAQtS,KAAKsS,MACbqB,EAAW3T,KAAK2T,QAEpB,KAAKpB,EACD,MAAO,KAEX,IAAIpR,GAAImR,EAAM5Q,QAAQ6Q,GAClB8I,EAAa/I,EAAMnR,EAAI,EAC3BnB,MAAKsL,IAAIkC,IAAM6N,EAAW/P,IAAIkC,IAC9BxN,KAAKsL,IAAIlC,OAASiS,EAAW/P,IAAIlC,OACjCkJ,EAAQA,EAAMrG,OAAO9K,EAAGmR,EAAM5R,OAASS,EAEvC,IAAIwU,GAAc,GAAIT,GAASvB,EAAUrB,EAEzC,OADAqB,GAAS1H,OAAO0H,EAASjS,QAAQ1B,MAAQ,EAAG,EAAG2V,GACxCA,GAGX3V,KAAKiV,MAAQ,SAASD,GAElB,IAAK,GADD1C,GAAQ0C,EAAa1C,MAChBnR,EAAI,EAAGA,EAAImR,EAAM5R,OAAQS,IAC9BnB,KAAKiU,QAAQ3B,EAAMnR,GAEvB,IAAIwS,GAAW3T,KAAK2T,QACpBA,GAAS1H,OAAO0H,EAASjS,QAAQsT,GAAe,IAGpDhV,KAAKgB,SAAW,WACZ,GAAIqE,IAAOrF,KAAKqO,MAAMrN,WAAa,MAMnC,OAJAhB,MAAKsS,MAAMhG,QAAQ,SAASiG,GACxBlN,EAAI9D,KAAK,KAAOgR,EAAKvR,cAEzBqE,EAAI9D,KAAK,KACF8D,EAAIrD,KAAK,OAGpBhC,KAAKsb,cAAgB,SAASC,GAI1B,IAAK,GAFDhJ,GADAiJ,EAAoB,EAGfra,EAAI,EAAGA,EAAInB,KAAKsS,MAAM5R,OAAQS,IAAK,CACxC,GAAIoR,GAAOvS,KAAKsS,MAAMnR,EAGtB,IADAoa,GAAOhJ,EAAKlJ,MAAMD,OAASoS,EACvBD,EAAM,EACN,OACI/N,IAAK+E,EAAKlJ,MAAMmE,IAChBpE,OAAQmJ,EAAKlJ,MAAMD,OAASmS,EAKpC,IADAA,GAAOhJ,EAAK2B,YAAYxT,OACpB6a,EAAM,EACN,MAAOhJ,GAAKlJ,KAGhBmS,GAAoBjJ,EAAKjH,IAAIlC,OAGjC,OACIoE,IAAKxN,KAAKsL,IAAIkC,IACdpE,OAAQpJ,KAAKsL,IAAIlC,OAASmS,MAGnCta,KAAKiU,EAASnU,WAEjBoB,EAAQ+S,SAAWA,IAGnBvV,OAAO,iBAAkB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GACtF,GAAImc,GAAkB,IAClBC,EAAY,SAAS7R,GACrB7J,KAAKuK,OAASV,EAEd7J,KAAK2b,WACL3b,KAAK4b,gBACL,KAAK,GAAI5W,KAAOhF,MAAKuK,OAAQ,CAQzB,IAAK,GAPDR,GAAQ/J,KAAKuK,OAAOvF,GACpB6W,KACAC,EAAa,EACbC,EAAU/b,KAAK4b,cAAc5W,IAAQ2E,aAAc,QACnDqS,EAAO,IAEPC,KACK9a,EAAI,EAAGA,EAAI4I,EAAMrJ,OAAQS,IAAK,CACnC,GAAI6I,GAAOD,EAAM5I,EAKjB,IAJI6I,EAAKL,eACLoS,EAAQpS,aAAeK,EAAKL,cAC5BK,EAAKoC,kBACL4P,EAAO,MACO,MAAdhS,EAAKN,MAAT,CAGIM,EAAKN,gBAAiByO,UACtBnO,EAAKN,MAAQM,EAAKN,MAAM1I,WAAWe,MAAM,GAAG,GAChD,IAAIma,GAAgBlS,EAAKN,MACrByS,EAAa,GAAIhE,QAAO,OAAS+D,EAAgB,UAAUE,KAAK,KAAK1b,OAAS,CAClF,IAAI+J,MAAMc,QAAQvB,EAAKzB,OACnB,GAAyB,GAArByB,EAAKzB,MAAM7H,QAA6B,GAAdyb,EAC1BnS,EAAKzB,MAAQyB,EAAKzB,MAAM,OACrB,CAAA,GAAI4T,EAAa,GAAKnS,EAAKzB,MAAM7H,OACpC,KAAM,IAAI6C,OAAM,2CACZyG,EAAKzB,MAAQ,OAASyB,EAAKN,MAAS,qBACjCyS,EAAa,GAAK,KAAOnS,EAAKzB,MAAM7H,OAE3CsJ,GAAKqS,WAAarS,EAAKzB,MACvByB,EAAKzB,MAAQ,KACbyB,EAAKsS,QAAUtc,KAAKuc,iBAEI,kBAAdvS,GAAKzB,OAAwByB,EAAKsS,UAC5CH,EAAa,EACbnS,EAAKsS,QAAUtc,KAAKwc,YAEpBxS,EAAKsS,QAAUtS,EAAKzB,MAGxB4T,GAAa,IACT,OAAOlE,KAAKjO,EAAKN,OACjBwS,EAAgBlS,EAAKN,MAAMxH,QAAQ,cAAe,SAAS0P,EAAO6K,GAC9D,MAAO,MAAQC,SAASD,EAAO,IAAMX,EAAa,MAGtDK,EAAa,EACbD,EAAgBlc,KAAK2c,sBAAsB3S,EAAKN,QAE/CM,EAAK4S,YAAmC,gBAAd5S,GAAKzB,OAChC0T,EAAe1a,KAAKyI,IAG5B+R,EAAQD,GAAc3a,EACtB2a,GAAcK,EAEdN,EAAYta,KAAK2a,GACZlS,EAAKsS,UACNtS,EAAKsS,QAAU,MACnBtS,EAAKiD,UAAY,MAGrBgP,EAAe3P,QAAQ,SAAStC,GAC5BA,EAAK4S,WAAa5c,KAAK6c,qBAAqB7S,EAAKN,MAAOsS,IACzDhc,MAEHA,KAAK2b,QAAQ3W,GAAO,GAAImT,QAAO,IAAM0D,EAAY7Z,KAAK,OAAS,QAASga,MAIhF,WACIhc,KAAK8c,kBAAoB,SAASC,GAC9BtB,EAAsB,EAAJsB,GAGtB/c,KAAKwc,YAAc,SAASnJ,GACxB,GAAI2J,GAAShd,KAAK4c,WAAWR,KAAK/I,GAAKtR,MAAM,GACzCkb,EAAQjd,KAAKuI,MAAMnI,MAAMJ,KAAMgd,EACnC,IAAqB,gBAAVC,GACP,QAAS9L,KAAM8L,EAAO3T,MAAO+J,GAGjC,KAAK,GADDvC,MACK3P,EAAI,EAAGC,EAAI6b,EAAMvc,OAAQS,EAAIC,EAAGD,IACjC6b,EAAO7b,KACP2P,EAAOA,EAAOpQ,SACVyQ,KAAM8L,EAAM9b,GACZmI,MAAO0T,EAAO7b,IAG1B,OAAO2P,IAGX9Q,KAAKuc,aAAe,SAASlJ,GACzB,IAAKA,EACD,QACJ,IAAI2J,GAAShd,KAAK4c,WAAWR,KAAK/I,EAClC,KAAK2J,EACD,MAAO,MAGX,KAAK,GAFDlM,MACAmM,EAAQjd,KAAKqc,WACRlb,EAAI,EAAGC,EAAI6b,EAAMvc,OAAQS,EAAIC,EAAGD,IACjC6b,EAAO7b,EAAI,KACX2P,EAAOA,EAAOpQ,SACVyQ,KAAM8L,EAAM9b,GACZmI,MAAO0T,EAAO7b,EAAI,IAG9B,OAAO2P,IAGX9Q,KAAK2c,sBAAwB,SAASO,GAClC,GAAIzR,GAAIyR,EAAIhb,QACR,0CACA,SAAS8J,EAAGmR,GAAI,MAAOA,GAAI,MAAQnR,GAEvC,OAAOP,IAGXzL,KAAK6c,qBAAuB,SAASK,EAAKlB,GACtC,GAAIkB,EAAIxb,QAAQ,SAAU,EAAI,CAC1B,GAAIqJ,GAAQ,EACRqS,GAAY,EACZC,IACJH,GAAIhb,QAAQ,uCAAwC,SAChD6a,EAAGO,EAAKC,EAAWC,EAAYC,EAAQ/U,GAmBvC,MAjBI0U,GACAA,EAAsB,KAAVK,EACLA,EACPL,GAAY,EACLI,GACHzS,GAASsS,EAAYtS,QACrBsS,EAAY/R,IAAM5C,EAAM,EACxB2U,EAAYtS,OAAQ,GAExBA,KACOwS,IACPxS,IACwB,GAApBwS,EAAU7c,SACV2c,EAAYtS,MAAQA,EACpBsS,EAAYhU,MAAQX,IAGrBqU,IAGY,MAAnBM,EAAY/R,KAAe,QAAQ2M,KAAKiF,EAAIQ,OAAOL,EAAY/R,QAC/D4R,EAAMA,EAAI1J,UAAU,EAAG6J,EAAYhU,OAAS6T,EAAIQ,OAAOL,EAAY/R,MAE3E,MAAO,IAAI6M,QAAO+E,GAAMlB,GAAM,IAAI9Z,QAAQ,IAAK,MAEnDlC,KAAK6Q,cAAgB,SAASD,EAAM+M,GAChC,GAAIA,GAAmC,gBAAdA,GAAwB,CAC7C,GAAI5S,GAAQ4S,EAAW5b,MAAM,EAC7B4b,GAAa5S,EAAM,OAEnB,IAAIA,KAER,IAAID,GAAe6S,GAAc,QAC7B5T,EAAQ/J,KAAKuK,OAAOO,EACnBf,KACDe,EAAe,QACff,EAAQ/J,KAAKuK,OAAOO,GAExB,IAAIiR,GAAU/b,KAAK4b,cAAc9Q,GAC7BoN,EAAKlY,KAAK2b,QAAQ7Q,EACtBoN,GAAG0F,UAAY,CAOf,KALA,GAAIhM,GAAOd,KACP8M,EAAY,EAEZrV,GAAS4I,KAAM,KAAM7H,MAAO,IAEzBsI,EAAQsG,EAAGkE,KAAKxL,IAAO,CAC1B,GAAIO,GAAO4K,EAAQpS,aACfK,EAAO,KACPV,EAAQsI,EAAM,GACdlJ,EAAQwP,EAAG0F,SAEf,IAAIlV,EAAQY,EAAM5I,OAASkd,EAAW,CAClC,GAAIC,GAAUjN,EAAK4C,UAAUoK,EAAWlV,EAAQY,EAAM5I,OAClD6H,GAAM4I,MAAQA,EACd5I,EAAMe,OAASuU,GAEXtV,EAAM4I,MACNL,EAAOvP,KAAKgH,GAChBA,GAAS4I,KAAMA,EAAM7H,MAAOuU,IAIpC,IAAK,GAAI1c,GAAI,EAAGA,EAAIyQ,EAAMlR,OAAO,EAAGS,IAChC,GAAqB0D,SAAjB+M,EAAMzQ,EAAI,GAAd,CAGA6I,EAAOD,EAAMgS,EAAQ5a,IAGjBgQ,EADAnH,EAAKsS,QACEtS,EAAKsS,QAAQhT,EAAOwB,EAAcC,GAElCf,EAAKzB,MAEZyB,EAAKC,OAEDa,EADoB,gBAAbd,GAAKC,KACGD,EAAKC,KAELD,EAAKC,KAAKa,EAAcC,GAE3ChB,EAAQ/J,KAAKuK,OAAOO,GACff,IACD1J,OAAOE,SAAWA,QAAQC,OAASD,QAAQC,MAAMsK,EAAc,iBAC/DA,EAAe,QACff,EAAQ/J,KAAKuK,OAAOO,IAExBiR,EAAU/b,KAAK4b,cAAc9Q,GAC7B8S,EAAYlV,EACZwP,EAAKlY,KAAK2b,QAAQ7Q,GAClBoN,EAAG0F,UAAYlV,EAEnB,OAGJ,GAAIY,EACA,GAAmB,gBAAR6H,GACDnH,GAAQA,EAAKiL,SAAU,GAAU1M,EAAM4I,OAASA,GAG9C5I,EAAM4I,MACNL,EAAOvP,KAAKgH,GAChBA,GAAS4I,KAAMA,EAAM7H,MAAOA,IAJ5Bf,EAAMe,OAASA,MAMhB,IAAI6H,EAAM,CACT5I,EAAM4I,MACNL,EAAOvP,KAAKgH,GAChBA,GAAS4I,KAAM,KAAM7H,MAAO,GAC5B,KAAK,GAAInI,GAAI,EAAGA,EAAIgQ,EAAKzQ,OAAQS,IAC7B2P,EAAOvP,KAAK4P,EAAKhQ,IAI7B,GAAIyc,GAAahN,EAAKlQ,OAClB,KAIJ,IAFAkd,EAAYlV,EAERoI,EAAOpQ,OAAS+a,EAAiB,CACjC,KAAOmC,EAAYhN,EAAKlQ,QAChB6H,EAAM4I,MACNL,EAAOvP,KAAKgH,GAChBA,GACIe,MAAOsH,EAAK4C,UAAUoK,EAAWA,GAAa,KAC9CzM,KAAM,WAGdrG,GAAe,QACfC,IACA,QAWR,MAPIxC,GAAM4I,MACNL,EAAOvP,KAAKgH,GAEZwC,EAAMrK,OAAS,GACXqK,EAAM,KAAOD,GACbC,EAAMC,QAAQF,IAGlBgG,OAASA,EACT/G,MAAQgB,EAAMrK,OAASqK,EAAQD,MAIxC7J,KAAKya,EAAU3a,WAElBoB,EAAQuZ,UAAYA,IAGpB/b,OAAO,yBAA0B,UAAW,UAAW,SAAW,YAAa,iBAAkB,eAAgB,SAASN,EAAS8C,EAAS7C,GAmF5I,QAASwe,GAAaC,EAAOC,GACzBD,EAAMvQ,KAAOwQ,EAAOxQ,IACH,GAAbuQ,EAAMvQ,MACNuQ,EAAM3U,QAAU4U,EAAO5U,QAE/B,QAAS6U,GAAa5P,EAAO2P,GACzBF,EAAazP,EAAMhF,MAAO2U,GAC1BF,EAAazP,EAAM/C,IAAK0S,GAE5B,QAASE,GAAaH,EAAOC,GACR,GAAbD,EAAMvQ,MACNuQ,EAAM3U,QAAU4U,EAAO5U,QAC3B2U,EAAMvQ,KAAOwQ,EAAOxQ,IAExB,QAASwI,GAAa3H,EAAO2P,GACzBE,EAAa7P,EAAMhF,MAAO2U,GAC1BE,EAAa7P,EAAM/C,IAAK0S,GAhG5B,GACIG,IADQ9e,EAAQ,YAAY0R,MAChB1R,EAAQ,iBAAiB8e,WACrC9Q,EAAMhO,EAAQ,cACd+U,EAAOjS,EAAQiS,KAAO,SAAS/F,EAAO6F,GACtClU,KAAKoS,SAAW,KAChBpS,KAAKkU,YAAcA,EACnBlU,KAAKqO,MAAQA,EACbrO,KAAKqJ,MAAQgF,EAAMhF,MACnBrJ,KAAKsL,IAAM+C,EAAM/C,IAEjBtL,KAAK+U,QAAU1G,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,IAC5CxN,KAAK+V,SAAW/V,KAAK0R,UAGzBrE,GAAI+Q,SAAShK,EAAM+J,GAEnB,WAEIne,KAAKgB,SAAW,WACZ,MAAO,IAAMhB,KAAKkU,YAAc,KAAOlU,KAAKqO,MAAMrN,YAGtDhB,KAAK0a,YAAc,SAAStI,GACxBpS,KAAKoS,SAAWA,EAChBpS,KAAK+V,SAASzJ,QAAQ,SAASiG,GAC3BA,EAAKmI,YAAYtI,MAIzBpS,KAAKkX,MAAQ,WACT,GAAI7I,GAAQrO,KAAKqO,MAAM6I,QACnB3E,EAAO,GAAI6B,GAAK/F,EAAOrO,KAAKkU,YAKhC,OAJAlU,MAAK+V,SAASzJ,QAAQ,SAASwI,GAC3BvC,EAAKwD,SAASxU,KAAKuT,EAAQoC,WAE/B3E,EAAK8B,iBAAmBrU,KAAKqU,iBACtB9B,GAGXvS,KAAK4U,WAAa,SAASrC,GACvB,IAAIvS,KAAKqO,MAAMiM,QAAQ/H,GAAvB,CAGA,IAAKvS,KAAKqO,MAAMgQ,cAAc9L,GAC1B,KAAM,IAAIhP,OAAM,+CAAiDgP,EAAKlE,MAAQrO,KAAKqO,MACvF4P,GAAa1L,EAAMvS,KAAKqJ,MAGxB,KAAK,GADDmE,GAAM+E,EAAKlJ,MAAMmE,IAAKpE,EAASmJ,EAAKlJ,MAAMD,OACrCjI,EAAI,EAAG4R,GAAM,EAAI5R,EAAInB,KAAK+V,SAASrV,SACxCqS,EAAM/S,KAAK+V,SAAS5U,GAAGkN,MAAMiQ,QAAQ9Q,EAAKpE,GAC/B,GAAP2J,GAF4C5R,KAKpD,GAAIod,GAAave,KAAK+V,SAAS5U,EAE/B,IAAW,GAAP4R,EACA,MAAOwL,GAAW3J,WAAWrC,EAEjC,KAAK,GADD/E,GAAM+E,EAAKlE,MAAM/C,IAAIkC,IAAKpE,EAASmJ,EAAKlE,MAAM/C,IAAIlC,OAC7C0I,EAAI3Q,EAAG4R,GAAM,EAAIjB,EAAI9R,KAAK+V,SAASrV,SACxCqS,EAAM/S,KAAK+V,SAASjE,GAAGzD,MAAMiQ,QAAQ9Q,EAAKpE,GAC/B,GAAP2J,GAF4CjB,KAKrC9R,KAAK+V,SAASjE,EAE7B,IAAW,GAAPiB,EACA,KAAM,IAAIxP,OAAM,+CAAiDgP,EAAKlE,MAAQrO,KAAKqO,MAEnErO,MAAK+V,SAAS9J,OAAO9K,EAAG2Q,EAAI3Q,EAAGoR,EAGnD,OAFAA,GAAKmI,YAAY1a,KAAKoS,UAEfG,IAGXvS,KAAKgW,aAAe,SAAS3H,GACzB,MAAO2H,GAAa3H,EAAOrO,KAAKqJ,SAGrCpI,KAAKmT,EAAKrT,aAuBbpB,OAAO,iBAAkB,UAAW,UAAW,SAAW,gBAAiB,gCAAiC,qBAAsB,cAAe,eAAgB,qBAAsB,aAAc,SAASN,EAAS8C,EAAS7C,GAGhO,GAAIoc,GAAYrc,EAAQ,gBAAgBqc,UACpClS,EAAqBnK,EAAQ,0BAA0BmK,mBACvDhF,EAAYnF,EAAQ,eAAemF,UACnCga,EAAUnf,EAAQ,cAClBkK,EAAOlK,EAAQ,eACf0I,EAAgB1I,EAAQ,qBAAqB0I,cAC7CgJ,EAAQ1R,EAAQ,YAAY0R,MAE5B0N,EAAO,WACPze,KAAKqK,eAAiBb,EACtBxJ,KAAK0e,WAAa,GAAIla,KAG1B,WAEIxE,KAAK2e,QAAU,GAAIxG,QAAO,KACpBqG,EAAQ/Y,SAASC,EACjB8Y,EAAQ/Y,SAASQ,GAAKuY,EAAQ/Y,SAASS,GACvCsY,EAAQ/Y,SAASY,GACjBmY,EAAQ/Y,SAASqB,GAAK,SAAU,KAGtC9G,KAAK4e,WAAa,GAAIzG,QAAO,SACvBqG,EAAQ/Y,SAASC,EACjB8Y,EAAQ/Y,SAASQ,GAAKuY,EAAQ/Y,SAASS,GACvCsY,EAAQ/Y,SAASY,GACjBmY,EAAQ/Y,SAASqB,GAAK,eAAgB,KAG5C9G,KAAK6e,aAAe,WAKhB,MAJK7e,MAAK8e,aACN9e,KAAK+e,gBAAkB,GAAI/e,MAAKqK,eAChCrK,KAAK8e,WAAa,GAAIpD,GAAU1b,KAAK+e,gBAAgB5U,aAElDnK,KAAK8e,YAGhB9e,KAAKgf,iBAAmB,GACxBhf,KAAKif,aAAe,GAEpBjf,KAAKkf,mBAAqB,SAASnV,EAAO/B,EAASuI,EAAUiE,GA6FzD,QAAS2K,GAAKC,GACV,IAAK,GAAIje,GAAIoP,EAAUpP,GAAKqT,EAAQrT,IAChCie,EAAI1b,EAAIoL,QAAQ3N,GAAIA,GA9F5B,GAAIuC,GAAMsE,EAAQtE,IAEd2b,GAAmB,EACnBC,GAAe,EACfC,EAAYC,EAAAA,EACZC,EAAUzX,EAAQ0X,aAClBC,GAAkB,CAEtB,IAAK3f,KAAKgf,iBAkCH,CACH,GAAIvU,MAAMc,QAAQvL,KAAKgf,kBACnB,GAAIY,GAAc5f,KAAKgf,iBAAiBzS,IAAIhD,EAAKsW,cAAc7d,KAAK,KAChEgd,EAAmBhf,KAAKgf,iBAAiB,OAE7C,IAAIY,GAAcrW,EAAKsW,aAAa7f,KAAKgf,kBACrCA,EAAmBhf,KAAKgf,gBAEhCY,GAAc,GAAIzH,QAAO,aAAeyH,EAAc,OAEtDD,EAAkB3X,EAAQ8X,gBAE1B,IAAIC,GAAY,SAASnP,EAAMzP,GAC3B,GAAI4b,GAAInM,EAAKgB,MAAMgO,EACnB,IAAK7C,EAAL,CACA,GAAI1T,GAAQ0T,EAAE,GAAGrc,OAAQ4K,EAAMyR,EAAE,GAAGrc,MAC/Bsf,GAAkBpP,EAAMvH,EAAOiC,IAAyB,KAAjByR,EAAE,GAAGzR,EAAM,IACnDA,IACJ5H,EAAIuc,aAAa9e,EAAGkI,EAAOiC,KAE3B4U,EAAmBlB,EAAmB,IACtCmB,EAAU,SAASvP,EAAMzP,GACpBke,IAAoB,KAAKpH,KAAKrH,KAC3BoP,EAAkBpP,EAAM2O,EAAWA,GACnC7b,EAAI0c,cAAc5S,IAAKrM,EAAGiI,OAAQmW,GAAYW,GAE9Cxc,EAAI0c,cAAc5S,IAAKrM,EAAGiI,OAAQmW,GAAYP,KAGtDqB,EAAa,SAASzP,EAAMzP,GAC5B,MAAOye,GAAY3H,KAAKrH,IAGxBoP,EAAoB,SAASpP,EAAM0P,EAAQC,GAE3C,IADA,GAAIC,GAAS,EACNF,KAAmC,KAAvB1P,EAAK/O,OAAOye,IAC3BE,GACJ,IAAIA,EAASf,GAAW,EACpB,OAAO,CAEX,KADA,GAAIe,GAAS,EACkB,KAAxB5P,EAAK/O,OAAO0e,MACfC,GACJ,OAAIf,GAAU,EACHe,EAASf,GAAWA,EAAU,EAE9Be,EAASf,GAAW,OA/EX,CACxB,IAAKzf,KAAKif,aACN,OAAO,CACX,IAAID,GAAmBhf,KAAKif,aAAa5V,MACrCoX,EAAiBzgB,KAAKif,aAAa3T,IACnCsU,EAAc,GAAIzH,QAAO,aAAe5O,EAAKsW,aAAab,GAAoB,KAC9E0B,EAAY,GAAIvI,QAAO,MAAQ5O,EAAKsW,aAAaY,GAAkB,UAEnEN,EAAU,SAASvP,EAAMzP,GACrBkf,EAAWzP,EAAMzP,IAEhBke,IAAoB,KAAKpH,KAAKrH,KAC/BlN,EAAI0c,cAAc5S,IAAKrM,EAAGiI,OAAQwH,EAAKlQ,QAAS+f,GAChD/c,EAAI0c,cAAc5S,IAAKrM,EAAGiI,OAAQmW,GAAYP,KAIlDe,EAAY,SAASnP,EAAMzP,GAC3B,GAAI4b,IACAA,EAAInM,EAAKgB,MAAM8O,KACfhd,EAAIuc,aAAa9e,EAAGyP,EAAKlQ,OAASqc,EAAE,GAAGrc,OAAQkQ,EAAKlQ,SACpDqc,EAAInM,EAAKgB,MAAMgO,KACflc,EAAIuc,aAAa9e,EAAG4b,EAAE,GAAGrc,OAAQqc,EAAE,GAAGrc,SAG1C2f,EAAa,SAASzP,EAAMpD,GAC5B,GAAIoS,EAAY3H,KAAKrH,GACjB,OAAO,CAEX,KAAK,GADDE,GAAS9I,EAAQM,UAAUkF,GACtBrM,EAAI,EAAGA,EAAI2P,EAAOpQ,OAAQS,IAC/B,GAAuB,YAAnB2P,EAAO3P,GAAGgQ,KACV,OAAO,GA2DvB,GAAIwP,GAAiBnB,EAAAA,CACrBL,GAAK,SAASvO,EAAMzP,GAChB,GAAIyf,GAAShQ,EAAKiQ,OAAO,KACrBD,MAAW,GACPA,EAASrB,IACTA,EAAYqB,GACZtB,IAAiBe,EAAWzP,EAAMzP,KAClCme,GAAe,IACZqB,EAAiB/P,EAAKlQ,SAC7BigB,EAAiB/P,EAAKlQ,UAI1B6e,GAAaC,EAAAA,IACbD,EAAYoB,EACZtB,GAAmB,EACnBC,GAAe,GAGfK,GAAmBJ,EAAYE,GAAW,IAC1CF,EAAYjR,KAAKwS,MAAMvB,EAAYE,GAAWA,GAElDN,EAAKG,EAAeS,EAAYI,IAGpCngB,KAAK+gB,mBAAqB,SAAShX,EAAO/B,EAASqG,EAAOoJ,GACtD,GAAI0I,GAAUngB,KAAKif,YACnB,IAAKkB,EAAL,EAEKA,EAAQ9W,OAAS8W,EAAQ,KAC1BA,EAAUA,EAAQ,GAEtB,IAKI5P,GAAUyQ,EALVhJ,EAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,QACzDb,EAAQyP,EAASjP,kBAGjBkY,GADMjZ,EAAQsP,UACCtP,EAAQsP,UAAU4J,kBAGrC,IAAI3Y,GAAS,UAAU0P,KAAK1P,EAAM4I,MAAO,CAErC,IADA,GAAIgQ,GAAYC,EACT7Y,GAAS,UAAU0P,KAAK1P,EAAM4I,OAAO,CACxC,GAAIhQ,GAAIoH,EAAMe,MAAM5H,QAAQye,EAAQ9W,MACpC,IAAIlI,IAAK,EAAI,CACT,GAAIqM,GAAMwK,EAAShP,qBACfI,EAAS4O,EAAS/O,wBAA0B9H,CAChDggB,GAAa,GAAIpQ,GAAMvD,EAAKpE,EAAQoE,EAAKpE,EAAS+W,EAAQ9W,MAAM3I,OAChE,OAEJ6H,EAAQyP,EAASrP,eAKrB,IAFA,GAAIqP,GAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,QACzDb,EAAQyP,EAASjP,kBACdR,GAAS,UAAU0P,KAAK1P,EAAM4I,OAAO,CACxC,GAAIhQ,GAAIoH,EAAMe,MAAM5H,QAAQye,EAAQ7U,IACpC,IAAInK,IAAK,EAAI,CACT,GAAIqM,GAAMwK,EAAShP,qBACfI,EAAS4O,EAAS/O,wBAA0B9H,CAChDigB,GAAW,GAAIrQ,GAAMvD,EAAKpE,EAAQoE,EAAKpE,EAAS+W,EAAQ7U,IAAI5K,OAC5D,OAEJ6H,EAAQyP,EAASpP,cAEjBwY,GACApZ,EAAQ/C,OAAOmc,GACfD,IACAnZ,EAAQ/C,OAAOkc,GACf5Q,EAAW4Q,EAAW9X,MAAMmE,IAC5BwT,GAAWb,EAAQ9W,MAAM3I,YAG7BsgB,GAAUb,EAAQ9W,MAAM3I,OACxB6P,EAAWlC,EAAMhF,MAAMmE,IACvBxF,EAAQqZ,OAAOhT,EAAM/C,IAAK6U,EAAQ7U,KAClCtD,EAAQqZ,OAAOhT,EAAMhF,MAAO8W,EAAQ9W,MAEpC4X,GAAa5X,MAAMmE,KAAO+C,IAC1B0Q,EAAa5X,MAAMD,QAAU4X,GAC7BC,EAAa3V,IAAIkC,KAAO+C,IACxB0Q,EAAa3V,IAAIlC,QAAU4X,GAC/BhZ,EAAQsP,UAAUgK,kBAAkBL,KAGxCjhB,KAAKuhB,kBAAoB,SAASxX,EAAO6G,EAAM4Q,GAC3C,MAAOxhB,MAAKyhB,WAAW7Q,IAG3B5Q,KAAK0hB,aAAe,SAAS3X,EAAO6G,EAAM+Q,GACtC,OAAO,GAGX3hB,KAAK4hB,YAAc,SAAS7X,EAAOrG,EAAK8J,KAGxCxN,KAAKyhB,WAAa,SAAS7Q,GACvB,MAAOA,GAAKgB,MAAM,QAAQ,IAG9B5R,KAAK6hB,aAAe,SAAS7Z,GACzB,MAAO,OAGXhI,KAAK8hB,oBAAsB,SAAU/F,GACjC/b,KAAK2K,WACL3K,KAAK+hB,SACL,KAAK,GAAI5gB,KAAK4a,GACNA,EAAQ5a,KACRnB,KAAK2K,QAAQpJ,KAAKJ,GAClBnB,KAAK+hB,OAAO5gB,GAAK,GAAI4a,GAAQ5a,GAOrC,KAAK,GAHD6gB,IAAe,qBAAsB,qBAAsB,oBAC3D,eAAgB,cAAe,kBAAmB,kBAE7C7gB,EAAI,EAAGA,EAAI6gB,EAAYthB,OAAQS,KACnC,SAAS8gB,GACR,GAAIC,GAAeF,EAAY7gB,GAC3BghB,EAAiBF,EAAMC,EAC3BD,GAAMD,EAAY7gB,IAAM,WACpB,MAAOnB,MAAKoiB,WAAWF,EAAc5hB,UAAW6hB,KAEnDniB,OAIXA,KAAKoiB,WAAa,SAASC,EAAQxW,EAAMsW,GACrC,GAAIpY,GAAQ8B,EAAK,EACG,iBAAT9B,KACPA,EAAQA,EAAM,GAClB,KAAK,GAAI5I,GAAI,EAAGA,EAAInB,KAAK2K,QAAQjK,OAAQS,IACrC,GAAKnB,KAAK+hB,OAAO/hB,KAAK2K,QAAQxJ,IAA9B,CAEA,GAAIS,GAAQmI,EAAMnI,MAAM5B,KAAK2K,QAAQxJ,GACrC,KAAKS,EAAM,IAAMA,EAAM,GAAI,CACvBiK,EAAK,GAAKjK,EAAM,EAChB,IAAI0C,GAAOtE,KAAK+hB,OAAO/hB,KAAK2K,QAAQxJ,GACpC,OAAOmD,GAAK+d,GAAQjiB,MAAMkE,EAAMuH,IAGxC,GAAIxG,GAAM8c,EAAe/hB,MAAMJ,KAAM6L,EACrC,OAAOsW,GAAiB9c,EAAMR,QAGlC7E,KAAKsiB,gBAAkB,SAASvY,EAAOnF,EAAQnB,EAAQuE,EAASua,GAC5D,GAAIviB,KAAK0e,WAAY,CACjB,GAAI3Z,GAAa/E,KAAK0e,WAAWtZ,eACjC,KAAK,GAAIJ,KAAOD,GACZ,GAAIA,EAAWC,GAAKJ,GAAS,CACzB,GAAIS,GAAMN,EAAWC,GAAKJ,GAAQxE,MAAMJ,KAAMM,UAC9C,IAAI+E,EACA,MAAOA,MAO3BrF,KAAKmN,YAAc,SAAS3C,GACxB,IAAKxK,KAAKwiB,mBAAoB,CAC1B,GAAI3Y,GAAQ7J,KAAK8e,WAAWjV,MACxB2Y,IACJ,KAAK,GAAIxY,KAAQH,GAEb,IAAK,GADD4Y,GAAU5Y,EAAMG,GACXyB,EAAI,EAAGrK,EAAIqhB,EAAQ/hB,OAAQ+K,EAAIrK,EAAGqK,IACvC,GAAgC,gBAArBgX,GAAQhX,GAAGlD,MACd,0BAA0B0P,KAAKwK,EAAQhX,GAAGlD,QAC1Cia,EAAmBjhB,KAAKkhB,EAAQhX,GAAG/B,WAEtC,IAAgC,gBAArB+Y,GAAQhX,GAAGlD,MACvB,IAAK,GAAIsE,GAAI,EAAG6V,EAAUD,EAAQhX,GAAGlD,MAAM7H,OAAQmM,EAAI6V,EAAS7V,IAC5D,GAAI,0BAA0BoL,KAAKwK,EAAQhX,GAAGlD,MAAMsE,IAAK,CACrD,GAAI7C,GAAOyY,EAAQhX,GAAG/B,MAAMkI,MAAM,YAAY/E,EAC9C2V,GAAmBjhB,KAAKyI,EAAK0T,OAAO,EAAG1T,EAAKtJ,OAAS,IAMzEV,KAAKwiB,mBAAqBA,EAE9B,MAAKhY,GAEEgY,EAAmB1W,OAAO9L,KAAKkN,kBAD3BlN,KAAKkN,cAIpBlN,KAAK2iB,mBAAqB,WAGtB,MAFK3iB,MAAK+e,iBACN/e,KAAK6e,eACF7e,KAAKkN,aAAelN,KAAK+e,gBAAgB7R,kBAGpDlN,KAAK4iB,eAAiB,SAAS7Y,EAAO/B,EAASyG,EAAK3E,GAChD,GAAI4C,GAAW1M,KAAKkN,cAAgBlN,KAAK2iB,oBACzC,OAAOjW,GAASH,IAAI,SAASsW,GACzB,OACIle,KAAMke,EACNvZ,MAAOuZ,EACPC,MAAO,EACPC,KAAM,cAKlB/iB,KAAKgjB,IAAM,kBACZ/hB,KAAKwd,EAAK1d,WAEboB,EAAQsc,KAAOA,IAGf9e,OAAO,kBAAmB,UAAW,UAAW,SAAW,aAAc,SAASN,EAAS8C,EAAS7C,GAEpG,GAAIyR,GAAQ1R,EAAQ,WAAW0R,MAC3BkS,EAAgBlS,EAAMkS,cAEtB9E,EAAY,WACZne,KAAK0R,YAGT,WACI1R,KAAKijB,cAAgBA,EAErBjjB,KAAKkjB,WAAa,SAASzU,EAAK0U,EAAcC,GAG1C,IAAK,GAFDrW,GAAO/M,KAAK0R,OAEPvQ,EAAIiiB,GAAc,EAAGjiB,EAAI4L,EAAKrM,OAAQS,IAAK,CAChD,GAAIkN,GAAQtB,EAAK5L,GACbkiB,EAASJ,EAAcxU,EAAKJ,EAAM/C,IACtC,MAAI+X,EAAS,GAAb,CAEA,GAAIC,GAAWL,EAAcxU,EAAKJ,EAAMhF,MACxC,OAAe,KAAXga,EACOF,GAA6B,IAAbG,GAAkBniB,EAAE,EAAIA,EAC/CmiB,EAAW,GAAmB,IAAbA,IAAmBH,EAC7BhiB,GAEHA,EAAE,GAEd,OAAQA,EAAI,GAGhBnB,KAAK0E,IAAM,SAAS2J,GAChB,GAAI8U,IAAgB9U,EAAMmJ,UACtB4L,EAAapjB,KAAKkjB,WAAW7U,EAAMhF,MAAO8Z,EAC1CC,GAAa,IACbA,GAAcA,EAAa,EAE/B,IAAIG,GAAWvjB,KAAKkjB,WAAW7U,EAAM/C,IAAK6X,EAAcC,EAMxD,OAJIG,GAAW,EACXA,GAAYA,EAAW,EAEvBA,IACGvjB,KAAK0R,OAAOzF,OAAOmX,EAAYG,EAAWH,EAAY/U,IAGjErO,KAAKwjB,QAAU,SAASzW,GAEpB,IAAK,GADD0W,MACKtiB,EAAI4L,EAAKrM,OAAQS,KACtBsiB,EAAQliB,KAAKN,KAAKwiB,EAASzjB,KAAK0E,IAAIqI,EAAK5L,IAE7C,OAAOsiB,IAGXzjB,KAAK0jB,eAAiB,SAASjV,GAC3B,GAAItN,GAAInB,KAAKkjB,WAAWzU,EAExB,IAAItN,GAAK,EACL,MAAOnB,MAAK0R,OAAOzF,OAAO9K,EAAG,IAErCnB,KAAKiV,MAAQ,WACT,GAAIwO,MACA1W,EAAO/M,KAAK0R,MAEhB3E,GAAOA,EAAKgH,KAAK,SAASlH,EAAGmH,GACzB,MAAOiP,GAAcpW,EAAExD,MAAO2K,EAAE3K,QAIpC,KAAK,GADegF,GAAhBpE,EAAO8C,EAAK,GACP5L,EAAI,EAAGA,EAAI4L,EAAKrM,OAAQS,IAAK,CAClCkN,EAAQpE,EACRA,EAAO8C,EAAK5L,EACZ,IAAI4R,GAAMkQ,EAAc5U,EAAM/C,IAAKrB,EAAKZ,MACpC0J,GAAM,IAGC,GAAPA,GAAa1E,EAAMmJ,WAAcvN,EAAKuN,aAGtCyL,EAAc5U,EAAM/C,IAAKrB,EAAKqB,KAAO,IACrC+C,EAAM/C,IAAIkC,IAAMvD,EAAKqB,IAAIkC,IACzBa,EAAM/C,IAAIlC,OAASa,EAAKqB,IAAIlC,QAGhC2D,EAAKd,OAAO9K,EAAG,GACfsiB,EAAQliB,KAAK0I,GACbA,EAAOoE,EACPlN,KAKJ,MAFAnB,MAAK0R,OAAS3E,EAEP0W,GAGXzjB,KAAKwS,SAAW,SAAShF,EAAKpE,GAC1B,MAAOpJ,MAAKkjB,YAAY1V,IAAKA,EAAKpE,OAAQA,KAAY,GAG1DpJ,KAAK2jB,cAAgB,SAASlV,GAC1B,MAAOzO,MAAKkjB,WAAWzU,IAAQ,GAGnCzO,KAAK4jB,aAAe,SAASnV,GACzB,GAAItN,GAAInB,KAAKkjB,WAAWzU,EACxB,IAAItN,GAAK,EACL,MAAOnB,MAAK0R,OAAOvQ,IAI3BnB,KAAK6jB,SAAW,SAAStT,EAAUiE,GAC/B,GAAIzH,GAAO/M,KAAK0R,MAChB,IAAI3E,EAAK,GAAG1D,MAAMmE,IAAMgH,GAAUzH,EAAKA,EAAKrM,OAAS,GAAG2I,MAAMmE,IAAM+C,EAChE,QAEJ,IAAI6S,GAAapjB,KAAKkjB,YAAY1V,IAAK+C,EAAUnH,OAAQ,GACrDga,GAAa,IACbA,GAAcA,EAAa,EAC/B,IAAIG,GAAWvjB,KAAKkjB,YAAY1V,IAAKgH,EAAQpL,OAAQ,GAAIga,EACrDG,GAAW,IACXA,GAAYA,EAAW,EAG3B,KAAK,GADDO,MACK3iB,EAAIiiB,EAAYjiB,EAAIoiB,EAAUpiB,IACnC2iB,EAAQviB,KAAKwL,EAAK5L,GAEtB,OAAO2iB,IAGX9jB,KAAK+jB,UAAY,WACb,MAAO/jB,MAAK0R,OAAOzF,OAAO,EAAGjM,KAAK0R,OAAOhR;EAG7CV,KAAK2N,OAAS,SAAS3F,GACfhI,KAAKgI,SACLhI,KAAK4O,SAET5O,KAAKgI,QAAUA,EACfhI,KAAK0N,SAAW1N,KAAKyN,UAAUxJ,KAAKjE,MAEpCA,KAAKgI,QAAQ7D,GAAG,SAAUnE,KAAK0N,WAGnC1N,KAAK4O,OAAS,WACL5O,KAAKgI,UAEVhI,KAAKgI,QAAQ5D,eAAe,SAAUpE,KAAK0N,UAC3C1N,KAAKgI,QAAU,OAGnBhI,KAAKyN,UAAY,SAASS,GACtB,GAAI8V,GAAc9V,EAAEE,KAAKC,KACzB,IAAwB,KAApBH,EAAEE,KAAKxJ,OAAO,GACd,GAAIyE,GAAQ2a,EAAY3a,MACpBiC,EAAM0Y,EAAY1Y,QAEtB,IAAIA,GAAM0Y,EAAY3a,MAClBA,EAAQ2a,EAAY1Y,GAS5B,KAAK,GAPDiF,GAAWlH,EAAMmE,IACjBgH,EAASlJ,EAAIkC,IACbyW,EAAUzP,EAASjE,EAEnByQ,GAAW3X,EAAMD,OAASkC,EAAIlC,OAC9BsI,EAAS1R,KAAK0R,OAETvQ,EAAI,EAAG+iB,EAAIxS,EAAOhR,OAAQS,EAAI+iB,EAAG/iB,IAAK,CAC3C,GAAIsK,GAAIiG,EAAOvQ,EACf,MAAIsK,EAAEH,IAAIkC,IAAM+C,GAAhB,CAEA,GAAI9E,EAAEpC,MAAMmE,IAAM+C,EACd,KASJ,IAPI9E,EAAEpC,MAAMmE,KAAO+C,GAAY9E,EAAEpC,MAAMD,QAAUC,EAAMD,SAC/CqC,EAAEpC,MAAMD,QAAUC,EAAMD,QAAUpJ,KAAKiO,eAEvCxC,EAAEpC,MAAMD,QAAU4X,EAClBvV,EAAEpC,MAAMmE,KAAOyW,IAGnBxY,EAAEH,IAAIkC,KAAO+C,GAAY9E,EAAEH,IAAIlC,QAAUC,EAAMD,OAAQ,CACvD,GAAIqC,EAAEH,IAAIlC,QAAUC,EAAMD,QAAUpJ,KAAKiO,aACrC,QAEAxC,GAAEH,IAAIlC,QAAUC,EAAMD,QAAU4X,EAAU,GAAK7f,EAAI+iB,EAAI,GACnDzY,EAAEH,IAAIlC,OAASqC,EAAEpC,MAAMD,QAAUqC,EAAEH,IAAIlC,QAAUsI,EAAOvQ,EAAE,GAAGkI,MAAMD,SACnEqC,EAAEH,IAAIlC,QAAU4X,GAExBvV,EAAEH,IAAIlC,QAAU4X,EAChBvV,EAAEH,IAAIkC,KAAOyW,IAIrB,GAAe,GAAXA,GAAgB9iB,EAAI+iB,EACpB,KAAO/iB,EAAI+iB,EAAG/iB,IAAK,CACf,GAAIsK,GAAIiG,EAAOvQ,EACfsK,GAAEpC,MAAMmE,KAAOyW,EACfxY,EAAEH,IAAIkC,KAAOyW,MAK1BhjB,KAAKkd,EAAUpd,WAElBoB,EAAQgc,UAAYA,IAGpBxe,OAAO,aAAc,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAElF,GAAI2jB,GAAgB,SAASkB,EAAIC,GAC7B,MAAOD,GAAG3W,IAAM4W,EAAG5W,KAAO2W,EAAG/a,OAASgb,EAAGhb,QAEzC2H,EAAQ,SAASR,EAAUgE,EAAaC,EAAQC,GAChDzU,KAAKqJ,OACDmE,IAAK+C,EACLnH,OAAQmL,GAGZvU,KAAKsL,KACDkC,IAAKgH,EACLpL,OAAQqL,KAIhB,WACIzU,KAAKsa,QAAU,SAASjM,GACpB,MAAOrO,MAAKqJ,MAAMmE,MAAQa,EAAMhF,MAAMmE,KAClCxN,KAAKsL,IAAIkC,MAAQa,EAAM/C,IAAIkC,KAC3BxN,KAAKqJ,MAAMD,SAAWiF,EAAMhF,MAAMD,QAClCpJ,KAAKsL,IAAIlC,SAAWiF,EAAM/C,IAAIlC,QAEtCpJ,KAAKgB,SAAW,WACZ,MAAQ,WAAahB,KAAKqJ,MAAMmE,IAAM,IAAMxN,KAAKqJ,MAAMD,OACnD,SAAWpJ,KAAKsL,IAAIkC,IAAM,IAAMxN,KAAKsL,IAAIlC,OAAS,KAG1DpJ,KAAKwS,SAAW,SAAShF,EAAKpE,GAC1B,MAAoC,IAA7BpJ,KAAKse,QAAQ9Q,EAAKpE,IAE7BpJ,KAAKgT,aAAe,SAAS3E,GACzB,GAAI0E,GACAzH,EAAM+C,EAAM/C,IACZjC,EAAQgF,EAAMhF,KAGlB,OADA0J,GAAM/S,KAAKse,QAAQhT,EAAIkC,IAAKlC,EAAIlC,QACrB,GAAP2J,GACAA,EAAM/S,KAAKse,QAAQjV,EAAMmE,IAAKnE,EAAMD,QACzB,GAAP2J,EACO,EACO,GAAPA,EACA,EAEA,GAEJA,IAAO,GACP,GAEPA,EAAM/S,KAAKse,QAAQjV,EAAMmE,IAAKnE,EAAMD,QAChC2J,IAAO,GACA,EACO,GAAPA,EACA,GAEA,IAInB/S,KAAK2X,aAAe,SAAS0M,GACzB,MAAOrkB,MAAKse,QAAQ+F,EAAE7W,IAAK6W,EAAEjb,SAEjCpJ,KAAKqe,cAAgB,SAAShQ,GAC1B,MAAyC,IAAlCrO,KAAK2X,aAAatJ,EAAMhF,QAA+C,GAAhCrJ,KAAK2X,aAAatJ,EAAM/C,MAE1EtL,KAAKskB,WAAa,SAASjW,GACvB,GAAI0E,GAAM/S,KAAKgT,aAAa3E,EAC5B,OAAQ0E,KAAO,GAAa,GAAPA,GAAmB,GAAPA,GAErC/S,KAAKyS,MAAQ,SAASjF,EAAKpE,GACvB,MAAOpJ,MAAKsL,IAAIkC,KAAOA,GAAOxN,KAAKsL,IAAIlC,QAAUA,GAErDpJ,KAAK0S,QAAU,SAASlF,EAAKpE,GACzB,MAAOpJ,MAAKqJ,MAAMmE,KAAOA,GAAOxN,KAAKqJ,MAAMD,QAAUA,GAEzDpJ,KAAKukB,SAAW,SAAS/W,EAAKpE,GACR,gBAAPoE,IACPxN,KAAKqJ,MAAMD,OAASoE,EAAIpE,OACxBpJ,KAAKqJ,MAAMmE,IAAMA,EAAIA,MAErBxN,KAAKqJ,MAAMmE,IAAMA,EACjBxN,KAAKqJ,MAAMD,OAASA,IAG5BpJ,KAAKwkB,OAAS,SAAShX,EAAKpE,GACN,gBAAPoE,IACPxN,KAAKsL,IAAIlC,OAASoE,EAAIpE,OACtBpJ,KAAKsL,IAAIkC,IAAMA,EAAIA,MAEnBxN,KAAKsL,IAAIkC,IAAMA,EACfxN,KAAKsL,IAAIlC,OAASA,IAG1BpJ,KAAKykB,OAAS,SAASjX,EAAKpE,GACxB,MAAiC,IAA7BpJ,KAAKse,QAAQ9Q,EAAKpE,MACdpJ,KAAKyS,MAAMjF,EAAKpE,KAAWpJ,KAAK0S,QAAQlF,EAAKpE,KAQzDpJ,KAAK0kB,YAAc,SAASlX,EAAKpE,GAC7B,MAAiC,IAA7BpJ,KAAKse,QAAQ9Q,EAAKpE,KACdpJ,KAAKyS,MAAMjF,EAAKpE,IAQ5BpJ,KAAK2kB,UAAY,SAASnX,EAAKpE,GAC3B,MAAiC,IAA7BpJ,KAAKse,QAAQ9Q,EAAKpE,KACdpJ,KAAK0S,QAAQlF,EAAKpE,IAQ9BpJ,KAAKse,QAAU,SAAS9Q,EAAKpE,GACzB,MAAKpJ,MAAK6X,eACFrK,IAAQxN,KAAKqJ,MAAMmE,IAKvBA,EAAMxN,KAAKqJ,MAAMmE,KACV,EAEPA,EAAMxN,KAAKsL,IAAIkC,IACR,EAEPxN,KAAKqJ,MAAMmE,MAAQA,EACZpE,GAAUpJ,KAAKqJ,MAAMD,OAAS,GAAI,EAEzCpJ,KAAKsL,IAAIkC,MAAQA,EACVpE,GAAUpJ,KAAKsL,IAAIlC,OAAS,EAAI,EAEpC,EAhBQA,EAASpJ,KAAKqJ,MAAMD,QAAS,EAAMA,EAASpJ,KAAKsL,IAAIlC,OAAS,EAAI,GAkBrFpJ,KAAK4a,aAAe,SAASpN,EAAKpE,GAC9B,MAAIpJ,MAAKqJ,MAAMmE,KAAOA,GAAOxN,KAAKqJ,MAAMD,QAAUA,GACvC,EAEApJ,KAAKse,QAAQ9Q,EAAKpE,IAGjCpJ,KAAKuT,WAAa,SAAS/F,EAAKpE,GAC5B,MAAIpJ,MAAKsL,IAAIkC,KAAOA,GAAOxN,KAAKsL,IAAIlC,QAAUA,EACnC,EAEApJ,KAAKse,QAAQ9Q,EAAKpE,IAGjCpJ,KAAK4kB,cAAgB,SAASpX,EAAKpE,GAC/B,MAAIpJ,MAAKsL,IAAIkC,KAAOA,GAAOxN,KAAKsL,IAAIlC,QAAUA,EACnC,EACApJ,KAAKqJ,MAAMmE,KAAOA,GAAOxN,KAAKqJ,MAAMD,QAAUA,GAC9C,EAEApJ,KAAKse,QAAQ9Q,EAAKpE,IAGjCpJ,KAAK6jB,SAAW,SAAS1T,EAAUC,GAC/B,GAAIpQ,KAAKsL,IAAIkC,IAAM4C,EACf,GAAI9E,IAAOkC,IAAK4C,EAAU,EAAGhH,OAAQ,OACpC,IAAIpJ,KAAKsL,IAAIkC,IAAM2C,EACpB,GAAI7E,IAAOkC,IAAK2C,EAAU/G,OAAQ,EAEtC,IAAIpJ,KAAKqJ,MAAMmE,IAAM4C,EACjB,GAAI/G,IAASmE,IAAK4C,EAAU,EAAGhH,OAAQ,OACtC,IAAIpJ,KAAKqJ,MAAMmE,IAAM2C,EACtB,GAAI9G,IAASmE,IAAK2C,EAAU/G,OAAQ,EAExC,OAAO2H,GAAMuF,WAAWjN,GAASrJ,KAAKqJ,MAAOiC,GAAOtL,KAAKsL,MAE7DtL,KAAK6kB,OAAS,SAASrX,EAAKpE,GACxB,GAAI2J,GAAM/S,KAAKse,QAAQ9Q,EAAKpE,EAE5B,IAAW,GAAP2J,EACA,MAAO/S,KACN,IAAI+S,IAAO,EACZ,GAAI1J,IAASmE,IAAKA,EAAKpE,OAAQA,OAE/B,IAAIkC,IAAOkC,IAAKA,EAAKpE,OAAQA,EAEjC,OAAO2H,GAAMuF,WAAWjN,GAASrJ,KAAKqJ,MAAOiC,GAAOtL,KAAKsL,MAG7DtL,KAAKwX,QAAU,WACX,MAAQxX,MAAKqJ,MAAMmE,MAAQxN,KAAKsL,IAAIkC,KAAOxN,KAAKqJ,MAAMD,SAAWpJ,KAAKsL,IAAIlC,QAE9EpJ,KAAK6X,YAAc,WACf,MAAQ7X,MAAKqJ,MAAMmE,MAAQxN,KAAKsL,IAAIkC,KAExCxN,KAAKkX,MAAQ,WACT,MAAOnG,GAAMuF,WAAWtW,KAAKqJ,MAAOrJ,KAAKsL,MAE7CtL,KAAK8kB,aAAe,WAChB,MAAuB,IAAnB9kB,KAAKsL,IAAIlC,OACF,GAAI2H,GAAM/Q,KAAKqJ,MAAMmE,IAAK,EAAGc,KAAKC,IAAIvO,KAAKqJ,MAAMmE,IAAKxN,KAAKsL,IAAIkC,IAAI,GAAI,GAEvE,GAAIuD,GAAM/Q,KAAKqJ,MAAMmE,IAAK,EAAGxN,KAAKsL,IAAIkC,IAAK,IAE1DxN,KAAKgS,cAAgB,SAAShK,GAC1B,GAAI+c,GAAiB/c,EAAQgd,yBAAyBhlB,KAAKqJ,OACvD4b,EAAejd,EAAQgd,yBAAyBhlB,KAAKsL,IAEzD,OAAO,IAAIyF,GACPgU,EAAevX,IAAKuX,EAAe3b,OACnC6b,EAAazX,IAAKyX,EAAa7b,SAGvCpJ,KAAKklB,OAAS,SAAS1X,EAAKpE,GACxBpJ,KAAKqJ,MAAMmE,KAAOA,EAClBxN,KAAKqJ,MAAMD,QAAUA,EACrBpJ,KAAKsL,IAAIkC,KAAOA,EAChBxN,KAAKsL,IAAIlC,QAAUA,KAGxBnI,KAAK8P,EAAMhQ,WACdgQ,EAAMuF,WAAa,SAASjN,EAAOiC,GAC/B,MAAO,IAAIyF,GAAM1H,EAAMmE,IAAKnE,EAAMD,OAAQkC,EAAIkC,IAAKlC,EAAIlC,SAE3D2H,EAAMkS,cAAgBA,EAEtBlS,EAAMkS,cAAgB,SAASkB,EAAIC,GAC/B,MAAOD,GAAG3W,IAAM4W,EAAG5W,KAAO2W,EAAG/a,OAASgb,EAAGhb,QAI7CjH,EAAQ4O,MAAQA,IAGhBpR,OAAO,kCAAmC,UAAW,UAAW,SAAW,qBAAsB,aAAc,SAASN,EAAS8C,EAAS7C,GAO1I,QAAS6lB,KAELnlB,KAAK0X,oBAAsB,SAAS0N,EAAUC,GAC1C,GAAuB,GAAnBD,EAAShc,OAAa,MAAO,KAEjC,IAAIkc,GAAmBD,GAAOrlB,KAAK8O,QAAQsW,EAAS5X,KAAK3L,OAAOujB,EAAShc,OAAO,EAChF,IAAwB,IAApBkc,EAAwB,MAAO,KAEnC,IAAI1T,GAAQ0T,EAAiB1T,MAAM,wBACnC,OAAKA,GAGDA,EAAM,GACC5R,KAAKulB,oBAAoB3T,EAAM,GAAIwT,GAEnCplB,KAAKwlB,oBAAoB5T,EAAM,GAAIwT,GALnC,MAQfplB,KAAKylB,gBAAkB,SAAShX,GAC5B,GACmBJ,GADfuC,EAAO5Q,KAAK8O,QAAQL,EAAIjB,KACxB8S,GAAS,EAET+E,EAAMzU,EAAK/O,OAAO4M,EAAIrF,OAAO,GAC7BwI,EAAQyT,GAAOA,EAAIzT,MAAM,wBAO7B,IANKA,IACDyT,EAAMzU,EAAK/O,OAAO4M,EAAIrF,QACtBqF,GAAOjB,IAAKiB,EAAIjB,IAAKpE,OAAQqF,EAAIrF,OAAS,GAC1CwI,EAAQyT,GAAOA,EAAIzT,MAAM,yBACzB0O,GAAS,IAER1O,EACD,MAAO,KAEX,IAAIA,EAAM,GAAI,CACV,GAAIyF,GAAarX,KAAKulB,oBAAoB3T,EAAM,GAAInD,EACpD,KAAK4I,EACD,MAAO,KACXhJ,GAAQ0C,EAAMuF,WAAW7H,EAAK4I,GACzBiJ,IACDjS,EAAM/C,IAAIlC,SACViF,EAAMhF,MAAMD,UAEhBiF,EAAMoJ,OAASpJ,EAAM/C,QAClB,CACH,GAAI+L,GAAarX,KAAKwlB,oBAAoB5T,EAAM,GAAInD,EACpD,KAAK4I,EACD,MAAO,KACXhJ,GAAQ0C,EAAMuF,WAAWe,EAAY5I,GAChC6R,IACDjS,EAAMhF,MAAMD,SACZiF,EAAM/C,IAAIlC,UAEdiF,EAAMoJ,OAASpJ,EAAMhF,MAGzB,MAAOgF,IAGXrO,KAAK0lB,WACDC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KAGThmB,KAAKwlB,oBAAsB,SAASS,EAASb,EAAUc,GACnD,GAAIC,GAAcnmB,KAAK0lB,UAAUO,GAC7B7N,EAAQ,EAERJ,EAAW,GAAIjQ,GAAc/H,KAAMolB,EAAS5X,IAAK4X,EAAShc,QAC1Db,EAAQyP,EAASjP,iBAGrB,IAFKR,IACDA,EAAQyP,EAASpP,eAChBL,EAAL,CAGM2d,IACFA,EAAS,GAAI/N,QACT,QACA5P,EAAM4I,KAAKjP,QAAQ,IAAK,OAAOA,QAAQ,SAAU,UAC/C,MAMV,KAHA,GAAIkkB,GAAahB,EAAShc,OAAS4O,EAAS/O,wBAA0B,EAClEK,EAAQf,EAAMe,QAEL,CAET,KAAO8c,GAAc,GAAG,CACpB,GAAIf,GAAM/b,EAAMzH,OAAOukB,EACvB,IAAIf,GAAOc,GAEP,GADA/N,GAAS,EACI,GAATA,EACA,OAAQ5K,IAAKwK,EAAShP,qBAClBI,OAAQgd,EAAapO,EAAS/O,6BAGjCoc,IAAOY,IACZ7N,GAAS,EAEbgO,IAAc,EAElB,EACI7d,GAAQyP,EAASrP,qBACZJ,IAAU2d,EAAOjO,KAAK1P,EAAM4I,MAErC,IAAa,MAAT5I,EACA,KAEJe,GAAQf,EAAMe,MACd8c,EAAa9c,EAAM5I,OAAS,EAGhC,MAAO,QAGXV,KAAKulB,oBAAsB,SAASU,EAASb,EAAUc,GACnD,GAAIG,GAAiBrmB,KAAK0lB,UAAUO,GAChC7N,EAAQ,EAERJ,EAAW,GAAIjQ,GAAc/H,KAAMolB,EAAS5X,IAAK4X,EAAShc,QAC1Db,EAAQyP,EAASjP,iBAGrB,IAFKR,IACDA,EAAQyP,EAASpP,eAChBL,EAAL,CAGK2d,IACDA,EAAS,GAAI/N,QACT,QACA5P,EAAM4I,KAAKjP,QAAQ,IAAK,OAAOA,QAAQ,SAAU,UAC/C,MAKV,KAFA,GAAIkkB,GAAahB,EAAShc,OAAS4O,EAAS/O,0BAE/B,CAIT,IAFA,GAAIK,GAAQf,EAAMe,MACdgd,EAAchd,EAAM5I,OACjB0lB,EAAaE,GAAa,CAC7B,GAAIjB,GAAM/b,EAAMzH,OAAOukB,EACvB,IAAIf,GAAOgB,GAEP,GADAjO,GAAS,EACI,GAATA,EACA,OAAQ5K,IAAKwK,EAAShP,qBAClBI,OAAQgd,EAAapO,EAAS/O,6BAGjCoc,IAAOY,IACZ7N,GAAS,EAEbgO,IAAc,EAElB,EACI7d,GAAQyP,EAASpP,oBACZL,IAAU2d,EAAOjO,KAAK1P,EAAM4I,MAErC,IAAa,MAAT5I,EACA,KAEJ6d,GAAa,EAGjB,MAAO,QA1Kf,GAAIre,GAAgB1I,EAAQ,qBAAqB0I,cAC7CgJ,EAAQ1R,EAAQ,YAAY0R,KA4KhC5O,GAAQgjB,aAAeA,IAIvBxlB,OAAO,iBAAkB,UAAW,UAAW,SAAW,cAAe,eAAgB,wBAAyB,aAAc,SAASN,EAAS8C,EAAS7C,GAG3J,GAAI+N,GAAMhO,EAAQ,aACdkK,EAAOlK,EAAQ,cACfiO,EAAejO,EAAQ,uBAAuBiO,aAC9CyD,EAAQ1R,EAAQ,WAAW0R,MAC3BwV,EAAY,SAASve,GACrBhI,KAAKgI,QAAUA,EACfhI,KAAK0D,IAAMsE,EAAQgG,cAEnBhO,KAAKwmB,iBACLxmB,KAAKymB,KAAOzmB,KAAK0mB,cAAgB1mB,KAAK0D,IAAIijB,aAAa,EAAG,GAC1D3mB,KAAKge,OAAShe,KAAK4mB,gBAAkB5mB,KAAK0D,IAAIijB,aAAa,EAAG,EAE9D,IAAItX,GAAOrP,IACXA,MAAKymB,KAAKtiB,GAAG,SAAU,SAAS+J,GAC5BmB,EAAKkG,MAAM,gBACNlG,EAAKwX,UACNxX,EAAKkG,MAAM,mBACVlG,EAAKyX,4BAA8B5Y,EAAEQ,IAAItF,QAAU8E,EAAE5E,MAAMF,SAC5DiG,EAAK0X,eAAiB,QAG9B/mB,KAAK4mB,gBAAgBziB,GAAG,SAAU,WACzBkL,EAAKwX,UACNxX,EAAKkG,MAAM,uBAIvB,WAEIlI,EAAIQ,UAAU7N,KAAMsN,GACpBtN,KAAKwX,QAAU,WACX,MAAQxX,MAAK6mB,UACT7mB,KAAKge,OAAOxQ,KAAOxN,KAAKymB,KAAKjZ,KAC7BxN,KAAKge,OAAO5U,QAAUpJ,KAAKymB,KAAKrd,QAGxCpJ,KAAK6X,YAAc,WACf,OAAI7X,KAAKwX,WAIFxX,KAAKuX,WAAWM,eAE3B7X,KAAKya,UAAY,WACb,MAAOza,MAAKymB,KAAK3Y,eAErB9N,KAAKgnB,mBAAqB,SAASxZ,EAAKpE,GACpCpJ,KAAKge,OAAOpQ,YAAYJ,EAAKpE,GAEzBpJ,KAAK6mB,WACL7mB,KAAK6mB,UAAW,EAChB7mB,KAAKuV,MAAM,qBAGnBvV,KAAKinB,mBAAqB,WACtB,MAAIjnB,MAAK6mB,SACE7mB,KAAKknB,mBAELlnB,KAAKge,OAAOlQ,eAE3B9N,KAAKknB,iBAAmB,WACpB,MAAOlnB,MAAKymB,KAAK3Y,eAErB9N,KAAKmnB,eAAiB,SAASC,GAC3B,GAAIpnB,KAAK6mB,SAEL,WADA7mB,MAAKqnB,aAAarnB,KAAKymB,KAAKjZ,IAAKxN,KAAKymB,KAAKrd,OAASge,EAIxD,IAAIpJ,GAAShe,KAAKinB,qBACdR,EAAOzmB,KAAKknB,mBAEZI,EAActnB,KAAKsnB,aAElBA,IAAiC,IAAlBtJ,EAAO5U,QACvBpJ,KAAKgnB,mBAAmBhJ,EAAOxQ,IAAKwQ,EAAO5U,OAASge,IAEpDE,GAA+B,IAAhBb,EAAKrd,SACpBpJ,KAAKunB,eAAe,WAChBvnB,KAAKqnB,aAAaZ,EAAKjZ,IAAKiZ,EAAKrd,OAASge,MAItDpnB,KAAKsnB,YAAc,WACf,GAAItJ,GAAShe,KAAKge,OACdyI,EAAOzmB,KAAKymB,IAChB,OAAQzI,GAAOxQ,IAAMiZ,EAAKjZ,KAAQwQ,EAAOxQ,KAAOiZ,EAAKjZ,KAAOwQ,EAAO5U,OAASqd,EAAKrd,QAErFpJ,KAAKuX,SAAW,WACZ,GAAIyG,GAAShe,KAAKge,OACdyI,EAAOzmB,KAAKymB,IAEhB,OAAIzmB,MAAKwX,UACEzG,EAAMuF,WAAWmQ,EAAMA,GAE9BzmB,KAAKsnB,cACEvW,EAAMuF,WAAWmQ,EAAMzI,GAGvBjN,EAAMuF,WAAW0H,EAAQyI,IAGxCzmB,KAAKwmB,eAAiB,WACbxmB,KAAK6mB,WACN7mB,KAAK6mB,UAAW,EAChB7mB,KAAKuV,MAAM,qBAGnBvV,KAAKwnB,UAAY,WACb,GAAIpX,GAAUpQ,KAAK0D,IAAIoF,YAAc,CACrC9I,MAAKgnB,mBAAmB,EAAG,GAC3BhnB,KAAKqnB,aAAajX,EAASpQ,KAAK0D,IAAIoL,QAAQsB,GAAS1P,SAEzDV,KAAKynB,SACLznB,KAAK0nB,kBAAoB,SAASrZ,EAAOsZ,GACjCA,GACA3nB,KAAKgnB,mBAAmB3Y,EAAM/C,IAAIkC,IAAKa,EAAM/C,IAAIlC,QACjDpJ,KAAK4nB,SAASvZ,EAAMhF,MAAMmE,IAAKa,EAAMhF,MAAMD,UAE3CpJ,KAAKgnB,mBAAmB3Y,EAAMhF,MAAMmE,IAAKa,EAAMhF,MAAMD,QACrDpJ,KAAK4nB,SAASvZ,EAAM/C,IAAIkC,IAAKa,EAAM/C,IAAIlC,SAEvCpJ,KAAKuX,WAAWC,YAChBxX,KAAK6mB,UAAW,GACpB7mB,KAAK+mB,eAAiB,MAG1B/mB,KAAKunB,eAAiB,SAASM,GAC3B,GAAIpB,GAAOzmB,KAAKymB,IACZzmB,MAAK6mB,UACL7mB,KAAKgnB,mBAAmBP,EAAKjZ,IAAKiZ,EAAKrd,QAE3Cye,EAAM5mB,KAAKjB,OAEfA,KAAK4nB,SAAW,SAASpa,EAAKpE,GAC1BpJ,KAAKunB,eAAe,WAChBvnB,KAAKqnB,aAAa7Z,EAAKpE,MAG/BpJ,KAAK8nB,iBAAmB,SAASrZ,GAC7BzO,KAAKunB,eAAe,WAChBvnB,KAAK+nB,qBAAqBtZ,MAGlCzO,KAAKgoB,OAAS,SAASxa,EAAKpE,GACxBpJ,KAAKwmB,iBACLxmB,KAAKqnB,aAAa7Z,EAAKpE,IAE3BpJ,KAAKioB,eAAiB,SAASxZ,GAC3BzO,KAAKwmB,iBACLxmB,KAAK+nB,qBAAqBtZ,IAE9BzO,KAAKkoB,SAAW,WACZloB,KAAKunB,eAAevnB,KAAKmoB,eAE7BnoB,KAAKooB,WAAa,WACdpoB,KAAKunB,eAAevnB,KAAKqoB,iBAE7BroB,KAAKsoB,YAAc,WACftoB,KAAKunB,eAAevnB,KAAKuoB,kBAE7BvoB,KAAKwoB,WAAa,WACdxoB,KAAKunB,eAAevnB,KAAKyoB,iBAE7BzoB,KAAK0oB,gBAAkB,WACnB1oB,KAAKunB,eAAevnB,KAAK2oB,sBAE7B3oB,KAAK4oB,cAAgB,WACjB5oB,KAAKunB,eAAevnB,KAAK6oB,oBAE7B7oB,KAAK8oB,cAAgB,WACjB9oB,KAAKunB,eAAevnB,KAAK+oB,oBAE7B/oB,KAAKgpB,gBAAkB,WACnBhpB,KAAKunB,eAAevnB,KAAKipB,sBAE7BjpB,KAAKkpB,gBAAkB,WACnBlpB,KAAKunB,eAAevnB,KAAKmpB,sBAE7BnpB,KAAKopB,eAAiB,WAClBppB,KAAKunB,eAAevnB,KAAKqpB,qBAE7BrpB,KAAKspB,aAAe,SAAS9b,EAAKpE,GAC9B,GAAqB,mBAAVA,GAAuB,CAC9B,GAAIqO,GAASjK,GAAOxN,KAAKymB,IACzBjZ,GAAMiK,EAAOjK,IACbpE,EAASqO,EAAOrO,OAEpB,MAAOpJ,MAAKgI,QAAQshB,aAAa9b,EAAKpE,IAE1CpJ,KAAKupB,WAAa,WACdvpB,KAAK0nB,kBAAkB1nB,KAAKspB,iBAEhCtpB,KAAKwpB,YAAc,WACf,GAAI/R,GAASzX,KAAKya,YACdpM,EAAQrO,KAAKgI,QAAQyhB,cAAchS,EAAOjK,IAAKiK,EAAOrO,OAC1DpJ,MAAK0nB,kBAAkBrZ,IAG3BrO,KAAK0pB,aAAe,SAASlc,EAAKmc,GAC9B,GACIC,GADAC,EAAyB,gBAAPrc,GAAkBA,EAAMxN,KAAKymB,KAAKjZ,IAGpD4E,EAAWpS,KAAKgI,QAAQqK,YAAYwX,EAOxC,OANIzX,IACAyX,EAAWzX,EAAS/I,MAAMmE,IAC1Boc,EAASxX,EAAS9G,IAAIkC,KAEtBoc,EAASC,EAETF,KAAoB,EACb,GAAI5Y,GAAM8Y,EAAU,EAAGD,EAAQ5pB,KAAKgI,QAAQ8G,QAAQ8a,GAAQlpB,QAE5D,GAAIqQ,GAAM8Y,EAAU,EAAGD,EAAS,EAAG,IAElD5pB,KAAK8pB,WAAa,WACd9pB,KAAK0nB,kBAAkB1nB,KAAK0pB,iBAEhC1pB,KAAKmoB,aAAe,WAChBnoB,KAAK+pB,cAAa,EAAI,IAE1B/pB,KAAKqoB,eAAiB,WAClBroB,KAAK+pB,aAAa,EAAG,IAEzB/pB,KAAKyoB,eAAiB,WAClB,GACIlW,GADAkF,EAASzX,KAAKymB,KAAK3Y,aAGvB,IAAIyE,EAAOvS,KAAKgI,QAAQkK,UAAUuF,EAAOjK,IAAKiK,EAAOrO,QAAQ,GACzDpJ,KAAKqnB,aAAa9U,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,YAC1C,IAAqB,GAAjBqO,EAAOrO,OACVqO,EAAOjK,IAAM,GACbxN,KAAKqnB,aAAa5P,EAAOjK,IAAM,EAAGxN,KAAK0D,IAAIoL,QAAQ2I,EAAOjK,IAAM,GAAG9M,YAGtE,CACD,GAAI+e,GAAUzf,KAAKgI,QAAQ0X,YACvB1f,MAAKgI,QAAQgiB,UAAUvS,IAAWzX,KAAK0D,IAAIoL,QAAQ2I,EAAOjK,KAAKzL,MAAM0V,EAAOrO,OAAOqW,EAAShI,EAAOrO,QAAQxH,MAAM,KAAKlB,OAAO,GAAK+e,EAClIzf,KAAK+pB,aAAa,GAAItK,GAEtBzf,KAAK+pB,aAAa,GAAG,KAGjC/pB,KAAKuoB,gBAAkB,WACnB,GACIhW,GADAkF,EAASzX,KAAKymB,KAAK3Y,aAEvB,IAAIyE,EAAOvS,KAAKgI,QAAQkK,UAAUuF,EAAOjK,IAAKiK,EAAOrO,OAAQ,GACzDpJ,KAAKqnB,aAAa9U,EAAKjH,IAAIkC,IAAK+E,EAAKjH,IAAIlC,YAExC,IAAIpJ,KAAKymB,KAAKrd,QAAUpJ,KAAK0D,IAAIoL,QAAQ9O,KAAKymB,KAAKjZ,KAAK9M,OACrDV,KAAKymB,KAAKjZ,IAAMxN,KAAK0D,IAAIoF,YAAc,GACvC9I,KAAKqnB,aAAarnB,KAAKymB,KAAKjZ,IAAM,EAAG,OAGxC,CACD,GAAIiS,GAAUzf,KAAKgI,QAAQ0X,aACvBjI,EAASzX,KAAKymB,IACdzmB,MAAKgI,QAAQgiB,UAAUvS,IAAWzX,KAAK0D,IAAIoL,QAAQ2I,EAAOjK,KAAKzL,MAAM0V,EAAOrO,OAAQqO,EAAOrO,OAAOqW,GAAS7d,MAAM,KAAKlB,OAAO,GAAK+e,EAClIzf,KAAK+pB,aAAa,EAAGtK,GAErBzf,KAAK+pB,aAAa,EAAG,KAGjC/pB,KAAK2oB,oBAAsB,WACvB,GAAInb,GAAMxN,KAAKymB,KAAKjZ,IAChBpE,EAASpJ,KAAKymB,KAAKrd,OACnB6gB,EAAYjqB,KAAKgI,QAAQkiB,oBAAoB1c,EAAKpE,GAClD+gB,EAAsBnqB,KAAKgI,QAAQoiB,yBAAyBH,EAAW,GACvEI,EAAerqB,KAAKgI,QAAQ+O,eAC5BvJ,EAAK,KAAM2c,EAAoB3c,IAC/B2c,EAAoB/gB,QAGpBkhB,EAAeD,EAAazY,MAAM,OAClC0Y,GAAa,GAAG5pB,QAAU0I,GAAWpJ,KAAKgI,QAAQuiB,0BAClDJ,EAAoB/gB,QAAUkhB,EAAa,GAAG5pB,QAClDV,KAAK+nB,qBAAqBoC,IAE9BnqB,KAAK6oB,kBAAoB,WACrB,GAAIpC,GAAOzmB,KAAKymB,KACZ+D,EAAUxqB,KAAKgI,QAAQyiB,iCAAiChE,EAAKjZ,IAAKiZ,EAAKrd,OAC3E,IAAIpJ,KAAKymB,KAAKrd,QAAUohB,EAAQphB,OAAQ,CACpC,GAAIwH,GAAO5Q,KAAKgI,QAAQ8G,QAAQ0b,EAAQhd,IACxC,IAAIgd,EAAQphB,QAAUwH,EAAKlQ,OAAQ,CAC/B,GAAIgqB,GAAU9Z,EAAKiQ,OAAO,OACtB6J,GAAU,IACVF,EAAQphB,OAASshB,IAI7B1qB,KAAKqnB,aAAamD,EAAQhd,IAAKgd,EAAQphB,SAE3CpJ,KAAK+oB,kBAAoB,WACrB,GAAIvb,GAAMxN,KAAK0D,IAAIoF,YAAc,EAC7BM,EAASpJ,KAAK0D,IAAIoL,QAAQtB,GAAK9M,MACnCV,MAAKqnB,aAAa7Z,EAAKpE,IAE3BpJ,KAAKipB,oBAAsB,WACvBjpB,KAAKqnB,aAAa,EAAG,IAEzBrnB,KAAK2qB,wBAA0B,WAC3B,GAKI/Y,GALApE,EAAMxN,KAAKymB,KAAKjZ,IAChBpE,EAASpJ,KAAKymB,KAAKrd,OACnBwH,EAAO5Q,KAAK0D,IAAIoL,QAAQtB,GACxBod,EAAgBha,EAAK4C,UAAUpK,EAGnCpJ,MAAKgI,QAAQ4W,WAAWhB,UAAY,EACpC5d,KAAKgI,QAAQ2W,QAAQf,UAAY,CACjC,IAAIrL,GAAOvS,KAAKgI,QAAQkK,UAAU1E,EAAKpE,EAAQ,EAC/C,OAAImJ,OACAvS,MAAKqnB,aAAa9U,EAAKjH,IAAIkC,IAAK+E,EAAKjH,IAAIlC,UAGzCwI,EAAQ5R,KAAKgI,QAAQ4W,WAAWxC,KAAKwO,MACrCxhB,GAAUpJ,KAAKgI,QAAQ4W,WAAWhB,UAClC5d,KAAKgI,QAAQ4W,WAAWhB,UAAY,EACpCgN,EAAgBha,EAAK4C,UAAUpK,IAE/BA,GAAUwH,EAAKlQ,QACfV,KAAKqnB,aAAa7Z,EAAKoD,EAAKlQ,QAC5BV,KAAKuoB,uBACD/a,EAAMxN,KAAK0D,IAAIoF,YAAc,GAC7B9I,KAAKmpB,0BAGTvX,EAAQ5R,KAAKgI,QAAQ2W,QAAQvC,KAAKwO,MAClCxhB,GAAUpJ,KAAKgI,QAAQ2W,QAAQf,UAC/B5d,KAAKgI,QAAQ2W,QAAQf,UAAY,OAGrC5d,MAAKqnB,aAAa7Z,EAAKpE,MAE3BpJ,KAAK6qB,uBAAyB,WAC1B,GAEItY,GAFA/E,EAAMxN,KAAKymB,KAAKjZ,IAChBpE,EAASpJ,KAAKymB,KAAKrd,MAEvB,IAAImJ,EAAOvS,KAAKgI,QAAQkK,UAAU1E,EAAKpE,GAAQ,GAE3C,WADApJ,MAAKqnB,aAAa9U,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,OAIjD,IAAIiK,GAAMrT,KAAKgI,QAAQmL,gBAAgB3F,EAAKpE,GAAQ,EACzC,OAAPiK,IACAA,EAAMrT,KAAK0D,IAAIoL,QAAQtB,GAAKgG,UAAU,EAAGpK,GAG7C,IACIwI,GADAkZ,EAAevhB,EAAKwhB,cAAc1X,EAStC,OAPArT,MAAKgI,QAAQ4W,WAAWhB,UAAY,EACpC5d,KAAKgI,QAAQ2W,QAAQf,UAAY,GAC7BhM,EAAQ5R,KAAKgI,QAAQ4W,WAAWxC,KAAK0O,MACrC1hB,GAAUpJ,KAAKgI,QAAQ4W,WAAWhB,UAClCkN,EAAeA,EAAa/oB,MAAM/B,KAAKgI,QAAQ4W,WAAWhB,WAC1D5d,KAAKgI,QAAQ4W,WAAWhB,UAAY,GAEpCxU,GAAU,GACVpJ,KAAKqnB,aAAa7Z,EAAK,GACvBxN,KAAKyoB,sBACDjb,EAAM,GACNxN,KAAKqpB,yBAGTzX,EAAQ5R,KAAKgI,QAAQ2W,QAAQvC,KAAK0O,MAClC1hB,GAAUpJ,KAAKgI,QAAQ2W,QAAQf,UAC/B5d,KAAKgI,QAAQ2W,QAAQf,UAAY,OAGrC5d,MAAKqnB,aAAa7Z,EAAKpE,KAG3BpJ,KAAKgrB,mBAAqB,SAASJ,GAC/B,GAAIhZ,GAAkBqZ,EAAXviB,EAAQ,EACfwiB,EAAe,KACfvM,EAAU3e,KAAKgI,QAAQ2W,OAG3B,IADAA,EAAQf,UAAY,EAChBhM,EAAQ5R,KAAKgI,QAAQ2W,QAAQvC,KAAKwO,GAClCliB,EAAQ1I,KAAKgI,QAAQ2W,QAAQf,cAC1B,CACH,MAAQqN,EAAKL,EAAcliB,KAAWwiB,EAAajT,KAAKgT,IACpDviB,GAEJ,IAAIA,EAAQ,EAEP,IADDiW,EAAQf,UAAY,GACXqN,EAAKL,EAAcliB,MAAYiW,EAAQ1G,KAAKgT,IAGjD,GAFAtM,EAAQf,UAAY,EACpBlV,IACIwiB,EAAajT,KAAKgT,GAAK,CACvB,GAAIviB,EAAQ,EAAG,CACXA,GACA,OAEA,MAAQuiB,EAAKL,EAAcliB,KAAWwiB,EAAajT,KAAKgT,IACpDviB,GACJ,IAAIA,EAAQ,EACR,OAQxB,MAFAiW,GAAQf,UAAY,EAEblV,GAGX1I,KAAKmrB,yBAA2B,WAC5B,GAAI3d,GAAMxN,KAAKymB,KAAKjZ,IAChBpE,EAASpJ,KAAKymB,KAAKrd,OACnBwH,EAAO5Q,KAAK0D,IAAIoL,QAAQtB,GACxBod,EAAgBha,EAAK4C,UAAUpK,GAE/BmJ,EAAOvS,KAAKgI,QAAQkK,UAAU1E,EAAKpE,EAAQ,EAC/C,IAAImJ,EACA,MAAOvS,MAAKqnB,aAAa9U,EAAKjH,IAAIkC,IAAK+E,EAAKjH,IAAIlC,OAEpD,IAAIA,GAAUwH,EAAKlQ,OAAQ,CACvB,GAAIU,GAAIpB,KAAK0D,IAAIoF,WACjB,GACI0E,KACAod,EAAgB5qB,KAAK0D,IAAIoL,QAAQtB,SAC5BA,EAAMpM,GAAK,QAAQ6W,KAAK2S,GAE5B,QAAO3S,KAAK2S,KACbA,EAAgB,IACpBxhB,EAAS,EAGb,GAAIV,GAAQ1I,KAAKgrB,mBAAmBJ,EAEpC5qB,MAAKqnB,aAAa7Z,EAAKpE,EAASV,IAGpC1I,KAAKorB,wBAA0B,WAC3B,GAGI7Y,GAHA/E,EAAMxN,KAAKymB,KAAKjZ,IAChBpE,EAASpJ,KAAKymB,KAAKrd,MAGvB,IAAImJ,EAAOvS,KAAKgI,QAAQkK,UAAU1E,EAAKpE,GAAQ,GAC3C,MAAOpJ,MAAKqnB,aAAa9U,EAAKlJ,MAAMmE,IAAK+E,EAAKlJ,MAAMD,OAExD,IAAIwH,GAAO5Q,KAAKgI,QAAQ8G,QAAQtB,GAAKgG,UAAU,EAAGpK,EAClD,IAAc,GAAVA,EAAa,CACb,EACIoE,KACAoD,EAAO5Q,KAAK0D,IAAIoL,QAAQtB,SACnBA,EAAM,GAAK,QAAQyK,KAAKrH,GAEjCxH,GAASwH,EAAKlQ,OACT,OAAOuX,KAAKrH,KACbA,EAAO,IAGf,GAAIka,GAAevhB,EAAKwhB,cAAcna,GAClClI,EAAQ1I,KAAKgrB,mBAAmBF,EAEpC,OAAO9qB,MAAKqnB,aAAa7Z,EAAKpE,EAASV,IAG3C1I,KAAKmpB,oBAAsB,WACnBnpB,KAAKgI,QAAQqjB,iBACbrrB,KAAK2qB,0BAEL3qB,KAAKmrB,4BAGbnrB,KAAKqpB,mBAAqB,WAClBrpB,KAAKgI,QAAQqjB,iBACbrrB,KAAK6qB,yBAEL7qB,KAAKorB,2BAEbprB,KAAK+pB,aAAe,SAASuB,EAAMC,GAC/B,GAAIC,GAAYxrB,KAAKgI,QAAQgd,yBACzBhlB,KAAKymB,KAAKjZ,IACVxN,KAAKymB,KAAKrd,OAGA,KAAVmiB,IACIvrB,KAAK+mB,eACLyE,EAAUpiB,OAASpJ,KAAK+mB,eAExB/mB,KAAK+mB,eAAiByE,EAAUpiB,OAGxC,IAAIqiB,GAASzrB,KAAKgI,QAAQoiB,yBAAyBoB,EAAUhe,IAAM8d,EAAME,EAAUpiB,OAEtE,KAATkiB,GAAwB,IAAVC,GAAeE,EAAOje,MAAQxN,KAAKymB,KAAKjZ,KAAOie,EAAOriB,SAAWpJ,KAAKymB,KAAKrd,QACrFpJ,KAAKgI,QAAQ0jB,aAAe1rB,KAAKgI,QAAQ0jB,YAAYD,EAAOje,MAC5Die,EAAOje,MAEfxN,KAAKqnB,aAAaoE,EAAOje,IAAKie,EAAOriB,OAASmiB,EAAiB,IAAVA,IAEzDvrB,KAAK+nB,qBAAuB,SAAS3C,GACjCplB,KAAKqnB,aAAajC,EAAS5X,IAAK4X,EAAShc,SAE7CpJ,KAAKqnB,aAAe,SAAS7Z,EAAKpE,EAAQuiB,GACtC,GAAIpZ,GAAOvS,KAAKgI,QAAQkK,UAAU1E,EAAKpE,EAAQ,EAC3CmJ,KACA/E,EAAM+E,EAAKlJ,MAAMmE,IACjBpE,EAASmJ,EAAKlJ,MAAMD,QAGxBpJ,KAAK8mB,4BAA6B,EAClC9mB,KAAKymB,KAAK7Y,YAAYJ,EAAKpE,GAC3BpJ,KAAK8mB,4BAA6B,EAE7B6E,IACD3rB,KAAK+mB,eAAiB,OAE9B/mB,KAAK4rB,mBAAqB,SAASpe,EAAKpE,EAAQuiB,GAC5C,GAAIld,GAAMzO,KAAKgI,QAAQoiB,yBAAyB5c,EAAKpE,EACrDpJ,MAAKqnB,aAAa5Y,EAAIjB,IAAKiB,EAAIrF,OAAQuiB,IAE3C3rB,KAAK4O,OAAS,WACV5O,KAAKymB,KAAK7X,SACV5O,KAAKge,OAAOpP,SACZ5O,KAAKgI,QAAUhI,KAAK0D,IAAM,MAG9B1D,KAAKshB,kBAAoB,SAASjT,GAC9BrO,KAAK0nB,kBAAkBrZ,EAAOA,EAAMoJ,QAAUpJ,EAAMhF,OACpDrJ,KAAK+mB,eAAiB1Y,EAAMwd,eAAiB7rB,KAAK+mB,gBAGtD/mB,KAAKkhB,gBAAkB,SAAS7S,GAC5B,GAAI5C,GAAIzL,KAAKuX,UAYb,OAXIlJ,IACAA,EAAMhF,MAAMD,OAASqC,EAAEpC,MAAMD,OAC7BiF,EAAMhF,MAAMmE,IAAM/B,EAAEpC,MAAMmE,IAC1Ba,EAAM/C,IAAIlC,OAASqC,EAAEH,IAAIlC,OACzBiF,EAAM/C,IAAIkC,IAAM/B,EAAEH,IAAIkC,KAEtBa,EAAQ5C,EAGZ4C,EAAMoJ,OAASzX,KAAKsnB,cAAgBjZ,EAAMhF,MAAQgF,EAAM/C,IACxD+C,EAAMwd,cAAgB7rB,KAAK+mB,eACpB1Y,GAGXrO,KAAK8rB,OAAS,WACV,GAAI9rB,KAAK+rB,WACL,GAAI3d,GAAOpO,KAAK0R,OAAOnF,IAAI,SAASd,GAChC,GAAIugB,GAAKvgB,EAAEyL,OAEX,OADA8U,GAAG1E,YAAc7b,EAAEgM,QAAUhM,EAAEpC,MACxB2iB,QAER,CACH,GAAI5d,GAAOpO,KAAKuX,UAChBnJ,GAAKkZ,YAActnB,KAAKsnB,cAE5B,MAAOlZ,IAGXpO,KAAKisB,SAAW,SAAS7d,GACrB,GAAkBvJ,QAAduJ,EAAK/E,MAAoB,CACzB,GAAIrJ,KAAKksB,UAAW,CAChBlsB,KAAKmsB,cAAc/d,EAAK,GACxB,KAAK,GAAIjN,GAAIiN,EAAK1N,OAAQS,KAAO,CAC7B,GAAIsK,GAAIsF,EAAMuF,WAAWlI,EAAKjN,GAAGkI,MAAO+E,EAAKjN,GAAGmK,IAC5C8C,GAAKkZ,cACL7b,EAAEgM,OAAShM,EAAEpC,OACjBrJ,KAAKosB,SAAS3gB,GAAG,GAErB,OAEA2C,EAAOA,EAAK,GAEhBpO,KAAKksB,WACLlsB,KAAKmsB,cAAc/d,GACvBpO,KAAK0nB,kBAAkBtZ,EAAMA,EAAKkZ,cAGtCtnB,KAAKsa,QAAU,SAASlM,GACpB,IAAKA,EAAK1N,QAAUV,KAAK+rB,aAAe3d,EAAK1N,QAAUV,KAAK+rB,WACxD,OAAO,CACX,KAAK3d,EAAK1N,SAAWV,KAAK0R,OACtB,MAAO1R,MAAKuX,WAAW+C,QAAQlM,EAEnC,KAAK,GAAIjN,GAAInB,KAAK0R,OAAOhR,OAAQS,KAC7B,IAAKnB,KAAK0R,OAAOvQ,GAAGmZ,QAAQlM,EAAKjN,IAC7B,OAAO,CAEf,QAAO,KAGZF,KAAKslB,EAAUxlB,WAElBoB,EAAQokB,UAAYA,IAGpB5mB,OAAO,cAAe,UAAW,UAAW,SAAW,eAAgB,cAAe,aAAc,SAASN,EAAS8C,EAAS7C,GAG/H,GAAIiK,GAAOlK,EAAQ,cACfgO,EAAMhO,EAAQ,aACd0R,EAAQ1R,EAAQ,WAAW0R,MAE3Bsb,EAAS,WACTrsB,KAAKssB,cAGT,WACItsB,KAAKusB,IAAM,SAAS5S,GAEhB,MADAtM,GAAImf,MAAMxsB,KAAKssB,SAAU3S,GAClB3Z,MAEXA,KAAKysB,WAAa,WACd,MAAOljB,GAAKmjB,WAAW1sB,KAAKssB,WAEhCtsB,KAAK2sB,WAAa,SAAShT,GACvB3Z,KAAKssB,SAAW3S,GAEpB3Z,KAAK4sB,KAAO,SAAS5kB,GACjB,GAAIgQ,GAAWhY,KAAK6sB,eAAe7kB,EAAShI,KAAKssB,SAEjD,KAAKtU,EACD,OAAO,CAEX,IAAIuB,GAAa,IAUjB,OATAvB,GAAS1L,QAAQ,SAAS+B,EAAOb,EAAKqE,GAClC,GAAKxD,EAAMhF,MAIPkQ,EAAalL,MAJC,CACd,GAAIjF,GAASiF,EAAMwD,QAAUA,GAAU,EACvC0H,GAAa,GAAIxI,GAAMvD,EAAKpE,EAAQoE,EAAKpE,EAAOiF,EAAM3N,QAG1D,OAAO,IAGJ6Y,GAEXvZ,KAAK8sB,QAAU,SAAS9kB,GACpB,GAAI2R,GAAU3Z,KAAKssB,QACnB,KAAK3S,EAAQoT,OACT,QACJ/sB,MAAKgtB,gBAAgBrT,EAErB,IAAItL,GAAQsL,EAAQtL,MAChBc,EAAQd,EACNrG,EAAQilB,SAAS5e,EAAMhF,MAAMmE,IAAKa,EAAM/C,IAAIkC,KAC5CxF,EAAQtE,IAAIwpB,cAEdxb,KACAwG,EAAKyB,EAAQzB,EACjB,IAAIyB,EAAQwT,aAAc,CACtB,GAEIC,GAFAzd,EAAMuI,EAAGxX,OACT2sB,EAASle,EAAMzO,OAASiP,CAE5B2d,GAAO,IAAK,GAAI9f,GAAM0K,EAAGrG,QAAU,EAAGrE,GAAO6f,EAAQ7f,IAAO,CACxD,IAAK,GAAIsE,GAAI,EAAGA,EAAInC,EAAKmC,IACrB,GAAI3C,EAAM3B,EAAMsE,GAAG+O,OAAO3I,EAAGpG,MAAO,EAChC,QAASwb,EAEjB,IAAI5d,GAAYP,EAAM3B,GAClBoD,EAAOzB,EAAM3B,EAAMmC,EAAM,GACzByT,EAAa1T,EAAUhP,OAASgP,EAAUkC,MAAMsG,EAAG,IAAI,GAAGxX,OAC1D6iB,EAAW3S,EAAKgB,MAAMsG,EAAGvI,EAAM,IAAI,GAAGjP,MAEtC0sB,IAAaA,EAAU9hB,IAAIkC,MAAQA,GACnC4f,EAAU9hB,IAAIlC,OAASga,IAI3B1R,EAAOnQ,KAAK6rB,EAAY,GAAIrc,GACxBvD,EAAK4V,EAAY5V,EAAMmC,EAAM,EAAG4T,IAEhC5T,EAAM,IACNnC,EAAMA,EAAMmC,EAAM,SAG1B,KAAK,GAAIxO,GAAI,EAAGA,EAAIgO,EAAMzO,OAAQS,IAE9B,IAAK,GADDosB,GAAUhkB,EAAKoI,gBAAgBxC,EAAMhO,GAAI+W,GACpCpG,EAAI,EAAGA,EAAIyb,EAAQ7sB,OAAQoR,IAAK,CACrC,GAAIF,GAAQ2b,EAAQzb,EACpBJ,GAAOnQ,KAAK,GAAIwP,GAAM5P,EAAGyQ,EAAMC,OAAQ1Q,EAAGyQ,EAAMC,OAASD,EAAMlR,SAK3E,GAAI2N,EAAO,CAIP,IAHA,GAAIkG,GAAclG,EAAMhF,MAAMD,OAC1BqL,EAAYpG,EAAMhF,MAAMD,OACxBjI,EAAI,EAAG2Q,EAAIJ,EAAOhR,OAAS,EACxBS,EAAI2Q,GAAKJ,EAAOvQ,GAAGkI,MAAMD,OAASmL,GAAe7C,EAAOvQ,GAAGkI,MAAMmE,KAAOa,EAAMhF,MAAMmE,KACvFrM,GAEJ,MAAOA,EAAI2Q,GAAKJ,EAAOI,GAAGxG,IAAIlC,OAASqL,GAAa/C,EAAOI,GAAGxG,IAAIkC,KAAOa,EAAM/C,IAAIkC,KAC/EsE,GAGJ,KADAJ,EAASA,EAAO3P,MAAMZ,EAAG2Q,EAAI,GACxB3Q,EAAI,EAAG2Q,EAAIJ,EAAOhR,OAAQS,EAAI2Q,EAAG3Q,IAClCuQ,EAAOvQ,GAAGkI,MAAMmE,KAAOa,EAAMhF,MAAMmE,IACnCkE,EAAOvQ,GAAGmK,IAAIkC,KAAOa,EAAMhF,MAAMmE,IAIzC,MAAOkE,IAEX1R,KAAKkC,QAAU,SAASyf,EAAO6L,GAC3B,GAAI7T,GAAU3Z,KAAKssB,SAEfpU,EAAKlY,KAAKgtB,gBAAgBrT,EAC9B,IAAIA,EAAQwT,aACR,MAAOK,EAEX,IAAKtV,EAAL,CAGA,GAAItG,GAAQsG,EAAGkE,KAAKuF,EACpB,KAAK/P,GAASA,EAAM,GAAGlR,QAAUihB,EAAMjhB,OACnC,MAAO,KAGX,IADA8sB,EAAc7L,EAAMzf,QAAQgW,EAAIsV,GAC5B7T,EAAQ8T,aAAc,CACtBD,EAAcA,EAAY5rB,MAAM,GAChC,KAAK,GAAIT,GAAImN,KAAKS,IAAI4S,EAAMjhB,OAAQihB,EAAMjhB,QAASS,KAAO,CACtD,GAAI8pB,GAAKtJ,EAAMxgB,EACX8pB,IAAMA,EAAGne,eAAiBme,EAC1BuC,EAAYrsB,GAAKqsB,EAAYrsB,GAAGusB,cAEhCF,EAAYrsB,GAAKqsB,EAAYrsB,GAAG2L,cAExC0gB,EAAcA,EAAYxrB,KAAK,IAGnC,MAAOwrB,KAGXxtB,KAAK6sB,eAAiB,SAAS7kB,EAAS2R,GACpC,GAAIzB,GAAKlY,KAAKgtB,gBAAgBrT,EAC9B,KAAKzB,EACD,OAAO,CAEX,IAAiB3Y,GAAb8P,EAAOrP,KAAgB2tB,EAAYhU,EAAQgU,SAE/C,IAAIhU,EAAQwT,aACR,GAAIxd,GAAMuI,EAAGxX,OACTktB,EAAgB,SAAShd,EAAMpD,EAAKqE,GACpC,GAAIuR,GAAaxS,EAAKiQ,OAAO3I,EAAG,GAChC,IAAIkL,IAAc,EAAlB,CAEA,IAAK,GAAIjiB,GAAI,EAAGA,EAAIwO,EAAKxO,IAErB,GADAyP,EAAO5I,EAAQ8G,QAAQtB,EAAMrM,GACzByP,EAAKiQ,OAAO3I,EAAG/W,MAAO,EACtB,MAGR,IAAIoiB,GAAW3S,EAAKgB,MAAMsG,EAAGvI,EAAM,IAAI,GAAGjP,OAEtC2N,EAAQ,GAAI0C,GAAMvD,EAAK4V,EAAY5V,EAAMmC,EAAM,EAAG4T,EAOtD,OANiB,IAAbrL,EAAGrG,QACHxD,EAAMhF,MAAMmE,MACZa,EAAMhF,MAAMD,OAASykB,OAAOC,WACrBjc,IACPxD,EAAMhF,MAAMD,QAAUyI,KAEtBtS,EAAS8O,IAAb,aAGD,IAAIsf,EACP,GAAIC,GAAgB,SAAShd,EAAMpD,EAAK4V,GAEpC,IAAK,GADDmK,GAAUhkB,EAAKoI,gBAAgBf,EAAMsH,GAChC/W,EAAIosB,EAAQ7sB,OAAO,EAAGS,GAAK,EAAGA,IACnC,GAAI5B,EAASguB,EAAQpsB,GAAIqM,EAAK4V,GAC1B,OAAO,OAGnB,IAAIwK,GAAgB,SAAShd,EAAMpD,EAAK4V,GAEpC,IAAK,GADDmK,GAAUhkB,EAAKoI,gBAAgBf,EAAMsH,GAChC/W,EAAI,EAAGA,EAAIosB,EAAQ7sB,OAAQS,IAChC,GAAI5B,EAASguB,EAAQpsB,GAAIqM,EAAK4V,GAC1B,OAAO,EAIvB,QACI9W,QAAS,SAASyhB,GACdxuB,EAAWwuB,EACX1e,EAAK2e,cAAchmB,EAAS2R,GAASrN,QAAQshB,MAKzD5tB,KAAKgtB,gBAAkB,SAASrT,EAASsU,GACrC,GAAItU,EAAQoT,iBAAkB5U,QAC1B,MAAOwB,GAAQzB,GAAKyB,EAAQoT,MAEhC,IAAIA,GAASpT,EAAQoT,MAErB,KAAKpT,EAAQoT,OACT,MAAOpT,GAAQzB,IAAK,CAEnByB,GAAQ1I,SACT8b,EAASxjB,EAAKsW,aAAakN,IAE3BpT,EAAQuU,YACRnB,EAAS,MAAQA,EAAS,MAE9B,IAAIoB,GAAWxU,EAAQyU,cAAgB,IAAM,IAG7C,IADAzU,EAAQwT,cAAgBc,GAAyB,SAAShW,KAAK8U,GAC3DpT,EAAQwT,aACR,MAAOxT,GAAQzB,GAAKlY,KAAKquB,yBAAyBtB,EAAQoB,EAE9D,KACI,GAAIjW,GAAK,GAAIC,QAAO4U,EAAQoB,GAC9B,MAAMjgB,GACJgK,GAAK,EAET,MAAOyB,GAAQzB,GAAKA,GAGxBlY,KAAKquB,yBAA2B,SAAStB,EAAQoB,GAG7C,IAAK,GAFDG,GAAQvB,EAAO7qB,QAAQ,cAAe,QAAQN,MAAM,MACpDsW,KACK/W,EAAI,EAAGA,EAAImtB,EAAM5tB,OAAQS,IAAK,IACnC+W,EAAG3W,KAAK,GAAI4W,QAAOmW,EAAMntB,GAAIgtB,IAC/B,MAAMjgB,GACJ,OAAO,EAQX,MANgB,IAAZogB,EAAM,IACNpW,EAAGhN,QACHgN,EAAGrG,OAAS,GAEZqG,EAAGrG,OAAS,EAETqG,GAGXlY,KAAKguB,cAAgB,SAAShmB,EAAS2R,GACnC,GAAIgU,GAAiC,GAArBhU,EAAQgU,UACpBY,EAAqC,GAAvB5U,EAAQ4U,YAEtBlgB,EAAQsL,EAAQtL,MAChBhF,EAAQsQ,EAAQtQ,KACfA,KACDA,EAAQgF,EAAQA,EAAMsf,EAAY,MAAQ,SAAW3lB,EAAQsP,UAAUC,YAEvElO,EAAMA,QACNA,EAAQA,EAAMklB,GAAeZ,EAAY,MAAQ,SAErD,IAAIxd,GAAW9B,EAAQA,EAAMhF,MAAMmE,IAAM,EACrC4C,EAAU/B,EAAQA,EAAM/C,IAAIkC,IAAMxF,EAAQc,YAAc,EAExDwD,EAAUqhB,EAAY,SAASpuB,GAC3B,GAAIiO,GAAMnE,EAAMmE,IAEZoD,EAAO5I,EAAQ8G,QAAQtB,GAAKgG,UAAU,EAAGnK,EAAMD,OACnD,KAAI7J,EAASqR,EAAMpD,GAAnB,CAGA,IAAKA,IAAOA,GAAO2C,EAAU3C,IACzB,GAAIjO,EAASyI,EAAQ8G,QAAQtB,GAAMA,GAC/B,MAER,IAAoB,GAAhBmM,EAAQ6U,KAGZ,IAAKhhB,EAAM4C,EAASD,EAAW9G,EAAMmE,IAAKA,GAAO2C,EAAU3C,IACvD,GAAIjO,EAASyI,EAAQ8G,QAAQtB,GAAMA,GAC/B,SACR,SAASjO,GACT,GAAIiO,GAAMnE,EAAMmE,IAEZoD,EAAO5I,EAAQ8G,QAAQtB,GAAKkQ,OAAOrU,EAAMD,OAC7C,KAAI7J,EAASqR,EAAMpD,EAAKnE,EAAMD,QAA9B,CAGA,IAAKoE,GAAU,EAAGA,GAAO4C,EAAS5C,IAC9B,GAAIjO,EAASyI,EAAQ8G,QAAQtB,GAAMA,GAC/B,MAER,IAAoB,GAAhBmM,EAAQ6U,KAGZ,IAAKhhB,EAAM2C,EAAUC,EAAU/G,EAAMmE,IAAKA,GAAO4C,EAAS5C,IACtD,GAAIjO,EAASyI,EAAQ8G,QAAQtB,GAAMA,GAC/B,QAGhB,QAAQlB,QAASA,MAGtBrL,KAAKorB,EAAOtrB,WAEfoB,EAAQkqB,OAASA,IAGjB1sB,OAAO,oBAAqB,UAAW,UAAW,SAAW,cAAe,eAAgB,aAAc,wBAAyB,gBAAiB,gBAAiB,YAAa,eAAgB,2BAA4B,uBAAwB,2BAA4B,kCAAmC,SAASN,EAAS8C,EAAS7C,GAGhV,GAAI+N,GAAMhO,EAAQ,aACdkK,EAAOlK,EAAQ,cACf4D,EAAS5D,EAAQ,YACjBiO,EAAejO,EAAQ,uBAAuBiO,aAC9CiZ,EAAYlnB,EAAQ,eAAeknB,UACnCkI,EAAWpvB,EAAQ,eAAeof,KAClC1N,EAAQ1R,EAAQ,WAAW0R,MAC3B2d,EAAWrvB,EAAQ,cAAcqvB,SACjC1f,EAAsB3P,EAAQ,0BAA0B2P,oBACxDgC,EAAkB3R,EAAQ,sBAAsB2R,gBAEhDpO,EAAc,SAASyB,EAAMC,GAC7BtE,KAAK2uB,gBACL3uB,KAAK4uB,gBACL5uB,KAAK6uB,iBACL7uB,KAAK8uB,gBACL9uB,KAAK+uB,UAAY,EACjB/uB,KAAKgvB,aAAc,EAEnBhvB,KAAK6S,aACL7S,KAAK6S,UAAU7R,SAAW,WACtB,MAAOhB,MAAKgC,KAAK,OAErBhC,KAAKmE,GAAG,aAAcnE,KAAKivB,aAAahrB,KAAKjE,OAC7CA,KAAKyN,UAAYzN,KAAK0N,SAASzJ,KAAKjE,MAEjB,gBAARqE,IAAqBA,EAAKyK,UACjCzK,EAAO,GAAIqqB,GAASrqB,IAExBrE,KAAKiQ,YAAY5L,GACjBrE,KAAKsX,UAAY,GAAIiP,GAAUvmB,MAE/BiD,EAAOisB,aAAalvB,MACpBA,KAAKmvB,QAAQ7qB,GACbrB,EAAO0L,QAAQ,UAAW3O,QAI9B,WAo+CI,QAASovB,GAAY5V,GACjB,QAAIA,EAAI,QAEDA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OApgD/BnM,EAAIQ,UAAU7N,KAAMsN,GACpBtN,KAAKiQ,YAAc,SAASvM,GACpB1D,KAAK0D,KACL1D,KAAK0D,IAAIU,eAAe,SAAUpE,KAAKyN,WAE3CzN,KAAK0D,IAAMA,EACXA,EAAIS,GAAG,SAAUnE,KAAKyN,WAElBzN,KAAKqvB,aACLrvB,KAAKqvB,YAAYpf,YAAYjQ,KAAKgO,eAEtChO,KAAKsvB,eAETtvB,KAAKgO,YAAc,WACf,MAAOhO,MAAK0D,KAEhB1D,KAAKuvB,eAAiB,SAAS9b,GAC3B,IAAKA,EAGD,MAFAzT,MAAKwvB,qBACLxvB,KAAKyvB,mBAGT,IAAIruB,GAAIpB,KAAKwvB,aAAa9uB,OACtBS,EAAInB,KAAK0vB,kBAAkB1vB,KAAKwvB,aAAc/b,GAAU,CACxDrS,GAAID,IACJnB,KAAKwvB,aAAavjB,OAAO9K,EAAGC,GAC5BpB,KAAKyvB,gBAAgBxjB,OAAO9K,EAAGC,KAIvCpB,KAAK0vB,kBAAoB,SAASC,EAAYC,GAI1C,IAHA,GAAIC,GAAM,EACNC,EAAKH,EAAWjvB,OAAS,EAEtBmvB,GAAOC,GAAI,CACd,GAAIC,GAAOF,EAAMC,GAAO,EACpBtW,EAAImW,EAAWI,EAEnB,IAAIH,EAAMpW,EACNqW,EAAME,EAAM,MACX,CAAA,KAAIH,EAAMpW,GAGX,MAAOuW,EAFPD,GAAKC,EAAM,GAKnB,MAAOF,GAAK,GAGhB7vB,KAAKsvB,YAAc,WACftvB,KAAKsV,WAAY,EACjBtV,KAAKgwB,aACLhwB,KAAKiwB,mBACLjwB,KAAKuvB,eAAe,GAChBvvB,KAAKqvB,aACLrvB,KAAKqvB,YAAYhmB,MAAM,IAG/BrJ,KAAKivB,aAAe,SAAS/gB,GACzB,GAAIqE,GAAOrE,EAAEE,IACbpO,MAAKuvB,eAAehd,EAAKlJ,MAAMmE,MAGnCxN,KAAK0N,SAAW,SAASQ,GACrB,GAAIC,GAAQD,EAAEE,IACdpO,MAAKsV,WAAY,EAEjBtV,KAAKuvB,eAAephB,EAAME,MAAMhF,MAAMmE,IAEtC,IAAI0iB,GAAelwB,KAAKmwB,4BAA4BjiB,EAC/ClO,MAAKowB,YAAapwB,KAAKqwB,cAAiBliB,EAAMmiB,SAC/CtwB,KAAKuwB,WAAWhvB,KAAK4M,GACjB+hB,GAAuC,GAAvBA,EAAaxvB,QAC7BV,KAAKwwB,YAAYjvB,MACbqD,OAAQ,cACR0N,MAAQ4d,IAIhBlwB,KAAKywB,mBAAmBC,YAG5B1wB,KAAKqvB,YAAY5e,gBAAgBtC,GACjCnO,KAAK2O,QAAQ,SAAUT,IAE3BlO,KAAK2wB,SAAW,SAAStsB,GACrBrE,KAAK0D,IAAIitB,SAAStsB,GAClBrE,KAAKsX,UAAU0Q,OAAO,EAAG,GAEzBhoB,KAAKuvB,eAAe,GACpBvvB,KAAK4wB,WACL5wB,KAAKuwB,cACLvwB,KAAKwwB,eACLxwB,KAAKuE,eAAevE,KAAKqwB,cACzBrwB,KAAK6wB,iBAAiBC,SAE1B9wB,KAAK+wB,SACL/wB,KAAKgB,SAAW,WACZ,MAAOhB,MAAK0D,IAAIqtB,YAEpB/wB,KAAKgxB,aAAe,WAChB,MAAOhxB,MAAKsX,WAEhBtX,KAAK2Q,SAAW,SAASnD,GACrB,MAAOxN,MAAKqvB,YAAY1e,SAASnD,IAErCxN,KAAKsI,UAAY,SAASkF,GACtB,MAAOxN,MAAKqvB,YAAY/mB,UAAUkF,IAEtCxN,KAAKwI,WAAa,SAASgF,EAAKpE,GAC5B,GACIb,GADAuI,EAAS9Q,KAAKqvB,YAAY/mB,UAAUkF,GAC7BgM,EAAI,CACf,IAAc,MAAVpQ,EACAjI,EAAI2P,EAAOpQ,OAAS,EACpB8Y,EAAIxZ,KAAK8O,QAAQtB,GAAK9M,WAEtB,KAAK,GAAIS,GAAI,EAAGA,EAAI2P,EAAOpQ,SACvB8Y,GAAK1I,EAAO3P,GAAGmI,MAAM5I,SACjB8Y,GAAKpQ,IAFsBjI,KAOvC,OADAoH,EAAQuI,EAAO3P,KAGfoH,EAAMG,MAAQvH,EACdoH,EAAMc,MAAQmQ,EAAIjR,EAAMe,MAAM5I,OACvB6H,GAHI,MAKfvI,KAAKuE,eAAiB,SAAS0sB,GAS3B,GARAjxB,KAAKqwB,aAAeY,EACpBjxB,KAAK4wB,WACL5wB,KAAKuwB,cACLvwB,KAAKwwB,eAEDxwB,KAAKywB,oBACLzwB,KAAKywB,mBAAmBS,SAExBD,EAAa,CACb,GAAI5hB,GAAOrP,IAEXA,MAAKmxB,uBAAyB,WAC1B9hB,EAAKohB,mBAAmBS,SAEpB7hB,EAAKmhB,YAAY9vB,SACjB2O,EAAKuhB,QAAQrvB,MACT6vB,MAAO,OACPC,OAAQhiB,EAAKmhB,cAEjBnhB,EAAKmhB,gBAGLnhB,EAAKkhB,WAAW7vB,SAChB2O,EAAKuhB,QAAQrvB,MACT6vB,MAAO,MACPC,OAAQhiB,EAAKkhB,aAEjBlhB,EAAKkhB,eAGLlhB,EAAKuhB,QAAQlwB,OAAS,GACtBuwB,EAAYK,SACR1sB,OAAQ,YACRiH,MAAOwD,EAAKuhB,QAASvhB,GACrB4F,MAAO5F,EAAKkiB,kBAGpBliB,EAAKkiB,iBAAkB,EACvBliB,EAAKuhB,YAET5wB,KAAKywB,mBAAqBlnB,EAAKioB,YAAYxxB,KAAKmxB,0BAGxDnxB,KAAKyxB,cAAgB,WACbzxB,KAAKmxB,wBACLnxB,KAAKmxB,0BAGbnxB,KAAK0xB,qBACDC,KAAM,aACNC,KAAM,aACNd,MAAO,cAEX9wB,KAAK6wB,eAAiB,WAClB,MAAO7wB,MAAKqwB,cAAgBrwB,KAAK0xB,qBAErC1xB,KAAK6xB,aAAe,WAChB,MAAI7xB,MAAK8f,iBACEvW,EAAKuoB,aAAa,IAAK9xB,KAAK0f,cAE5B,MAGf1f,KAAK+xB,eAAiB,SAASnC,GAC3B5vB,KAAKgyB,UAAU,cAAepC,IAElC5vB,KAAK8f,eAAiB,WAClB,MAAO9f,MAAKiyB,eAAiBjyB,KAAKkyB,MAAMC,iBAE5CnyB,KAAKoyB,WAAa,SAAS3S,GACvBzf,KAAKgyB,UAAU,UAAWvS,IAE9Bzf,KAAK0f,WAAa,WACd,MAAO1f,MAAKqyB,UAEhBryB,KAAKgqB,UAAY,SAAS5E,GACtB,MAAOplB,MAAKiyB,cAAiB7M,EAAShc,OAASpJ,KAAKqyB,WAAa,GAGrEryB,KAAKsyB,YAAa,EAClBtyB,KAAKuyB,aAAe,SAASC,GACzBxyB,KAAKgyB,UAAU,YAAaQ,IAEhCxyB,KAAKyyB,aAAe,WAChB,MAAOzyB,MAAKsyB,YAEhBtyB,KAAK0yB,gBAAkB,WACnB1yB,KAAKuyB,cAAcvyB,KAAKsyB,aAE5BtyB,KAAK2yB,oBAAsB,SAASnlB,EAAKZ,GAChC5M,KAAK4uB,aAAaphB,KACnBxN,KAAK4uB,aAAaphB,GAAO,IAC7BxN,KAAK4uB,aAAaphB,IAAQ,IAAMZ,EAChC5M,KAAK2O,QAAQ,wBAEjB3O,KAAK4yB,uBAAyB,SAASplB,EAAKZ,GACxC5M,KAAK4uB,aAAaphB,IAAQxN,KAAK4uB,aAAaphB,IAAQ,IAAItL,QAAQ,IAAM0K,EAAW,IACjF5M,KAAK2O,QAAQ,wBAEjB3O,KAAK6yB,eAAiB,WAClB,MAAO7yB,MAAK2uB,cAEhB3uB,KAAK8yB,eAAiB,SAASxH,GAC3BtrB,KAAK2uB,eACL,KAAK,GAAIxtB,GAAE,EAAGA,EAAEmqB,EAAK5qB,OAAQS,IACzBnB,KAAK2uB,aAAarD,EAAKnqB,IAAM,gBAEjCnB,MAAK2O,QAAQ,wBAEjB3O,KAAK+yB,iBAAmB,WACpB/yB,KAAK2uB,gBACL3uB,KAAK2O,QAAQ,wBAEjB3O,KAAKgzB,cAAgB,SAASxlB,EAAKZ,GACb/H,SAAd+H,IACAA,EAAY,kBACZA,EACA5M,KAAK2uB,aAAanhB,GAAOZ,QAElB5M,MAAK2uB,aAAanhB,GAC7BxN,KAAK2O,QAAQ,wBAEjB3O,KAAKizB,gBAAkB,SAASzlB,SACrBxN,MAAK2uB,aAAanhB,GACzBxN,KAAK2O,QAAQ,wBAEjB3O,KAAKkzB,UAAY,SAAS7kB,EAAO6C,EAAOC,EAAMgiB,GAC1C,GAAI9wB,GAAKrC,KAAK+uB,YAEVqE,GACA/kB,MAAQA,EACR8C,KAAOA,GAAQ,OACfkiB,SAAyB,kBAARliB,GAAqBA,EAAO,KAC7CD,MAAQA,EACRiiB,UAAWA,EACX9wB,GAAIA,EAWR,OARI8wB,IACAnzB,KAAK6uB,cAAcxsB,GAAM+wB,EACzBpzB,KAAK2O,QAAQ,uBAEb3O,KAAK8uB,aAAazsB,GAAM+wB,EACxBpzB,KAAK2O,QAAQ,qBAGVtM,GAEXrC,KAAKszB,iBAAmB,SAASF,EAAQD,GACrC,GAAKC,EAAO7hB,OAAZ,CAEA,GAAIlP,GAAKrC,KAAK+uB,WAYd,OAXAqE,GAAO/wB,GAAKA,EACZ+wB,EAAOD,UAAYA,EAEfA,GACAnzB,KAAK6uB,cAAcxsB,GAAM+wB,EACzBpzB,KAAK2O,QAAQ,uBAEb3O,KAAK8uB,aAAazsB,GAAM+wB,EACxBpzB,KAAK2O,QAAQ,qBAGVykB,IAEXpzB,KAAKuzB,aAAe,SAASC,GACzB,GAAIJ,GAASpzB,KAAK6uB,cAAc2E,IAAaxzB,KAAK8uB,aAAa0E,EAC/D,IAAKJ,EAAL,CAGA,GAAIK,GAAUL,EAAOD,QAAUnzB,KAAK6uB,cAAgB7uB,KAAK8uB,YACrDsE,WACQK,GAAQD,GAChBxzB,KAAK2O,QAAQykB,EAAOD,QAAU,oBAAsB,uBAG5DnzB,KAAK0zB,WAAa,SAASP,GACvB,MAAOA,GAAUnzB,KAAK6uB,cAAgB7uB,KAAK8uB,cAG/C9uB,KAAK2zB,UAAY,SAASzb,GACtB,IAAKlY,KAAK4zB,iBAAkB,CACxB,GAAID,GAAY,GAAI3iB,GAAgB,KAAM,oBAAqB,OAC/DhR,MAAK4zB,iBAAmB5zB,KAAKszB,iBAAiBK,GAElD3zB,KAAK4zB,iBAAiBxiB,UAAU8G,IAEpClY,KAAK6zB,eAAiB,SAAStjB,EAAUiE,EAAQtD,EAAOiiB,GAC/B,gBAAV3e,KACPtD,EAAQsD,EACRA,EAASjE,GAERW,IACDA,EAAQ,WAEZ,IAAI7C,GAAQ,GAAI0C,GAAMR,EAAU,EAAGiE,EAAQgL,EAAAA,EAE3C,OADAnR,GAAMhM,GAAKrC,KAAKkzB,UAAU7kB,EAAO6C,EAAO,WAAYiiB,GAC7C9kB,GAEXrO,KAAK8zB,eAAiB,SAASC,GAC3B/zB,KAAKg0B,aAAeD,EACpB/zB,KAAK2O,QAAQ,wBAEjB3O,KAAKi0B,eAAiB,WAClB,MAAOj0B,MAAKg0B,kBAEhBh0B,KAAKk0B,iBAAmB,WACpBl0B,KAAK8zB,oBAET9zB,KAAKm0B,eAAiB,SAAS9vB,GAC3B,GAAIuN,GAAQvN,EAAKuN,MAAM,eACnBA,GACA5R,KAAKo0B,aAAexiB,EAAM,GAE1B5R,KAAKo0B,aAAe,MAG5Bp0B,KAAKspB,aAAe,SAAS9b,EAAKpE,GAC9B,GAAIwH,GAAO5Q,KAAK8O,QAAQtB,GAEpB6mB,GAAU,CAOd,IANIjrB,EAAS,IACTirB,IAAYzjB,EAAK/O,OAAOuH,EAAS,GAAGwI,MAAM5R,KAAK2e,UAE9C0V,IACDA,IAAYzjB,EAAK/O,OAAOuH,GAAQwI,MAAM5R,KAAK2e,UAE3C0V,EACA,GAAInc,GAAKlY,KAAK2e,YACb,IAAI,QAAQ1G,KAAKrH,EAAK7O,MAAMqH,EAAO,EAAGA,EAAO,IAC9C,GAAI8O,GAAK,SAET,IAAIA,GAAKlY,KAAK4e,UAElB,IAAIvV,GAAQD,CACZ,IAAIC,EAAQ,EAAG,CACX,EACIA,WAEGA,GAAS,GAAKuH,EAAK/O,OAAOwH,GAAOuI,MAAMsG,GAC9C7O,KAIJ,IADA,GAAIiC,GAAMlC,EACHkC,EAAMsF,EAAKlQ,QAAUkQ,EAAK/O,OAAOyJ,GAAKsG,MAAMsG,IAC/C5M,GAGJ,OAAO,IAAIyF,GAAMvD,EAAKnE,EAAOmE,EAAKlC,IAEtCtL,KAAKypB,cAAgB,SAASjc,EAAKpE,GAI/B,IAHA,GAAIkrB,GAAYt0B,KAAKspB,aAAa9b,EAAKpE,GACnCwH,EAAO5Q,KAAK8O,QAAQwlB,EAAUhpB,IAAIkC,KAE/BoD,EAAK/O,OAAOyyB,EAAUhpB,IAAIlC,QAAQwI,MAAM,UAC3C0iB,EAAUhpB,IAAIlC,QAAU,CAE5B,OAAOkrB,IAEXt0B,KAAKu0B,eAAiB,SAASC,GAC3Bx0B,KAAK0D,IAAI6wB,eAAeC,IAE5Bx0B,KAAKy0B,eAAiB,WAClB,MAAOz0B,MAAK0D,IAAI+wB,kBAEpBz0B,KAAK00B,aAAe,SAASC,GAAa30B,KAAKgyB,UAAU,YAAa2C,IACtE30B,KAAK40B,aAAe,WAAa,MAAO50B,MAAK60B,YAC7C70B,KAAK80B,kBAAoB,SAAS5mB,GAC9B,GAAIod,GAAOpd,EAAEE,IACbpO,MAAKqvB,YAAYhmB,MAAMiiB,EAAKjb,OAC5BrQ,KAAK2O,QAAQ,kBAAmBT,IAGpClO,KAAK+hB,UACL/hB,KAAKkyB,MAAQ,KACblyB,KAAK+0B,QAAU,KACf/0B,KAAKmvB,QAAU,SAAS7qB,EAAM0wB,GAC1B,GAAI1wB,GAAwB,gBAATA,GAAmB,CAClC,GAAIA,EAAKua,aACL,MAAO7e,MAAKi1B,cAAc3wB,EAC9B,IAAIqV,GAAUrV,EACV4wB,EAAOvb,EAAQub,SAEnBA,GAAO5wB,GAAQ,eAKnB,OAHKtE,MAAK+hB,OAAO,mBACb/hB,KAAK+hB,OAAO,iBAAmB,GAAI0M,IAEnCzuB,KAAK+hB,OAAOmT,KAAUvb,GACtB3Z,KAAKi1B,cAAcj1B,KAAK+hB,OAAOmT,SAC/BF,GAAMA,OAGVh1B,KAAK+0B,QAAUG,EACfjyB,EAAOkyB,YAAY,OAAQD,GAAO,SAASnY,GACvC,MAAI/c,MAAK+0B,UAAYG,EACVF,GAAMA,IACbh1B,KAAK+hB,OAAOmT,KAAUvb,EACf3Z,KAAKi1B,cAAcj1B,KAAK+hB,OAAOmT,SACtCnY,GAAKA,EAAE0B,OACP1B,EAAI,GAAIA,GAAE0B,KAAK9E,GACVA,IACD3Z,KAAK+hB,OAAOmT,GAAQnY,EACpBA,EAAEiG,IAAMkS,GAEZl1B,KAAKi1B,cAAclY,GACnBiY,GAAMA,OAEZ/wB,KAAKjE,YACFA,KAAKkyB,OACNlyB,KAAKi1B,cAAcj1B,KAAK+hB,OAAO,kBAAkB,MAGzD/hB,KAAKi1B,cAAgB,SAAS3wB,EAAM8wB,GAGhC,GAFKA,IACDp1B,KAAK+0B,QAAUzwB,EAAK0e,KACpBhjB,KAAKkyB,QAAU5tB,EAAnB,CAGAtE,KAAKkyB,MAAQ5tB,EAEbtE,KAAKq1B,cAEDr1B,KAAK60B,YACL70B,KAAKs1B,cAET,IAAIrmB,GAAY3K,EAAKua,cAErB,IAAkCha,SAA/BoK,EAAUsmB,iBAAgC,CACzC,GAAIT,GAAoB90B,KAAK80B,kBAAkB7wB,KAAKjE,KACpDiP,GAAUsmB,iBAAiB,SAAUT,GAGzC,GAAK90B,KAAKqvB,YAONrvB,KAAKqvB,YAAYrf,aAAaf,OAPX,CACnBjP,KAAKqvB,YAAc,GAAIrgB,GAAoBC,EAC3C,IAAIumB,GAAQx1B,IACZA,MAAKqvB,YAAYkG,iBAAiB,SAAU,SAASrnB,GACjDsnB,EAAM7mB,QAAQ,kBAAmBT,KAMzClO,KAAKqvB,YAAYpf,YAAYjQ,KAAKgO,eAElChO,KAAK2e,QAAUra,EAAKqa,QACpB3e,KAAK4e,WAAata,EAAKsa,WAGlBwW,IACDp1B,KAAKssB,SAASmJ,WAAWlJ,IAAItrB,KAAKjB,KAAMA,KAAK01B,aAC7C11B,KAAKgZ,YAAY1U,EAAKqxB,cACtB31B,KAAKqvB,YAAYhmB,MAAM,GACvBrJ,KAAKuV,MAAM,iBAKnBvV,KAAKq1B,YAAc,WACXr1B,KAAKsP,SACLtP,KAAKsP,QAAQsmB,YAEjB51B,KAAKsP,QAAU,MAGnBtP,KAAKs1B,aAAe,WAChB,GAAsB,mBAAXO,SAA2Bx2B,EAAQy2B,SAU1C91B,KAAKsP,QAAU,SATf,KACItP,KAAKsP,QAAUtP,KAAKkyB,MAAMrQ,aAAa7hB,MACzC,MAAOkO,GACL3N,QAAQ6a,IAAI,yBACZ7a,QAAQ6a,IAAIlN,GACZlO,KAAKsP,QAAU,OAM3BtP,KAAK+1B,QAAU,WACX,MAAO/1B,MAAKkyB,OAGhBlyB,KAAKg2B,WAAa,EAClBh2B,KAAKi2B,aAAe,SAASC,GACrBl2B,KAAKg2B,aAAeE,GAAaC,MAAMD,KAG3Cl2B,KAAKg2B,WAAaE,EAClBl2B,KAAK2O,QAAQ,kBAAmBunB,KAEpCl2B,KAAKo2B,aAAe,WAChB,MAAOp2B,MAAKg2B,YAGhBh2B,KAAKq2B,YAAc,EACnBr2B,KAAKs2B,cAAgB,SAASC,GACtBv2B,KAAKq2B,cAAgBE,GAAcJ,MAAMI,KAG7Cv2B,KAAKq2B,YAAcE,EACnBv2B,KAAK2O,QAAQ,mBAAoB4nB;EAErCv2B,KAAKw2B,cAAgB,WACjB,MAAOx2B,MAAKq2B,aAEhBr2B,KAAKy2B,eAAiB,WAElB,MADAz2B,MAAK02B,gBACD12B,KAAK0rB,YACEpd,KAAKC,IAAIvO,KAAK22B,wBAAyB32B,KAAK42B,aAChD52B,KAAK42B,aAGhB52B,KAAK22B,sBAAwB,WACzB,GAA6B,MAAzB32B,KAAK62B,iBAA0B,MAAO72B,MAAK62B,gBAC/C,IAAIC,GAAQ,CAKZ,OAJA92B,MAAK0rB,YAAYpf,QAAQ,SAASyqB,GAC1BA,GAAKA,EAAEH,YAAcE,IACrBA,EAAQC,EAAEH,eAEX52B,KAAKg3B,gBAAkBF,GAGlC92B,KAAK02B,cAAgB,SAASO,GAC1B,GAAIj3B,KAAKsV,WAAa2hB,EAAO,CAGzB,GAFAj3B,KAAKsV,WAAY,EAEbtV,KAAKmV,aACL,MAAOnV,MAAK42B,YAAc52B,KAAKk3B,UAUnC,KAAK,GARD/nB,GAAQnP,KAAK0D,IAAIwpB,cACjB5b,EAAQtR,KAAKiwB,gBACbkH,EAAoB,EACpBC,EAAY,EACZhlB,EAAWpS,KAAK6S,UAAUukB,GAC1BC,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,EAC5C7P,EAAMR,EAAMzO,OAEPS,EAAI,EAAGA,EAAIwO,EAAKxO,IAAK,CAC1B,GAAIA,EAAIk2B,EAAW,CAEf,GADAl2B,EAAIiR,EAAS9G,IAAIkC,IAAM,EACnBrM,GAAKwO,EACL,KACJyC,GAAWpS,KAAK6S,UAAUukB,KAC1BC,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,EAGhC,MAAZlO,EAAMnQ,KACNmQ,EAAMnQ,GAAKnB,KAAKs3B,sBAAsBnoB,EAAMhO,IAAI,IAEhDmQ,EAAMnQ,GAAKg2B,IACXA,EAAoB7lB,EAAMnQ,IAElCnB,KAAK42B,YAAcO,IAG3Bn3B,KAAK8O,QAAU,SAAStB,GACpB,MAAOxN,MAAK0D,IAAIoL,QAAQtB,IAE5BxN,KAAKitB,SAAW,SAAS9c,EAAUC,GAC/B,MAAOpQ,MAAK0D,IAAIupB,SAAS9c,EAAUC,IAEvCpQ,KAAK8I,UAAY,WACb,MAAO9I,MAAK0D,IAAIoF,aAEpB9I,KAAK8X,aAAe,SAASzJ,GACzB,MAAOrO,MAAK0D,IAAIoU,aAAazJ,GAASrO,KAAKsX,UAAUC,aAEzDvX,KAAKqhB,OAAS,SAAS+D,EAAU/gB,GAC7B,MAAOrE,MAAK0D,IAAI2d,OAAO+D,EAAU/gB,IAErCrE,KAAKiF,OAAS,SAASoJ,GACnB,MAAOrO,MAAK0D,IAAIuB,OAAOoJ,IAE3BrO,KAAKu3B,YAAc,SAASlG,EAAQmG,GAChC,GAAKnG,EAAO3wB,OAAZ,CAGAV,KAAKowB,WAAY,CAEjB,KAAK,GADDqH,GAAgB,KACXt2B,EAAIkwB,EAAO3wB,OAAS,EAAGS,IAAK,EAAIA,IAAK,CAC1C,GAAIgN,GAAQkjB,EAAOlwB,EACA,QAAfgN,EAAMijB,OACNpxB,KAAK0D,IAAIg0B,aAAavpB,EAAMkjB,QAC5BoG,EACIz3B,KAAK23B,kBAAkBxpB,EAAMkjB,QAAQ,EAAMoG,IAE/CtpB,EAAMkjB,OAAO/kB,QAAQ,SAASsrB,GAC1B53B,KAAKwV,SAASoiB,EAAUtlB,QACzBtS,MAQX,MALAA,MAAKowB,WAAY,EACjBqH,GACIz3B,KAAKgvB,cACJwI,GACDx3B,KAAKsX,UAAUoQ,kBAAkB+P,GAC9BA,IAEXz3B,KAAK63B,YAAc,SAASxG,EAAQmG,GAChC,GAAKnG,EAAO3wB,OAAZ,CAGAV,KAAKowB,WAAY,CAEjB,KAAK,GADDqH,GAAgB,KACXt2B,EAAI,EAAGA,EAAIkwB,EAAO3wB,OAAQS,IAAK,CACpC,GAAIgN,GAAQkjB,EAAOlwB,EACA,QAAfgN,EAAMijB,QACNpxB,KAAK0D,IAAIo0B,YAAY3pB,EAAMkjB,QAC3BoG,EACIz3B,KAAK23B,kBAAkBxpB,EAAMkjB,QAAQ,EAAOoG,IAQxD,MALAz3B,MAAKowB,WAAY,EACjBqH,GACIz3B,KAAKgvB,cACJwI,GACDx3B,KAAKsX,UAAUoQ,kBAAkB+P,GAC9BA,IAEXz3B,KAAK+3B,cAAgB,SAASC,GAC1Bh4B,KAAKgvB,YAAcgJ,GAGvBh4B,KAAK23B,kBAAoB,SAAStG,EAAQ4G,EAAQR,GAC9C,QAASS,GAAS/pB,GACd,GAAIkT,GACiB,eAAjBlT,EAAMvJ,QAA4C,gBAAjBuJ,EAAMvJ,MAC3C,OAAOqzB,IAAU5W,EAASA,EAG9B,GACIhT,GAAO0P,EADP5P,EAAQkjB,EAAO,GAEf8G,GAAoB,CACpBD,GAAS/pB,IACTE,EAAQ0C,EAAMuF,WAAWnI,EAAME,MAAMhF,MAAO8E,EAAME,MAAM/C,KACxD6sB,GAAoB,IAEpB9pB,EAAQ0C,EAAMuF,WAAWnI,EAAME,MAAMhF,MAAO8E,EAAME,MAAMhF,OACxD8uB,GAAoB,EAGxB,KAAK,GAAIh3B,GAAI,EAAGA,EAAIkwB,EAAO3wB,OAAQS,IAC/BgN,EAAQkjB,EAAOlwB,GACX+2B,EAAS/pB,IACT4P,EAAQ5P,EAAME,MAAMhF,MAChBgF,EAAMiQ,QAAQP,EAAMvQ,IAAKuQ,EAAM3U,UAAW,GAC1CiF,EAAMkW,SAASpW,EAAME,MAAMhF,OAE/B0U,EAAQ5P,EAAME,MAAM/C,IAC0B,GAA1C+C,EAAMiQ,QAAQP,EAAMvQ,IAAKuQ,EAAM3U,SAC/BiF,EAAMmW,OAAOrW,EAAME,MAAM/C,KAE7B6sB,GAAoB,IAEpBpa,EAAQ5P,EAAME,MAAMhF,MAChBgF,EAAMiQ,QAAQP,EAAMvQ,IAAKuQ,EAAM3U,UAAW,IAC1CiF,EACI0C,EAAMuF,WAAWnI,EAAME,MAAMhF,MAAO8E,EAAME,MAAMhF,QAExD8uB,GAAoB,EAG5B,IAAqB,MAAjBV,EAAuB,CACuC,IAA1D1mB,EAAMkS,cAAcwU,EAAcpuB,MAAOgF,EAAMhF,SAC/CouB,EAAcpuB,MAAMD,QAAUiF,EAAM/C,IAAIlC,OAASiF,EAAMhF,MAAMD,OAC7DquB,EAAcnsB,IAAIlC,QAAUiF,EAAM/C,IAAIlC,OAASiF,EAAMhF,MAAMD,OAG/D,IAAI2J,GAAM0kB,EAAczkB,aAAa3E,EAC1B,IAAP0E,EACA1E,EAAMkW,SAASkT,EAAcpuB,OACtB0J,IAAO,GACd1E,EAAMmW,OAAOiT,EAAcnsB,KAInC,MAAO+C,IAEXrO,KAAKkC,QAAU,SAASmM,EAAOhK,GAC3B,MAAOrE,MAAK0D,IAAIxB,QAAQmM,EAAOhK,IAEnCrE,KAAKo4B,SAAW,SAASC,EAAWC,EAAYC,GAC5C,GAAIl0B,GAAOrE,KAAK8X,aAAaugB,GACzB/lB,EAAQtS,KAAK2S,gBAAgB0lB,GAE7BG,EAAUznB,EAAMuF,WAAWgiB,EAAYA,EAC3C,KAAKC,EAAM,CACPv4B,KAAKiF,OAAOozB,EACZ,IAAII,GAAUJ,EAAUhvB,MAAMmE,IAAM6qB,EAAU/sB,IAAIkC,IAC9CkrB,EAAWD,GAAWJ,EAAU/sB,IAAIlC,OAASivB,EAAUhvB,MAAMD,OAASivB,EAAU/sB,IAAIlC,MACpFsvB,KACIF,EAAQnvB,MAAMmE,KAAO6qB,EAAU/sB,IAAIkC,KAAOgrB,EAAQnvB,MAAMD,OAASivB,EAAU/sB,IAAIlC,SAC/EovB,EAAQnvB,MAAMD,QAAUsvB,GACxBF,EAAQltB,IAAIkC,KAAO6qB,EAAU/sB,IAAIkC,KAAOgrB,EAAQltB,IAAIlC,OAASivB,EAAU/sB,IAAIlC,SAC3EovB,EAAQltB,IAAIlC,QAAUsvB,IAE1BD,GAAWD,EAAQnvB,MAAMmE,KAAO6qB,EAAU/sB,IAAIkC,MAC9CgrB,EAAQnvB,MAAMmE,KAAOirB,EACrBD,EAAQltB,IAAIkC,KAAOirB,GAK3B,GADAD,EAAQltB,IAAMtL,KAAKqhB,OAAOmX,EAAQnvB,MAAOhF,GACrCiO,EAAM5R,OAAQ,CACd,GAAIi4B,GAAWN,EAAUhvB,MACrBuvB,EAAWJ,EAAQnvB,MACnBovB,EAAUG,EAASprB,IAAMmrB,EAASnrB,IAClCkrB,EAAWE,EAASxvB,OAASuvB,EAASvvB,MAC1CpJ,MAAKwV,SAASlD,EAAM/F,IAAI,SAASP,GAQ7B,MAPAA,GAAIA,EAAEkL,QACFlL,EAAE3C,MAAMmE,KAAOmrB,EAASnrB,MACxBxB,EAAE3C,MAAMD,QAAUsvB,GAClB1sB,EAAEV,IAAIkC,KAAOmrB,EAASnrB,MACtBxB,EAAEV,IAAIlC,QAAUsvB,GACpB1sB,EAAE3C,MAAMmE,KAAOirB,EACfzsB,EAAEV,IAAIkC,KAAOirB,EACNzsB,KAIf,MAAOwsB,IAEXx4B,KAAK64B,WAAa,SAAStoB,EAAUiE,EAAQskB,GACzCA,EAAeA,EAAa52B,QAAQ,MAAOlC,KAAK6xB,eAChD,KAAK,GAAIrkB,GAAI+C,EAAU/C,GAAKgH,EAAQhH,IAChCxN,KAAKqhB,QAAQ7T,IAAKA,EAAKpE,OAAO,GAAI0vB,IAE1C94B,KAAK+4B,YAAc,SAAU1qB,GAKzB,IAAK,GAJD2qB,GAAW3qB,EAAMyW,eACjBmU,EAAc,GAAIloB,GAAM,EAAG,EAAG,EAAG,GACjCmoB,EAAOl5B,KAAK0f,aAEPve,EAAI63B,EAAS3vB,MAAMmE,IAAKrM,GAAK63B,EAAS1tB,IAAIkC,MAAOrM,EAAG,CACzD,GAAIyP,GAAO5Q,KAAK8O,QAAQ3N,EAExB83B,GAAY5vB,MAAMmE,IAAMrM,EACxB83B,EAAY3tB,IAAIkC,IAAMrM,CACtB,KAAK,GAAI2Q,GAAI,EAAGA,EAAIonB,GACM,KAAlBtoB,EAAK/O,OAAOiQ,KADQA,GAGxBA,EAAIonB,GAA0B,MAAlBtoB,EAAK/O,OAAOiQ,IACxBmnB,EAAY5vB,MAAMD,OAAS0I,EAC3BmnB,EAAY3tB,IAAIlC,OAAS0I,EAAI,IAE7BmnB,EAAY5vB,MAAMD,OAAS,EAC3B6vB,EAAY3tB,IAAIlC,OAAS0I,GAE7B9R,KAAKiF,OAAOg0B,KAIpBj5B,KAAKm5B,WAAa,SAAShpB,EAAUC,EAAS2H,GAG1C,GAFA5H,EAAWnQ,KAAK0W,gBAAgBvG,GAChCC,EAAUpQ,KAAKyW,cAAcrG,GACzB2H,EAAM,EAAG,CACT,GAAIvK,GAAMxN,KAAK0W,gBAAgBvG,EAAW4H,EAC1C,IAAIvK,EAAM,EAAG,MAAO,EACpB,IAAI4rB,GAAO5rB,EAAI2C,MACZ,IAAI4H,EAAM,EAAG,CAChB,GAAIvK,GAAMxN,KAAKyW,cAAcrG,EAAU2H,EACvC,IAAIvK,EAAMxN,KAAK0D,IAAIoF,YAAY,EAAG,MAAO,EACzC,IAAIswB,GAAO5rB,EAAI4C,MACZ,CACHD,EAAWnQ,KAAKq5B,mBAAmBlpB,GACnCC,EAAUpQ,KAAKq5B,mBAAmBjpB,EAClC,IAAIgpB,GAAOhpB,EAAUD,EAAW,EAGpC,GAAI9B,GAAQ,GAAI0C,GAAMZ,EAAU,EAAGC,EAASyd,OAAOC,WAC/Cxb,EAAQtS,KAAK2S,gBAAgBtE,GAAO9B,IAAI,SAASP,GAIjD,MAHAA,GAAIA,EAAEkL,QACNlL,EAAE3C,MAAMmE,KAAO4rB,EACfptB,EAAEV,IAAIkC,KAAO4rB,EACNptB,IAGPmD,EAAe,GAAP4I,EACN/X,KAAK0D,IAAIupB,SAAS9c,EAAUC,GAC5BpQ,KAAK0D,IAAI41B,YAAYnpB,EAAUC,EAGrC,OAFApQ,MAAK0D,IAAI61B,YAAYppB,EAASipB,EAAMjqB,GACpCmD,EAAM5R,QAAUV,KAAKwV,SAASlD,GACvB8mB,GAEXp5B,KAAKw5B,YAAc,SAASrpB,EAAUC,GAClC,MAAOpQ,MAAKm5B,WAAWhpB,EAAUC,GAAS,IAE9CpQ,KAAKy5B,cAAgB,SAAStpB,EAAUC,GACpC,MAAOpQ,MAAKm5B,WAAWhpB,EAAUC,EAAS,IAE9CpQ,KAAK05B,eAAiB,SAASvpB,EAAUC,GACrC,MAAOpQ,MAAKm5B,WAAWhpB,EAAUC,EAAS,IAI9CpQ,KAAKq5B,mBAAqB,SAAS7rB,GAC/B,MAAOc,MAAKC,IAAI,EAAGD,KAAKS,IAAIvB,EAAKxN,KAAK0D,IAAIoF,YAAY,KAG1D9I,KAAK25B,iBAAmB,SAASnsB,EAAKpE,GAClC,MAAIA,GAAS,EACF,EACJkF,KAAKS,IAAI/O,KAAK0D,IAAIoL,QAAQtB,GAAK9M,OAAQ0I,IAIlDpJ,KAAK+N,wBAA0B,SAASP,EAAKpE,GAGzC,GAFAA,EAASkF,KAAKC,IAAI,EAAGnF,GAEjBoE,EAAM,EACNA,EAAM,EACNpE,EAAS,MACN,CACH,GAAIuG,GAAM3P,KAAK0D,IAAIoF,WACf0E,IAAOmC,GACPnC,EAAMmC,EAAM,EACZvG,EAASpJ,KAAK0D,IAAIoL,QAAQa,EAAI,GAAGjP,QAEjC0I,EAASkF,KAAKS,IAAI/O,KAAK0D,IAAIoL,QAAQtB,GAAK9M,OAAQ0I,GAIxD,OACIoE,IAAKA,EACLpE,OAAQA,IAIhBpJ,KAAKsU,qBAAuB,SAASjG,GAC7BA,EAAMhF,MAAMmE,IAAM,GAClBa,EAAMhF,MAAMmE,IAAM,EAClBa,EAAMhF,MAAMD,OAAS,GAErBiF,EAAMhF,MAAMD,OAASpJ,KAAK25B,iBACtBtrB,EAAMhF,MAAMmE,IACZa,EAAMhF,MAAMD,OAIpB,IAAIuG,GAAM3P,KAAK0D,IAAIoF,YAAc,CAUjC,OATIuF,GAAM/C,IAAIkC,IAAMmC,GAChBtB,EAAM/C,IAAIkC,IAAMmC,EAChBtB,EAAM/C,IAAIlC,OAASpJ,KAAK0D,IAAIoL,QAAQa,GAAKjP,QAEzC2N,EAAM/C,IAAIlC,OAASpJ,KAAK25B,iBACpBtrB,EAAM/C,IAAIkC,IACVa,EAAM/C,IAAIlC,QAGXiF,GAEXrO,KAAKk3B,WAAa,GAClBl3B,KAAKmV,cAAe,EACpBnV,KAAK45B,iBACD7qB,IAAM,KACNR,IAAM,MAEVvO,KAAK65B,eAAiB,SAASC,GAC3B,GAAIA,GAAe95B,KAAKmV,aAAc,CAIlC,GAHAnV,KAAKmV,aAAe2kB,EACpB95B,KAAKsV,WAAY,EACjBtV,KAAKuvB,eAAe,GAChBuK,EAAa,CACb,GAAInqB,GAAM3P,KAAK8I,WACf9I,MAAKgwB,UAAYvlB,MAAMkF,GACvB3P,KAAKoV,gBAAgB,EAAGzF,EAAM,GAGlC3P,KAAK2O,QAAQ,oBAGrB3O,KAAK+5B,eAAiB,WAClB,MAAO/5B,MAAKmV,cAEhBnV,KAAKg6B,kBAAoB,SAASjrB,EAAKR,GAC/BvO,KAAK45B,gBAAgB7qB,MAAQA,GAAO/O,KAAK45B,gBAAgBrrB,MAAQA,IACjEvO,KAAK45B,iBACD7qB,IAAKA,EACLR,IAAKA,GAETvO,KAAKsV,WAAY,EACjBtV,KAAK2O,QAAQ,oBAGrB3O,KAAKi6B,gBAAkB,SAASC,EAAcC,GAC1C,GAAIC,GAASp6B,KAAK45B,eACdQ,GAAO7rB,IAAM,IACb6rB,GAAUrrB,IAAKorB,EAAc5rB,IAAK4rB,GACtC,IAAIE,GAAYr6B,KAAKs6B,oBAAoBJ,EAAcE,EAAOrrB,IAAKqrB,EAAO7rB,IAC1E,OAAI8rB,IAAar6B,KAAKk3B,YAAcmD,EAAY,IAC5Cr6B,KAAKk3B,WAAamD,EAClBr6B,KAAKsV,WAAY,EACbtV,KAAKmV,eACLnV,KAAKoV,gBAAgB,EAAGpV,KAAK8I,YAAc,GAC3C9I,KAAKuvB,eAAe,GACpBvvB,KAAK2O,QAAQ,qBAEV,IAKf3O,KAAKs6B,oBAAsB,SAASD,EAAWtrB,EAAKR,GAOhD,MANIQ,KACAsrB,EAAY/rB,KAAKC,IAAIQ,EAAKsrB,IAE1B9rB,IACA8rB,EAAY/rB,KAAKS,IAAIR,EAAK8rB,IAEvBA,GAEXr6B,KAAKu6B,aAAe,WAChB,MAAOv6B,MAAKk3B,YAEhBl3B,KAAKw6B,aAAe,SAAUC,GAC1Bz6B,KAAKg6B,kBAAkBS,EAAOA,IAElCz6B,KAAK06B,kBAAoB,WACrB,OACI3rB,IAAM/O,KAAK45B,gBAAgB7qB,IAC3BR,IAAMvO,KAAK45B,gBAAgBrrB,MAInCvO,KAAKmwB,4BAA8B,SAASjiB,GACxC,GACIyB,GADAmqB,EAAc95B,KAAKmV,aAEnBvQ,EAASsJ,EAAEE,KAAKxJ,OAChBuL,EAAWjC,EAAEE,KAAKC,MAAMhF,MAAMmE,IAC9B4C,EAAUlC,EAAEE,KAAKC,MAAM/C,IAAIkC,IAC3BnE,EAAQ6E,EAAEE,KAAKC,MAAMhF,MACrBiC,EAAM4C,EAAEE,KAAKC,MAAM/C,IACnB4kB,EAAe,IAcnB,IAZItrB,EAAOlD,QAAQ,WAAY,GAEvB0O,EADU,eAAVxL,EACUuL,EAAYjC,EAAEE,KAAKe,MAAY,OAE/BgB,EAEdR,EAAMzB,EAAEE,KAAKe,MAAQjB,EAAEE,KAAKe,MAAMzO,OAAS0P,EAAUD,GAErDR,EAAMS,EAAUD,EAGpBnQ,KAAK4V,WAAY,EACN,GAAPjG,EACA,GAAI/K,EAAOlD,QAAQ,YAAa,EAAI,CAChC1B,KAAK85B,EAAc,YAAc,mBAAmB7tB,OAAOkE,EAAUR,EAErE,IAAIiD,GAAY5S,KAAK6S,SACrBqd,GAAelwB,KAAK2S,gBAAgBzE,EAAEE,KAAKC,OAC3CrO,KAAK6U,YAAYqb,EAEjB,IAAI9d,GAAWpS,KAAKqS,YAAY/G,EAAIkC,KAChC+N,EAAM,CACV,IAAInJ,EAAU,CACVA,EAAS+I,eAAe7P,EAAIkC,IAAKlC,EAAIlC,OAAQC,EAAMD,OAASkC,EAAIlC,QAChEgJ,EAASuI,UAAUhL,EAEnB,IAAIgrB,GAAiB36B,KAAKqS,YAAYlC,EAClCwqB,IAAkBA,IAAmBvoB,IACrCuoB,EAAe1lB,MAAM7C,GACrBA,EAAWuoB,GAEfpf,EAAM3I,EAAUlR,QAAQ0Q,GAAY,EAGxC,IAAKmJ,EAAKA,EAAM3I,EAAUlS,OAAQ6a,IAAO,CACrC,GAAInJ,GAAWQ,EAAU2I,EACrBnJ,GAAS/I,MAAMmE,KAAOlC,EAAIkC,KAC1B4E,EAASuI,UAAUhL,GAI3BS,EAAUD,MACP,CACH,GAAItE,GAAOpB,MAAMkF,EACjB9D,GAAKb,QAAQmF,EAAU,EACvB,IAAIyqB,GAAMd,EAAc95B,KAAKgwB,UAAYhwB,KAAKiwB,eAC9C2K,GAAI3uB,OAAO7L,MAAMw6B,EAAK/uB,EACtB,IAAI+G,GAAY5S,KAAK6S,UACjBT,EAAWpS,KAAKqS,YAAYlC,GAC5BoL,EAAM,CACV,IAAInJ,EAAU,CACV,GAAIW,GAAMX,EAAS/D,MAAMuW,cAAcvb,EAAMmE,IAAKnE,EAAMD,OAC7C,IAAP2J,GACAX,EAAWA,EAASxQ,MAAMyH,EAAMmE,IAAKnE,EAAMD,QAC3CgJ,EAASuI,SAAShL,GAClByC,EAAS+I,eACL/K,EAAS,EAAG9E,EAAIlC,OAASC,EAAMD,SAEnC2J,IAAO,IACPX,EAAS+I,eAAehL,EAAU,EAAG7E,EAAIlC,OAASC,EAAMD,QACxDgJ,EAASuI,SAAShL,IAEtB4L,EAAM3I,EAAUlR,QAAQ0Q,GAAY,EAGxC,IAAKmJ,EAAKA,EAAM3I,EAAUlS,OAAQ6a,IAAO,CACrC,GAAInJ,GAAWQ,EAAU2I,EACrBnJ,GAAS/I,MAAMmE,KAAO2C,GACtBiC,EAASuI,SAAShL,QAI3B,CACHA,EAAMrB,KAAKusB,IAAI3sB,EAAEE,KAAKC,MAAMhF,MAAMD,OAAS8E,EAAEE,KAAKC,MAAM/C,IAAIlC,QACxDxE,EAAOlD,QAAQ,YAAa,IAC5BwuB,EAAelwB,KAAK2S,gBAAgBzE,EAAEE,KAAKC,OAC3CrO,KAAK6U,YAAYqb,GAEjBvgB,GAAOA,EAEX,IAAIyC,GAAWpS,KAAKqS,YAAYlC,EAC5BiC,IACAA,EAAS+I,eAAehL,EAAU9G,EAAMD,OAAQuG,GAcxD,MAVImqB,IAAe95B,KAAKgwB,UAAUtvB,QAAUV,KAAK0D,IAAIoF,aACjDvI,QAAQC,MAAM,6DAElBR,KAAK4V,WAAY,EAEbkkB,EACA95B,KAAKoV,gBAAgBjF,EAAUC,GAE/BpQ,KAAKqV,sBAAsBlF,EAAUC,GAElC8f,GAGXlwB,KAAKqV,sBAAwB,SAASlF,EAAUC,EAAS4D,GACrDhU,KAAKiwB,gBAAgB9f,GAAY,KACjCnQ,KAAKiwB,gBAAgB7f,GAAW,MAGpCpQ,KAAKoV,gBAAkB,SAASjF,EAAUC,GACtC,GAIIU,GACAsB,EALAjD,EAAQnP,KAAK0D,IAAIwpB,cACjBzN,EAAUzf,KAAK0f,aACfob,EAAW96B,KAAKgwB,UAChBqK,EAAYr6B,KAAKk3B,WAIjB1pB,EAAM2C,CAEV,KADAC,EAAU9B,KAAKS,IAAIqB,EAASjB,EAAMzO,OAAS,GACpC8M,GAAO4C,GACVgC,EAAWpS,KAAKqS,YAAY7E,EAAK4E,GAC5BA,GAKDtB,KACAsB,EAASyE,KAAK,SAAS3C,EAAa1G,EAAKpE,EAAQ0N,GACzC,GAAIikB,EACJ,IAAmB,MAAf7mB,EAAqB,CACrB6mB,EAAa/6B,KAAKg7B,kBACF9mB,EAAapD,EAAOpQ,QACpCq6B,EAAW,GAAKE,CAChB,KAAK,GAAI95B,GAAI,EAAGA,EAAI45B,EAAWr6B,OAAQS,IACnC45B,EAAW55B,GAAK+5B,MAGpBH,GAAa/6B,KAAKg7B,kBACd7rB,EAAM3B,GAAKgG,UAAUsD,EAAY1N,GACjC0H,EAAOpQ,OAEfoQ,GAASA,EAAOhF,OAAOivB,IACzB92B,KAAKjE,MACPoS,EAAS9G,IAAIkC,IACb2B,EAAMiD,EAAS9G,IAAIkC,KAAK9M,OAAS,GAGrCo6B,EAAS1oB,EAAS/I,MAAMmE,KAAOxN,KAAKm7B,mBAAmBrqB,EAAQupB,EAAW5a,GAC1EjS,EAAM4E,EAAS9G,IAAIkC,IAAM,IA1BzBsD,EAAS9Q,KAAKg7B,kBAAkB7rB,EAAM3B,IACtCstB,EAASttB,GAAOxN,KAAKm7B,mBAAmBrqB,EAAQupB,EAAW5a,GAC3DjS,KA4BZ,IAAI4tB,GAAO,EACPC,EAAW,EACXJ,EAAoB,EACpBC,EAAoB,EACpBI,EAAc,EACdC,EAAQ,GACRC,EAAM,GACNC,EAAY,EAGhBz7B,MAAKm7B,mBAAqB,SAASrqB,EAAQupB,GAWvC,QAASqB,GAASlQ,GACd,GAAImQ,GAAY7qB,EAAO/O,MAAM65B,EAAWpQ,GACpC7b,EAAMgsB,EAAUj7B,MACpBi7B,GAAU35B,KAAK,IACXE,QAAQ,MAAO,WACXyN,GAAO,IAEXzN,QAAQ,KAAM,WACVyN,GAAO,IAGfksB,GAAgBlsB,EAChBmsB,EAAOv6B,KAAKs6B,GACZD,EAAYpQ,EAvBhB,GAAqB,GAAjB1a,EAAOpQ,OACP,QAyBJ,KAtBA,GAAIo7B,MACAC,EAAgBjrB,EAAOpQ,OACvBk7B,EAAY,EAAGC,EAAe,EAE9BG,EAASh8B,KAAKi8B,YAkBXF,EAAgBH,EAAYvB,GAAW,CAC1C,GAAIz4B,GAAQg6B,EAAYvB,CACxB,IAAIvpB,EAAOlP,EAAQ,IAAM25B,GAASzqB,EAAOlP,IAAU25B,EAC/CG,EAAS95B,OAGb,IAAIkP,EAAOlP,IAAUq5B,GAAqBnqB,EAAOlP,IAAUs5B,EAA3D,CAuBA,IADA,GAAIgB,GAAW5tB,KAAKC,IAAI3M,GAASo6B,EAAS,GAAK3B,GAAWA,GAAW,IAAKuB,EAAY,GAC/Eh6B,EAAQs6B,GAAYprB,EAAOlP,GAASq5B,GACvCr5B,GAEJ,IAAIo6B,EAAQ,CACR,KAAOp6B,EAAQs6B,GAAYprB,EAAOlP,GAASq5B,GACvCr5B,GAEJ,MAAOA,EAAQs6B,GAAYprB,EAAOlP,IAAU05B,GACxC15B,QAGJ,MAAOA,EAAQs6B,GAAYprB,EAAOlP,GAAS25B,GACvC35B,GAGJA,GAAQs6B,EACRR,IAAW95B,IAGfA,EAAQg6B,EAAYvB,EACpBqB,EAAS95B,QA3CT,CACI,IAAKA,EAAOA,GAASg6B,EAAY,GACzB9qB,EAAOlP,IAAUq5B,EADWr5B,KAKpC,GAAIA,EAAQg6B,EAAW,CACnBF,EAAS95B,EACT,UAGJ,IADAA,EAAQg6B,EAAYvB,EACRz4B,EAAQkP,EAAOpQ,QACnBoQ,EAAOlP,IAAUs5B,EADUt5B,KAKnC,GAAIA,GAASkP,EAAOpQ,OAChB,KAEJg7B,GAAS95B,IA0BjB,MAAOk6B,IAEX97B,KAAKg7B,kBAAoB,SAAS3nB,EAAKxB,GACnC,GACI4N,GADAmb,IAEJ/oB,GAASA,GAAU,CAEnB,KAAK,GAAI1Q,GAAI,EAAGA,EAAIkS,EAAI3S,OAAQS,IAAK,CACjC,GAAIqY,GAAInG,EAAI8oB,WAAWh7B,EACvB,IAAS,GAALqY,EAAQ,CACRiG,EAAUzf,KAAKo8B,iBAAiBxB,EAAIl6B,OAASmR,GAC7C+oB,EAAIr5B,KAAKi6B,EACT,KAAK,GAAItX,GAAI,EAAGA,EAAIzE,EAASyE,IACzB0W,EAAIr5B,KAAKk6B,OAGH,KAALjiB,EACLohB,EAAIr5B,KAAKg6B,GACF/hB,EAAI,IAAMA,EAAI,IAAQA,EAAI,IAAMA,EAAI,GAC3CohB,EAAIr5B,KAAK+5B,GAEJ9hB,GAAK,MAAU4V,EAAY5V,GAChCohB,EAAIr5B,KAAK65B,EAAMC,GAEfT,EAAIr5B,KAAK65B,GAGjB,MAAOR,IAEX56B,KAAKs3B,sBAAwB,SAASjkB,EAAKgpB,EAAiBC,GACxD,GAAuB,GAAnBD,EACA,OAAQ,EAAG,EACQ,OAAnBA,IACAA,EAAkB7c,EAAAA,GACtB8c,EAAeA,GAAgB,CAE/B,IAAI9iB,GAAGpQ,CACP,KAAKA,EAAS,EAAGA,EAASiK,EAAI3S,SAC1B8Y,EAAInG,EAAI8oB,WAAW/yB,GAEfkzB,GADK,GAAL9iB,EACgBxZ,KAAKo8B,iBAAiBE,GAEjC9iB,GAAK,MAAU4V,EAAY5V,GAChB,EAEA,IAEhB8iB,EAAeD,IAVejzB,KAetC,OAAQkzB,EAAclzB,IAG1BpJ,KAAK0rB,YAAc,KACnB1rB,KAAKu8B,aAAe,SAAS/uB,GACzB,GAAIxN,KAAK0rB,YACL,GAAI8Q,GAAIx8B,KAAK0rB,YAAYle,IAAQxN,KAAK0rB,YAAYle,GAAK3E,UAAY,MAEnE2zB,GAAI,CACR,OAAKx8B,MAAKmV,cAAiBnV,KAAKgwB,UAAUxiB,GAG/BxN,KAAKgwB,UAAUxiB,GAAK9M,OAAS,EAAI87B,EAFjC,EAAIA,GAKnBx8B,KAAKy8B,gBAAkB,SAASjvB,GAC5B,MAAKxN,MAAKmV,cAAiBnV,KAAKgwB,UAAUxiB,GAG/BxN,KAAKgwB,UAAUxiB,GAAK9M,OAAS,EAF7B,GAKfV,KAAK08B,uBAAyB,SAASzS,GACnC,GAAIxb,GAAMzO,KAAKoqB,yBAAyBH,EAAW4D,OAAOC,UAC1D,OAAO9tB,MAAK28B,uBAAuBluB,EAAIjB,IAAKiB,EAAIrF,SAEpDpJ,KAAK48B,yBAA2B,SAASnpB,EAAQopB,GAC7C,GAAI5S,GAAYjqB,KAAKkqB,oBAAoBzW,EAAQopB,EACjD,OAAO78B,MAAK08B,uBAAuBzS,IAEvCjqB,KAAKyqB,iCAAmC,SAAShX,EAAQopB,GACrD,GAAI5S,GAAYjqB,KAAKkqB,oBAAoBzW,EAAQopB,EACjD,OAAO78B,MAAKoqB,yBAAyBH,EAAW4D,OAAOC,UAAY,KAEvE9tB,KAAK88B,gBAAkB,SAAStvB,GAC5B,MAAKxN,MAAKmV,aAGCnV,KAAKgwB,UAAUxiB,GAFtB,QAKRxN,KAAKo8B,iBAAmB,SAASE,GAC7B,MAAOt8B,MAAKqyB,SAAWiK,EAAet8B,KAAKqyB,UAI/CryB,KAAK+8B,oBAAsB,SAAS9S,EAAWqS,GAC3C,MAAOt8B,MAAKoqB,yBAAyBH,EAAWqS,GAAc9uB,KAIlExN,KAAKg9B,uBAAyB,SAAS/S,EAAWqS,GAC9C,MAAOt8B,MAAKoqB,yBAAyBH,EAAWqS,GAAclzB,QAElEpJ,KAAKoqB,yBAA2B,SAASH,EAAWqS,GAChD,GAAIrS,EAAY,EACZ,OAAQzc,IAAK,EAAGpE,OAAQ,EAE5B,IAAIwH,GAGAxH,EAFAqK,EAAS,EACTopB,EAAY,EAEZrvB,EAAM,EACNyvB,EAAY,EAEZC,EAAWl9B,KAAKyvB,gBAChBtuB,EAAInB,KAAK0vB,kBAAkBwN,EAAUjT,GACrC7oB,EAAI87B,EAASx8B,MACjB,IAAIU,GAAKD,GAAK,EACV,GAAIqM,GAAM0vB,EAAS/7B,GACfsS,EAASzT,KAAKwvB,aAAaruB,GAC3Bg8B,EAAUlT,EAAYiT,EAAS97B,EAAI,OAEvC,IAAI+7B,IAAW/7B,CAOnB,KAJA,GAAIisB,GAASrtB,KAAK8I,YAAc,EAC5BsJ,EAAWpS,KAAK4T,gBAAgBH,GAChC4jB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,EAEzChS,GAAOyc,IACVgT,EAAYj9B,KAAKu8B,aAAa9oB,KAC1BjG,EAAMyvB,EAAYhT,GAAaxW,GAAU4Z,KAGzC7f,GAAOyvB,EACPxpB,IACIA,EAAS4jB,IACT5jB,EAASrB,EAAS9G,IAAIkC,IAAI,EAC1B4E,EAAWpS,KAAK4T,gBAAgBH,EAAQrB,GACxCilB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,GAIhD2d,IACAn9B,KAAKwvB,aAAajuB,KAAKkS,GACvBzT,KAAKyvB,gBAAgBluB,KAAKiM,GAIlC,IAAI4E,GAAYA,EAAS/I,MAAMmE,KAAOiG,EAClC7C,EAAO5Q,KAAK2W,mBAAmBvE,GAC/BqB,EAASrB,EAAS/I,MAAMmE,QACrB,CAAA,GAAIA,EAAMyvB,GAAahT,GAAaxW,EAAS4Z,EAChD,OACI7f,IAAK6f,EACLjkB,OAAQpJ,KAAK8O,QAAQue,GAAQ3sB,OAGjCkQ,GAAO5Q,KAAK8O,QAAQ2E,GACpBrB,EAAW,KAGf,GAAIpS,KAAKmV,aAAc,CACnB,GAAI2mB,GAAS97B,KAAKgwB,UAAUvc,EAC5B,IAAIqoB,EAAQ,CACR,GAAIsB,GAAa9uB,KAAKwS,MAAMmJ,EAAYzc,EACxCpE,GAAS0yB,EAAOsB,GACbA,EAAa,GAAKtB,EAAOp7B,SACxBm8B,EAAYf,EAAOsB,EAAa,IAAMtB,EAAOA,EAAOp7B,OAAS,GAC7DkQ,EAAOA,EAAK4C,UAAUqpB,KASlC,MAJAA,IAAa78B,KAAKs3B,sBAAsB1mB,EAAM0rB,GAAc,GACxDt8B,KAAKmV,cAAgB0nB,GAAazzB,IAClCyzB,EAAYzzB,EAAS,GAErBgJ,EACOA,EAASkJ,cAAcuhB,IAE1BrvB,IAAKiG,EAAQrK,OAAQyzB,IAEjC78B,KAAKglB,yBAA2B,SAASvR,EAAQopB,GAC7C,GAAyB,mBAAdA,GACP,GAAIpuB,GAAMzO,KAAK+N,wBAAwB0F,EAAOjG,IAAKiG,EAAOrK,YAE1DqF,GAAMzO,KAAK+N,wBAAwB0F,EAAQopB,EAE/CppB,GAAShF,EAAIjB,IACbqvB,EAAYpuB,EAAIrF,MAEhB,IAAI6gB,GAAY,EACZoT,EAAe,KACf9qB,EAAO,IACXA,GAAOvS,KAAKkS,UAAUuB,EAAQopB,EAAW,GACrCtqB,IACAkB,EAASlB,EAAKlJ,MAAMmE,IACpBqvB,EAAYtqB,EAAKlJ,MAAMD,OAG3B,IAAIwgB,GAAQpc,EAAM,EAGd0vB,EAAWl9B,KAAKwvB,aAChBruB,EAAInB,KAAK0vB,kBAAkBwN,EAAUzpB,GACrCrS,EAAI87B,EAASx8B,MACjB,IAAIU,GAAKD,GAAK,EACV,GAAIqM,GAAM0vB,EAAS/7B,GACf8oB,EAAYjqB,KAAKyvB,gBAAgBtuB,GACjCg8B,EAAU1pB,EAASypB,EAAS97B,EAAI,OAEpC,IAAI+7B,IAAW/7B,CAMnB,KAHA,GAAIgR,GAAWpS,KAAK4T,gBAAgBpG,GAChC6pB,EAAYjlB,EAAUA,EAAS/I,MAAMmE,IAAKgS,EAAAA,EAEvChS,EAAMiG,GAAQ,CACjB,GAAIjG,GAAO6pB,EAAW,CAElB,GADAzN,EAASxX,EAAS9G,IAAIkC,IAAM,EACxBoc,EAASnW,EACT,KACJrB,GAAWpS,KAAK4T,gBAAgBgW,EAAQxX,GACxCilB,EAAYjlB,EAAUA,EAAS/I,MAAMmE,IAAKgS,EAAAA,MAG1CoK,GAASpc,EAAM,CAGnByc,IAAajqB,KAAKu8B,aAAa/uB,GAC/BA,EAAMoc,EAEFuT,IACAn9B,KAAKwvB,aAAajuB,KAAKiM,GACvBxN,KAAKyvB,gBAAgBluB,KAAK0oB,IAGlC,GAAIrT,GAAW,EAQf,IAPIxE,GAAY5E,GAAO6pB,GACnBzgB,EAAW5W,KAAK2W,mBAAmBvE,EAAUqB,EAAQopB,GACrDQ,EAAejrB,EAAS/I,MAAMmE,MAE9BoJ,EAAW5W,KAAK8O,QAAQ2E,GAAQD,UAAU,EAAGqpB,GAC7CQ,EAAe5pB,GAEfzT,KAAKmV,aAAc,CACnB,GAAImoB,GAAUt9B,KAAKgwB,UAAUqN,EAC7B,IAAIC,EAAS,CAET,IADA,GAAIC,GAAkB,EACf3mB,EAASlW,QAAU48B,EAAQC,IAC9BtT,IACAsT,GAEJ3mB,GAAWA,EAASpD,UAChB8pB,EAAQC,EAAkB,IAAM,EAAG3mB,EAASlW,SAKxD,OACI8M,IAAKyc,EACL7gB,OAAQpJ,KAAKs3B,sBAAsB1gB,GAAU,KAGrD5W,KAAK28B,uBAAyB,SAASnvB,EAAKqvB,GACxC,MAAO78B,MAAKglB,yBAAyBxX,EAAKqvB,GAAWzzB,QAEzDpJ,KAAKkqB,oBAAsB,SAASzW,EAAQopB,GACxC,MAAO78B,MAAKglB,yBAAyBvR,EAAQopB,GAAWrvB,KAE5DxN,KAAKw9B,gBAAkB,WACnB,GAAIC,GAAa,EACblrB,EAAO,IACX,IAAKvS,KAAKmV,aAaN,IALA,GAAI/E,GAAUpQ,KAAKgwB,UAAUtvB,OACzB8M,EAAM,EAAGrM,EAAI,EACboR,EAAOvS,KAAK6S,UAAU1R,KACtBk2B,EAAY9kB,EAAOA,EAAKlJ,MAAMmE,IAAKgS,EAAAA,EAEhChS,EAAM4C,GAAS,CAClB,GAAI0rB,GAAS97B,KAAKgwB,UAAUxiB,EAC5BiwB,IAAc3B,EAASA,EAAOp7B,OAAS,EAAI,EAC3C8M,IACIA,EAAM6pB,IACN7pB,EAAM+E,EAAKjH,IAAIkC,IAAI,EACnB+E,EAAOvS,KAAK6S,UAAU1R,KACtBk2B,EAAY9kB,EAAMA,EAAKlJ,MAAMmE,IAAKgS,EAAAA,OApBtB,CACpBie,EAAaz9B,KAAK8I,WAElB,KAAK,GADD6K,GAAW3T,KAAK6S,UACX1R,EAAI,EAAGA,EAAIwS,EAASjT,OAAQS,IACjCoR,EAAOoB,EAASxS,GAChBs8B,GAAclrB,EAAKjH,IAAIkC,IAAM+E,EAAKlJ,MAAMmE,IAsBhD,MAHIxN,MAAK0rB,cACL+R,GAAcz9B,KAAK09B,0BAEhBD,GAEXz9B,KAAK29B,gBAAkB,SAASC,OAuCjC38B,KAAK2B,EAAY7B,WAEpB1B,EAAQ,0BAA0B4S,QAAQhR,KAAK2B,EAAY7B,WAC3D1B,EAAQ,gCAAgC8lB,aAAalkB,KAAK2B,EAAY7B,WAGtEkC,EAAO46B,cAAcj7B,EAAY7B,UAAW,WACxCytB,MACIjC,IAAK,SAASjjB,GAUV,GATKA,GAAkB,OAATA,EAEI,QAATA,EACLA,GAAQ,EACM,eAATA,EACLA,GAAQ,EACa,gBAATA,KACZA,EAAQoT,SAASpT,EAAO,MAAO,GAN/BA,GAAQ,EAQRtJ,KAAK89B,OAASx0B,EAAlB,CAEA,GAAKA,EAEE,CACH,GAAIy0B,GAAsB,gBAATz0B,GAAoBA,EAAQ,IAC7CtJ,MAAKg6B,kBAAkB+D,EAAKA,GAC5B/9B,KAAK65B,gBAAe,OAJpB75B,MAAK65B,gBAAe,EAMxB75B,MAAK89B,MAAQx0B,IAEjB00B,IAAK,WACD,MAAIh+B,MAAK+5B,iBACD/5B,KAAK89B,QAAS,EACP,cACN99B,KAAK06B,oBAAoB3rB,IAEvB/O,KAAK89B,MADD,OAGR,OAEXG,YAAY,GAEhBxI,YACIlJ,IAAK,SAASqD,GACVA,EAAa,QAAPA,EACmB,QAAnB5vB,KAAKkyB,MAAM/gB,KACJ,QAAPye,EACFA,GAAO5vB,KAAKi8B,cACZj8B,KAAKi8B,YAAcrM,EACf5vB,KAAKmV,eACLnV,KAAKsV,WAAY,EACjBtV,KAAKuvB,eAAe,GACpBvvB,KAAKoV,gBAAgB,EAAGpV,KAAK8I,YAAc,MAIvDo1B,aAAc,QAElBC,iBACI5R,IAAK,WAAYvsB,KAAK2O,QAAQ,qBAC9BuvB,aAAc,GAElBvJ,WACIpI,IAAK,SAASoI,GACV30B,KAAK60B,WAAaF,EAElB30B,KAAKq1B,cACDV,GACA30B,KAAKs1B,gBAEb4I,cAAc,GAElBE,aAAcF,cAAc,GAC5Bze,SACI8M,IAAK,SAAS9M,GACN0W,MAAM1W,IAAYzf,KAAKqyB,WAAa5S,IAExCzf,KAAKsV,WAAY,EACjBtV,KAAKiwB,mBACLjwB,KAAKqyB,SAAW5S,EAChBzf,KAAK2O,QAAQ,mBAEjBuvB,aAAc,EACdD,YAAY,GAEhBzL,WACIjG,IAAK,SAASqD,GAAM5vB,KAAK2O,QAAQ,oBACjCuvB,cAAc,GAElB1J,aACIjI,IAAK,SAASqD,GAAM5vB,KAAK0D,IAAI6wB,eAAe3E,IAC5CoO,IAAK,WAAY,MAAOh+B,MAAK0D,IAAI+wB,kBACjCwJ,YAAY,GAEhB35B,MACIioB,IAAK,SAASqD,GAAO5vB,KAAKmvB,QAAQS,IAClCoO,IAAK,WAAa,MAAOh+B,MAAK+0B,YAItC5yB,EAAQS,YAAcA,IAEtBjD,OAAO,gCAAiC,UAAW,UAAW,SAAW,cAAe,4BAA6B,yBAA0B,SAASN,EAAS8C,EAAS7C,GAG1K,GAAI+N,GAAMhO,EAAQ,cACdg/B,EAAch/B,EAAQ,4BAA4Bg/B,YAClD/wB,EAAejO,EAAQ,wBAAwBiO,aAE/CgxB,EAAiB,SAASC,EAAUC,GACpCH,EAAYp9B,KAAKjB,KAAMw+B,EAAUD,GACjCv+B,KAAKy+B,OAASz+B,KAAKw+B,SACnBx+B,KAAK0+B,kBAAkB,OAAQ,SAASxwB,GACpC,MAAOA,GAAEywB,QAAQviB,KAAKlO,EAAEzK,OAAQyK,EAAErC,YAI1CwB,GAAI+Q,SAASkgB,EAAgBD,GAE7B,WAEIhxB,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAKoc,KAAO,SAASuiB,EAASl7B,EAAQoI,GAIlC,GAHuB,gBAAZ8yB,KACPA,EAAU3+B,KAAKw+B,SAASG,KAEvBA,EACD,OAAO,CAEX,IAAIl7B,GAAUA,EAAOm7B,YAAcD,EAAQE,SACvC,OAAO,CAEX,IAAI3wB,IAAKzK,OAAQA,EAAQk7B,QAASA,EAAS9yB,KAAMA,GAC7CizB,EAAW9+B,KAAKuV,MAAM,OAAQrH,EAGlC,OAFAlO,MAAK2O,QAAQ,YAAaT,GAEnB4wB,KAAa,GAGxB9+B,KAAK++B,gBAAkB,SAASt7B,GAC5B,IAAIzD,KAAKg/B,UAIT,MADAv7B,IAAUA,EAAO8R,MAAM,gBACnBvV,KAAKi/B,WACLj/B,KAAKk/B,MAAMxpB,MACX1V,KAAK6O,oBAAoB,OAAQ7O,KAAKm/B,oBAEjCn/B,KAAKk/B,MAAMx+B,SACZV,KAAKk/B,MAAQl/B,KAAKo/B,UAEfp/B,KAAKi/B,WAAY,IAEvBj/B,KAAKm/B,qBACNn/B,KAAKm/B,mBAAqB,SAASjxB,GAC/BlO,KAAKk/B,MAAM39B,MAAM2M,EAAEywB,QAASzwB,EAAErC,QAChC5H,KAAKjE,OAGXA,KAAKo/B,SAAWp/B,KAAKk/B,MACrBl/B,KAAKk/B,SACLl/B,KAAKmE,GAAG,OAAQnE,KAAKm/B,oBACdn/B,KAAKi/B,WAAY,IAG5Bj/B,KAAKq/B,OAAS,SAAS57B,GACnB,IAAIzD,KAAKg/B,WAAch/B,KAAKk/B,MAA5B,CAGA,GAAIl/B,KAAKi/B,UACL,MAAOj/B,MAAK++B,gBAAgBt7B,EAEhC,KACIzD,KAAKg/B,WAAY,EACjBh/B,KAAKk/B,MAAM5yB,QAAQ,SAASN,GACR,gBAALA,GACPhM,KAAKoc,KAAKpQ,EAAGvI,GAEbzD,KAAKoc,KAAKpQ,EAAE,GAAIvI,EAAQuI,EAAE,KAC/BhM,MACL,QACEA,KAAKg/B,WAAY,KAIzBh/B,KAAKs/B,UAAY,SAASviB,GACtB,MAAOA,GAAExQ,IAAI,SAASP,GAKlB,MAJmB,gBAARA,GAAE,KACTA,EAAE,GAAKA,EAAE,GAAGrH,MACXqH,EAAE,KACHA,EAAIA,EAAE,IACHA,MAIhB/K,KAAKq9B,EAAev9B,WAEvBoB,EAAQm8B,eAAiBA,IAIzB3+B,OAAO,2BAA4B,UAAW,UAAW,SAAW,eAAgB,iBAAkB,SAASN,EAAS8C,EAAS7C,GAGjI,GAAIigC,GAAWlgC,EAAQ,eACnBqD,EAAQrD,EAAQ,gBAEhBmgC,EAAa,SAAS/7B,GACtBzD,KAAKy/B,QAAUh8B,EACfzD,KAAK0/B,SACL1/B,KAAK2/B,aACL3/B,KAAK0+B,kBAAkBj7B,EAAO+6B,YAGlC,WACIx+B,KAAK0+B,kBAAoB,SAASkB,GAC9B5/B,KAAK6/B,sBAAsB7/B,KAAK8/B,iBAChC9/B,KAAK8/B,gBAAkBF,EACvB5/B,KAAK+/B,mBAAmBH,EAAI,GAC5B5/B,KAAK0/B,OAASj8B,OAAQzD,KAAKy/B,UAG/Bz/B,KAAKggC,mBAAqB,SAASJ,GAC/B,GAAIpD,GAAIx8B,KAAK2/B,SACb,IAAInD,EAAEA,EAAE97B,OAAS,IAAMk/B,EAAvB,CAGA,KAAOpD,EAAEA,EAAE97B,OAAS,IAAM87B,EAAEA,EAAE97B,OAAS,IAAMV,KAAK8/B,iBAC9C9/B,KAAK6/B,sBAAsBrD,EAAEA,EAAE97B,OAAS,GAE5CV,MAAK+/B,mBAAmBH,EAAI,KAGhC5/B,KAAK+/B,mBAAqB,SAASH,EAAInxB,GACnC,GAAKmxB,EAAL,CAEiB,kBAANA,IAAqBA,EAAGK,iBAC/BL,EAAGK,eAAiBL,EACxB,IAAIz+B,GAAInB,KAAK2/B,UAAUj+B,QAAQk+B,EAC3Bz+B,KAAK,GACLnB,KAAK2/B,UAAU1zB,OAAO9K,EAAG,GAElB0D,QAAP4J,EACAzO,KAAK2/B,UAAUp+B,KAAKq+B,GAEpB5/B,KAAK2/B,UAAU1zB,OAAOwC,EAAK,EAAGmxB,GAE9Bz+B,IAAK,GAAMy+B,EAAGjyB,QACdiyB,EAAGjyB,OAAO3N,KAAKy/B,WAGvBz/B,KAAK6/B,sBAAwB,SAASD,GAClC,GAAIz+B,GAAInB,KAAK2/B,UAAUj+B,QAAQk+B,EAC/B,OAAIz+B,KAAK,IAETnB,KAAK2/B,UAAU1zB,OAAO9K,EAAG,GACzBy+B,EAAGhxB,QAAUgxB,EAAGhxB,OAAO5O,KAAKy/B,UACrB,IAGXz/B,KAAKkgC,mBAAqB,WACtB,MAAOlgC,MAAK2/B,UAAU3/B,KAAK2/B,UAAUj/B,OAAS,IAGlDV,KAAKmgC,sBAAwB,SAAUC,EAAQC,EAAWC,EAASpyB,GAK/D,IAAK,GAJDqyB,GACAC,GAAU,EACVhC,EAAWx+B,KAAKy/B,QAAQjB,SAEnBr9B,EAAInB,KAAK2/B,UAAUj/B,OAAQS,MAChCo/B,EAAYvgC,KAAK2/B,UAAUx+B,GAAG8+B,eAC1BjgC,KAAK0/B,MAAOU,EAAQC,EAAWC,EAASpyB,KAEvCqyB,GAAcA,EAAU5B,UAGzB6B,EADqB,QAArBD,EAAU5B,SAGAH,EAASpiB,KAAKmkB,EAAU5B,QAAS3+B,KAAKy/B,QAASc,EAAU10B,KAAMqC,GAEzEsyB,GAAWtyB,GAAKkyB,IAAU,GACH,GAAvBG,EAAUE,WAAoD,GAA/BF,EAAU5B,QAAQ8B,WAEjD/9B,EAAMg+B,UAAUxyB,GAEhBsyB,OAGR,MAAOA,IAGXxgC,KAAK2gC,aAAe,SAASzyB,EAAGkyB,EAAQE,GACpC,GAAID,GAAYd,EAAQqB,gBAAgBN,EACxCtgC,MAAKmgC,sBAAsBC,EAAQC,EAAWC,EAASpyB,IAG3DlO,KAAK6gC,YAAc,SAASx8B,GACxB,GAAIm8B,GAAUxgC,KAAKmgC,uBAAsB,EAAI97B,EACxCm8B,IACDxgC,KAAKy/B,QAAQjB,SAASpiB,KAAK,eAAgBpc,KAAKy/B,QAASp7B,MAGlEpD,KAAKu+B,EAAWz+B,WAEnBoB,EAAQq9B,WAAaA,IAGrB7/B,OAAO,6BAA8B,UAAW,UAAW,SAAW,eAAgB,qBAAsB,SAASN,EAAS8C,EAAS7C,GAMvI,QAAS++B,GAAYp7B,EAAQs7B,GAIzB,GAHAv+B,KAAKu+B,SAAWA,IAAauC,EAAUC,MAAQ,MAAQ,OACvD/gC,KAAKw+B,YACLx+B,KAAKghC,qBACDhhC,KAAKihC,kBAAoBjhC,KAAKkhC,kBAAsC,mBAAX3gC,UAA0BA,QAAQC,MAAO,CAClG,GAAI2gC,IAAS,EACTC,EAAO,WACFD,IACDA,GAAS,EACT5gC,QAAQC,MAAM,+DAGtBR,MAAKihC,iBAAiB,qBAAsB,WAExC,MADAG,KACOphC,KAAKghC,oBAEhBhhC,KAAKkhC,iBAAiB,qBAAsB,SAAStR,GAEjD,MADAwR,KACOphC,KAAKghC,kBAAoBpR,QAGpC5vB,MAAKqhC,mBAAqBrhC,KAAKghC,iBAGnChhC,MAAKshC,YAAYr+B,GA3BrB,GAAIs8B,GAAUlgC,EAAQ,eAClByhC,EAAYzhC,EAAQ,qBA6BxB,WAEIW,KAAKuhC,WAAa,SAAS5C,GACnB3+B,KAAKw+B,SAASG,EAAQh6B,OACtB3E,KAAKwhC,cAAc7C,GAEvB3+B,KAAKw+B,SAASG,EAAQh6B,MAAQg6B,EAE1BA,EAAQ8C,SACRzhC,KAAK0hC,cAAc/C,IAG3B3+B,KAAKwhC,cAAgB,SAAS7C,GAC1B,GAAIh6B,GAA2B,gBAAZg6B,GAAuBA,EAAUA,EAAQh6B,IAC5Dg6B,GAAU3+B,KAAKw+B,SAAS75B,SACjB3E,MAAKw+B,SAAS75B,EACrB,IAAIg9B,GAAM3hC,KAAKghC,iBACf,KAAK,GAAIZ,KAAUuB,GACf,IAAK,GAAI38B,KAAO28B,GAAIvB,GACZuB,EAAIvB,GAAQp7B,IAAQ25B,SACbgD,GAAIvB,GAAQp7B,IAKnChF,KAAKyhC,QAAU,SAASz8B,EAAK25B,GACzB,GAAI35B,EAAJ,CAEA,GAAsB,kBAAX25B,GAEP,WADA3+B,MAAKuhC,YAAYnlB,KAAMuiB,EAAS8C,QAASz8B,EAAKL,KAAMg6B,EAAQh6B,MAAQK,GAIxE,IAAI28B,GAAM3hC,KAAKghC,iBACfh8B,GAAIpD,MAAM,KAAK0K,QAAQ,SAASs1B,GAC5B,GAAIC,GAAU7hC,KAAK8hC,UAAUF,EAASjD,GAClCyB,EAASyB,EAAQzB,QACpBuB,EAAIvB,KAAYuB,EAAIvB,QAAeyB,EAAQ78B,KAAO25B,GACpD3+B,QAGPA,KAAKshC,YAAc,SAAS9C,GACxBA,GAAY19B,OAAOuL,KAAKmyB,GAAUlyB,QAAQ,SAAS3H,GAC/C,GAAIg6B,GAAUH,EAAS75B,EACvB,IAAKg6B,EAAL,CAGA,GAAuB,gBAAZA,GACP,MAAO3+B,MAAKyhC,QAAQ9C,EAASh6B,EAEV,mBAAZg6B,KACPA,GAAYviB,KAAMuiB,IAEC,gBAAZA,KAGNA,EAAQh6B,OACTg6B,EAAQh6B,KAAOA,GAEnB3E,KAAKuhC,WAAW5C,MACjB3+B,OAGPA,KAAK+hC,eAAiB,SAASvD,GAC3B19B,OAAOuL,KAAKmyB,GAAUlyB,QAAQ,SAAS3H,GACnC3E,KAAKwhC,cAAchD,EAAS75B,KAC7B3E,OAGPA,KAAKgiC,SAAW,SAASC,GACrBnhC,OAAOuL,KAAK41B,GAAS31B,QAAQ,SAAStH,GAClChF,KAAKyhC,QAAQz8B,EAAKi9B,EAAQj9B,KAC3BhF,OAGPA,KAAK0hC,cAAgB,SAAS/C,GAC1B,GAAIkD,GAAUlD,EAAQ8C,OACtB,IAAKI,EAAL,CAGA,GAAI78B,GAAwB,gBAAX68B,GAAsBA,EAASA,EAAQ7hC,KAAKu+B,SAC7Dv+B,MAAKyhC,QAAQz8B,EAAK25B,KAEtB3+B,KAAK8hC,UAAY,SAASz1B,GAClBA,EAAK3K,QAAQ,OAAQ,IACrB2K,EAAOA,EAAKzK,MAAM,OAAO8T,MAE7B,IAAI4Y,GAAQjiB,EAAKS,cAAclL,MAAM,mBAAmBuD,OAAO,SAAS6G,GAAG,MAAOA,KAC9EhH,EAAMspB,EAAM5Y,MAEZ4qB,EAAUf,EAAQv6B,EACtB,IAAIu6B,EAAQ2C,cAAc5B,GACtBt7B,EAAMu6B,EAAQ2C,cAAc5B,GAASxzB,kBACpC,CAAA,IAAKwhB,EAAM5tB,OACZ,OAAQsE,IAAKA,EAAKo7B,QAAQ,EACzB,IAAoB,GAAhB9R,EAAM5tB,QAA2B,SAAZ4tB,EAAM,GAChC,OAAQtpB,IAAKA,EAAI0oB,cAAe0S,QAAQ,GAG5C,IAAK,GADDA,GAAS,EACJj/B,EAAImtB,EAAM5tB,OAAQS,KAAM,CAC7B,GAAIgtB,GAAWoR,EAAQ4C,SAAS7T,EAAMntB,GACtC,IAAgB,MAAZgtB,EAGA,MAFsB,mBAAX5tB,UACXA,QAAQC,MAAM,oBAAsB8tB,EAAMntB,GAAK,OAASkL,IACjD,CAEX+zB,IAAUjS,EAEd,OAAQnpB,IAAKA,EAAKo7B,OAAQA,IAG9BpgC,KAAKoiC,eAAiB,SAAwBhC,EAAQC,GAClD,GAAIgC,GAAOriC,KAAKghC,iBAChB,OAAOqB,GAAKjC,IAAWiC,EAAKjC,GAAQC,IAGxCrgC,KAAKigC,eAAiB,SAAS7xB,EAAMgyB,EAAQC,EAAWC,GACpD,OACI3B,QAAS3+B,KAAKoiC,eAAehC,EAAQC,OAI9Cp/B,KAAKo9B,EAAYt9B,WAEpBoB,EAAQk8B,YAAcA,IAGtB1+B,OAAO,0BAA2B,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAG/F,QAASgjC,GAAY7+B,GAEjBA,EAAOU,GAAG,QAAS,SAAS+J,GACxB,GAAIkX,GAAWlX,EAAEq0B,sBACbv6B,EAAUvE,EAAOuE,QACjBuK,EAAOvK,EAAQkK,UAAUkT,EAAS5X,IAAK4X,EAAShc,OAAQ,EACxDmJ,KACIrE,EAAEs0B,cACFx6B,EAAQyN,WAAWlD,GAEnBvK,EAAQ8N,WAAWvD,GAEvBrE,EAAEgC,UAIVzM,EAAOU,GAAG,cAAe,SAAS+J,GAC9B,GAAIu0B,GAAeh/B,EAAO4vB,SAASqP,aAAaC,UAAUz0B,EAE1D,IAAoB,eAAhBu0B,EAA+B,CAC/B,GAAIj1B,GAAMU,EAAEq0B,sBAAsB/0B,IAC9BxF,EAAUvE,EAAOuE,OACjBA,GAAQqQ,aAAerQ,EAAQqQ,YAAY7K,IAC3C/J,EAAOuE,QAAQyR,kBAAkBjM,EAAKU,GACrCzK,EAAOm/B,aACRn/B,EAAOo/B,QACX30B,EAAEgC,UAIVzM,EAAOU,GAAG,iBAAkB,SAAS+J,GACjC,GAAIu0B,GAAeh/B,EAAO4vB,SAASqP,aAAaC,UAAUz0B,EAE1D,IAAoB,eAAhBu0B,EAA+B,CAC/B,GAAIj1B,GAAMU,EAAEq0B,sBAAsB/0B,IAC9BxF,EAAUvE,EAAOuE,QACjBoG,EAAOpG,EAAQoR,uBAAuB5L,GAAK,GAC3Ca,EAAQD,EAAKC,OAASD,EAAKmL,UAE/B,IAAIlL,EAAO,CACPb,EAAMa,EAAMhF,MAAMmE,GAClB,IAAI+E,GAAOvK,EAAQkK,UAAU1E,EAAKxF,EAAQ8G,QAAQtB,GAAK9M,OAAQ,EAE3D6R,GACAvK,EAAQyN,WAAWlD,IAEnBvK,EAAQiM,QAAQ,MAAO5F,GACvB5K,EAAO4vB,SAASyP,sBAAsBt1B,IAAKa,EAAMhF,MAAMmE,IAAKpE,OAAQ,KAG5E8E,EAAEgC,UAKd/N,EAAQmgC,YAAcA,IAItB3iC,OAAO,iCAAkC,UAAW,UAAW,SAAW,eAAgB,cAAe,SAASN,EAAS8C,EAAS7C,GAMpI,QAASmiC,GAAQsB,EAAKC,GAClB,OAAQD,IAAKA,EAAKC,IAAKA,GAJ3B,GAAIz5B,GAAOlK,EAAQ,eACf4D,EAAS5D,EAAQ,YAKrB8C,GAAQq8B,WACJ75B,KAAM,mBACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GACXR,EAAOkyB,WAAW,wBAAyB,SAAS71B,GAChDA,EAAO2jC,KAAKx/B,GACZA,EAAOy/B,sBAGfrE,UAAU,IAEVl6B,KAAM,gBACN88B,QAASA,EAAQ,QAAS,UAC1BrlB,KAAM,SAAS3Y,GACXR,EAAOkyB,WAAW,uBAAwB,SAAS71B,GAC/CA,EAAO6jC,gBAAgB1/B,EAAQ,MAGvC2/B,eAAgB,UAChBvE,UAAU,IAEVl6B,KAAM,oBACN88B,QAASA,EAAQ,cAAe,gBAChCrlB,KAAM,SAAS3Y,GACXR,EAAOkyB,WAAW,uBAAwB,SAAS71B,GAC/CA,EAAO6jC,gBAAgB1/B,GAAQ,MAGvC2/B,eAAgB,UAChBvE,UAAU,IAEVl6B,KAAM,YACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAO+jB,aAChCqX,UAAU,IAEVl6B,KAAM,kBACN88B,QAASA,EAAQ,KAAM,UACvBrlB,KAAM,SAAS3Y,GAAUA,EAAO4/B,mBAChCxE,UAAU,IAEVl6B,KAAM,WACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GACX,GAAImN,GAAO8L,SAAS4mB,OAAO,sBAAuB,GAC7CnN,OAAMvlB,IACPnN,EAAO8/B,SAAS3yB,IAGxBiuB,UAAU,IAEVl6B,KAAM,OACN88B,QAASA,EAAQ,gBAAiB,4BAClCrlB,KAAM,SAAS3Y,GAAUA,EAAOuE,QAAQmP,YAAW,IACnDisB,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,SACN88B,QAASA,EAAQ,4BAA6B,wCAC9CrlB,KAAM,SAAS3Y,GAAUA,EAAOuE,QAAQmP,YAAW,IACnDisB,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,mBACN88B,QAASA,EAAQ,KAAM,MACvBrlB,KAAM,SAAS3Y,GAAUA,EAAOuE,QAAQuS,oBACxC6oB,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,yBACN88B,QAASA,EAAQ,SAAU,UAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOuE,QAAQuS,kBAAiB,IACzD6oB,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,UACN88B,QAASA,EAAQ,aAAc,yBAC/BrlB,KAAM,SAAS3Y,GAAUA,EAAOuE,QAAQiO,WACxCmtB,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,YACN88B,QAASA,EAAQ,QAAS,oBAC1BrlB,KAAM,SAAS3Y,GACXA,EAAOuE,QAAQiO,UACfxS,EAAOuE,QAAQmO,OAAO1S,EAAO6T,UAAUksB,iBAE3CJ,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,YACN88B,QAASA,EAAQ,cAAe,0BAChCrlB,KAAM,SAAS3Y,GAAUA,EAAOuE,QAAQmO,UACxCitB,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,WACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOggC,YAChC5E,UAAU,IAEVl6B,KAAM,eACN88B,QAASA,EAAQ,eAAgB,mBACjCrlB,KAAM,SAAS3Y,GAAUA,EAAOigC,gBAChC7E,UAAU,IAEVl6B,KAAM,mBACN88B,QAASA,EAAQ,QAAS,UAC1BrlB,KAAM,SAAS3Y,GACPA,EAAO6T,UAAUE,UACjB/T,EAAO6T,UAAUiS,aAEjB9lB,EAAOggC,YAEf5E,UAAU,IAEVl6B,KAAM,uBACN88B,QAASA,EAAQ,cAAe,gBAChCrlB,KAAM,SAAS3Y,GACPA,EAAO6T,UAAUE,UACjB/T,EAAO6T,UAAUiS,aAEjB9lB,EAAOigC,gBAEf7E,UAAU,IAEVl6B,KAAM,OACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GACXR,EAAOkyB,WAAW,oBAAqB,SAASjnB,GAAIA,EAAEme,OAAO5oB,MAEjEo7B,UAAU,IAEVl6B,KAAM,YACN88B,QAAS,SACTrlB,KAAM,SAAS3Y,GAAUA,EAAOivB,mBAChCmM,UAAU,IAEVl6B,KAAM,gBACN88B,QAASA,EAAQ,kBAAmB,oBACpCrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAehI,mBAC/C2a,kBAAmB,UACnB9E,UAAU,EACVuE,eAAgB,UAChBQ,gBAAiB,aAEjBj/B,KAAM,YACN88B,QAASA,EAAQ,YAAa,2BAC9BrlB,KAAM,SAAS3Y,GAAUA,EAAOogC,qBAChCF,kBAAmB,UACnB9E,UAAU,EACVuE,eAAgB,UAChBQ,gBAAiB,aAEjBj/B,KAAM,WACN88B,QAASA,EAAQ,WAAY,YAC7BrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAe9I,YAC/Cyb,kBAAmB,UACnB9E,UAAU,IAEVl6B,KAAM,WACN88B,QAASA,EAAQ,KAAM,aACvBrlB,KAAM,SAAS3Y,EAAQoI,GAAQpI,EAAOqgC,WAAWj4B,EAAKk4B,QACtDJ,kBAAmB,UACnB9E,UAAU,IAEVl6B,KAAM,cACN88B,QAASA,EAAQ,iBAAkB,sBACnCrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAelI,iBAC/C6a,kBAAmB,UACnB9E,UAAU,EACVuE,eAAgB,UAChBQ,gBAAiB,aAEjBj/B,KAAM,UACN88B,QAASA,EAAQ,WAAY,4BAC7BrlB,KAAM,SAAS3Y,GAAUA,EAAOugC,mBAChCL,kBAAmB,UACnB9E,UAAU,EACVuE,eAAgB,UAChBQ,gBAAiB,aAEjBj/B,KAAM,aACN88B,QAASA,EAAQ,aAAc,cAC/BrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAe5I,cAC/Cub,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,aACN88B,QAASA,EAAQ,OAAQ,eACzBrlB,KAAM,SAAS3Y,EAAQoI,GAAQpI,EAAOwgC,aAAap4B,EAAKk4B,QACxDJ,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,iBACN88B,QAASA,EAAQ,kBAAmB,qBACpCrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAe5H,kBAC/Cua,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,eACN88B,QAASA,EAAQ,YAAa,eAC9BrlB,KAAM,SAAS3Y,GAAUA,EAAOygC,oBAChCP,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,oBACN88B,QAASA,EAAQ,iBAAkB,sBACnCrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAetI,mBAC/Cib,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,gBACN88B,QAASA,EAAQ,gBAAiB,4BAClCrlB,KAAM,SAAS3Y,GAAUA,EAAO0gC,qBAChCR,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,aACN88B,QAASA,EAAQ,aAAc,cAC/BrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAexI,cAC/Cmb,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,WACN88B,QAASA,EAAQ,OAAQ,eACzBrlB,KAAM,SAAS3Y,EAAQoI,GAAQpI,EAAO2gC,aAAav4B,EAAKk4B,QACxDJ,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,kBACN88B,QAASA,EAAQ,mBAAoB,sBACrCrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAe9H,mBAC/Cya,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,gBACN88B,QAASA,EAAQ,aAAc,gBAC/BrlB,KAAM,SAAS3Y,GAAUA,EAAO4gC,qBAChCV,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,kBACN88B,QAASA,EAAQ,kBAAmB,uBACpCrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAepI,iBAC/C+a,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,cACN88B,QAASA,EAAQ,gBAAiB,4BAClCrlB,KAAM,SAAS3Y,GAAUA,EAAO6gC,mBAChCX,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,cACN88B,QAASA,EAAQ,cAAe,eAChCrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAe1I,eAC/Cqb,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,YACN88B,QAASA,EAAQ,QAAS,gBAC1BrlB,KAAM,SAAS3Y,EAAQoI,GAAQpI,EAAO8gC,cAAc14B,EAAKk4B,QACzDJ,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,iBACN88B,QAAS,iBACTrlB,KAAM,SAAS3Y,GAAUA,EAAO+gC,kBAChC3F,UAAU,IAEVl6B,KAAM,WACN88B,QAASA,EAAQ,KAAM,mBACvBrlB,KAAM,SAAS3Y,GAAUA,EAAOghC,kBAChC5F,UAAU,IAEVl6B,KAAM,eACN88B,QAASA,EAAQ,WAAY,mBAC7BrlB,KAAM,SAAS3Y,GAAUA,EAAOihC,gBAChC7F,UAAU,IAEVl6B,KAAM,eACN88B,QAAS,eACTrlB,KAAM,SAAS3Y,GAAUA,EAAOkhC,gBAChC9F,UAAU,IAEVl6B,KAAM,SACN88B,QAASA,EAAQ,KAAM,iBACvBrlB,KAAM,SAAS3Y,GAAUA,EAAOmhC,gBAChC/F,UAAU,IAEVl6B,KAAM,aACN88B,QAAS,SACTrlB,KAAM,SAAS3Y,GAAUA,EAAOohC,cAChChG,UAAU,IAEVl6B,KAAM,WACN88B,QAASA,EAAQ,UAAW,MAC5BrlB,KAAM,SAASlO,GAAKA,EAAEmlB,SAASyR,SAAS,GAAG,EAAK52B,EAAEmlB,SAAS0R,YAAYC,aACvEnG,UAAU,IAEVl6B,KAAM,aACN88B,QAASA,EAAQ,YAAa,MAC9BrlB,KAAM,SAASlO,GAAKA,EAAEmlB,SAASyR,SAAS,EAAG,EAAI52B,EAAEmlB,SAAS0R,YAAYC,aACtEnG,UAAU,IAEVl6B,KAAM,kBACN88B,QAAS,aACTrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAetI,mBAC/Cib,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,gBACN88B,QAAS,YACTrlB,KAAM,SAAS3Y,GAAUA,EAAOutB,eAAepI,iBAC/C+a,kBAAmB,UACnBP,eAAgB,SAChBvE,UAAU,IAEVl6B,KAAM,kBACN88B,QAASA,EAAQ,aAAc,oBAC/BrlB,KAAM,SAAS3Y,GAAUA,EAAO+6B,SAASO,gBAAgBt7B,IACzDo7B,UAAU,IAEVl6B,KAAM,cACN88B,QAASA,EAAQ,eAAgB,mBACjCrlB,KAAM,SAAS3Y,GAAUA,EAAO+6B,SAASa,OAAO57B,IAChDo7B,UAAU,IAEVl6B,KAAM,iBACN88B,QAASA,EAAQ,SAAU,gBAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOwhC,kBAChCtB,kBAAmB,UACnB9E,UAAU,IAEVl6B,KAAM,mBACN88B,QAASA,EAAQ,eAAgB,MACjCrlB,KAAM,SAAS3Y,GAAUA,EAAOwhC,gBAAe,IAC/CtB,kBAAmB,UACnB9E,UAAU,IAGVl6B,KAAM,MACNyX,KAAM,SAAS3Y,GACX,GAAI4K,GAAQ5K,EAAOyhC,mBACnBzhC,GAAO8R,MAAM,MAAOlH,GAEf5K,EAAO6T,UAAUE,YAClB/T,EAAOuE,QAAQ/C,OAAOoJ,GACtB5K,EAAO+iB,mBAGf4c,eAAgB,SAChBO,kBAAmB,YAEnBh/B,KAAM,aACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAO61B,eAChC8J,eAAgB,SAChBO,kBAAmB,gBAEnBh/B,KAAM,qBACN88B,QAASA,EAAQ,eAAgB,mBACjCrlB,KAAM,SAAS3Y,GAAUA,EAAO0hC,sBAChC/B,eAAgB,SAChBO,kBAAmB,YAEnBh/B,KAAM,YACN88B,QAASA,EAAQ,aAAc,iBAC/BrlB,KAAM,SAAS3Y,GAAUA,EAAO2hC,aAChChC,eAAgB,YAChBO,kBAAmB,gBAEnBh/B,KAAM,gBACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOyb,sBAChCykB,kBAAmB,cACnBP,eAAgB,kBAEhBz+B,KAAM,qBACN88B,QAASA,EAAQ,eAAgB,mBACjCrlB,KAAM,SAAS3Y,GAAUA,EAAOsd,sBAChC4iB,kBAAmB,UACnBP,eAAgB,kBAEhBz+B,KAAM,iBACN88B,QAASA,EAAQ,gBAAiB,gBAClCrlB,KAAM,SAAS3Y,GAAUA,EAAO4hC,aAAa,IAC7C1B,kBAAmB,YAEnBh/B,KAAM,mBACN88B,QAASA,EAAQ,kBAAmB,kBACpCrlB,KAAM,SAAS3Y,GAAUA,EAAO4hC,cAAa,IAC7C1B,kBAAmB,YAEnBh/B,KAAM,UACN88B,QAASA,EAAQ,SAAU,oBAC3BrlB,KAAM,SAAS3Y,GACXR,EAAOkyB,WAAW,oBAAqB,SAASjnB,GAAIA,EAAEme,OAAO5oB,GAAQ,QAGzEkB,KAAM,OACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOkuB,UAEhChtB,KAAM,OACN88B,QAASA,EAAQ,sBAAuB,6BACxCrlB,KAAM,SAAS3Y,GAAUA,EAAOmuB,UAEhCjtB,KAAM,cACN88B,QAASA,EAAQ,eAAgB,qBACjCrlB,KAAM,SAAS3Y,GAAUA,EAAO6hC,eAChClC,eAAgB,WAEhBz+B,KAAM,cACN88B,QAASA,EAAQ,SAAU,aAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAO+1B,eAChC4J,eAAgB,WAEhBz+B,KAAM,gBACN88B,QAASA,EAAQ,iBAAkB,uBACnCrlB,KAAM,SAAS3Y,GAAUA,EAAO8hC,iBAChCnC,eAAgB,WAEhBz+B,KAAM,gBACN88B,QAASA,EAAQ,WAAY,eAC7BrlB,KAAM,SAAS3Y,GAAUA,EAAOg2B,iBAChC2J,eAAgB,WAEhBz+B,KAAM,MACN88B,QAASA,EAAQ,SAAU,8BAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOwB,OAAO,UACvC0+B,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM;AACN88B,QAASA,EACL,4BACA,mDAEJrlB,KAAM,SAAS3Y,GAAUA,EAAOwB,OAAO,SACvC0+B,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,gBACN88B,QAASA,EAAQ,eAAgB,MACjCrlB,KAAM,SAAS3Y,GACX,QAAIA,EAAO6T,UAAUE,eACjB/T,GAAOwB,OAAO,SAKtB0+B,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,oBACN88B,QAASA,EAAQ,gBAAiB,qBAClCrlB,KAAM,SAAS3Y,GAAUA,EAAO+hC,qBAChC7B,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,kBACN88B,QAASA,EAAQ,aAAc,UAC/BrlB,KAAM,SAAS3Y,GAAUA,EAAOgiC,mBAChC9B,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,iBACN88B,QAASA,EAAQ,iBAAkB,oCACnCrlB,KAAM,SAAS3Y,GAAUA,EAAOiiC,kBAChC/B,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,kBACN88B,QAASA,EAAQ,cAAe,cAChCrlB,KAAM,SAAS3Y,GAAUA,EAAOkiC,mBAChChC,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,UACN88B,QAASA,EAAQ,YAAa,aAC9BrlB,KAAM,SAAS3Y,GAAUA,EAAOmiC,gBAChCjC,kBAAmB,UACnBP,eAAgB,kBAEhBz+B,KAAM,SACN88B,QAASA,EAAQ,MAAO,OACxBrlB,KAAM,SAAS3Y,GAAUA,EAAOmd,UAChC+iB,kBAAmB,UACnBP,eAAgB,kBAEhBz+B,KAAM,eACN88B,QAASA,EAAQ,SAAU,UAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOmiC,gBAChCjC,kBAAmB,cACnBP,eAAgB,kBAEhBz+B,KAAM,cACN88B,QAASA,EAAQ,SAAU,UAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOoiC,eAChClC,kBAAmB,cACnBP,eAAgB,kBAEhBz+B,KAAM,eACNyX,KAAM,SAAS3Y,EAAQ4P,GAAO5P,EAAO4d,OAAOhO,IAC5CswB,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,aACNyX,KAAM,SAAS3Y,EAAQoI,GACnBpI,EAAO4d,OAAO9X,EAAKuoB,aAAajmB,EAAKxH,MAAS,GAAIwH,EAAKk4B,OAAS,KAEpEJ,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,YACN88B,QAASA,EAAQ,KAAM,UACvBrlB,KAAM,SAAS3Y,GAAUA,EAAOqiC,aAChCnC,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,mBACN88B,QAASA,EAAQ,SAAU,UAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOsiC,oBAChCpC,kBAAmB,SAASlgC,GAASA,EAAOuiC,oBAAoB,IAChE5C,eAAgB,WAEhBz+B,KAAM,cACN88B,QAASA,EAAQ,SAAU,UAC3BrlB,KAAM,SAAS3Y,GAAUA,EAAOiqB,eAChCiW,kBAAmB,UACnBP,eAAgB,WAEhBz+B,KAAM,cACN88B,QAASA,EAAQ,eAAgB,gBACjCrlB,KAAM,SAAS3Y,GAAUA,EAAOqJ,eAChC62B,kBAAmB,UACnBP,eAAgB,aAKpBzjC,OAAO,yBAA0B,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAG9F,GAAIgO,MACA24B,EAAkB,WAAajmC,KAAKkmC,oBAAqB,GACzDC,EAAiB,WAAanmC,KAAKomC,kBAAmB,EAE1D94B,GAAaiI,MACbjI,EAAa+4B,eAAiB,SAASC,EAAWp4B,GAC9ClO,KAAKumC,iBAAmBvmC,KAAKumC,mBAC7BvmC,KAAKwmC,mBAAqBxmC,KAAKwmC,oBAE/B,IAAIC,GAAYzmC,KAAKumC,eAAeD,OAChCnkB,EAAiBniB,KAAKwmC,iBAAiBF,EAC3C,IAAKG,EAAU/lC,QAAWyhB,EAA1B,CAGgB,gBAALjU,IAAkBA,IACzBA,MAECA,EAAEiD,OACHjD,EAAEiD,KAAOm1B,GACRp4B,EAAE+3B,kBACH/3B,EAAE+3B,gBAAkBA,GACnB/3B,EAAEi4B,iBACHj4B,EAAEi4B,eAAiBA,GAEvBM,EAAYA,EAAU1kC,OACtB,KAAK,GAAIZ,GAAE,EAAGA,EAAEslC,EAAU/lC,SACtB+lC,EAAUtlC,GAAG+M,EAAGlO,OACZkO,EAAEg4B,oBAFwB/kC,KAMlC,MAAIghB,KAAmBjU,EAAEk4B,iBACdjkB,EAAejU,EAAGlO,MAD7B,SAKJsN,EAAaqB,QAAU,SAAS23B,EAAWp4B,GACvC,GAAIu4B,IAAazmC,KAAKumC,oBAAsBD,EAC5C,IAAKG,EAAL,CAEAA,EAAYA,EAAU1kC,OACtB,KAAK,GAAIZ,GAAE,EAAGA,EAAEslC,EAAU/lC,OAAQS,IAC9BslC,EAAUtlC,GAAG+M,EAAGlO,QAGxBsN,EAAao5B,KAAO,SAASJ,EAAW/mC,GACpC,GAAIi2B,GAAQx1B,IACZT,IAAYS,KAAKu1B,iBAAiB+Q,EAAW,QAASK,KAClDnR,EAAM3mB,oBAAoBy3B,EAAWK,GACrCpnC,EAASa,MAAM,KAAME,cAK7BgN,EAAaoxB,kBAAoB,SAAS4H,EAAW/mC,GACjD,GAAIqnC,GAAW5mC,KAAKwmC,gBAIpB,IAHKI,IACDA,EAAW5mC,KAAKwmC,kBAAoBK,gBAEpCD,EAASN,GAAY,CACrB,GAAI53B,GAAMk4B,EAASN,GACfQ,EAAWF,EAASC,WAAWP,EAC9BQ,KACDF,EAASC,WAAWP,GAAaQ,MACrCA,EAASvlC,KAAKmN,EACd,IAAIvN,GAAI2lC,EAASplC,QAAQnC,EACrB4B,KAAK,GACL2lC,EAAS76B,OAAO9K,EAAG,GAE3BylC,EAASN,GAAa/mC,GAE1B+N,EAAay5B,qBAAuB,SAAST,EAAW/mC,GACpD,GAAIqnC,GAAW5mC,KAAKwmC,gBACpB,IAAKI,EAAL,CAEA,GAAIE,GAAWF,EAASC,WAAWP,EAEnC,IAAIM,EAASN,IAAc/mC,EAAU,CACvBqnC,EAASN,EACfQ,IACA9mC,KAAK0+B,kBAAkB4H,EAAWQ,EAASpxB,WAC5C,IAAIoxB,EAAU,CACjB,GAAI3lC,GAAI2lC,EAASplC,QAAQnC,EACrB4B,KAAK,GACL2lC,EAAS76B,OAAO9K,EAAG,MAI/BmM,EAAanJ,GACbmJ,EAAaioB,iBAAmB,SAAS+Q,EAAW/mC,EAAUynC,GAC1DhnC,KAAKumC,eAAiBvmC,KAAKumC,kBAE3B,IAAIE,GAAYzmC,KAAKumC,eAAeD,EAMpC,OALKG,KACDA,EAAYzmC,KAAKumC,eAAeD,OAEhCG,EAAU/kC,QAAQnC,KAAa,GAC/BknC,EAAUO,EAAY,UAAY,QAAQznC,GACvCA,GAGX+N,EAAa25B,IACb35B,EAAalJ,eACbkJ,EAAauB,oBAAsB,SAASy3B,EAAW/mC,GACnDS,KAAKumC,eAAiBvmC,KAAKumC,kBAE3B,IAAIE,GAAYzmC,KAAKumC,eAAeD,EACpC,IAAKG,EAAL,CAGA,GAAI/9B,GAAQ+9B,EAAU/kC,QAAQnC,EAC1BmJ,MAAU,GACV+9B,EAAUx6B,OAAOvD,EAAO,KAGhC4E,EAAa45B,mBAAqB,SAASZ,GACnCtmC,KAAKumC,iBAAgBvmC,KAAKumC,eAAeD,QAGjDnkC,EAAQmL,aAAeA,IAIvB3N,OAAO,mBAAoB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GACxF,GAAIuD,GAAc,WACd7C,KAAK8wB,UAGT,WACI9wB,KAAKsxB,QAAU,SAAS3X,GACpB,GAAI0X,GAAS1X,EAAQ9N,KAAK,EAC1B7L,MAAKmnC,KAAQxtB,EAAQ9N,KAAK,GACtB8N,EAAQ1E,OAASjV,KAAKonC,YACtBpnC,KAAKqnC,eACLhW,EAASrxB,KAAKsnC,WAAW5xB,MAAM5J,OAAOulB,IAE1CrxB,KAAKsnC,WAAW/lC,KAAK8vB,GACrBrxB,KAAKunC,cAEDvnC,KAAKqnC,aAAe,IACpBrnC,KAAKqnC,aAAeG,KAExBxnC,KAAKqnC,gBAETrnC,KAAK2xB,KAAO,SAAS6F,GACjB,GAAInG,GAASrxB,KAAKsnC,WAAW5xB,MACzB+xB,EAAqB,IAQzB,OAPIpW,KACAoW,EACIznC,KAAKmnC,KAAK5P,YAAYlG,EAAQmG,GAClCx3B,KAAKunC,WAAWhmC,KAAK8vB,GACrBrxB,KAAKqnC,gBAGFI,GAEXznC,KAAK4xB,KAAO,SAAS4F,GACjB,GAAInG,GAASrxB,KAAKunC,WAAW7xB,MACzBgyB,EAAqB,IAQzB,OAPIrW,KACAqW,EACI1nC,KAAKmnC,KAAKtP,YAAYxG,EAAQmG,GAClCx3B,KAAKsnC,WAAW/lC,KAAK8vB,GACrBrxB,KAAKqnC,gBAGFK,GAEX1nC,KAAK8wB,MAAQ,WACT9wB,KAAKsnC,cACLtnC,KAAKunC,cACLvnC,KAAKqnC,aAAe,GAExBrnC,KAAKonC,QAAU,WACX,MAAOpnC,MAAKsnC,WAAW5mC,OAAS,GAEpCV,KAAK2nC,QAAU,WACX,MAAO3nC,MAAKunC,WAAW7mC,OAAS,GAEpCV,KAAK4nC,UAAY,WACb5nC,KAAKqnC,aAAe,GAExBrnC,KAAK6nC,QAAU,WACX,MAA6B,KAAtB7nC,KAAKqnC,gBAGjBpmC,KAAK4B,EAAY9B,WAEpBoB,EAAQU,YAAcA,IAEtBlD,OAAO,eAAgB,UAAW,UAAW,SAAW,eAAgB,SAASN,EAAS8C,EAAS7C,GAEnG,GAAImD,GAAMpD,EAAQ,QAElB8C,GAAQ67B,IAAM,SAAU8J,EAAKvoC,GACzB,GAAIwoC,GAAM,GAAIC,eACdD,GAAIE,KAAK,MAAOH,GAAK,GACrBC,EAAIG,mBAAqB,WACE,IAAnBH,EAAII,YACJ5oC,EAASwoC,EAAIK,eAGrBL,EAAIM,KAAK,OAGblmC,EAAQmmC,WAAa,SAASpT,EAAM31B,GAChC,GAAIgpC,GAAO9lC,EAAI+lC,kBACXC,EAAIplC,SAASqlC,cAAc,SAE/BD,GAAEvrB,IAAMgY,EACRqT,EAAKI,YAAYF,GAEjBA,EAAEG,OAASH,EAAEP,mBAAqB,SAASW,EAAGC,IACtCA,GAAYL,EAAEN,YAA8B,UAAhBM,EAAEN,YAA0C,YAAhBM,EAAEN,aAC1DM,EAAIA,EAAEG,OAASH,EAAEP,mBAAqB,KACjCY,GACDvpC,SAOhBI,OAAO,wBAAyB,UAAW,UAAW,SAAW,cAAe,cAAe,aAAc,mBAAoB,mBAAoB,iBAAkB,mBAAoB,gBAAiB,iBAAkB,yBAA0B,yBAA0B,SAASN,EAAS8C,EAAS7C,GAG7S,GAAI+N,GAAMhO,EAAQ,aACdoD,EAAMpD,EAAQ,aACd4D,EAAS5D,EAAQ,YACjB0pC,EAAc1pC,EAAQ,kBAAkB2pC,OACxCC,EAAc5pC,EAAQ,kBAAkB6pC,OACxCC,EAAY9pC,EAAQ,gBAAgB+pC,KACpCC,EAAchqC,EAAQ,kBAAkBiqC,OACxCC,EAAalqC,EAAQ,eAAekqC,WACpCC,EAAanqC,EAAQ,eAAemqC,WACpCC,EAAapqC,EAAQ,gBAAgBoqC,WACrCC,EAAcrqC,EAAQ,wBAAwBqqC,YAC9Cp8B,EAAejO,EAAQ,uBAAuBiO,aAC9Cq8B,EAAY,09WAgYhBlnC,GAAImnC,gBAAgBD,EAAW,aAE/B,IAAI5mC,GAAkB,SAAS8mC,EAAWC,GACtC,GAAItU,GAAQx1B,IAEZA,MAAK6pC,UAAYA,GAAapnC,EAAIimC,cAAc,OAChD1oC,KAAK+pC,uBAAwB,EAE7BtnC,EAAIunC,YAAYhqC,KAAK6pC,UAAW,cAEhC7pC,KAAKiqC,SAASH,GAEd9pC,KAAKkqC,QAAUznC,EAAIimC,cAAc,OACjC1oC,KAAKkqC,QAAQt9B,UAAY,aACzB5M,KAAK6pC,UAAUlB,YAAY3oC,KAAKkqC,SAEhClqC,KAAKmqC,SAAW1nC,EAAIimC,cAAc,OAClC1oC,KAAKmqC,SAASv9B,UAAY,eAC1B5M,KAAK6pC,UAAUlB,YAAY3oC,KAAKmqC,UAEhCnqC,KAAKoqC,QAAU3nC,EAAIimC,cAAc,OACjC1oC,KAAKoqC,QAAQx9B,UAAY,cACzB5M,KAAKmqC,SAASxB,YAAY3oC,KAAKoqC,SAE/BpqC,KAAK0iC,aAAe,GAAIqG,GAAY/oC,KAAKkqC,SACzClqC,KAAK0iC,aAAav+B,GAAG,oBAAqBnE,KAAKqqC,eAAepmC,KAAKjE,OAEnEA,KAAKsqC,YAAc,GAAIrB,GAAYjpC,KAAKoqC,QAExC,IAAIG,GAAYvqC,KAAKwqC,WAAa,GAAIrB,GAAUnpC,KAAKoqC,QACrDpqC,MAAKyqC,OAASF,EAAUG,QAExB1qC,KAAK2qC,aAAe,GAAI1B,GAAYjpC,KAAKoqC,SAEzCpqC,KAAK4qC,aAAe,GAAIvB,GAAYrpC,KAAKoqC,SACzCpqC,KAAK6qC,cAAe,EACpB7qC,KAAK8qC,UAAW,EAEhB9qC,KAAK+qC,UACL/qC,KAAKgrC,WAAa,GAAIxB,GAAWxpC,KAAK6pC,UAAW7pC,MACjDA,KAAKirC,WAAa,GAAI1B,GAAWvpC,KAAK6pC,UAAW7pC,MACjDA,KAAKgrC,WAAWzV,iBAAiB,SAAU,SAASrnB,GAC3CsnB,EAAM0V,kBACP1V,EAAMxtB,QAAQiuB,aAAa/nB,EAAEE,KAAOonB,EAAM2V,aAAaC,OAE/DprC,KAAKirC,WAAW1V,iBAAiB,SAAU,SAASrnB,GAC3CsnB,EAAM0V,kBACP1V,EAAMxtB,QAAQsuB,cAAcpoB,EAAEE,KAAOonB,EAAM2V,aAAaE,QAGhErrC,KAAKk2B,UAAY,EACjBl2B,KAAKu2B,WAAa,EAElBv2B,KAAKsrC,WACD99B,IAAM,EACNpE,OAAS,GAGbpJ,KAAKurC,aAAe,GAAI7B,GAAY1pC,KAAK6pC,UAAW,KACpD7pC,KAAKwqC,WAAW7M,gBAAgB39B,KAAKurC,cACrCvrC,KAAKwqC,WAAWjV,iBAAiB,sBAAuB,SAASrnB,GAC7DsnB,EAAMgW,sBACNhW,EAAMzxB,UAAS,EAAMyxB,EAAMiW,YAAajW,EAAMkW,MAAM5U,MAAOtB,EAAMkW,MAAMC,QACvEnW,EAAM7mB,QAAQ,sBAAuBT,KAGzClO,KAAK0rC,OACD5U,MAAO,EACP6U,OAAQ,EACRC,eAAgB,EAChBC,cAAe,EACfC,QAAQ,GAGZ9rC,KAAK+kC,aACDjO,MAAQ,EACRiV,QAAU,EACV57B,SAAW,EACX67B,eAAgB,EAChB57B,QAAU,EACV40B,WAAa,EACbiH,eAAiB,EACjBC,UAAY,EACZC,UAAY,EACZt6B,OAAS,EACT85B,OAAS,EACTS,aAAc,GAGlBpsC,KAAKmrC,cACDE,KAAM,EACNgB,MAAO,EACPjB,IAAK,EACLkB,OAAQ,EACRC,EAAG,EACH/P,EAAG,GAGPx8B,KAAKwsC,MAAQ,GAAI/C,GACbzpC,KAAKysC,eAAexoC,KAAKjE,MACzBA,KAAK6pC,UAAU6C,cAAcC,aAEjC3sC,KAAKwsC,MAAM9b,SAAS1wB,KAAK4sC,aAEzB5sC,KAAKwrC,sBACLxrC,KAAK6sC,WAAW,GAChB5pC,EAAOisB,aAAalvB,MACpBiD,EAAOsS,MAAM,WAAYvV,QAG7B,WAEIA,KAAK8sC,cAAgB,EACrB9sC,KAAK+sC,cAAgB,EACrB/sC,KAAKgtC,cAAgB,EACrBhtC,KAAKitC,cAAgB,EACrBjtC,KAAKktC,aAAe,GACpBltC,KAAKmtC,YAAc,GACnBntC,KAAKotC,YAAc,GACnBptC,KAAKqtC,mBAAqB,IAC1BrtC,KAAKstC,oBAAsB,IAC3BttC,KAAK4sC,YAAc,IACnB5sC,KAAKutC,gBAAkB,KAEvBlgC,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAKwrC,oBAAsB,WACnBxrC,KAAKwqC,WAAWgD,gBAAkBxtC,KAAKytC,kBACvCztC,KAAKytC,gBAAkBztC,KAAKwqC,WAAWgD,eACvCxtC,KAAK0tC,SAAS,cAAe1tC,KAAKytC,kBAGtCztC,KAAK+kC,YAAYkH,eACjBjsC,KAAKisC,eAAiBjsC,KAAKwqC,WAAWmD,oBACtC3tC,KAAK+kC,YAAYC,WACjBhlC,KAAKglC,WAAahlC,KAAKwqC,WAAWoD,gBAClC5tC,KAAK6tC,sBAET7tC,KAAK8D,WAAa,SAASkE,GACnBhI,KAAKgI,SACLhI,KAAKgI,QAAQtE,IAAIujC,IAAI,oBAAqBjnC,KAAK8tC,qBAEnD9tC,KAAKgI,QAAUA,EACVA,IAGDhI,KAAKmrC,aAAaC,KAAOpjC,EAAQouB,gBAAkB,GACnDpuB,EAAQiuB,cAAcj2B,KAAKmrC,aAAaC,KAE5CprC,KAAK4qC,aAAa9mC,WAAWkE,GAC7BhI,KAAKsqC,YAAYxmC,WAAWkE,GAC5BhI,KAAK2qC,aAAa7mC,WAAWkE,GAC7BhI,KAAK0iC,aAAa5+B,WAAWkE,GAC7BhI,KAAKwqC,WAAW1mC,WAAWkE,GAC3BhI,KAAKwsC,MAAM9b,SAAS1wB,KAAK4sC,aACzB5sC,KAAKgI,QAAQ21B,gBAAgB39B,KAAKurC,cAElCvrC,KAAK8tC,oBAAsB9tC,KAAK8tC,oBAAoB7pC,KAAKjE,MACzDA,KAAK8tC,sBACL9tC,KAAKgI,QAAQtE,IAAIS,GAAG,oBAAqBnE,KAAK8tC,uBAElD9tC,KAAK+tC,YAAc,SAAS59B,EAAUC,GAClBvL,SAAZuL,IACAA,EAAUoP,EAAAA,GAETxf,KAAKguC,eAOFhuC,KAAKguC,cAAc79B,SAAWA,IAC9BnQ,KAAKguC,cAAc79B,SAAWA,GAE9BnQ,KAAKguC,cAAc59B,QAAUA,IAC7BpQ,KAAKguC,cAAc59B,QAAUA,IAVjCpQ,KAAKguC,eACD79B,SAAUA,EACVC,QAASA,GAWbpQ,KAAKguC,cAAc79B,SAAWnQ,KAAK+kC,YAAY30B,SAC/CpQ,KAAKguC,cAAc59B,QAAUpQ,KAAK+kC,YAAY50B,UAElDnQ,KAAKwsC,MAAM9b,SAAS1wB,KAAKktC,eAG7BltC,KAAK8tC,oBAAsB,WACvB9tC,KAAKwsC,MAAM9b,SAAS1wB,KAAKmtC,aACzBntC,KAAKwqC,WAAWyD,kBAGpBjuC,KAAKkuC,gBAAkB,WACnBluC,KAAKwsC,MAAM9b,SAAS1wB,KAAKmtC,YAAcntC,KAAK+sC,eAC5C/sC,KAAKwqC,WAAW0D,mBAEpBluC,KAAKmuC,WAAa,WACdnuC,KAAKwsC,MAAM9b,SAAS1wB,KAAKmtC,cAE7BntC,KAAKouC,WAAa,SAASnX,GACnBA,EACAj3B,KAAKysC,eAAezsC,KAAK4sC,aAAa,GAEtC5sC,KAAKwsC,MAAM9b,SAAS1wB,KAAK4sC,cAEjC5sC,KAAKquC,eAAiB,WAClBruC,KAAKwqC,WAAW8D,uBAGpBtuC,KAAKuuC,SAAW,EAChBvuC,KAAKwuC,iBAAmB,WAChBxuC,KAAKwsC,MAAMiC,QACXzuC,KAAK0rC,MAAMI,QAAS,EAEpB9rC,KAAK+D,YAEb/D,KAAK+D,SAAW,SAASkzB,EAAOwU,EAAa3U,EAAO6U,GAChD,KAAI3rC,KAAK0uC,SAAW,GAApB,CAES1uC,KAAK0uC,SAAW,EACrB1uC,KAAK0uC,WAEL1uC,KAAK0uC,SAAWzX,EAAQ,EAAI,CAChC,IAAI9zB,GAAKnD,KAAK6pC,SACT8B,KACDA,EAASxoC,EAAGwrC,cAAgBxrC,EAAGyrC,cAC9B9X,IACDA,EAAQ3zB,EAAG0rC,aAAe1rC,EAAG2rC,YACjC,IAAIC,GAAU/uC,KAAKgvC,kBAAkB/X,EAAOwU,EAAa3U,EAAO6U,EAEhE,KAAK3rC,KAAK0rC,MAAME,iBAAoB9U,IAAU6U,EAC1C,MAAO3rC,MAAK0uC,SAAW,CAEvBzX,KACAj3B,KAAK0iC,aAAauM,SAAW,MAE7BhY,EACAj3B,KAAKysC,eAAesC,EAAU/uC,KAAKuuC,UAAU,GAE7CvuC,KAAKwsC,MAAM9b,SAASqe,EAAU/uC,KAAKuuC,UAEnCvuC,KAAK0uC,WACL1uC,KAAK0uC,SAAW,KAGxB1uC,KAAKgvC,kBAAoB,SAAS/X,EAAOwU,EAAa3U,EAAO6U,GACzDA,GAAW3rC,KAAKkvC,cAAgB,CAChC,IAAIH,GAAU,EACV7V,EAAOl5B,KAAK0rC,MACZyD,GACArY,MAAOoC,EAAKpC,MACZ6U,OAAQzS,EAAKyS,OACbC,eAAgB1S,EAAK0S,eACrBC,cAAe3S,EAAK2S,cAwCxB,OAtCIF,KAAW1U,GAASiC,EAAKyS,QAAUA,KACnCzS,EAAKyS,OAASA,EACdoD,GAAW/uC,KAAKotC,YAEhBlU,EAAK0S,eAAiB1S,EAAKyS,OACvB3rC,KAAK6qC,eACL3R,EAAK0S,gBAAkB5rC,KAAKirC,WAAWmE,aAC3CpvC,KAAKgrC,WAAWN,QAAQ5xB,MAAMwzB,OAAStsC,KAAKirC,WAAWmE,YAAc,KAErEL,GAAoB/uC,KAAKitC,eAGzBnW,IAAUG,GAASiC,EAAKpC,OAASA,KACjCiY,GAAW/uC,KAAKotC,YAChBlU,EAAKpC,MAAQA,EAEM,MAAf2U,IACAA,EAAczrC,KAAKqvC,YAAcrvC,KAAKkqC,QAAQoF,YAAc,GAEhEtvC,KAAKyrC,YAAcA,EAEnBzrC,KAAKirC,WAAWP,QAAQ5xB,MAAMuyB,KAC9BrrC,KAAKmqC,SAASrxB,MAAMuyB,KAAOI,EAAc,KACzCvS,EAAK2S,cAAgBv9B,KAAKC,IAAI,EAAGuoB,EAAQ2U,EAAczrC,KAAKgrC,WAAWuE,YAEvEvvC,KAAKirC,WAAWP,QAAQ5xB,MAAMuzB,MAC9BrsC,KAAKmqC,SAASrxB,MAAMuzB,MAAQrsC,KAAKgrC,WAAWuE,WAAa,KACzDvvC,KAAKmqC,SAASrxB,MAAMwzB,OAAStsC,KAAKirC,WAAWmE,YAAc,MAEvDpvC,KAAKgI,SAAWhI,KAAKgI,QAAQ+xB,kBAAoB/5B,KAAKi6B,mBAAqBhD,KAC3E8X,GAAW/uC,KAAK4sC,cAGxB1T,EAAK4S,QAAUhV,IAAU6U,EAErBoD,GACA/uC,KAAK2O,QAAQ,SAAUwgC,GAEpBJ,GAGX/uC,KAAKqqC,eAAiB,WAClB,GAAIoB,GAAczrC,KAAKqvC,YAAcrvC,KAAKkqC,QAAQoF,YAAc,CAC5D7D,IAAezrC,KAAKyrC,cACpBzrC,KAAKuuC,UAAYvuC,KAAKgvC,mBAAkB,EAAMvD,EAAazrC,KAAK0rC,MAAM5U,MAAO92B,KAAK0rC,MAAMC,SAExF3rC,KAAKgI,QAAQ+xB,kBAAoB/5B,KAAKi6B,kBACtCj6B,KAAKwsC,MAAM9b,SAAS1wB,KAAK4sC,aAClB5sC,KAAK0rC,MAAMI,OAClB9rC,KAAKwsC,MAAM9b,SAAS1wB,KAAK4sC,cAEzB5sC,KAAKwvC,sBACLxvC,KAAKwsC,MAAM9b,SAAS1wB,KAAK+sC,iBAGjC/sC,KAAKi6B,gBAAkB,WACnB,GAAIwV,GAAiBzvC,KAAK0rC,MAAMG,cAAgC,EAAhB7rC,KAAKivC,SACjDxU,EAAQnsB,KAAKwS,MAAM2uB,EAAiBzvC,KAAKisC,eAC7C,OAAOjsC,MAAKgI,QAAQiyB,gBAAgBQ,EAAOz6B,KAAK0vC,kBAAoB1vC,KAAK2vC,qBAE7E3vC,KAAK4vC,kBAAoB,SAASC,GAC9B7vC,KAAKgyB,UAAU,iBAAkB6d,IAErC7vC,KAAK8vC,kBAAoB,WACrB,MAAO9vC,MAAK+vC,iBAEhB/vC,KAAKgwC,kBAAoB,SAASC,GAC9BjwC,KAAKgyB,UAAU,iBAAkBie,IAErCjwC,KAAKkwC,kBAAoB,WACrB,MAAOlwC,MAAKmwC,UAAU,mBAE1BnwC,KAAKowC,uBAAyB,WAC1B,MAAOpwC,MAAKmwC,UAAU,wBAG1BnwC,KAAKqwC,uBAAyB,SAASC,GACnCtwC,KAAKgyB,UAAU,sBAAuBse,IAE1CtwC,KAAKuwC,mBAAqB,SAASC,GAC/BxwC,KAAKgyB,UAAU,kBAAmBwe,IAEtCxwC,KAAKywC,mBAAqB,WACtB,MAAOzwC,MAAKmwC,UAAU,oBAE1BnwC,KAAK0wC,qBAAuB,SAASF,GACjCxwC,KAAKgyB,UAAU,oBAAqBwe,IAExCxwC,KAAK2wC,qBAAuB,WACxB,MAAO3wC,MAAKmwC,UAAU,sBAE1BnwC,KAAK4wC,cAAgB,WACjB,MAAO5wC,MAAKmwC,UAAU,eAE1BnwC,KAAK6wC,cAAgB,SAASC,GAC1B,MAAO9wC,MAAKgyB,UAAU,aAAc8e,IAGxC9wC,KAAK+wC,mBAAqB,WACtB,MAAO/wC,MAAKmwC,UAAU,oBAG1BnwC,KAAKgxC,mBAAqB,SAASF,GAC/B9wC,KAAKgyB,UAAU,kBAAmB8e,IAGtC9wC,KAAKixC,uBAAyB,SAASC,GACnClxC,KAAKgyB,UAAU,sBAAuBkf,IAG1ClxC,KAAKmxC,uBAAyB,WAC1B,MAAOnxC,MAAKmwC,UAAU,wBAG1BnwC,KAAKoxC,2BAA6B,WAC9B,GAAI3iC,GAAMzO,KAAK4qC,aAAayG,UACxB1F,EAAS3rC,KAAK+kC,YAAYC,UAC9B,IAAIhlC,KAAKgI,QAAQ+xB,iBAAkB,CAC/B,GAAItiB,GAASzX,KAAKgI,QAAQsP,UAAUmD,WACpChD,GAAOrO,OAAS,EAChBqF,EAAMzO,KAAK4qC,aAAa0G,iBAAiB75B,GAAQ,GACjDk0B,GAAU3rC,KAAKgI,QAAQu0B,aAAa9kB,EAAOjK,KAE/CxN,KAAKuxC,qBAAqBz4B,MAAMsyB,IAAM38B,EAAI28B,IAAMprC,KAAK+kC,YAAYlzB,OAAS,KAC1E7R,KAAKuxC,qBAAqBz4B,MAAM6yB,OAASA,EAAS,MAGtD3rC,KAAK6tC,mBAAqB,WACtB,GAAK7tC,KAAK0vC,kBAAqB1vC,KAAKwxC,eAApC,CAGA,IAAKxxC,KAAKwxC,eAAgB,CACtB,GAAIC,GAAchvC,EAAIimC,cAAc,MACpC+I,GAAY7kC,UAAY,mCACxB5M,KAAKwxC,eAAiB/uC,EAAIimC,cAAc,OACxC1oC,KAAKwxC,eAAe5kC,UAAY,mBAChC6kC,EAAY9I,YAAY3oC,KAAKwxC,gBAC7BxxC,KAAKoqC,QAAQsH,aAAaD,EAAazxC,KAAKoqC,QAAQuH,YAGxD,GAAI74B,GAAQ9Y,KAAKwxC,eAAe14B,KAChCA,GAAMuyB,KAASrrC,KAAKisC,eAAiBjsC,KAAK2vC,mBAAsB3vC,KAAKivC,SAAY,KACjFn2B,EAAM84B,WAAa5xC,KAAK0vC,iBAAmB,UAAY,SAEnD1vC,KAAKgI,SAAWhI,KAAKgI,QAAQ81B,QAAS,GACtC99B,KAAKi6B,oBAEbj6B,KAAK6xC,oBAAsB,WACvB,MAAO7xC,MAAK6pC,WAEhB7pC,KAAK8xC,oBAAsB,WACvB,MAAO9xC,MAAKoqC,SAEhBpqC,KAAK+xC,qBAAuB,WACxB,MAAO/xC,MAAK6pC,WAEhB7pC,KAAKgyC,sBAAwB,WACzB,GAAKhyC,KAAK+pC,sBAAV,CAEA,GAAI9mC,GAASjD,KAAK+kC,YACdkN,EAASjyC,KAAK4qC,aAAayG,UAAUjG,IACrC8G,EAAUlyC,KAAK4qC,aAAayG,UAAUhG,IAC1C4G,IAAUhvC,EAAO4O,MAEjB,IAAI2qB,GAAIx8B,KAAKglC,UACb,MAAIiN,EAAS,GAAKA,EAAShvC,EAAO0oC,OAASnP,GAA3C,CAGA,GAAIzF,GAAI/2B,KAAKisC,cACb,IAAIjsC,KAAKmyC,aAAc,CACnB,GAAIviB,GAAM5vB,KAAKoyC,SAAS9oC,MAAMpH,QAAQ,SAAU,GAChD60B,IAAM/2B,KAAKgI,QAAQsvB,sBAAsB1H,GAAK,GAAG,EACjD4M,GAAK,EACLyV,GAAU,EAEdC,GAAWlyC,KAAKu2B,WACZ2b,EAAUlyC,KAAK0rC,MAAMG,cAAgB9U,IACrCmb,EAAUlyC,KAAK0rC,MAAMG,cAAgB9U,GAEzCmb,GAAWlyC,KAAK+qC,UAAUjU,MAE1B92B,KAAKoyC,SAASt5B,MAAM6yB,OAASnP,EAAI,KACjCx8B,KAAKoyC,SAASt5B,MAAMge,MAAQC,EAAI,KAChC/2B,KAAKoyC,SAASt5B,MAAMuzB,MAAQ/9B,KAAKC,IAAI,EAAGvO,KAAK0rC,MAAMG,cAAgBqG,EAAUnb,GAAK,KAClF/2B,KAAKoyC,SAASt5B,MAAMwzB,OAASh+B,KAAKC,IAAI,EAAGvO,KAAK0rC,MAAMC,OAASsG,EAASzV,GAAK,QAE/Ex8B,KAAKqyC,mBAAqB,WACtB,MAAOryC,MAAK+kC,YAAY50B,UAE5BnQ,KAAKsyC,wBAA0B,WAC3B,MAAOtyC,MAAK+kC,YAAY50B,UAAwC,IAA5BnQ,KAAK+kC,YAAYlzB,OAAe,EAAI,IAE5E7R,KAAKuyC,uBAAyB,WAC1B,GAAIC,GAAQlkC,KAAKwS,OAAO9gB,KAAK+kC,YAAY4G,OAAS3rC,KAAK+kC,YAAYlzB,QAAU7R,KAAK+kC,YAAYC,WAC9F,OAAOhlC,MAAK+kC,YAAY50B,SAAW,EAAIqiC,GAE3CxyC,KAAKyyC,kBAAoB,WACrB,MAAOzyC,MAAK+kC,YAAY30B,SAG5BpQ,KAAKivC,SAAW,KAChBjvC,KAAK6sC,WAAa,SAASd,GACvB/rC,KAAKivC,SAAWlD,EAChB/rC,KAAKwqC,WAAWqC,WAAWd,GAC3B/rC,KAAK4qC,aAAaiC,WAAWd,GAC7B/rC,KAAK2qC,aAAakC,WAAWd,GAC7B/rC,KAAKsqC,YAAYuC,WAAWd,GAC5B/rC,KAAKwsC,MAAM9b,SAAS1wB,KAAK4sC,aACzB5sC,KAAK6tC,sBAGT7tC,KAAK0yC,gBAAkB,SAAStH,EAAKkB,EAAQjB,EAAMgB,GAC/C,GAAIsG,GAAK3yC,KAAKmrC,YACdwH,GAAGvH,IAAU,EAAJA,EACTuH,EAAGrG,OAAgB,EAAPA,EACZqG,EAAGtG,MAAc,EAANA,EACXsG,EAAGtH,KAAY,EAALA,EACVsH,EAAGpG,EAAIoG,EAAGvH,IAAMuH,EAAGrG,OACnBqG,EAAGnW,EAAImW,EAAGtH,KAAOsH,EAAGtG,MAChBsG,EAAGvH,KAAOprC,KAAKk2B,WAAa,GAAKl2B,KAAKgI,SACtChI,KAAKgI,QAAQiuB,cAAc0c,EAAGvH,KAClCprC,KAAKouC,cAETpuC,KAAK4yC,2BAA6B,WAC9B,MAAO5yC,MAAK6yC,0BAEhB7yC,KAAK8yC,2BAA6B,SAASC,GACvC/yC,KAAKgyB,UAAU,0BAA2B+gB,IAE9C/yC,KAAKgzC,2BAA6B,WAC9B,MAAOhzC,MAAK6yC,0BAEhB7yC,KAAKizC,2BAA6B,SAASF,GACvC/yC,KAAKgyB,UAAU,0BAA2B+gB,IAG9C/yC,KAAKkzC,kBAAoB,WACrBlzC,KAAKgrC,WAAWmI,gBAAgBnzC,KAAK+kC,YAAYoH,UAAYnsC,KAAKmrC,aAAaoB,GAC/EvsC,KAAKgrC,WAAW/U,aAAaj2B,KAAKk2B,UAAYl2B,KAAKmrC,aAAaC,MAEpEprC,KAAKozC,kBAAoB,WACrBpzC,KAAKirC,WAAWoI,eAAerzC,KAAK+kC,YAAYjO,MAAQ,EAAI92B,KAAKivC,SAAWjvC,KAAKmrC,aAAa3O,GAC9Fx8B,KAAKirC,WAAW3U,cAAct2B,KAAKu2B,WAAav2B,KAAKmrC,aAAaE,OAGtErrC,KAAKszC,SAAU,EACftzC,KAAKuzC,OAAS,WACVvzC,KAAKszC,SAAU,GAGnBtzC,KAAKwzC,SAAW,WACZxzC,KAAKszC,SAAU,GAGnBtzC,KAAKysC,eAAiB,SAASsC,EAAS9X,GAKpC,GAJIj3B,KAAKuuC,WACLQ,GAAW/uC,KAAKuuC,SAChBvuC,KAAKuuC,SAAW,IAEdvuC,KAAKgI,UAAYhI,KAAK6pC,UAAUyF,aAAetvC,KAAKszC,UAAcvE,IAAY9X,EAEhF,YADAj3B,KAAKuuC,UAAYQ,EAGrB,IAAI/uC,KAAK0rC,MAAMI,OAEX,MADA9rC,MAAKuuC,UAAYQ,EACV/uC,KAAK+D,UAAS,EAEpB/D,MAAKglC,YACNhlC,KAAKwqC,WAAW8D,sBAGpBtuC,KAAK2O,QAAQ,eACb,IAAI1L,GAASjD,KAAK+kC,WAsBlB,QArBIgK,EAAU/uC,KAAK4sC,aACfmC,EAAU/uC,KAAKotC,aACf2B,EAAU/uC,KAAKmtC,aACf4B,EAAU/uC,KAAKktC,cACf6B,EAAU/uC,KAAKitC,eACf8B,EAAU/uC,KAAKutC,mBAEfwB,GAAW/uC,KAAKwvC,sBAChBvsC,EAASjD,KAAK+kC,YACd/kC,KAAKkzC,oBACDnE,EAAU/uC,KAAKutC,iBACfvtC,KAAKozC,oBACTpzC,KAAK0iC,aAAagI,QAAQ5xB,MAAM26B,WAAcxwC,EAAO4O,OAAU,KAC/D7R,KAAKoqC,QAAQtxB,MAAM26B,WAAcxwC,EAAO4O,OAAU,KAClD7R,KAAKoqC,QAAQtxB,MAAMge,MAAQ7zB,EAAO6zB,MAAQ,EAAI92B,KAAKivC,SAAW,KAC9DjvC,KAAKoqC,QAAQtxB,MAAM6yB,OAAS1oC,EAAOipC,UAAY,MAE/C6C,EAAU/uC,KAAKutC,kBACfvtC,KAAKoqC,QAAQtxB,MAAM46B,YAAc1zC,KAAKu2B,WAAa,KACnDv2B,KAAKmqC,SAASv9B,UAAY5M,KAAKu2B,YAAc,EAAI,eAAiB,gCAElEwY,EAAU/uC,KAAK4sC,aACf5sC,KAAKwqC,WAAWj5B,OAAOtO,GACnBjD,KAAKqvC,aACLrvC,KAAK0iC,aAAanxB,OAAOtO,GAC7BjD,KAAKsqC,YAAY/4B,OAAOtO,GACxBjD,KAAK2qC,aAAap5B,OAAOtO,GACzBjD,KAAK4qC,aAAar5B,OAAOtO,GACzBjD,KAAKgyC,wBACLhyC,KAAK2zC,sBAAwB3zC,KAAKoxC,iCAClCpxC,MAAK2O,QAAQ,gBAGbogC,EAAU/uC,KAAKitC,eACX8B,EAAU/uC,KAAKmtC,aAAe4B,EAAU/uC,KAAKktC,aAC7CltC,KAAKwqC,WAAWj5B,OAAOtO,GAEvBjD,KAAKwqC,WAAWoJ,YAAY3wC,GAE5BjD,KAAKqvC,aACLrvC,KAAK0iC,aAAanxB,OAAOtO,GAC7BjD,KAAKsqC,YAAY/4B,OAAOtO,GACxBjD,KAAK2qC,aAAap5B,OAAOtO,GACzBjD,KAAK4qC,aAAar5B,OAAOtO,GACzBjD,KAAK2zC,sBAAwB3zC,KAAKoxC,6BAClCpxC,KAAKgyC,4BACLhyC,MAAK2O,QAAQ,iBAIbogC,EAAU/uC,KAAKmtC,aACfntC,KAAKwqC,WAAWj5B,OAAOtO,GACnBjD,KAAKqvC,aACLrvC,KAAK0iC,aAAanxB,OAAOtO,IAExB8rC,EAAU/uC,KAAKktC,cAChBltC,KAAK6zC,gBAAmB9E,EAAU/uC,KAAKgtC,eAAkBhtC,KAAKqvC,cAC9DrvC,KAAK0iC,aAAanxB,OAAOtO,IAExB8rC,EAAU/uC,KAAKmtC,aAAe4B,EAAU/uC,KAAKgtC,gBAC9ChtC,KAAKqvC,aACLrvC,KAAK0iC,aAAanxB,OAAOtO,GAG7B8rC,EAAU/uC,KAAK8sC,gBACf9sC,KAAK4qC,aAAar5B,OAAOtO,GACzBjD,KAAKgyC,wBACLhyC,KAAK2zC,sBAAwB3zC,KAAKoxC,8BAGlCrC,GAAW/uC,KAAK+sC,cAAgB/sC,KAAKstC,sBACrCttC,KAAK2qC,aAAap5B,OAAOtO,GAGzB8rC,GAAW/uC,KAAK+sC,cAAgB/sC,KAAKqtC,qBACrCrtC,KAAKsqC,YAAY/4B,OAAOtO,OAG5BjD,MAAK2O,QAAQ,iBAIjB3O,KAAK8zC,UAAY,WACb,GAAInI,GAAS3rC,KAAKgI,QAAQw1B,kBAAoBx9B,KAAKglC,WAC/CmH,EAAYnsC,KAAK+zC,UAAY/zC,KAAKglC,WAClCgP,EAAgB1lC,KAAKC,KACpBvO,KAAKi0C,WAAW,GAAKj0C,KAAKglC,WAC3B12B,KAAKS,IAAIo9B,EAAWR,IACpB3rC,KAAKmrC,aAAaoB,GAAKvsC,KAAKkvC,cAAgB,GAC5CgF,EAAUvI,EAASQ,CAEvB,IAAI6H,GAAiBh0C,KAAKg0C,eACtBh0C,KAAK0rC,MAAMC,QAAU3rC,KAAKg0C,eAAiBE,GAAWl0C,KAAK8qC,SAAU,CACjEoJ,GAAWl0C,KAAK8qC,WAChB9qC,KAAK8qC,SAAWoJ,EAChBl0C,KAAKgrC,WAAWmJ,WAAWD,GAG/B,IAAInd,GAAI/2B,KAAK6pC,UAAUgF,WACvB7uC,MAAK6pC,UAAU/wB,MAAM6yB,OAASqI,EAAgB,KAC9Ch0C,KAAKgvC,mBAAkB,EAAMhvC,KAAKo0C,aAAcrd,EAAGid,GACnDh0C,KAAKg0C,cAAgBA,IAI7Bh0C,KAAKwvC,oBAAsB;AACnBxvC,KAAK+zC,WAAa/zC,KAAKglC,WAAa,GACpChlC,KAAK8zC,WAET,IAAI9rC,GAAUhI,KAAKgI,QACfkxB,EAAOl5B,KAAK0rC,MAEZ2I,EAAiBnb,EAAKyS,QAAU,EAAI3rC,KAAKglC,WACzCsP,EAAct0C,KAAKgI,QAAQw1B,kBAC3B2O,EAAYmI,EAAct0C,KAAKglC,WAE/BnzB,EAAS7R,KAAKk2B,UAAYl2B,KAAKglC,WAC/BkH,EAAYhT,EAAK0S,eAAiB5rC,KAAKglC,WAEvCuP,EAAcv0C,KAAKw0C,kBAEnBC,GAAeJ,IAAmBr0C,KAAK6yC,0BACvC3Z,EAAK2S,cAAgB0I,EAAc,EAAIv0C,KAAKivC,SAAW,GAEvDyF,EAAiB10C,KAAK6qC,eAAiB4J,CACvCC,KACA10C,KAAK6qC,aAAe4J,EACpBz0C,KAAKirC,WAAWkJ,WAAWM,KAG1Bz0C,KAAK+zC,WAAa/zC,KAAK20C,gBACpB30C,KAAKk2B,UAAYiW,EAAYjT,EAAK0S,iBAClCO,GAAa79B,KAAKS,KACbmqB,EAAK0S,eAAiB5rC,KAAKglC,YAAchlC,KAAK20C,eAC/C30C,KAAKk2B,UAAYiW,EAAYjT,EAAK0S,gBAI9C,IAAIsI,IAAWG,IAAmBr0C,KAAK40C,0BACnC1b,EAAK0S,eAAiBO,EAAY,GAClC0I,EAAiB70C,KAAK8qC,WAAaoJ,CACnCW,KACA70C,KAAK8qC,SAAWoJ,EAChBl0C,KAAKgrC,WAAWmJ,WAAWD,IAG/Bl0C,KAAKgI,QAAQiuB,aAAa3nB,KAAKC,KAAKvO,KAAKmrC,aAAaC,IAClD98B,KAAKS,IAAI/O,KAAKk2B,UAAWiW,EAAYjT,EAAK0S,eAAiB5rC,KAAKmrC,aAAamB,UAEjFtsC,KAAKgI,QAAQsuB,cAAchoB,KAAKC,KAAKvO,KAAKmrC,aAAaE,KAAM/8B,KAAKS,IAAI/O,KAAKu2B,WACvEge,EAAc,EAAIv0C,KAAKivC,SAAW/V,EAAK2S,cAAgB7rC,KAAKmrC,aAAakB,QAE7E,IAGIL,GAAgB8I,EAHhBC,EAAYzmC,KAAK0mC,KAAK9I,EAAYlsC,KAAKglC,YAAc,EACrD70B,EAAW7B,KAAKC,IAAI,EAAGD,KAAK2mC,OAAOj1C,KAAKk2B,UAAYrkB,GAAU7R,KAAKglC,aACnE50B,EAAUD,EAAW4kC,EAErB/P,EAAahlC,KAAKglC,UACtB70B,GAAWnI,EAAQ+0B,oBAAoB5sB,EAAU,EACjD,IAAIiC,GAAWpK,EAAQqK,YAAYlC,EAC/BiC,KACAjC,EAAWiC,EAAS/I,MAAMmE,KAG9Bw+B,EAAiBhkC,EAAQkiB,oBAAoB/Z,EAAU,GACvD2kC,EAAiB9sC,EAAQu0B,aAAapsB,GAAY60B,EAElD50B,EAAU9B,KAAKS,IAAI/G,EAAQ+0B,oBAAoB3sB,EAAS,GAAIpI,EAAQc,YAAc,GAClFojC,EAAYhT,EAAK0S,eAAiB5jC,EAAQu0B,aAAansB,GAAW40B,EAC1B8P,EAExCjjC,EAAS7R,KAAKk2B,UAAY8V,EAAiBhH,CAE3C,IAAI+J,GAAU,CAyBd,OAxBI/uC,MAAK+kC,YAAYjO,OAASyd,IAC1BxF,EAAU/uC,KAAKutC,kBACfmH,GAAkBG,KAClB9F,EAAU/uC,KAAKgvC,mBAAkB,EAAMhvC,KAAKyrC,YAAavS,EAAKpC,MAAOoC,EAAKyS,QAC1E3rC,KAAK2O,QAAQ,8BACTkmC,IACAN,EAAcv0C,KAAKw0C,oBAG3Bx0C,KAAK+kC,aACDjO,MAAQyd,EACRxI,QAAU/rC,KAAKivC,SACf9+B,SAAWA,EACX67B,eAAgBA,EAChB57B,QAAUA,EACV40B,WAAaA,EACbiH,eAAiBjsC,KAAKisC,eACtBC,UAAYA,EACZC,UAAYA,EACZt6B,OAASA,EACTu6B,aAAe99B,KAAKC,IAAI,EAAGD,KAAK0mC,MAAMnjC,EAASqnB,EAAKyS,OAASzS,EAAK0S,gBAAkB5G,IACpF2G,OAAS3rC,KAAK0rC,MAAME,gBAGjBmD,GAGX/uC,KAAK6zC,aAAe,WAChB,GAAI1jC,GAAWnQ,KAAKguC,cAAc79B,SAC9BC,EAAUpQ,KAAKguC,cAAc59B,OACjCpQ,MAAKguC,cAAgB,IAErB,IAAIjJ,GAAc/kC,KAAK+kC,WAEvB,MAAI50B,EAAW40B,EAAY30B,QAAU,GACjCA,EAAU20B,EAAY50B,UAC1B,MAAIC,KAAYoP,EAAAA,GACRxf,KAAKqvC,aACLrvC,KAAK0iC,aAAanxB,OAAOwzB,OAC7B/kC,MAAKwqC,WAAWj5B,OAAOwzB,KAG3B/kC,KAAKwqC,WAAWuD,YAAYhJ,EAAa50B,EAAUC,IAC5C,IAGXpQ,KAAKw0C,gBAAkB,WACnB,GAAIU,GAAYl1C,KAAKgI,QAAQyuB,gBAI7B,OAHIz2B,MAAKiwC,iBAAmBjwC,KAAKgI,QAAQmN,eACrC+/B,GAAa,GAEV5mC,KAAKC,IAAIvO,KAAK0rC,MAAMG,cAAgB,EAAI7rC,KAAKivC,SAAU3gC,KAAK2mC,MAAMC,EAAYl1C,KAAKisC,kBAE9FjsC,KAAKm1C,mBAAqB,WACtBn1C,KAAK2qC,aAAayK,WAAWp1C,KAAKgI,QAAQ0rB,YAAW,IACrD1zB,KAAKwsC,MAAM9b,SAAS1wB,KAAKstC,sBAE7BttC,KAAKq1C,kBAAoB,WACrBr1C,KAAKsqC,YAAY8K,WAAWp1C,KAAKgI,QAAQ0rB,cACzC1zB,KAAKwsC,MAAM9b,SAAS1wB,KAAKqtC,qBAE7BrtC,KAAK2yB,oBAAsB,SAASnlB,EAAKZ,GACrC5M,KAAK0iC,aAAa/P,oBAAoBnlB,EAAKZ,IAE/C5M,KAAK4yB,uBAAyB,SAASplB,EAAKZ,GACxC5M,KAAK0iC,aAAa9P,uBAAuBplB,EAAKZ,IAElD5M,KAAKs1C,kBAAoB,SAAShqB,GAC9BtrB,KAAKwsC,MAAM9b,SAAS1wB,KAAKgtC,gBAE7BhtC,KAAK8zB,eAAiB,SAASC,GAC3B/zB,KAAK0iC,aAAa5O,eAAeC,GACjC/zB,KAAKwsC,MAAM9b,SAAS1wB,KAAKgtC,gBAE7BhtC,KAAKu1C,aAAe,WAChBv1C,KAAKwsC,MAAM9b,SAAS1wB,KAAK8sC,gBAE7B9sC,KAAKw1C,WAAa,WACdx1C,KAAK4qC,aAAa4K,cAEtBx1C,KAAKy1C,WAAa,WACdz1C,KAAK4qC,aAAa6K,cAGtBz1C,KAAK01C,wBAA0B,SAAS13B,EAAQyI,EAAM5U,GAClD7R,KAAK8iC,qBAAqB9kB,EAAQnM,GAClC7R,KAAK8iC,qBAAqBrc,EAAM5U,IAEpC7R,KAAK8iC,qBAAuB,SAASrrB,EAAQ5F,EAAQ8jC,GACjD,GAAkC,IAA9B31C,KAAK0rC,MAAME,eAAf,CAGA,GAAIn9B,GAAMzO,KAAK4qC,aAAa0G,iBAAiB75B,GAEzC4zB,EAAO58B,EAAI48B,KACXD,EAAM38B,EAAI28B,IAEVwK,EAAYD,GAAeA,EAAYvK,KAAO,EAC9CyK,EAAeF,GAAeA,EAAYrJ,QAAU,EAEpDpW,EAAYl2B,KAAKkrC,iBAAmBlrC,KAAKgI,QAAQouB,eAAiBp2B,KAAKk2B,SAEvEA,GAAY0f,EAAYxK,GACpBv5B,IACAu5B,GAAOv5B,EAAS7R,KAAK0rC,MAAME,gBACnB,IAARR,IACAA,GAAOprC,KAAKmrC,aAAaC,KAC7BprC,KAAKgI,QAAQiuB,aAAamV,IACnBlV,EAAYl2B,KAAK0rC,MAAME,eAAiBiK,EAAezK,EAAMprC,KAAKglC,aACrEnzB,IACAu5B,GAAOv5B,EAAS7R,KAAK0rC,MAAME,gBAC/B5rC,KAAKgI,QAAQiuB,aAAamV,EAAMprC,KAAKglC,WAAahlC,KAAK0rC,MAAME,gBAGjE,IAAIrV,GAAav2B,KAAKu2B,UAElBA,GAAa8U,GACTA,EAAOrrC,KAAKivC,SAAW,EAAIjvC,KAAK+kC,YAAYkH,iBAC5CZ,GAAQrrC,KAAKmrC,aAAaE,MAC9BrrC,KAAKgI,QAAQsuB,cAAc+U,IACpB9U,EAAav2B,KAAK0rC,MAAMG,cAAgBR,EAAOrrC,KAAKisC,eAC3DjsC,KAAKgI,QAAQsuB,cAAchoB,KAAK2mC,MAAM5J,EAAOrrC,KAAKisC,eAAiBjsC,KAAK0rC,MAAMG,gBACvEtV,GAAcv2B,KAAKivC,UAAY5D,EAAO9U,EAAav2B,KAAKisC,gBAC/DjsC,KAAKgI,QAAQsuB,cAAc,KAGnCt2B,KAAKo2B,aAAe,WAChB,MAAOp2B,MAAKgI,QAAQouB,gBAExBp2B,KAAKw2B,cAAgB,WACjB,MAAOx2B,MAAKgI,QAAQwuB,iBAExBx2B,KAAK81C,gBAAkB,WACnB,MAAO91C,MAAKk2B,UAAYl2B,KAAKglC,YAEjChlC,KAAK+1C,mBAAqB,WACtB,MAAOznC,MAAKC,IAAI,EAAGD,KAAKwS,OAAO9gB,KAAKk2B,UAAYl2B,KAAK0rC,MAAME,gBAAkB5rC,KAAKglC,YAAc,IAEpGhlC,KAAKg2C,YAAc,SAASxoC,GACxBxN,KAAKgI,QAAQiuB,aAAazoB,EAAMxN,KAAKglC,aAGzChlC,KAAKi2C,YAAc,SAASx+B,EAAQy+B,GACX,gBAAVz+B,KACPA,GAAUjK,IAAKiK,EAAQrO,OAAQ,GAEnC,IAAIqF,GAAMzO,KAAK4qC,aAAa0G,iBAAiB75B,GACzC+kB,EAAIx8B,KAAK0rC,MAAME,eAAiB5rC,KAAKglC,WACrCnzB,EAASpD,EAAI28B,IAAM5O,GAAK0Z,GAAa,EAGzC,OADAl2C,MAAKgI,QAAQiuB,aAAapkB,GACnBA,GAGX7R,KAAKm2C,MAAQ,EACbn2C,KAAKo2C,WAAa,SAASC,EAAWC,GAClC,GAAIn1C,GAAI,EACJC,EAAIpB,KAAKm2C,MACTI,KAEAC,EAAQ,SAASC,EAAGC,EAAOC,GAC3B,MAAOA,IAAMroC,KAAKsoC,IAAIH,EAAI,EAAG,GAAK,GAAKC,EAG3C,KAAKv1C,EAAI,EAAGA,EAAIC,IAAKD,EACjBo1C,EAAMh1C,KAAKi1C,EAAKr1C,EAAInB,KAAKm2C,MAAOE,EAAWC,EAAUD,GAEzD,OAAOE,IAEXv2C,KAAK62C,aAAe,SAASjmC,EAAMkmC,EAAQC,EAASx3C,GAChD,GAAIkP,GAAMzO,KAAK4qC,aAAa0G,kBAAkB9jC,IAAKoD,EAAMxH,OAAQ,IAC7DyI,EAASpD,EAAI28B,GACb0L,KACAjlC,GAAU7R,KAAK0rC,MAAME,eAAiB,EAE1C,IAAIoL,GAAgBh3C,KAAKk2B,SACzBl2B,MAAKgI,QAAQiuB,aAAapkB,GACtBklC,KAAY,GACZ/2C,KAAKi3C,iBAAiBD,EAAez3C,IAG7CS,KAAKi3C,iBAAmB,SAASZ,EAAW92C,GACxC,GAAI+2C,GAAUt2C,KAAKk2B,SACnB,IAAKl2B,KAAK+vC,gBAAV,CAEA,GAAIva,GAAQx1B,IAEZ,IAAIq2C,GAAaC,EAAjB,CAGA,GAAIt2C,KAAKkrC,iBAAkB,CACvB,GAAIgM,GAAWl3C,KAAKkrC,iBAAiBqL,KACrC,IAAIW,EAASx2C,SACT21C,EAAYa,EAAS,GACjBb,GAAaC,GACb,OAIZ,GAAIC,GAAQ/gB,EAAM4gB,WAAWC,EAAWC,EACxCt2C,MAAKkrC,kBAAoBiM,KAAMd,EAAWe,GAAId,EAASC,MAAOA,GAE9Dc,cAAcr3C,KAAKs3C,QAEnB9hB,EAAMxtB,QAAQiuB,aAAasgB,EAAMrrC,SACjCsqB,EAAMxtB,QAAQguB,WAAasgB,EAC3Bt2C,KAAKs3C,OAASC,YAAY,WAClBhB,EAAM71C,QACN80B,EAAMxtB,QAAQiuB,aAAasgB,EAAMrrC,SACjCsqB,EAAMxtB,QAAQguB,WAAasgB,GACT,MAAXA,GACP9gB,EAAMxtB,QAAQguB,YAAa,EAC3BR,EAAMxtB,QAAQiuB,aAAaqgB,GAC3BA,EAAU,OAEV9gB,EAAM8hB,OAASD,cAAc7hB,EAAM8hB,QACnC9hB,EAAM0V,iBAAmB,KACzB3rC,GAAYA,MAEjB,OAEPS,KAAKw3C,UAAY,SAASthB,GAClBl2B,KAAKk2B,YAAcA,IACnBl2B,KAAKwsC,MAAM9b,SAAS1wB,KAAKitC,eACzBjtC,KAAKk2B,UAAYA,IAGzBl2B,KAAKy3C,UAAY,SAASlhB,GAClBv2B,KAAKu2B,aAAeA,IACpBv2B,KAAKu2B,WAAaA,GACtBv2B,KAAKwsC,MAAM9b,SAAS1wB,KAAKutC,kBAE7BvtC,KAAK03C,SAAW,SAAS1rC,EAAGmR,GACxBnd,KAAKgI,QAAQiuB,aAAa9Y,GAC1Bnd,KAAKgI,QAAQsuB,cAAcnZ,IAE/Bnd,KAAK8kC,SAAW,SAAS6S,EAAQC,GAC7BA,GAAU53C,KAAKgI,QAAQiuB,aAAaj2B,KAAKgI,QAAQouB,eAAiBwhB,GAClED,GAAU33C,KAAKgI,QAAQsuB,cAAct2B,KAAKgI,QAAQwuB,gBAAkBmhB,IAExE33C,KAAK63C,eAAiB,SAASF,EAAQC,GACnC,MAAIA,GAAS,GAAK53C,KAAKgI,QAAQouB,gBAAkB,EAAIp2B,KAAKmrC,aAAaC,MAEnEwM,EAAS,GAAK53C,KAAKgI,QAAQouB,eAAiBp2B,KAAK0rC,MAAME,eACrD5rC,KAAK+kC,YAAYoH,WAAansC,KAAK0rC,MAAME,eAAiB5rC,KAAKglC,YAAchlC,KAAK20C,gBAClF,EAAK30C,KAAKmrC,aAAamB,SAEzBqL,EAAS,GAAK33C,KAAKgI,QAAQwuB,iBAAmB,EAAIx2B,KAAKmrC,aAAaE,OAEpEsM,EAAS,GAAK33C,KAAKgI,QAAQwuB,gBAAkBx2B,KAAK0rC,MAAMG,cACtD7rC,KAAK+kC,YAAYjO,OAAQ,EAAK92B,KAAKmrC,aAAakB,OADtD,WAKJrsC,KAAK83C,yBAA2B,SAAS9rC,EAAGmR,GACxC,GAAI46B,GAAY/3C,KAAKmqC,SAAS6N,wBAE1BnmC,GAAU7F,EAAIhM,KAAKu2B,WAAawhB,EAAU1M,KAAOrrC,KAAKivC,UAAYjvC,KAAKisC,eACvEz+B,EAAMc,KAAKwS,OAAO3D,EAAInd,KAAKk2B,UAAY6hB,EAAU3M,KAAOprC,KAAKglC,YAC7DjH,EAAMzvB,KAAK2mC,MAAMpjC,EAErB,QAAQrE,IAAKA,EAAKpE,OAAQ20B,EAAK5rB,KAAMN,EAASksB,EAAM,EAAI,GAAI,IAGhE/9B,KAAKi4C,wBAA0B,SAASjsC,EAAGmR,GACvC,GAAI46B,GAAY/3C,KAAKmqC,SAAS6N,wBAE1Bja,EAAMzvB,KAAK2mC,OACVjpC,EAAIhM,KAAKu2B,WAAawhB,EAAU1M,KAAOrrC,KAAKivC,UAAYjvC,KAAKisC,gBAG9Dz+B,GAAO2P,EAAInd,KAAKk2B,UAAY6hB,EAAU3M,KAAOprC,KAAKglC,UAEtD,OAAOhlC,MAAKgI,QAAQoiB,yBAAyB5c,EAAKc,KAAKC,IAAIwvB,EAAK,KAEpE/9B,KAAKk4C,wBAA0B,SAAS1qC,EAAKpE,GACzC,GAAI2uC,GAAY/3C,KAAKmqC,SAAS6N,wBAC1BvpC,EAAMzO,KAAKgI,QAAQgd,yBAAyBxX,EAAKpE,GAEjD4C,EAAIhM,KAAKivC,SAAW3gC,KAAK2mC,MAAMxmC,EAAIrF,OAASpJ,KAAKisC,gBACjD9uB,EAAI1O,EAAIjB,IAAMxN,KAAKglC,UAEvB,QACImT,MAAOJ,EAAU1M,KAAOr/B,EAAIhM,KAAKu2B,WACjC6hB,MAAOL,EAAU3M,IAAMjuB,EAAInd,KAAKk2B,YAGxCl2B,KAAKq4C,eAAiB,WAClB51C,EAAIunC,YAAYhqC,KAAK6pC,UAAW,cAEpC7pC,KAAKs4C,cAAgB,WACjB71C,EAAI81C,eAAev4C,KAAK6pC,UAAW,cAEvC7pC,KAAKw4C,gBAAkB,SAASpzB,GACvBplB,KAAKmyC,eACNnyC,KAAKmyC,cACDsG,qBAAsBz4C,KAAK+pC,sBAC3B2O,QAAS14C,KAAKoyC,SAASt5B,MAAM4/B,UAGrC14C,KAAK+pC,uBAAwB,EAC7BtnC,EAAIunC,YAAYhqC,KAAKoyC,SAAU,mBAC/BpyC,KAAKoyC,SAASt5B,MAAM4/B,QAAU,GAC9B14C,KAAKgyC,yBAEThyC,KAAK24C,mBAAqB,SAASt0C,GAC/BrE,KAAKgyC,yBAEThyC,KAAK44C,gBAAkB,WACd54C,KAAKmyC,eAGV1vC,EAAI81C,eAAev4C,KAAKoyC,SAAU,mBAClCpyC,KAAK+pC,sBAAwB/pC,KAAKmyC,aAAasG,qBAC/Cz4C,KAAKoyC,SAASt5B,MAAM4/B,QAAU14C,KAAKmyC,aAAauG,QAChD14C,KAAKmyC,aAAe,OAExBnyC,KAAKiqC,SAAW,SAASH,EAAO9U,GAY5B,QAAS6jB,GAAUv5C,GACf,GAAIk2B,EAAMsjB,UAAYhP,EAClB,MAAO9U,IAAMA,GACjB,IAAK11B,EAAOy5C,SAAZ,CAEAt2C,EAAImnC,gBACAtqC,EAAOo5C,QACPp5C,EAAOy5C,SACPvjB,EAAMqU,UAAU6C,eAGhBlX,EAAMsU,OACNrnC,EAAI81C,eAAe/iB,EAAMqU,UAAWrU,EAAMsU,MAAMiP,SAEpD,IAAIhN,GAAU,WAAazsC,GAASA,EAAOysC,QACrC,YAAcvW,EAAMsU,WAAe,EAAItU,EAAMyZ,QAC/CzZ,GAAMyZ,UAAYlD,GAAWvW,EAAMyZ,UACnCzZ,EAAMqX,WAAWd,GACrBvW,EAAMwjB,OAAS15C,EAAOy5C,SAEtBvjB,EAAMsU,MAAQxqC,EACdmD,EAAIunC,YAAYxU,EAAMqU,UAAWvqC,EAAOy5C,UACxCt2C,EAAIw2C,YAAYzjB,EAAMqU,UAAW,WAAYvqC,EAAO45C,QAChD1jB,EAAMkW,QACNlW,EAAMkW,MAAM5U,MAAQ,EACpBtB,EAAMgZ,oBAGVhZ,EAAM6Q,eAAe,eAAgByD,MAAMxqC,IAC3C01B,GAAMA,KAxCV,GAAIQ,GAAQx1B,IAIZ,IAHAA,KAAK84C,SAAWhP,EAChBtU,EAAM6Q,eAAe,eAAeyD,MAAMA,IAErCA,GAAyB,gBAATA,GAIjB+O,EAAU/O,OAJ0B,CACpC,GAAIroC,GAAaqoC,GAAS9pC,KAAKssB,SAASwd,MAAM5L,YAC9Cj7B,GAAOkyB,YAAY,QAAS1zB,GAAao3C,KAqCjD74C,KAAKm5C,SAAW,WACZ,MAAOn5C,MAAK84C,UAEhB94C,KAAK0tC,SAAW,SAAS50B,EAAOpN,GAC5BjJ,EAAIw2C,YAAYj5C,KAAK6pC,UAAW/wB,EAAOpN,KAAY,IAEvD1L,KAAKo5C,WAAa,SAAStgC,GACvBrW,EAAI81C,eAAev4C,KAAK6pC,UAAW/wB,IAGvC9Y,KAAKq5C,eAAiB,SAASvgC,GACvB9Y,KAAKoqC,QAAQtxB,MAAMrB,QAAUqB,IAC7B9Y,KAAKoqC,QAAQtxB,MAAMrB,OAASqB,IAEpC9Y,KAAKs5C,eAAiB,SAASC,GAC3Bv5C,KAAKoqC,QAAQtxB,MAAMrB,OAAS8hC,GAEhCv5C,KAAKw5C,QAAU,WACXx5C,KAAKwqC,WAAWgP,UAChBx5C,KAAK4qC,aAAa4O,aAGvBv4C,KAAK8B,EAAgBhC,WAGxBkC,EAAO46B,cAAc96B,EAAgBhC,UAAW,YAC5C04C,gBAAiBvb,cAAc,GAC/B+R,gBACI1jB,IAAK,SAASjjB,GACNtJ,KAAKwqC,WAAWwF,kBAAkB1mC,IAClCtJ,KAAKwsC,MAAM9b,SAAS1wB,KAAKmtC,cAEjCjP,cAAc,GAElBsS,iBACIjkB,IAAK,WAAavsB,KAAK6tC,sBACvB3P,cAAc,GAElBwb,mBACIntB,IAAK,WAAavsB,KAAK6tC,sBACvB3P,aAAc,IAElByb,aACIptB,IAAK,SAASqD,GACQ,gBAAPA,KACP5vB,KAAK2vC,mBAAqB/f,GAC9B5vB,KAAK0vC,mBAAqB9f,EAC1B5vB,KAAK6tC,sBAET7P,IAAK,WACD,MAAOh+B,MAAK0vC,kBAAoB1vC,KAAK2vC,qBAG7CiK,YACIrtB,IAAK,SAASukB,GACV9wC,KAAKkqC,QAAQpxB,MAAMw3B,QAAUQ,EAAO,QAAU,OAC9C9wC,KAAKwsC,MAAM9b,SAAS1wB,KAAK4sC,aACzB5sC,KAAKqqC,kBAETnM,cAAc,GAElB2b,iBACIttB,IAAK,SAASukB,GACVruC,EAAIw2C,YAAYj5C,KAAKkqC,QAAS,wBAAyB4G,IAE3D5S,cAAc,GAElB4b,iBACIvtB,IAAK,SAASukB,GAAO9wC,KAAK0iC,aAAaqX,mBAAmBjJ,IAC1D5S,cAAc,GAElB8b,iBACIztB,IAAK,SAASukB,GACV9wC,KAAK0iC,aAAauX,mBAAmBnJ,GACrC9wC,KAAKwsC,MAAM9b,SAAS1wB,KAAKgtC,gBAE7B9O,cAAc,GAElBgc,qBACI3tB,IAAK,SAASukB,GACN9wC,KAAKwqC,WAAW6F,uBAAuBS,IACvC9wC,KAAKwsC,MAAM9b,SAAS1wB,KAAKmtC,cAEjCjP,cAAc,GAElBic,qBACI5tB,IAAK,SAAS2kB,GACV,MAAKlxC,MAAKuxC,sBAOVvxC,KAAKuxC,qBAAqBz4B,MAAMw3B,QAAUY,EAAkB,GAAK,YAC7DlxC,KAAK4qC,aAAayG,WAClBrxC,KAAKoxC,gCARLpxC,KAAKuxC,qBAAuB9uC,EAAIimC,cAAc,OAC9C1oC,KAAKuxC,qBAAqB3kC,UAAY,6BACtC5M,MAAKkqC,QAAQvB,YAAY3oC,KAAKuxC,wBAQtCrT,cAAc,EACd50B,OAAO,GAEX8wC,yBACI7tB,IAAK,SAASqD,GACL5vB,KAAK6yC,0BAA6B7yC,KAAK6qC,cACxC7qC,KAAKwsC,MAAM9b,SAAS1wB,KAAKitC,gBAEjC/O,cAAc,GAElBmc,yBACI9tB,IAAK,SAASqD,GACL5vB,KAAK40C,0BAA6B50C,KAAK8qC,UACxC9qC,KAAKwsC,MAAM9b,SAAS1wB,KAAKitC,gBAEjC/O,cAAc,GAElBoc,UACI/tB,IAAK,SAAS2M,GACS,gBAARA,KACPA,GAAc,MAClBl5B,KAAK6pC,UAAU/wB,MAAMwhC,SAAWphB,EAChCl5B,KAAKquC,kBAETnQ,aAAc,IAElBqc,YACIhuB,IAAK,SAAS5nB,GACV3E,KAAK6pC,UAAU/wB,MAAMyhC,WAAa51C,EAClC3E,KAAKquC,mBAGbmM,UACIjuB,IAAK,SAASqD,GACV5vB,KAAKouC,eAGbqM,UACIluB,IAAK,SAASqD,GACV5vB,KAAKouC,eAGbsM,eACInuB,IAAK,SAASqD,GACVA,GAAOA,GAAO,EACV5vB,KAAK20C,gBAAkB/kB,IAE3B5vB,KAAK20C,eAAiB/kB,EACtB5vB,KAAKwsC,MAAM9b,SAAS1wB,KAAKitC,iBAE7B/O,aAAc,EACdD,YAAY,GAEhB0c,kBACIpuB,IAAK,SAASqD,GACV5vB,KAAK0iC,aAAakY,cAAgBhrB,EAClC5vB,KAAKwsC,MAAM9b,SAAS1wB,KAAKgtC,iBAGjClD,OACIvd,IAAK,SAASqD,GAAO5vB,KAAKiqC,SAASra,IACnCoO,IAAK,WAAa,MAAOh+B,MAAK84C,UAAY94C,KAAK8pC,OAC/C5L,aAAc,mBACdD,YAAY,KAIpB97B,EAAQY,gBAAkBA,IAG1BpD,OAAO,cAAe,UAAW,UAAW,SAAW,eAAgB,cAAe,cAAe,yBAA0B,SAASN,EAAS8C,EAAS7C,GAC1J,eA2GW,SAAS2jC,GAAKrjC,GAIrB,GAFA+Z,EAAQ/Z,SAAWA,GAAYP,EAAQO,UAAYN,EAAOM,UAAaF,EAAOC,QAAUA,OAAOC,UAE1FF,EAAO2D,SACR,MAAO,EAMX,KAAK,GAJDw3C,MACAC,EAAY,GAEZC,EAAU13C,SAAS23C,qBAAqB,UACnC75C,EAAE,EAAGA,EAAE45C,EAAQr6C,OAAQS,IAAK,CACjC,GAAI85C,GAASF,EAAQ55C,GAEjB+b,EAAM+9B,EAAO/9B,KAAO+9B,EAAOC,aAAa,MAC5C,IAAKh+B,EAAL,CAIA,IAAK,GADDi+B,GAAaF,EAAOE,WACfrpC,EAAE,EAAG1Q,EAAE+5C,EAAWz6C,OAAQoR,EAAI1Q,EAAG0Q,IAAK,CAC3C,GAAIspC,GAAOD,EAAWrpC,EACiB,KAAnCspC,EAAKz2C,KAAKjD,QAAQ,eAClBm5C,EAAcQ,EAAYD,EAAKz2C,KAAKzC,QAAQ,aAAc,MAAQk5C,EAAK9xC,OAI/E,GAAIyT,GAAIG,EAAItL,MAAM,+BACdmL,KACA+9B,EAAY/9B,EAAE,KAGlB+9B,IACAD,EAAc/4C,KAAO+4C,EAAc/4C,MAAQg5C,EAC3CD,EAAcj7C,UAAW,GAG7Bi7C,EAAcS,SAAWT,EAAc/4C,KACvC+4C,EAAcU,WAAaV,EAAcU,YAAcV,EAAc/4C,KACrE+4C,EAAcW,SAAWX,EAAcW,UAAYX,EAAc/4C,KACjE+4C,EAAcY,UAAYZ,EAAcY,WAAaZ,EAAc/4C,WAC5D+4C,GAAc/4C,IAErB,KAAK,GAAIkD,KAAO61C,GACsB,mBAAvBA,GAAc71C,IACrB7C,EAAQoqB,IAAIvnB,EAAK61C,EAAc71C,IAK3C,QAASq2C,GAAYhoC,GACjB,MAAOA,GAAInR,QAAQ,QAAS,SAAS6a,EAAG2+B,GAAM,MAAOA,GAAGhuB,gBA3J5D,GAAInkB,GAAOlK,EAAQ,cACfgO,EAAMhO,EAAQ,aACds8C,EAAMt8C,EAAQ,aACdiO,EAAejO,EAAQ,uBAAuBiO,aAE9C5N,EAAS,WACT,MAAOM,SAGP2Z,GACA/Z,UAAU,EACV27C,WAAY,KACZC,SAAU,KACVC,UAAW,KACXH,SAAU,GACVM,OAAQ,MACRC,eAGJ15C,GAAQ67B,IAAM,SAASh5B,GACnB,IAAK2U,EAAQmiC,eAAe92C,GACxB,KAAM,IAAIzB,OAAM,uBAAyByB,EAE7C,OAAO2U,GAAQ3U,IAGnB7C,EAAQoqB,IAAM,SAASvnB,EAAKsE,GACxB,IAAKqQ,EAAQmiC,eAAe92C,GACxB,KAAM,IAAIzB,OAAM,uBAAyByB,EAE7C2U,GAAQ3U,GAAOsE,GAGnBnH,EAAQ2X,IAAM,WACV,MAAOvQ,GAAKmjB,WAAW/S,IAE3BtM,EAAIQ,UAAU1L,EAASmL,GAEvBnL,EAAQ45C,UAAY,SAASp3C,EAAMq3C,GAC/B,GAAIriC,EAAQkiC,YAAYl3C,GACpB,MAAOgV,GAAQkiC,YAAYl3C,EAE/B,IAAI2pB,GAAQ3pB,EAAK/C,MAAM,IACvBo6C,GAAYA,GAAa1tB,EAAMA,EAAM5tB,OAAS,IAAM,EACpD,IAAIu7C,GAAmB,YAAbD,EAA0B,IAAM,IACtCl6C,EAAOwsB,EAAMA,EAAM5tB,OAAS,EAChC,IAAW,KAAPu7C,EAAY,CACZ,GAAI/jC,GAAK,GAAIC,QAAO,IAAM6jC,EAAY,gBAAkBA,EAAY,IAAK,IACzEl6C,GAAOA,EAAKI,QAAQgW,EAAI,MAGtBpW,GAAQA,GAAQk6C,IAAc1tB,EAAM5tB,OAAS,IAC/CoB,EAAOwsB,EAAMA,EAAM5tB,OAAS,GAChC,IAAIw0B,GAAOvb,EAAQqiC,EAAY,OAQ/B,OAPY,OAAR9mB,EACAA,EAAOvb,EAAQ2hC,SACD,KAAPW,IACPD,EAAYC,EAAM,IAElB/mB,GAA0B,KAAlBA,EAAKnzB,OAAM,KACnBmzB,GAAQ,KACLA,EAAO8mB,EAAYC,EAAMn6C,EAAO9B,KAAKg+B,IAAI,WAGpD77B,EAAQ+5C,aAAe,SAASv3C,EAAMw3C,GAClC,MAAOxiC,GAAQkiC,YAAYl3C,GAAQw3C,GAGvCh6C,EAAQi6C,YACRj6C,EAAQgzB,WAAa,SAAS1zB,EAAY46C,GACtC,GAAI/8C,GAAQg9C,CACR7xC,OAAMc,QAAQ9J,KACd66C,EAAa76C,EAAW,GACxBA,EAAaA,EAAW,GAG5B,KACInC,EAASD,EAAQoC,GACnB,MAAOyM,IACT,GAAI5O,IAAW6C,EAAQi6C,SAAS36C,GAC5B,MAAO46C,IAAUA,EAAO/8C,EAO5B,IALK6C,EAAQi6C,SAAS36C,KAClBU,EAAQi6C,SAAS36C,OAErBU,EAAQi6C,SAAS36C,GAAYF,KAAK86C,KAE9Bl6C,EAAQi6C,SAAS36C,GAAYf,OAAS,GAA1C,CAGA,GAAIm4C,GAAY,WACZx5C,GAASoC,GAAa,SAASnC,GAC3B6C,EAAQoT,MAAM,eAAgB5Q,KAAMlD,EAAYnC,OAAQA,GACxD,IAAImnC,GAAYtkC,EAAQi6C,SAAS36C,EACjCU,GAAQi6C,SAAS36C,GAAc,KAC/BglC,EAAUn6B,QAAQ,SAAS+vC,GACvBA,GAAUA,EAAO/8C,OAK7B,OAAK6C,GAAQ67B,IAAI,gBAEjB2d,GAAIrT,WAAWnmC,EAAQ45C,UAAUt6C,EAAY66C,GAAazD,GAD/CA,MAGf5V,GAAK,GA+CL9gC,EAAQ8gC,KAAOA,CAMf,IAAIsZ,IACA5vB,WAAY,SAAS6vB,GACjB17C,OAAOuL,KAAKmwC,GAASlwC,QAAQ,SAAStH,GAClChF,KAAKgyB,UAAUhtB,EAAKw3C,EAAQx3C,KAC7BhF,OAEPysB,WAAY,SAASgwB,GACjB,GAAIC,KAUJ,OATKD,GAEOhyC,MAAMc,QAAQkxC,KACtBC,EAASD,EACTA,EAAc37C,OAAOuL,KAAKqwC,IAH1BD,EAAc37C,OAAOuL,KAAKrM,KAAKssB,UAKnCmwB,EAAYnwC,QAAQ,SAAStH,GACzB03C,EAAO13C,GAAOhF,KAAKmwC,UAAUnrC,IAC9BhF,MACI08C,GAEX1qB,UAAW,SAASrtB,EAAM2E,GACtB,GAAItJ,KAAK,IAAM2E,KAAU2E,EAAzB,CAEA,GAAIqzC,GAAM38C,KAAKssB,SAAS3nB,EACxB,KAAKg4C,EAGD,YAFsB,mBAAXp8C,UAA0BA,QAAQ6gC,MACzC7gC,QAAQ6gC,KAAK,sBAAwBz8B,EAAO,KAGpD,IAAIg4C,EAAIC,UACJ,MAAO58C,MAAK28C,EAAIC,YAAc58C,KAAK28C,EAAIC,WAAW5qB,UAAUrtB,EAAM2E,EAEjEqzC,GAAI1e,aACLj+B,KAAK,IAAM2E,GAAQ2E,GACnBqzC,GAAOA,EAAIpwB,KACXowB,EAAIpwB,IAAItrB,KAAKjB,KAAMsJ,KAE3B6mC,UAAW,SAASxrC,GAChB,GAAIg4C,GAAM38C,KAAKssB,SAAS3nB,EACxB,OAAKg4C,GAKDA,EAAIC,UACG58C,KAAK28C,EAAIC,YAAc58C,KAAK28C,EAAIC,WAAWzM,UAAUxrC,GACzDg4C,GAAOA,EAAI3e,IAAM2e,EAAI3e,IAAI/8B,KAAKjB,MAAQA,KAAK,IAAM2E,QAN9B,mBAAXpE,UAA0BA,QAAQ6gC,MACzC7gC,QAAQ6gC,KAAK,sBAAwBz8B,EAAO,QASxDk4C,IACJ16C,GAAQ07B,cAAgB,SAASif,EAAK5nB,EAAMvb,GAgBxC,MAfKmjC,GAAIxwB,WACLuwB,EAAe3nB,GAAQ4nB,EAAIxwB,aAE/BxrB,OAAOuL,KAAKsN,GAASrN,QAAQ,SAAStH,GAClC,GAAI23C,GAAMhjC,EAAQ3U,EACA,iBAAP23C,KACPA,GAAOC,UAAWD,IAEtBA,EAAIh4C,OAASg4C,EAAIh4C,KAAOK,GACxB83C,EAAIxwB,SAASqwB,EAAIh4C,MAAQg4C,EACrB,gBAAkBA,KAClBG,EAAI,IAAMH,EAAIh4C,MAAQg4C,EAAIze,gBAElC7wB,EAAIQ,UAAUivC,EAAKP,GAEZv8C,MAGXmC,EAAQ+sB,aAAe,SAAS4tB,GAC5Bh8C,OAAOuL,KAAKywC,EAAIxwB,UAAUhgB,QAAQ,SAAStH,GACvC,GAAI23C,GAAMG,EAAIxwB,SAAStnB,EACnB,UAAW23C,IACXG,EAAI9qB,UAAUhtB,EAAK23C,EAAIrzC,UAInCnH,EAAQ46C,gBAAkB,SAAS7nB,EAAMvwB,EAAM2E,GAC3C,GAAI0zC,GAAOH,EAAe3nB,KAAU2nB,EAAe3nB,MAC/C8nB,GAAKr4C,KACDq4C,EAAKJ,UACLz6C,EAAQ46C,gBAAgBC,EAAKJ,UAAWj4C,EAAM2E,GAE9C0zC,EAAKr4C,GAAM2E,MAAQA,IAI/BnH,EAAQ86C,iBAAmB,SAAS/nB,EAAMgoB,GACtCp8C,OAAOuL,KAAK6wC,GAAY5wC,QAAQ,SAAStH,GACrC7C,EAAQ46C,gBAAgB7nB,EAAMlwB,EAAKk4C,EAAWl4C,SAMtDrF,OAAO,oBAAqB,UAAW,UAAW,SAAW,cAAe,cAAe,eAAgB,yBAA0B,SAASN,EAAS8C,EAAS7C,GAGhK,GAAImD,GAAMpD,EAAQ,cACdgO,EAAMhO,EAAQ,cACdkK,EAAOlK,EAAQ,eACfiO,EAAejO,EAAQ,wBAAwBiO,aAE/C07B,EAAS,SAASmU,GAClBn9C,KAAK0qC,QAAUjoC,EAAIimC,cAAc,OACjC1oC,KAAK0qC,QAAQ99B,UAAY,6BACzBuwC,EAASxU,YAAY3oC,KAAK0qC,SAC1B1qC,KAAK+5C,mBAAmB/5C,KAAKo9C,kBAE7Bp9C,KAAKyrC,YAAc,EAEnBzrC,KAAKg0B,gBACLh0B,KAAKq9C,mBAAqBr9C,KAAKq9C,mBAAmBp5C,KAAKjE,MAEvDA,KAAKs9C,YAGT,WAEIjwC,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAK8D,WAAa,SAASkE,GACnBhI,KAAKgI,SACLhI,KAAKgI,QAAQ6G,oBAAoB,SAAU7O,KAAKq9C,oBACpDr9C,KAAKgI,QAAUA,EACfA,EAAQ7D,GAAG,SAAUnE,KAAKq9C,qBAG9Br9C,KAAK2yB,oBAAsB,SAASnlB,EAAKZ,GACjCvM,OAAOE,SACPA,QAAQ6gC,MAAQ7gC,QAAQ6gC,KAAK,8CACjCphC,KAAKgI,QAAQ2qB,oBAAoBnlB,EAAKZ,IAG1C5M,KAAK4yB,uBAAyB,SAASplB,EAAKZ,GACpCvM,OAAOE,SACPA,QAAQ6gC,MAAQ7gC,QAAQ6gC,KAAK,iDACjCphC,KAAKgI,QAAQ4qB,uBAAuBplB,EAAKZ,IAG7C5M,KAAK8zB,eAAiB,SAASC,GAC3B/zB,KAAKg0B,eACL,KAAK,GAAI7yB,GAAI,EAAGA,EAAI4yB,EAAYrzB,OAAQS,IAAK,CACzC,GAAIo8C,GAAaxpB,EAAY5yB,GACzBqM,EAAM+vC,EAAW/vC,IACjBgwC,EAAUx9C,KAAKg0B,aAAaxmB,EAC3BgwC,KACDA,EAAUx9C,KAAKg0B,aAAaxmB,IAAQnJ,SAExC,IAAIo5C,GAAWF,EAAWl5C,IAC1Bo5C,GAAWA,EAAWl0C,EAAKm0C,WAAWD,GAAYF,EAAW/rC,MAAQ,GAEjEgsC,EAAQn5C,KAAK3C,QAAQ+7C,MAAc,GACnCD,EAAQn5C,KAAK9C,KAAKk8C,EAEtB,IAAItsC,GAAOosC,EAAWpsC,IACV,UAARA,EACAqsC,EAAQ5wC,UAAY,aACP,WAARuE,GAA0C,cAArBqsC,EAAQ5wC,UAClC4wC,EAAQ5wC,UAAY,eACP,QAARuE,GAAoBqsC,EAAQ5wC,YACjC4wC,EAAQ5wC,UAAY,eAIhC5M,KAAKq9C,mBAAqB,SAAUnvC,GAChC,GAAKlO,KAAKg0B,aAAatzB,OAAvB,CAEA,GAAIyN,GAAQD,EAAEE,KACVC,EAAQF,EAAME,MACd8B,EAAW9B,EAAMhF,MAAMmE,IACvBmC,EAAMtB,EAAM/C,IAAIkC,IAAM2C,CAC1B,IAAY,IAARR,OACG,IAAoB,cAAhBxB,EAAMvJ,QAA0C,eAAhBuJ,EAAMvJ,OAC7C5E,KAAKg0B,aAAa/nB,OAAOkE,EAAUR,EAAM,EAAG,UACzC,CACH,GAAI9D,GAAO,GAAIpB,OAAMkF,EAAM,EAC3B9D,GAAKb,QAAQmF,EAAU,GACvBnQ,KAAKg0B,aAAa/nB,OAAO7L,MAAMJ,KAAKg0B,aAAcnoB,MAI1D7L,KAAKuR,OAAS,SAAStO,GAkBnB,IAjBA,GAAI+E,GAAUhI,KAAKgI,QACfmI,EAAWlN,EAAOkN,SAClBC,EAAU9B,KAAKS,IAAI9L,EAAOmN,QAAUnN,EAAOmpC,aAC3CpkC,EAAQc,YAAc,GACtByJ,EAAOvK,EAAQ4L,gBAAgBzD,GAC/BknB,EAAY9kB,EAAOA,EAAKlJ,MAAMmE,IAAMgS,EAAAA,EACpCnH,EAAcrY,KAAKo9C,kBAAoBp1C,EAAQqQ,YAC/CslC,EAAc31C,EAAQ2mB,aACtBivB,EAAc51C,EAAQ4mB,aACtBuP,EAAkBn2B,EAAQ61C,iBAC1BC,EAAiB,EAEjBC,EAAiB/1C,EAAQ+1C,gBAAkB/9C,KAAKg+C,UAEhDC,EAAO,KACPv1C,GAAQ,EACR8E,EAAM2C,IACG,CAMT,GALI3C,EAAM6pB,IACN7pB,EAAM+E,EAAKjH,IAAIkC,IAAM,EACrB+E,EAAOvK,EAAQ4L,gBAAgBpG,EAAK+E,GACpC8kB,EAAY9kB,EAAOA,EAAKlJ,MAAMmE,IAAMgS,EAAAA,GAEpChS,EAAM4C,EAAS,CACf,KAAOpQ,KAAKs9C,OAAO58C,OAASgI,EAAQ,GAChCu1C,EAAOj+C,KAAKs9C,OAAO5nC,MACnB1V,KAAK0qC,QAAQwT,YAAYD,EAAKvT,QAElC,OAGJuT,EAAOj+C,KAAKs9C,SAAS50C,GAChBu1C,IACDA,GAAQvT,QAAS,KAAMyT,SAAU,KAAMC,WAAY,MACnDH,EAAKvT,QAAUjoC,EAAIimC,cAAc,OACjCuV,EAAKE,SAAW96C,SAASg7C,eAAe,IACxCJ,EAAKvT,QAAQ/B,YAAYsV,EAAKE,UAC9Bn+C,KAAK0qC,QAAQ/B,YAAYsV,EAAKvT,SAC9B1qC,KAAKs9C,OAAO50C,GAASu1C,EAGzB,IAAIrxC,GAAY,kBACZ+wC,GAAYnwC,KACZZ,GAAa+wC,EAAYnwC,IACzBowC,EAAYpwC,KACZZ,GAAagxC,EAAYpwC,IACzBxN,KAAKg0B,aAAaxmB,KAClBZ,GAAa5M,KAAKg0B,aAAaxmB,GAAKZ,WACpCqxC,EAAKvT,QAAQ99B,WAAaA,IAC1BqxC,EAAKvT,QAAQ99B,UAAYA,EAE7B,IAAI++B,GAAS3jC,EAAQu0B,aAAa/uB,GAAOvK,EAAO+hC,WAAa,IAI7D,IAHI2G,GAAUsS,EAAKvT,QAAQ5xB,MAAM6yB,SAC7BsS,EAAKvT,QAAQ5xB,MAAM6yB,OAASA,GAE5BtzB,EAAa,CACb,GAAImB,GAAInB,EAAY7K,EACX,OAALgM,IACAA,EAAInB,EAAY7K,GAAOxF,EAAQsQ,cAAc9K,IAGrD,GAAIgM,EAAG,CACEykC,EAAKG,aACNH,EAAKG,WAAa37C,EAAIimC,cAAc,QACpCuV,EAAKvT,QAAQ/B,YAAYsV,EAAKG,YAElC,IAAIxxC,GAAY,uBAAyB4M,CAErC5M,IADK,SAAL4M,GAAgBhM,GAAO6pB,GAAa7pB,EAAM+E,EAAKjH,IAAIkC,IACtC,cAEA,YACbywC,EAAKG,WAAWxxC,WAAaA,IAC7BqxC,EAAKG,WAAWxxC,UAAYA,EAEhC,IAAI++B,GAAS1oC,EAAO+hC,WAAa,IAC7BiZ,GAAKG,WAAWtlC,MAAM6yB,QAAUA,IAChCsS,EAAKG,WAAWtlC,MAAM6yB,OAASA,OAE/BsS,GAAKG,aACLH,EAAKvT,QAAQwT,YAAYD,EAAKG,YAC9BH,EAAKG,WAAa,KAI1B,IAAI/5C,GAAOy5C,EAAiBC,EACtBA,EAAeO,QAAQt2C,EAASwF,GAChCA,EAAM2wB,CACR95B,IAAQ45C,EAAKE,SAAS/vC,OACtB6vC,EAAKE,SAAS/vC,KAAO/J,GAEzBmJ,IAGJxN,KAAK0qC,QAAQ5xB,MAAM6yB,OAAS1oC,EAAOipC,UAAY,MAE3ClsC,KAAK46C,aAAe5yC,EAAQmN,gBAC5B2oC,EAAiB91C,EAAQc,YAAcq1B,EAE3C,IAAIsN,GAAcsS,EACZA,EAAexO,SAASvnC,EAAS81C,EAAgB76C,GACjD66C,EAAe98C,WAAWN,OAASuC,EAAOgpC,eAE5CF,EAAU/rC,KAAKivC,UAAYjvC,KAAKu+C,iBACpC9S,IAAeM,EAAQV,KAAOU,EAAQM,MAClCZ,IAAgBzrC,KAAKyrC,aAAgBtV,MAAMsV,KAC3CzrC,KAAKyrC,YAAcA,EACnBzrC,KAAK0qC,QAAQ5xB,MAAMge,MAAQxoB,KAAK0mC,KAAKh1C,KAAKyrC,aAAe,KACzDzrC,KAAKuV,MAAM,oBAAqBk2B,KAIxCzrC,KAAK46C,aAAc,EAEnB56C,KAAKw+C,kBAAmB,EACxBx+C,KAAKg+C,UAAY,GACjBh+C,KAAKi6C,mBAAqB,SAASnJ,GAC/B9wC,KAAKg+C,WAAalN,IACdvB,SAAU,WAAY,MAAO,IAC7B+O,QAAS,WAAY,MAAO,MAIpCt+C,KAAKy+C,mBAAqB,WACtB,MAAOz+C,MAAKw+C,kBAGhBx+C,KAAKo9C,kBAAmB,EACxBp9C,KAAK+5C,mBAAqB,SAASjJ,GAC3BA,EACAruC,EAAIunC,YAAYhqC,KAAK0qC,QAAS,uBAE9BjoC,EAAI81C,eAAev4C,KAAK0qC,QAAS,uBAErC1qC,KAAKo9C,iBAAmBtM,EACxB9wC,KAAKivC,SAAW,MAGpBjvC,KAAK0+C,mBAAqB,WACtB,MAAO1+C,MAAKo9C,kBAGhBp9C,KAAKu+C,gBAAkB,WACnB,IAAKv+C,KAAK0qC,QAAQiH,WACd,OAAQtG,KAAM,EAAGgB,MAAO,EAC5B,IAAIvzB,GAAQrW,EAAIk8C,cAAc3+C,KAAK0qC,QAAQiH,WAI3C,OAHA3xC,MAAKivC,YACLjvC,KAAKivC,SAAS5D,KAAO3uB,SAAS5D,EAAM8lC,aAAe,GAAK,EACxD5+C,KAAKivC,SAAS5C,MAAQ3vB,SAAS5D,EAAM+lC,eAAiB,EAC/C7+C,KAAKivC,UAGhBjvC,KAAK2iC,UAAY,SAAS5kB,GACtB,GAAIguB,GAAU/rC,KAAKivC,UAAYjvC,KAAKu+C,kBAChCO,EAAO9+C,KAAK0qC,QAAQsN,uBACxB,OAAIj6B,GAAM/R,EAAI+/B,EAAQV,KAAOyT,EAAKzT,KACvB,UACPrrC,KAAKo9C,kBAAoBr/B,EAAM/R,EAAI8yC,EAAKzS,MAAQN,EAAQM,MACjD,cADX,UAILprC,KAAK+nC,EAAOjoC,WAEfoB,EAAQ6mC,OAASA,IAIjBrpC,OAAO,8BAA+B,UAAW,UAAW,SAAW,cAAe,gBAAiB,qBAAsB,SAASN,EAAS8C,EAAS7C,GAWxJ,QAASy/C,GAAgBC,GA+IrB,QAASlc,GAAqBrrB,EAAQwnC,GAClC,GAAIC,GAAM1vC,KAAK0vC,MACXC,GAAaF,GAAcxnC,EAAOjK,KAAOyxC,EAAWzxC,IACpD4xC,GAAaH,GAAcxnC,EAAOrO,QAAU61C,EAAW71C,MAC3D,KAAKi2C,GAAmBF,GAAaC,EACjC37C,EAAO67C,iBAAmB,EAC1B77C,EAAOskB,qBAAqBtQ,GAC5BhU,EAAO67C,iBAAmB,EAC1BD,EAAkBH,EAClBK,GAA2BvzC,EAAGA,EAAGmR,EAAGA,OACjC,CACH,GAAIqiC,GAAWC,EAAaF,EAAwBvzC,EAAGuzC,EAAwBpiC,EAAGnR,EAAGmR,EACjFqiC,GAAWE,EACXL,EAAkB,KACXH,EAAMG,GAAmBM,IAChCl8C,EAAO4vB,SAASyP,uBAChBuc,EAAkB,OAK9B,QAASO,GAAWnoC,EAAQwnC,GACxB,GAAIC,GAAM1vC,KAAK0vC,MACXla,EAAavhC,EAAO4vB,SAAS0R,YAAYC,WACzCiH,EAAiBxoC,EAAO4vB,SAAS0R,YAAYkH,eAC7C4T,EAAap8C,EAAO4vB,SAAS8W,SAAS6N,wBACtC8H,GACD9zC,GACIq/B,KAAMr/B,EAAI6zC,EAAWxU,KACrBgB,MAAOwT,EAAWxT,MAAQrgC,GAE9BmR,GACIiuB,IAAKjuB,EAAI0iC,EAAWzU,IACpBkB,OAAQuT,EAAWvT,OAASnvB,IAG/B4iC,EAAiBzxC,KAAKS,IAAI+wC,EAAQ9zC,EAAEq/B,KAAMyU,EAAQ9zC,EAAEqgC,OACpD2T,EAAiB1xC,KAAKS,IAAI+wC,EAAQ3iC,EAAEiuB,IAAK0U,EAAQ3iC,EAAEmvB,QACnD2T,GAAgBzyC,IAAKiK,EAAOjK,IAAKpE,OAAQqO,EAAOrO,OAChD22C,GAAiB9T,GAAkB,IACnCgU,EAAa72C,QAAW02C,EAAQ9zC,EAAEq/B,KAAOyU,EAAQ9zC,EAAEqgC,OAAQ,EAAK,GAEhE2T,EAAiBhb,GAAc,IAC/Bib,EAAazyC,KAAQsyC,EAAQ3iC,EAAEiuB,IAAM0U,EAAQ3iC,EAAEmvB,QAAS,EAAK,EAEjE,IAAI4H,GAAUz8B,EAAOjK,KAAOyyC,EAAazyC,IACrC0yC,EAAUzoC,EAAOrO,QAAU62C,EAAa72C,OACxC+1C,GAAaF,GAAcxnC,EAAOjK,KAAOyxC,EAAWzxC,GACpD0mC,IAAYgM,IAAYf,EACnBgB,EAEIjB,EAAMiB,GAAuBC,GAClC38C,EAAO4vB,SAASyP,qBAAqBmd,GAFrCE,EAAsBjB,EAI1BiB,EAAsB,KAI9B,QAASE,KACL,GAAIpB,GAAaqB,CACjBA,GAAa78C,EAAO4vB,SAAS4kB,wBAAwBjsC,EAAGmR,GACxD2lB,EAAqBwd,EAAYrB,GACjCW,EAAWU,EAAYrB,GAG3B,QAASsB,KACLlyC,EAAQ5K,EAAO6T,UAAU4J,kBACzBs/B,EAAsB/8C,EAAOuE,QAAQkrB,UAAU7kB,EAAO,gBAAiB5K,EAAOg9C,qBAC9Eh9C,EAAO+iB,iBACH/iB,EAAOm/B,aACPn/B,EAAO4vB,SAASuX,aAAa8V,aAAY,GAC7CrJ,cAAcsJ,GACdA,EAAUpJ,YAAY8I,EAAgB,IACtCO,EAAU,EACVl+C,EAAMwB,YAAYb,SAAU,YAAaw9C,GAG7C,QAASC,KACLzJ,cAAcsJ,GACdl9C,EAAOuE,QAAQurB,aAAaitB,GAC5BA,EAAsB,KACtB/8C,EAAO67C,iBAAmB,EAC1B77C,EAAO6T,UAAUgK,kBAAkBjT,GACnC5K,EAAO67C,iBAAmB,EACtB77C,EAAOm/B,cAAgBme,GACvBt9C,EAAO4vB,SAASuX,aAAa8V,aAAaj9C,EAAOu9C,eACrD3yC,EAAQ,KACRuyC,EAAU,EACVT,EAAsB,KACtBd,EAAkB,KAClB38C,EAAM0B,eAAef,SAAU,YAAaw9C,GAGhD,QAASA,KACmB,MAApBI,IACAA,EAAmBnxC,WAAW,WACF,MAApBmxC,GAA4BT,GAC5BM,KACL,KAIX,QAASI,GAAUC,GACf,GAAIlkC,GAAQkkC,EAAalkC,KACzB,QAAQA,GAASxS,MAAM1J,UAAUqgD,KAAKngD,KAAKgc,EAAO,SAAS9L,GACvD,MAAe,cAARA,GAAgC,QAARA,IAIvC,QAASkwC,GAAcnzC,GACnB,GAAIozC,IAAe,OAAQ,WAAY,MAAO,iBAC1CC,GAAe,OAAQ,WAAY,WAAY,MAAO,iBAEtDC,EAAoB1gB,EAAUC,MAAQ7yB,EAAEgM,OAAShM,EAAE6L,QACnD0nC,EAAgB,eACpB,KACIA,EAAgBvzC,EAAEizC,aAAaM,cAAc30C,cAC/C,MAAOoB,IACT,GAAIwzC,GAAa,MASjB,OAPIF,IAAqBF,EAAY5/C,QAAQ+/C,IAAkB,EAC3DC,EAAa,OACRH,EAAY7/C,QAAQ+/C,IAAkB,EAC3CC,EAAa,OACRJ,EAAY5/C,QAAQ+/C,IAAkB,IAC3CC,EAAa,QAEVA,EA5QX,GAAIj+C,GAASu7C,EAAav7C,OAEtBk+C,EAAal/C,EAAIimC,cAAc,MACnCiZ,GAAWzkC,IAAM,6EACb4jB,EAAU8gB,UACVD,EAAW7oC,MAAM4/B,QAAU,iFAE/B,IAAIv2C,IAAW,WAAY,cAAe,YAAa,eAAgB,cAEtEA,GAAQmK,QAAQ,SAASN,GACrBgzC,EAAahzC,GAAKhM,KAAKgM,IACzBhM,MACHyD,EAAO8xB,iBAAiB,YAAav1B,KAAK6hD,YAAY59C,KAAK+6C,GAG3D,IACIwB,GAAqBx0C,EAAGmR,EACxBwjC,EAAStyC,EACTiyC,EACAwB,EACAf,EACAZ,EACAd,EACAE,EARAwC,EAAct+C,EAAOomC,UAGT+W,EAAU,CAO1B5gD,MAAKgiD,YAAc,SAAS9zC,GACxB,GAAIlO,KAAKiiD,aAAeF,EAAYG,UAAW,CAC3C,GAAI7yC,GAAOrP,IAKX,OAJA8P,YAAW,WACPT,EAAK8yC,cACL9yC,EAAK+yC,aAAal0C,IACnB,GACIA,EAAEi4B,iBAEb93B,EAAQ5K,EAAOyhC,mBAEf,IAAIic,GAAejzC,EAAEizC,YACrBA,GAAaM,cAAgBh+C,EAAOu9C,cAAgB,OAAS,WACzDlgB,EAAU8gB,UACVn+C,EAAOomC,UAAUlB,YAAYgZ,GAC7BA,EAAWU,KAAOV,EAAWW,WAEjCnB,EAAaoB,cAAgBpB,EAAaoB,aAAaZ,EAAY,EAAG,GAClE7gB,EAAU8gB,SACVn+C,EAAOomC,UAAUqU,YAAYyD,GAEjCR,EAAaqB,YACbrB,EAAasB,QAAQ,OAAQh/C,EAAOuE,QAAQ8P,gBAE5CipC,GAAa,EACb/gD,KAAK0iD,SAAS,SAGlB1iD,KAAK2iD,UAAY,SAASz0C,GAItB,GAHA6zC,EAAYG,WAAY,EACxBnB,GAAa,EACb/gD,KAAK0iD,SAAS,OACTj/C,EAAOu9C,cAAe,CACvB,GAAIU,GAAaxzC,EAAEizC,aAAaO,UAC3BI,IAA+B,QAAdJ,GAClBj+C,EAAOuE,QAAQ/C,OAAOxB,EAAOyhC,qBACjCzhC,EAAO4vB,SAASuX,aAAa8V,aAAY,GAE7C1gD,KAAKyD,OAAO21C,WAAW,iBAG3Bp5C,KAAK4iD,YAAc,SAAS10C,GACxB,IAAIzK,EAAOu9C,eAAkBE,EAAUhzC,EAAEizC,cAMzC,MAJKX,IACDD,IACJK,IACA1yC,EAAEizC,aAAaO,WAAaI,EAAgBT,EAAcnzC,GACnDxL,EAAMyjC,eAAej4B,IAGhClO,KAAK6iD,WAAa,SAAS30C,GACvB,IAAIzK,EAAOu9C,eAAkBE,EAAUhzC,EAAEizC,cAYzC,MAVKX,KACDD,IACAK,KAEqB,OAArBK,IACAA,EAAmB,MACvBj1C,EAAIkC,EAAE40C,QACN3lC,EAAIjP,EAAE60C,QAEN70C,EAAEizC,aAAaO,WAAaI,EAAgBT,EAAcnzC,GACnDxL,EAAMyjC,eAAej4B,IAGhClO,KAAKgjD,YAAc,SAAS90C,GAExB,GADA0yC,IACIA,GAAW,GAAKJ,EAGhB,MAFAM,KACAgB,EAAgB,KACTp/C,EAAMyjC,eAAej4B,IAIpClO,KAAKijD,OAAS,SAAS/0C,GACnB,GAAKsyC,EAAL,CAEA,GAAIW,GAAejzC,EAAEizC,YACrB,IAAIJ,EACA,OAAQe,GACJ,IAAK,OAEGzzC,EADAA,EAAMmE,SAAS8tC,EAAW9yC,IAAK8yC,EAAWl3C,SAEtCC,MAAOi3C,EACPh1C,IAAKg1C,GAGD78C,EAAO20B,SAAS/pB,EAAOiyC,EAEnC,MACJ,KAAK,OACDjyC,EAAQ5K,EAAO20B,SAAS/pB,EAAOiyC,GAAY,OAGhD,CACH,GAAI4C,GAAW/B,EAAagC,QAAQ,OACpC90C,IACIhF,MAAOi3C,EACPh1C,IAAK7H,EAAOuE,QAAQqZ,OAAOi/B,EAAY4C,IAE3Cz/C,EAAOo/B,QACPif,EAAgB,KAGpB,MADAhB,KACOp+C,EAAMyjC,eAAej4B,KAGhCxL,EAAMwB,YAAY69C,EAAa,YAAa/hD,KAAKgiD,YAAY/9C,KAAK+6C,IAClEt8C,EAAMwB,YAAY69C,EAAa,UAAW/hD,KAAK2iD,UAAU1+C,KAAK+6C,IAC9Dt8C,EAAMwB,YAAY69C,EAAa,YAAa/hD,KAAK4iD,YAAY3+C,KAAK+6C,IAClEt8C,EAAMwB,YAAY69C,EAAa,WAAY/hD,KAAK6iD,WAAW5+C,KAAK+6C,IAChEt8C,EAAMwB,YAAY69C,EAAa,YAAa/hD,KAAKgjD,YAAY/+C,KAAK+6C,IAClEt8C,EAAMwB,YAAY69C,EAAa,OAAQ/hD,KAAKijD,OAAOh/C,KAAK+6C,GA8FxD,IAAIiC,GAAmB,KAuH3B,QAASxB,GAAa2D,EAAIC,EAAIC,EAAIC,GAC9B,MAAOj1C,MAAKk1C,KAAKl1C,KAAKsoC,IAAI0M,EAAKF,EAAI,GAAK90C,KAAKsoC,IAAI2M,EAAKF,EAAI,IA3W9D,GAAI5gD,GAAMpD,EAAQ,cACdqD,EAAQrD,EAAQ,gBAChByhC,EAAYzhC,EAAQ,oBAEpB+gD,EAAmB,IACnBT,EAAsB,IACtBD,EAA2B,GAoR/B,WAEI1/C,KAAKyjD,SAAW,WACZ,GAAIC,GAAWl0C,KAAK0vC,MAAQl/C,KAAK2jD,eAAeC,IAC5CF,GAAW1jD,KAAKyD,OAAOogD,gBACvB7jD,KAAK8jD,aAGb9jD,KAAK+jD,YAAc,WACf,GAAI3pC,GAASpa,KAAKyD,OAAOomC,SACzBzvB,GAAO8nC,WAAY,EACnBliD,KAAKmiD,YAAYniD,KAAK2jD,eAAephB,uBACrCviC,KAAKgkD,aAGThkD,KAAKikD,aAAe,SAAS/1C,GACzBlO,KAAKyD,OAAO4vB,SAASuX,aAAa8V,aAAa1gD,KAAKyD,OAAOu9C,eAC3DhhD,KAAKyD,OAAO21C,WAAW,gBACvBp5C,KAAK+jD,eAGT/jD,KAAK8jD,UAAY,WACb9jD,KAAKiiD,YAAa,CAClB,IAAI7nC,GAASpa,KAAKyD,OAAOomC,SACzBzvB,GAAO8nC,WAAY,EACnBliD,KAAKyD,OAAO4vB,SAASuX,aAAa8V,aAAY,GAC9C1gD,KAAKyD,OAAOiqC,SAAS,gBACrB1tC,KAAK0iD,SAAS,cAGlB1iD,KAAKkkD,YAAc,SAASh2C,GACxB,GAAIkM,GAASpa,KAAKyD,OAAOomC,SACzB,IAAI/I,EAAUqjB,MAAsB,aAAdnkD,KAAK+J,MAAsB,CAC7C,GAAIy1C,GAAWC,EAAaz/C,KAAK2jD,eAAe33C,EAAGhM,KAAK2jD,eAAexmC,EAAGnd,KAAKgM,EAAGhM,KAAKmd,EACnFqiC,GAAW,GACXplC,EAAOgqC,WAEf,GAAmB,aAAfpkD,KAAK+J,MAAsB,CAC3B,GAAIy1C,GAAWC,EAAaz/C,KAAK2jD,eAAe33C,EAAGhM,KAAK2jD,eAAexmC,EAAGnd,KAAKgM,EAAGhM,KAAKmd,EACnFqiC,GAAW,IACXplC,EAAO8nC,WAAY,EACnBliD,KAAKmiD,YAAYniD,KAAK2jD,eAAephB,0BAKjDviC,KAAK6hD,YAAc,SAAS3zC,GACxB,GAAKlO,KAAKqkD,aAAV,CAEArkD,KAAK2jD,eAAiBz1C,CACtB,IAAIzK,GAASzD,KAAKyD,OAEd6gD,EAAcp2C,EAAEo2C,cAChBC,EAASr2C,EAAEs2C,YACXC,EAAav2C,EAAEwL,SAASgrC,QAAU,CACtC,IAAmB,IAAfD,GAA+B,IAAXF,GAAgBD,EAAa,CACjD,GAAIp2C,EAAEzK,OAAOkhD,oBAAsBz2C,EAAEs0B,eAAiBt0B,EAAE02C,eACpD,MACJ5kD,MAAK2jD,eAAeC,KAAOp0C,KAAK0vC,KAChC,IAAI2F,GAAc32C,EAAEwL,SAASU,QAAUlM,EAAEwL,SAASW,UAGlD,IAFI,gBAAkBwqC,KAClBA,EAAYC,aAAe,MAC3BrhD,EAAOogD,eAAgB,CACvB,GAAI/iB,EAAUikB,SAAU,CACpB/kD,KAAKiiD,YAAa,CAClB,IAAIF,GAAct+C,EAAOomC,SACzBkY,GAAYG,WAAY,EAE5BliD,KAAK0iD,SAAS,gBAEd1iD,MAAK8jD,WAET9jD,MAAKoiD,aAAal0C,EAAGlO,KAAKkkD,YAAYjgD,KAAKjE,OAC3CkO,EAAEk4B,kBAAmB,OAI9BnlC,KAAK89C,EAAgBh+C,WAOxBoB,EAAQ48C,gBAAkBA,IAI1Bp/C,OAAO,oBAAqB,UAAW,UAAW,SAAW,YAAa,eAAgB,SAASN,EAAS8C,EAAS7C,GAGrH,GAAIyR,GAAQ1R,EAAQ,YAAY0R,MAC5BtO,EAAMpD,EAAQ,cAEd6pC,EAAS,SAASiU,GAClBn9C,KAAK0qC,QAAUjoC,EAAIimC,cAAc,OACjC1oC,KAAK0qC,QAAQ99B,UAAY,6BACzBuwC,EAASxU,YAAY3oC,KAAK0qC,WAG9B,WAEI1qC,KAAKivC,SAAW,EAEhBjvC,KAAK6sC,WAAa,SAASd,GACvB/rC,KAAKivC,SAAWlD,GAEpB/rC,KAAK8D,WAAa,SAASkE,GACvBhI,KAAKgI,QAAUA,GAGnBhI,KAAKo1C,WAAa,SAAS3hB,GACvBzzB,KAAKyzB,QAAUA,GAGnBzzB,KAAKuR,OAAS,SAAStO,GACnB,GAAIA,GAASA,GAAUjD,KAAKiD,MAC5B,IAAKA,EAAL,CAGAjD,KAAKiD,OAASA,CAGd,IAAIuO,KACJ,KAAK,GAAIxM,KAAOhF,MAAKyzB,QAAS,CAC1B,GAAIL,GAASpzB,KAAKyzB,QAAQzuB,EAE1B,IAAKouB,EAAO/kB,MAAZ,CAKA,GAAIA,GAAQ+kB,EAAO/kB,MAAMwV,SAAS5gB,EAAOkN,SAAUlN,EAAOmN,QAC1D,KAAI/B,EAAMmJ,UAGV,GADAnJ,EAAQA,EAAM2D,cAAchS,KAAKgI,SAC7BorB,EAAOC,SAAU,CACjB,GAAI+X,GAAMprC,KAAKglD,QAAQ32C,EAAMhF,MAAMmE,IAAKvK,GACpCooC,EAAOrrC,KAAKivC,SAAW5gC,EAAMhF,MAAMD,OAASnG,EAAOgpC,cACvD7Y,GAAOC,SAAS7hB,EAAMnD,EAAOg9B,EAAMD,EAAKnoC,OAClB,YAAfmwB,EAAOjiB,KACdnR,KAAKilD,mBAAmBzzC,EAAMnD,EAAO+kB,EAAOliB,MAAOjO,GAC7B,cAAfmwB,EAAOjiB,KACdnR,KAAKklD,qBAAqB1zC,EAAMnD,EAAO+kB,EAAOliB,MAAOjO,GAC9CoL,EAAMwJ,cACM,QAAfub,EAAOjiB,KACPnR,KAAKmlD,eAAe3zC,EAAMnD,EAAO+kB,EAAOliB,MAAOjO,GAE/CjD,KAAKolD,oBAAoB5zC,EAAMnD,EAAO+kB,EAAOliB,MAAOjO,GAExDjD,KAAK+R,qBAAqBP,EAAMnD,EAAO+kB,EAAOliB,MAAQ,aAAcjO,OAtBpEmwB,GAAO7hB,OAAOC,EAAMxR,KAAMA,KAAKgI,QAAS/E,GAyBhDjD,KAAK0qC,QAAUjoC,EAAI4iD,aAAarlD,KAAK0qC,QAASl5B,EAAKxP,KAAK,OAG5DhC,KAAKglD,QAAU,SAASx3C,EAAKu3B,GACzB,OAAQv3B,EAAMu3B,EAAYiH,gBAAkBjH,EAAYC,YAE5DhlC,KAAKmlD,eAAiB,SAASG,EAAej3C,EAAO6C,EAAO6zB,EAAawgB,GACrE,GAAI/3C,GAAMa,EAAMhF,MAAMmE,IAElBg4C,EAAY,GAAIz0C,GAChBvD,EAAKa,EAAMhF,MAAMD,OACjBoE,EAAKxN,KAAKgI,QAAQ00B,uBAAuBlvB,GAO7C,KALAxN,KAAK+R,qBAAqBuzC,EAAeE,EAAWt0C,EAAQ,aAAc6zB,EAAa,EAAGwgB,GAC1F/3C,EAAMa,EAAM/C,IAAIkC,IAChBg4C,EAAY,GAAIz0C,GAAMvD,EAAK,EAAGA,EAAKa,EAAM/C,IAAIlC,QAC7CpJ,KAAK+R,qBAAqBuzC,EAAeE,EAAWt0C,EAAO6zB,EAAa,EAAGwgB,GAEtE/3C,EAAMa,EAAMhF,MAAMmE,IAAM,EAAGA,EAAMa,EAAM/C,IAAIkC,IAAKA,IACjDg4C,EAAUn8C,MAAMmE,IAAMA,EACtBg4C,EAAUl6C,IAAIkC,IAAMA,EACpBg4C,EAAUl6C,IAAIlC,OAASpJ,KAAKgI,QAAQ00B,uBAAuBlvB,GAC3DxN,KAAK+R,qBAAqBuzC,EAAeE,EAAWt0C,EAAO6zB,EAAa,EAAGwgB,IAGnFvlD,KAAKolD,oBAAsB,SAASE,EAAej3C,EAAO6C,EAAOjO,EAAQsiD,GACrE,GAAIxZ,GAAU/rC,KAAKivC,SACftD,EAAS1oC,EAAO+hC,WAChBoG,EAAMprC,KAAKglD,QAAQ32C,EAAMhF,MAAMmE,IAAKvK,GACpCooC,EAAOU,EAAU19B,EAAMhF,MAAMD,OAASnG,EAAOgpC,cACjDsZ,GAAaA,GAAc,GAE3BD,EAAc/jD,KACV,eAAgB2P,EAAO,sBACvB,UAAWy6B,EAAQ,MACnB,WACA,OAAQP,EAAK,MACb,QAASC,EAAM,MAAOka,EAAY,YAEtCna,EAAMprC,KAAKglD,QAAQ32C,EAAM/C,IAAIkC,IAAKvK,EAClC,IAAI6zB,GAAQzoB,EAAM/C,IAAIlC,OAASnG,EAAOgpC,cAEtCqZ,GAAc/jD,KACV,eAAgB2P,EAAO,YACvB,UAAWy6B,EAAQ,MACnB,SAAU7U,EAAO,MACjB,OAAQsU,EAAK,MACb,QAASW,EAAS,MAAOwZ,EAAY,YAEzC5Z,GAAUt9B,EAAM/C,IAAIkC,IAAMa,EAAMhF,MAAMmE,IAAM,GAAKvK,EAAO+hC,WACpD2G,EAAS,IAEbP,EAAMprC,KAAKglD,QAAQ32C,EAAMhF,MAAMmE,IAAM,EAAGvK,GAExCqiD,EAAc/jD,KACV,eAAgB2P,EAAO,YACvB,UAAWy6B,EAAQ,MACnB,WACA,OAAQP,EAAK,MACb,QAASW,EAAS,MAAOwZ,EAAY,cAG7CvlD,KAAK+R,qBAAuB,SAASuzC,EAAej3C,EAAO6C,EAAOjO,EAAQwiD,EAAaF,GACnF,GAAI5Z,GAAS1oC,EAAO+hC,WAChBlO,GAASzoB,EAAM/C,IAAIlC,QAAUq8C,GAAe,GAAKp3C,EAAMhF,MAAMD,QAAUnG,EAAOgpC,eAE9Eb,EAAMprC,KAAKglD,QAAQ32C,EAAMhF,MAAMmE,IAAKvK,GACpCooC,EAAOrrC,KAAKivC,SAAW5gC,EAAMhF,MAAMD,OAASnG,EAAOgpC,cAEvDqZ,GAAc/jD,KACV,eAAgB2P,EAAO,YACvB,UAAWy6B,EAAQ,MACnB,SAAU7U,EAAO,MACjB,OAAQsU,EAAK,MACb,QAASC,EAAM,MAAOka,GAAc,GAAI,aAIhDvlD,KAAKilD,mBAAqB,SAASK,EAAej3C,EAAO6C,EAAOjO,EAAQsiD,GACpE,GAAIna,GAAMprC,KAAKglD,QAAQ32C,EAAMhF,MAAMmE,IAAKvK,GACpC0oC,EAAS1oC,EAAO+hC,UAChB32B,GAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,MAC7Bm+B,GAAU3rC,KAAKglD,QAAQ32C,EAAM/C,IAAIkC,IAAKvK,GAAUmoC,GAEpDka,EAAc/jD,KACV,eAAgB2P,EAAO,YACvB,UAAWy6B,EAAQ,MACnB,OAAQP,EAAK,MACb,kBAAmBma,GAAc,GAAI,aAI7CvlD,KAAKklD,qBAAuB,SAASI,EAAej3C,EAAO6C,EAAOjO,EAAQsiD,GACtE,GAAIna,GAAMprC,KAAKglD,QAAQ32C,EAAMhF,MAAMmE,IAAKvK,GACpC0oC,EAAS1oC,EAAO+hC,UAEpBsgB,GAAc/jD,KACV,eAAgB2P,EAAO,YACvB,UAAWy6B,EAAQ,MACnB,OAAQP,EAAK,MACb,kBAAmBma,GAAc,GAAI,eAI9CtkD,KAAKioC,EAAOnoC,WAEfoB,EAAQ+mC,OAASA,IAIjBvpC,OAAO,yBAA0B,UAAW,UAAW,SAAW,gBAAiB,qBAAsB,SAASN,EAAS8C,EAAS7C,GAGpI,GAAIoD,GAAQrD,EAAQ,gBAChByhC,EAAYzhC,EAAQ,oBACpBqmD,EAAavjD,EAAQujD,WAAa,SAAShsC,EAAUjW,GACrDzD,KAAK0Z,SAAWA,EAChB1Z,KAAKyD,OAASA,EAEdzD,KAAKgM,EAAIhM,KAAK8iD,QAAUppC,EAASopC,QACjC9iD,KAAKmd,EAAInd,KAAK+iD,QAAUrpC,EAASqpC,QAEjC/iD,KAAK2lD,KAAO,KACZ3lD,KAAK4lD,aAAe,KAEpB5lD,KAAKkmC,oBAAqB,EAC1BlmC,KAAKomC,kBAAmB,IAG5B,WAEIpmC,KAAKimC,gBAAkB,WACnBvjC,EAAMujC,gBAAgBjmC,KAAK0Z,UAC3B1Z,KAAKkmC,oBAAqB,GAG9BlmC,KAAKmmC,eAAiB,WAClBzjC,EAAMyjC,eAAenmC,KAAK0Z,UAC1B1Z,KAAKomC,kBAAmB,GAG5BpmC,KAAKkQ,KAAO,WACRlQ,KAAKimC,kBACLjmC,KAAKmmC,kBAETnmC,KAAKuiC,oBAAsB,WACvB,MAAIviC,MAAK2lD,KACE3lD,KAAK2lD,MAEhB3lD,KAAK2lD,KAAO3lD,KAAKyD,OAAO4vB,SAAS4kB,wBAAwBj4C,KAAK8iD,QAAS9iD,KAAK+iD,SACrE/iD,KAAK2lD,OAEhB3lD,KAAKskD,YAAc,WACf,GAA0B,OAAtBtkD,KAAK4lD,aACL,MAAO5lD,MAAK4lD,YAEhB,IAAIniD,GAASzD,KAAKyD,OAGdoiD,EAAiBpiD,EAAOyhC,mBAC5B,IAAI2gB,EAAeruC,UACfxX,KAAK4lD,cAAe,MACnB,CACD,GAAIn3C,GAAMzO,KAAKuiC,qBACfviC,MAAK4lD,aAAeC,EAAerzC,SAAS/D,EAAIjB,IAAKiB,EAAIrF,QAG7D,MAAOpJ,MAAK4lD,cAEhB5lD,KAAKwkD,UAAY,WACb,MAAO9hD,GAAM8hD,UAAUxkD,KAAK0Z,WAEhC1Z,KAAK4kD,YAAc,WACf,MAAO5kD,MAAK0Z,SAASG,UAGzB7Z,KAAKwiC,YAAc1B,EAAUC,MACvB,WAAa,MAAO/gC,MAAK0Z,SAASM,SAClC,WAAa,MAAOha,MAAK0Z,SAASK,WAEzC9Y,KAAKykD,EAAW3kD,aAInBpB,OAAO,kBAAmB,UAAW,UAAW,SAAW,cAAe,cAAe,eAAgB,oBAAqB,yBAA0B,SAASN,EAAS8C,EAAS7C,GAGnL,GAAI+N,GAAMhO,EAAQ,cACdoD,EAAMpD,EAAQ,cACdkK,EAAOlK,EAAQ,eAEfiO,GADYjO,EAAQ,oBACLA,EAAQ,wBAAwBiO,cAE/C87B,EAAO,SAAS+T,GAChBn9C,KAAK0qC,QAAUjoC,EAAIimC,cAAc,OACjC1oC,KAAK0qC,QAAQ99B,UAAY,2BACzBuwC,EAASxU,YAAY3oC,KAAK0qC,SAC1B1qC,KAAKiuC,eAAiBjuC,KAAKiuC,eAAehqC,KAAKjE,QAGnD,WAEIqN,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAK8lD,SAAW,IAChB9lD,KAAK+lD,YAAc,IACnB/lD,KAAKgmD,cAAgB,IACrBhmD,KAAKimD,SAAWjmD,KAAK+lD,YACrB/lD,KAAKkmD,SAAW,IAChBlmD,KAAKmmD,WAAa,IAClBnmD,KAAKivC,SAAW,EAEhBjvC,KAAKiuC,eAAiB,WAClB,GAAIgY,GAAqD,MAA1CjmD,KAAKgI,QAAQtE,IAAI0iD,sBAC3BpmD,KAAK+lD,YACL/lD,KAAKgmD,aACV,IAAIhmD,KAAKimD,UAAYA,EAEjB,MADAjmD,MAAKimD,SAAWA,GACT,GAIfjmD,KAAK6sC,WAAa,SAASd,GACvB/rC,KAAKivC,SAAWlD,EAChB/rC,KAAK0qC,QAAQ5xB,MAAMizB,QAAU,KAAOA,EAAU,MAGlD/rC,KAAK4tC,cAAgB,WACjB,MAAO5tC,MAAKurC,aAAa8a,eAAe1a,QAAU,GAGtD3rC,KAAK2tC,kBAAoB,WACrB,MAAO3tC,MAAKurC,aAAa8a,eAAevvB,OAAS,GAGrD92B,KAAK29B,gBAAkB,SAAS2oB,GAC5BtmD,KAAKurC,aAAe+a,EACpBtmD,KAAKurC,aAAapnC,GAAG,sBAAuB,SAAS+J,GACjDlO,KAAK2O,QAAQ,sBAAuBT;EACtCjK,KAAKjE,OACPA,KAAKumD,oBAGTvmD,KAAKsuC,oBAAsB,WACvBtuC,KAAKurC,aAAa+C,uBAEtBtuC,KAAKumD,iBAAmB,WACpB,MAAOvmD,MAAKwmD,sBAAwBxmD,KAAKurC,aAAagb,oBAE1DvmD,KAAK8D,WAAa,SAASkE,GACvBhI,KAAKgI,QAAUA,EACfhI,KAAKymD,qBAGTzmD,KAAKiwC,gBAAiB,EACtBjwC,KAAKgwC,kBAAoB,SAASC,GAC9B,MAAIjwC,MAAKiwC,gBAAkBA,IAG3BjwC,KAAKiwC,eAAiBA,EACtBjwC,KAAKymD,qBACE,IAGXzmD,KAAKk6C,qBAAsB,EAC3Bl6C,KAAKqwC,uBAAyB,SAASC,GACnC,MAAItwC,MAAKk6C,qBAAuB5J,IAGhCtwC,KAAKk6C,oBAAsB5J,EAC3BtwC,KAAKymD,qBACE,IAGXzmD,KAAK0mD,eACL1mD,KAAKkuC,gBACLluC,KAAKymD,kBAAoB,WACrB,GAAIhnC,GAAUzf,KAAKgI,QAAQ0X,YAC3B1f,MAAKyf,QAAUA,CAEf,KAAK,GADDknC,GAAS3mD,KAAK0mD,aAAe,GACxBvlD,EAAI,EAAGA,EAAIse,EAAU,EAAGte,IACzBnB,KAAKiwC,eACL0W,EAAOplD,KAAK,+BACNvB,KAAKkmD,SACL38C,EAAKuoB,aAAa,IAAQ3wB,EAAI,GAC9B,WAENwlD,EAAOplD,KAAKgI,EAAKuoB,aAAa,IAAQ3wB,GAG9C,IAAInB,KAAKk6C,oBAAqB,CAC1Bl6C,KAAK4mD,eAAkB,kBACvB,IAAIh6C,GAAY,kBAChB,IAAI5M,KAAKiwC,eAAgB,CACrBrjC,GAAa,gBACb,IAAIi6C,GAAet9C,EAAKuoB,aAAa9xB,KAAKmmD,WAAYnmD,KAAKyf,SACvDqnC,EAAa9mD,KAAKkmD,SAAW38C,EAAKuoB,aAAa,IAAQ9xB,KAAKyf,QAAU,OAE1E,IAAIonC,GAAet9C,EAAKuoB,aAAa,IAAQ9xB,KAAKyf,SAC9CqnC,EAAaD,CAGrB7mD,MAAK0mD,YAAY,KAAO,gBAAkB95C,EAAY,KAAOi6C,EAAe,UAC5E7mD,KAAK0mD,YAAY,MAAQ,gBAAkB95C,EAAY,KAAOk6C,EAAa,YAInF9mD,KAAK+tC,YAAc,SAAS9qC,EAAQkN,EAAUC,GACtCpQ,KAAKiD,OAAOmN,SAAWnN,EAAOmN,SAC9BpQ,KAAKiD,OAAOkN,UAAYlN,EAAOkN,UAC/BnQ,KAAK4zC,YAAY3wC,GAErBjD,KAAKiD,OAASA,CAQd,KAAK,GANDoN,GAAQ/B,KAAKC,IAAI4B,EAAUlN,EAAOkN,UAClCG,EAAOhC,KAAKS,IAAIqB,EAASnN,EAAOmN,SAEhC22C,EAAe/mD,KAAK0qC,QAAQsc,WAC5BC,EAAkB,EAEbz5C,EAAMvK,EAAOkN,SAAU3C,EAAM6C,EAAO7C,IAAO,CAChD,GAAI4E,GAAWpS,KAAKgI,QAAQqK,YAAY7E,EACxC,IAAI4E,EAAU,CACV,GAAIA,EAASyI,YAAYxK,GAAQ,CAC7BA,EAAQ+B,EAAS/I,MAAMmE,GACvB,OAEAA,EAAM4E,EAAS9G,IAAIkC,IAG3By5C,IAOJ,IAJA,GAAIz5C,GAAM6C,EACN+B,EAAWpS,KAAKgI,QAAQ4L,gBAAgBpG,GACxC6pB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,IAEnC,CAMT,GALIhS,EAAM6pB,IACN7pB,EAAM4E,EAAS9G,IAAIkC,IAAI,EACvB4E,EAAWpS,KAAKgI,QAAQ4L,gBAAgBpG,EAAK4E,GAC7CilB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAKgS,EAAAA,GAE3ChS,EAAM8C,EACN,KAEJ,IAAI42C,GAAcH,EAAaE,IAC/B,IAAIC,EAAa,CACb,GAAI11C,KACJxR,MAAKmnD,YACD31C,EAAMhE,GAAMxN,KAAKonD,iBAAkB55C,GAAO6pB,GAAYjlB,GAE1D80C,EAAYpuC,MAAM6yB,OAAS1oC,EAAO+hC,WAAahlC,KAAKgI,QAAQu0B,aAAa/uB,GAAO,KAChF/K,EAAI4iD,aAAa6B,EAAa11C,EAAKxP,KAAK,KAE5CwL,MAIRxN,KAAK4zC,YAAc,SAAS3wC,GACxB,GAAIokD,GAAYrnD,KAAKiD,MAGrB,IAFAjD,KAAKiD,OAASA,GAETokD,GAAaA,EAAUj3C,QAAUnN,EAAOkN,SACzC,MAAOnQ,MAAKuR,OAAOtO,EAEvB,IAAIA,EAAOmN,QAAUi3C,EAAUl3C,SAC3B,MAAOnQ,MAAKuR,OAAOtO,EAEvB,IAAIE,GAAKnD,KAAK0qC,OACd,IAAI2c,EAAUl3C,SAAWlN,EAAOkN,SAC5B,IAAK,GAAI3C,GAAIxN,KAAKgI,QAAQ6L,kBAAkBwzC,EAAUl3C,SAAUlN,EAAOkN,SAAW,GAAI3C,EAAI,EAAGA,IACzFrK,EAAG+6C,YAAY/6C,EAAGwuC,WAE1B,IAAI0V,EAAUj3C,QAAUnN,EAAOmN,QAC3B,IAAK,GAAI5C,GAAIxN,KAAKgI,QAAQ6L,kBAAkB5Q,EAAOmN,QAAU,EAAGi3C,EAAUj3C,SAAU5C,EAAI,EAAGA,IACvFrK,EAAG+6C,YAAY/6C,EAAGmkD,UAE1B,IAAIrkD,EAAOkN,SAAWk3C,EAAUl3C,SAAU,CACtC,GAAIo3C,GAAWvnD,KAAKwnD,qBAAqBvkD,EAAQA,EAAOkN,SAAUk3C,EAAUl3C,SAAW,EACnFhN,GAAGwuC,WACHxuC,EAAGuuC,aAAa6V,EAAUpkD,EAAGwuC,YAE7BxuC,EAAGwlC,YAAY4e,GAGvB,GAAItkD,EAAOmN,QAAUi3C,EAAUj3C,QAAS,CACpC,GAAIm3C,GAAWvnD,KAAKwnD,qBAAqBvkD,EAAQokD,EAAUj3C,QAAU,EAAGnN,EAAOmN,QAC/EjN,GAAGwlC,YAAY4e,KAIvBvnD,KAAKwnD,qBAAuB,SAASvkD,EAAQkN,EAAUC,GAMnD,IALA,GAAIm3C,GAAWvnD,KAAK0qC,QAAQgC,cAAc+a,yBACtCj6C,EAAM2C,EACNiC,EAAWpS,KAAKgI,QAAQ4L,gBAAgBpG,GACxC6pB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,IAEnC,CAMT,GALIhS,EAAM6pB,IACN7pB,EAAM4E,EAAS9G,IAAIkC,IAAI,EACvB4E,EAAWpS,KAAKgI,QAAQ4L,gBAAgBpG,EAAK4E,GAC7CilB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,GAE5ChS,EAAM4C,EACN,KAEJ,IAAIy5B,GAAYpnC,EAAIimC,cAAc,OAE9Bl3B,IAGJ,IAFAxR,KAAKmnD,YAAY31C,EAAMhE,GAAK,EAAOA,GAAO6pB,GAAYjlB,GACtDy3B,EAAUhmC,UAAY2N,EAAKxP,KAAK,IAC5BhC,KAAKonD,iBACLvd,EAAUj9B,UAAY,iBACtB26C,EAAS5e,YAAYkB,GACrBA,EAAU/wB,MAAM6yB,OAAS1oC,EAAO+hC,WAAahlC,KAAKgI,QAAQu0B,aAAa/uB,GAAO,SAG9E,MAAMq8B,EAAU8H,YACZ4V,EAAS5e,YAAYkB,EAAU8H,WAGvCnkC,KAEJ,MAAO+5C,IAGXvnD,KAAKuR,OAAS,SAAStO,GACnBjD,KAAKiD,OAASA,CASd,KAPA,GAAIuO,MACArB,EAAWlN,EAAOkN,SAAUC,EAAUnN,EAAOmN,QAE7C5C,EAAM2C,EACNiC,EAAWpS,KAAKgI,QAAQ4L,gBAAgBpG,GACxC6pB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAMgS,EAAAA,IAEnC,CAMT,GALIhS,EAAM6pB,IACN7pB,EAAM4E,EAAS9G,IAAIkC,IAAI,EACvB4E,EAAWpS,KAAKgI,QAAQ4L,gBAAgBpG,EAAK4E,GAC7CilB,EAAYjlB,EAAWA,EAAS/I,MAAMmE,IAAKgS,EAAAA,GAE3ChS,EAAM4C,EACN,KAEApQ,MAAKonD,kBACL51C,EAAKjQ,KAAK,6CAA8C0B,EAAO+hC,WAAWhlC,KAAKgI,QAAQu0B,aAAa/uB,GAAM,QAE9GxN,KAAKmnD,YAAY31C,EAAMhE,GAAK,EAAOA,GAAO6pB,GAAYjlB,GAElDpS,KAAKonD,kBACL51C,EAAKjQ,KAAK,UAEdiM,IAEJxN,KAAK0qC,QAAUjoC,EAAI4iD,aAAarlD,KAAK0qC,QAASl5B,EAAKxP,KAAK,MAG5DhC,KAAK0nD,YACDrjD,MAAQ,EACRsjD,QAAU,EACVC,QAAU,GAGd5nD,KAAK6nD,aAAe,SAASvC,EAAehpB,EAAc/zB,EAAOe,GAC7D,GAAI+F,GAAOrP,KACP8nD,EAAa,sgBACbC,EAAc,SAASvuC,EAAG3M,EAAGmH,EAAGg0C,EAAQC,GACxC,GAAIp7C,EACA,MAAOwC,GAAK4gC,eACR,+BAAiC1mC,EAAKuoB,aAAaziB,EAAK82C,WAAY3sC,EAAE9Y,QAAU,UAChF6I,EAAKuoB,aAAa,IAAQtY,EAAE9Y,OAC7B,IAAS,KAAL8Y,EACP,MAAO,OACJ,IAAS,KAALA,EACP,MAAO,OACJ,IAAS,MAALA,EAAW,CAClB,GAAIiG,GAAUpQ,EAAKrH,QAAQo0B,iBAAiBE,EAAe0rB,EAE3D,OADA1rB,IAAgB7c,EAAU,EACnBpQ,EAAKq3C,YAAYjnC,GACrB,GAAS,KAALjG,EAAe,CACtB,GAAI0uC,GAAa74C,EAAK4gC,eAAiB,wBAA0B,UAC7DkY,EAAQ94C,EAAK4gC,eAAiB5gC,EAAK82C,WAAa,EAEpD,OADA7pB,IAAgB,EACT,gBAAkB4rB,EAAa,kBACJ,EAA7B74C,EAAKpM,OAAOgpC,eACb,OAASkc,EAAQ,UAClB,MAAIn0C,GACA,2CAA6C3E,EAAK82C,WAAa,WAEtE7pB,GAAgB,EACT,sCAC2B,EAA7BjtB,EAAKpM,OAAOgpC,eACb,OAASzyB,EAAI,YAIrB4uC,EAAS9+C,EAAMpH,QAAQ4lD,EAAYC,EAEvC,IAAK/nD,KAAK0nD,WAAWn/C,EAAM4I,MAQvBm0C,EAAc/jD,KAAK6mD,OARW,CAC9B,GAAIC,GAAU,OAAS9/C,EAAM4I,KAAKjP,QAAQ,MAAO,SAC7C4W,EAAQ,EACM,SAAdvQ,EAAM4I,OACN2H,EAAQ,iBAAoBvQ,EAAMe,MAAM5I,OAASV,KAAKiD,OAAOgpC,eAAkB,SACnFqZ,EAAc/jD,KAAK,gBAAiB8mD,EAAS,IAAKvvC,EAAO,IAAKsvC,EAAQ,WAK1E,MAAO9rB,GAAehzB,EAAM5I,QAGhCV,KAAKsoD,kBAAoB,SAAShD,EAAeh8C,EAAOiF,GACpD,GAAIg6C,GAAOj/C,EAAMuX,OAAO7gB,KAAK4mD,eAC7B,OAAI2B,IAAQ,GAAKA,GAAQh6C,EACdjF,EACK,KAAZA,EAAM,IACNi/C,GAAQA,EAAOvoD,KAAKyf,QACpB6lC,EAAc/jD,KAAKgI,EAAKuoB,aAAa9xB,KAAK0mD,YAAY,KAAM6B,EAAKvoD,KAAKyf,UAC/DnW,EAAMoU,OAAO6qC,IACD,MAAZj/C,EAAM,IACbg8C,EAAc/jD,KAAKgI,EAAKuoB,aAAa9xB,KAAK0mD,YAAY,MAAO6B,IACtDj/C,EAAMoU,OAAO6qC,IAEjBj/C,GAGXtJ,KAAKwoD,mBAAqB,SAASlD,EAAex0C,EAAQgrB,EAAQ2sB,GAM9D,IAAK,GALDl9B,GAAQ,EACR3pB,EAAQ,EACR8mD,EAAa5sB,EAAO,GACpBQ,EAAe,EAEVn7B,EAAI,EAAGA,EAAI2P,EAAOpQ,OAAQS,IAAK,CACpC,GAAIoH,GAAQuI,EAAO3P,GACfmI,EAAQf,EAAMe,KAClB,IAAS,GAALnI,GAAUnB,KAAKk6C,oBAAqB,CAGpC,GAFA3uB,EAAQjiB,EAAM5I,OACd4I,EAAQtJ,KAAKsoD,kBAAkBhD,EAAeh8C,EAAOo/C,IAChDp/C,EACD,QACJiiB,IAASjiB,EAAM5I,OAGnB,GAAI6qB,EAAQjiB,EAAM5I,OAASgoD,EACvBpsB,EAAet8B,KAAK6nD,aAAavC,EAAehpB,EAAc/zB,EAAOe,GACrEiiB,GAASjiB,EAAM5I,WACZ,CACH,KAAO6qB,EAAQjiB,EAAM5I,QAAUgoD,GAC3BpsB,EAAet8B,KAAK6nD,aAChBvC,EAAehpB,EACf/zB,EAAOe,EAAMkK,UAAU,EAAGk1C,EAAan9B,IAE3CjiB,EAAQA,EAAMkK,UAAUk1C,EAAan9B,GACrCA,EAAQm9B,EAEHD,GACDnD,EAAc/jD,KAAK,SACf,uCACAvB,KAAKiD,OAAO+hC,WAAY,QAIhCpjC,IACA06B,EAAe,EACfosB,EAAa5sB,EAAOl6B,IAAUisB,OAAOC,SAErB,IAAhBxkB,EAAM5I,SACN6qB,GAASjiB,EAAM5I,OACf47B,EAAet8B,KAAK6nD,aAChBvC,EAAehpB,EAAc/zB,EAAOe,OAOxDtJ,KAAK2oD,kBAAoB,SAASrD,EAAex0C,GAC7C,GAAIwrB,GAAe,EACf/zB,EAAQuI,EAAO,GACfxH,EAAQf,EAAMe,KACdtJ,MAAKk6C,sBACL5wC,EAAQtJ,KAAKsoD,kBAAkBhD,EAAeh8C,IAC9CA,IACAgzB,EAAet8B,KAAK6nD,aAAavC,EAAehpB,EAAc/zB,EAAOe,GACzE,KAAK,GAAInI,GAAI,EAAGA,EAAI2P,EAAOpQ,OAAQS,IAC/BoH,EAAQuI,EAAO3P,GACfmI,EAAQf,EAAMe,MACdgzB,EAAet8B,KAAK6nD,aAAavC,EAAehpB,EAAc/zB,EAAOe,IAG7EtJ,KAAKmnD,YAAc,SAAS7B,EAAe93C,EAAKi7C,EAAcr2C,GAI1D,GAHKA,GAAwB,GAAZA,IACbA,EAAWpS,KAAKgI,QAAQqK,YAAY7E,IAEpC4E,EACA,GAAItB,GAAS9Q,KAAK4oD,mBAAmBp7C,EAAK4E,OAE1C,IAAItB,GAAS9Q,KAAKgI,QAAQM,UAAUkF,EAYxC,IATKi7C,GACDnD,EAAc/jD,KACV,uCACIvB,KAAKiD,OAAO+hC,YACRhlC,KAAKonD,iBAAmB,EAAGpnD,KAAKgI,QAAQu0B,aAAa/uB,IACtD,QAIXsD,EAAOpQ,OAAQ,CACf,GAAIo7B,GAAS97B,KAAKgI,QAAQ80B,gBAAgBtvB,EACtCsuB,IAAUA,EAAOp7B,OACjBV,KAAKwoD,mBAAmBlD,EAAex0C,EAAQgrB,EAAQ2sB,GAEvDzoD,KAAK2oD,kBAAkBrD,EAAex0C,GAG1C9Q,KAAKiwC,iBACD79B,IACA5E,EAAM4E,EAAS9G,IAAIkC,KAEvB83C,EAAc/jD,KACV,+BACAiM,GAAOxN,KAAKgI,QAAQc,YAAc,EAAI9I,KAAK8lD,SAAW9lD,KAAKimD,SAC3D,YAGHwC,GACDnD,EAAc/jD,KAAK,WAG3BvB,KAAK4oD,mBAAqB,SAASp7C,EAAK4E,GAIpC,QAASy2C,GAAU/3C,EAAQqmC,EAAMC,GAE7B,IADA,GAAI77B,GAAM,EAAGwiB,EAAM,EACXA,EAAMjtB,EAAOyK,GAAKjS,MAAM5I,OAAUy2C,GAItC,GAHApZ,GAAOjtB,EAAOyK,GAAKjS,MAAM5I,OACzB6a,IAEIA,GAAOzK,EAAOpQ,OACd,MAER,IAAIq9B,GAAOoZ,EAAM,CACb,GAAI7tC,GAAQwH,EAAOyK,GAAKjS,MAAMkK,UAAU2jC,EAAOpZ,EAC3Cz0B,GAAM5I,OAAU02C,EAAKD,IACrB7tC,EAAQA,EAAMkK,UAAU,EAAG4jC,EAAKD,IAEpC2R,EAAavnD,MACT4P,KAAML,EAAOyK,GAAKpK,KAClB7H,MAAOA,IAGXy0B,EAAMoZ,EAAO7tC,EAAM5I,OACnB6a,GAAO,EAGX,KAAOwiB,EAAMqZ,GAAM77B,EAAMzK,EAAOpQ,QAAQ,CACpC,GAAI4I,GAAQwH,EAAOyK,GAAKjS,KACpBA,GAAM5I,OAASq9B,EAAMqZ,EACrB0R,EAAavnD,MACT4P,KAAML,EAAOyK,GAAKpK,KAClB7H,MAAOA,EAAMkK,UAAU,EAAG4jC,EAAKrZ,KAGnC+qB,EAAavnD,KAAKuP,EAAOyK,IAC7BwiB,GAAOz0B,EAAM5I,OACb6a,GAAO,GApCf,GAAIvT,GAAUhI,KAAKgI,QACf8gD,KAuCAh4C,EAAS9I,EAAQM,UAAUkF,EAgB/B,OAfA4E,GAASyE,KAAK,SAAS3C,EAAa1G,EAAKpE,EAAQ0N,EAAYkE,GACtC,MAAf9G,EACA40C,EAAavnD,MACT4P,KAAM,OACN7H,MAAO4K,KAGP8G,IACAlK,EAAS9I,EAAQM,UAAUkF,IAE3BsD,EAAOpQ,QACPmoD,EAAU/3C,EAAQgG,EAAY1N,KAEvCgJ,EAAS9G,IAAIkC,IAAKxN,KAAKgI,QAAQ8G,QAAQsD,EAAS9G,IAAIkC,KAAK9M,QAErDooD,GAGX9oD,KAAKonD,eAAiB,WAClB,MAAOpnD,MAAKgI,QAAQ+xB,kBAGxB/5B,KAAKw5C,QAAU,WACXnC,cAAcr3C,KAAKwmD,uBACfxmD,KAAK+oD,cACL/oD,KAAK+oD,aAAaC,WAAW9K,YAAYl+C,KAAK+oD,oBAC3C/oD,MAAK+oD,gBAGjB9nD,KAAKmoC,EAAKroC,WAEboB,EAAQinC,KAAOA,IAIfzpC,OAAO,eAAgB,UAAW,UAAW,SAAW,cAAe,eAAgB,SAASN,EAAS8C,EAAS7C,GAKlH,QAAS2pD,GAASD,GACdhpD,KAAKkpD,QAAS,EACdlpD,KAAKmpD,SAAW,KAChBnpD,KAAKopD,YAAcJ,EALvB,GACIvmD,IADMpD,EAAQ,aACRA,EAAQ,eAOlB,WACIW,KAAKqpD,MAAQ,WAKT,MAJArpD,MAAKmpD,SAAW1mD,EAAIimC,cAAc,OAClC1oC,KAAKmpD,SAASv8C,UAAY,cAC1B5M,KAAKmpD,SAASrwC,MAAMw3B,QAAU,OAC9BtwC,KAAKopD,YAAYzgB,YAAY3oC,KAAKmpD,UAC3BnpD,KAAKmpD,UAEhBnpD,KAAKspD,WAAa,WACd,MAAOtpD,MAAKmpD,UAAYnpD,KAAKqpD,SAEjCrpD,KAAKupD,QAAU,SAASllD,GACpB5B,EAAI+mD,aAAaxpD,KAAKspD,aAAcjlD,IAExCrE,KAAKypD,QAAU,SAASj4C,GACpBxR,KAAKspD,aAAazlD,UAAY2N,GAElCxR,KAAK4N,YAAc,SAAS5B,EAAGmR,GAC3Bnd,KAAKspD,aAAaxwC,MAAMuyB,KAAOr/B,EAAI,KACnChM,KAAKspD,aAAaxwC,MAAMsyB,IAAMjuB,EAAI,MAEtCnd,KAAK0pD,aAAe,SAAS98C,GACzBnK,EAAIunC,YAAYhqC,KAAKspD,aAAc18C,IAEvC5M,KAAK8wC,KAAO,SAASzsC,EAAM2H,EAAGmR,GACd,MAAR9Y,GACArE,KAAKupD,QAAQllD,GACR,MAAL2H,GAAkB,MAALmR,GACbnd,KAAK4N,YAAY5B,EAAGmR,GACnBnd,KAAKkpD,SACNlpD,KAAKspD,aAAaxwC,MAAMw3B,QAAU,QAClCtwC,KAAKkpD,QAAS,IAItBlpD,KAAK2pD,KAAO,WACJ3pD,KAAKkpD,SACLlpD,KAAKspD,aAAaxwC,MAAMw3B,QAAU,OAClCtwC,KAAKkpD,QAAS,IAGtBlpD,KAAKovC,UAAY,WACb,MAAOpvC,MAAKspD,aAAaM,cAE7B5pD,KAAKuvC,SAAW,WACZ,MAAOvvC,MAAKspD,aAAaha,eAG9BruC,KAAKgoD,EAAQloD,WAEhBoB,EAAQ8mD,QAAUA,IAGlBtpD,OAAO,oBAAqB,UAAW,UAAW,SAAW,eAAgB,SAASN,EAAS8C,EAAS7C,GAGxG,GACIuqD,GADApnD,EAAMpD,EAAQ,cAGdiqC,EAAS,SAAS6T,GAClBn9C,KAAK0qC,QAAUjoC,EAAIimC,cAAc,OACjC1oC,KAAK0qC,QAAQ99B,UAAY,6BACzBuwC,EAASxU,YAAY3oC,KAAK0qC,SAEd7lC,SAARglD,IACAA,EAAM,WAAa7pD,MAAK0qC,SAE5B1qC,KAAK8pD,WAAY,EACjB9pD,KAAK+pD,YAAa,EAClB/pD,KAAKgqD,cAAgB,IACrBhqD,KAAKiqD,gBAAiB,EAEtBjqD,KAAKkqD,WACLlqD,KAAKyX,OAASzX,KAAKmqD,YACnB1nD,EAAIunC,YAAYhqC,KAAK0qC,QAAS,sBAC9B1qC,KAAKoqD,eAAiBpqD,KAAKqqD,kBAAkBpmD,KAAKjE,QAGtD,WAEIA,KAAKqqD,kBAAoB,SAASz6B,GAE9B,IAAK,GADDs6B,GAAUlqD,KAAKkqD,QACV/oD,EAAI+oD,EAAQxpD,OAAQS,KACzB+oD,EAAQ/oD,GAAG2X,MAAM84B,WAAahiB,EAAM,GAAK,UAEjD5vB,KAAKsqD,eAAiB,SAAS16B,GAE3B,IAAK,GADDs6B,GAAUlqD,KAAKkqD,QACV/oD,EAAI+oD,EAAQxpD,OAAQS,KACzB+oD,EAAQ/oD,GAAG2X,MAAMyxC,QAAU36B,EAAM,GAAK,KAI9C5vB,KAAKivC,SAAW,EAChBjvC,KAAK6sC,WAAa,SAASd,GACvB/rC,KAAKivC,SAAWlD,GAGpB/rC,KAAK8D,WAAa,SAASkE,GACvBhI,KAAKgI,QAAUA,GAGnBhI,KAAK0gD,YAAc,SAAS8J,GACpBA,GAAYxqD,KAAK+pD,aACjB/pD,KAAK+pD,WAAaS,EAClBxqD,KAAKyqD,iBAIbzqD,KAAK0qD,iBAAmB,SAASV,GACzBA,GAAiBhqD,KAAKgqD,gBACtBhqD,KAAKgqD,cAAgBA,EACrBhqD,KAAKyqD,iBAIbzqD,KAAK2qD,kBAAoB,SAASV,GAC1BA,GAAkBjqD,KAAKiqD,gBAAmBJ,IAC1C7pD,KAAKiqD,eAAiBA,EACtBxnD,EAAIw2C,YAAYj5C,KAAK0qC,QAAS,sBAAuBuf,GACrDjqD,KAAKoqD,gBAAe,GACpBpqD,KAAKoqD,gBAAkBH,EACjBjqD,KAAKsqD,eACLtqD,KAAKqqD,mBAAmBpmD,KAAKjE,MACnCA,KAAKyqD,iBAIbzqD,KAAKmqD,UAAY,WACb,GAAIhnD,GAAKV,EAAIimC,cAAc,MAI3B,OAHAvlC,GAAGyJ,UAAY,aACf5M,KAAK0qC,QAAQ/B,YAAYxlC,GACzBnD,KAAKkqD,QAAQ3oD,KAAK4B,GACXA,GAGXnD,KAAK4qD,aAAe,WAChB,GAAI5qD,KAAKkqD,QAAQxpD,OAAS,EAAG,CACzB,GAAIyC,GAAKnD,KAAKkqD,QAAQx0C,KAEtB,OADAvS,GAAG6lD,WAAW9K,YAAY/6C,GACnBA,IAIfnD,KAAKw1C,WAAa,WACdx1C,KAAK8pD,WAAY,EACjBrnD,EAAIunC,YAAYhqC,KAAK0qC,QAAS,sBAC9B1qC,KAAKyqD,gBAGTzqD,KAAKy1C,WAAa,WACdz1C,KAAK8pD,WAAY,EACjBrnD,EAAI81C,eAAev4C,KAAK0qC,QAAS,sBACjC1qC,KAAKyqD,gBAGTzqD,KAAKyqD,aAAe,WAChB,GAAIl5C,GAASvR,KAAKoqD,cASlB,IARA/S,cAAcr3C,KAAK6qD,YACnBn6C,aAAa1Q,KAAK8qD,WACd9qD,KAAKiqD,gBACLxnD,EAAI81C,eAAev4C,KAAK0qC,QAAS,uBAGrCn5B,GAAO,GAEFvR,KAAK+pD,YAAe/pD,KAAKgqD,eAAkBhqD,KAAK8pD,UAArD,CAGI9pD,KAAKiqD,gBACLn6C,WAAW,WACPrN,EAAIunC,YAAYhqC,KAAK0qC,QAAS,wBAChCzmC,KAAKjE,MAGX,IAAI+qD,GAAQ,WACR/qD,KAAK8qD,UAAYh7C,WAAW,WACxByB,GAAO,IACR,GAAMvR,KAAKgqD,gBAChB/lD,KAAKjE,KAEPA,MAAK6qD,WAAatT,YAAY,WAC1BhmC,GAAO,GACPw5C,KACD/qD,KAAKgqD,eAERe,MAGJ/qD,KAAKsxC,iBAAmB,SAASlsB,EAAU4lC,GACvC,IAAKhrD,KAAKiD,SAAWjD,KAAKgI,QACtB,OAAQqjC,KAAO,EAAGD,IAAM,EAEvBhmB,KACDA,EAAWplB,KAAKgI,QAAQsP,UAAUmD,YACtC,IAAIhM,GAAMzO,KAAKgI,QAAQgd,yBAAyBI,GAC5C6lC,EAAajrD,KAAKivC,SAAWxgC,EAAIrF,OAASpJ,KAAKiD,OAAOgpC,eACtDif,GAAaz8C,EAAIjB,KAAOw9C,EAAWhrD,KAAKiD,OAAO+oC,eAAiB,IAChEhsC,KAAKiD,OAAO+hC,UAEhB,QAAQqG,KAAO4f,EAAY7f,IAAM8f,IAGrClrD,KAAKuR,OAAS,SAAStO,GACnBjD,KAAKiD,OAASA,CAEd,IAAIkoD,GAAanrD,KAAKgI,QAAQojD,kBAC1BjqD,EAAI,EAAGkqD,EAAc,CAENxmD,UAAfsmD,GAAkD,IAAtBA,EAAWzqD,SACvCyqD,IAAe1zC,OAAQ,OAG3B,KAAK,GAAItW,GAAI,EAAG+iB,EAAIinC,EAAWzqD,OAAQS,EAAI+iB,EAAG/iB,IAAK,CAC/C,GAAImqD,GAAWtrD,KAAKsxC,iBAAiB6Z,EAAWhqD,GAAGsW,QAAQ,EAC3D,OAAK6zC,EAASlgB,IAAMnoC,EAAO0oC,OAAS1oC,EAAO4O,QACtCy5C,EAASlgB,IAAM,IAAMjqC,EAAI,GAD9B,CAKA,GAAI2X,IAAS9Y,KAAKkqD,QAAQmB,MAAkBrrD,KAAKmqD,aAAarxC,KAE9DA,GAAMuyB,KAAOigB,EAASjgB,KAAO,KAC7BvyB,EAAMsyB,IAAMkgB,EAASlgB,IAAM,KAC3BtyB,EAAMge,MAAQ7zB,EAAOgpC,eAAiB,KACtCnzB,EAAM6yB,OAAS1oC,EAAO+hC,WAAa,MAEvC,KAAOhlC,KAAKkqD,QAAQxpD,OAAS2qD,GACzBrrD,KAAK4qD,cAET,IAAIp4B,GAAYxyB,KAAKgI,QAAQyqB,cAC7BzyB,MAAKurD,cAAc/4B,GACnBxyB,KAAKqxC,UAAYia,EACjBtrD,KAAKyqD,gBAGTzqD,KAAKurD,cAAgB,SAAS/4B,GACtBA,GAAaxyB,KAAKwyB,YAClBxyB,KAAKwyB,UAAYA,EACbA,EACA/vB,EAAIunC,YAAYhqC,KAAK0qC,QAAS,yBAE9BjoC,EAAI81C,eAAev4C,KAAK0qC,QAAS,2BAI7C1qC,KAAKw5C,QAAU,WACXnC,cAAcr3C,KAAK6qD,YACnBn6C,aAAa1Q,KAAK8qD,cAGvB7pD,KAAKqoC,EAAOvoC,WAEfoB,EAAQmnC,OAASA,IAIjB3pC,OAAO,oCAAqC,UAAW,UAAW,SAAW,cAAe,cAAe,gBAAiB,eAAgB,SAASN,EAAS8C,EAAS7C,GAOvK,QAASksD,GAAcxM,GAiCnB,QAASyM,KACL,GAAIj+C,GAAMk+C,EAAWnpB,sBAAsB/0B,IACvC+vC,EAAaoO,EAAO33B,aAAaxmB,EACrC,KAAK+vC,EACD,MAAOqO,IAEX,IAAIv+B,GAAS5pB,EAAOuE,QAAQc,WAC5B,IAAI0E,GAAO6f,EAAQ,CACf,GAAIpD,GAAYxmB,EAAO4vB,SAASykB,yBAAyB,EAAG4T,EAAWvuC,GAAG3P,IACtEiB,EAAMi9C,EAAW/F,IACrB,IAAI17B,EAAYxmB,EAAOuE,QAAQkiB,oBAAoBzb,EAAIjB,IAAKiB,EAAIrF,QAC5D,MAAOwiD,KAGf,GAAIC,GAAqBtO,EAQzB,GANAsO,EAAoBtO,EAAWl5C,KAAKrC,KAAK,SAEzC8pD,EAAQrC,QAAQoC,GAChBC,EAAQhb,OACRrtC,EAAOU,GAAG,aAAcynD,GAEpB5M,EAAa+M,qBACbC,EAAYN,OACT,CACH,GAAIO,GAAgBN,EAAOrO,OAAO9vC,GAAKk9B,QACnCoU,EAAOmN,EAAcjU,wBACrBl/B,EAAQgzC,EAAQxC,aAAaxwC,KACjCA,GAAMuyB,KAAOyT,EAAKzS,MAAQ,KAC1BvzB,EAAMsyB,IAAM0T,EAAKxS,OAAS,MAIlC,QAASsf,KACDM,IACAA,EAAiBx7C,aAAaw7C,IAC9BL,IACAC,EAAQnC,OACRkC,EAAoB,KACpBpoD,EAAOoL,oBAAoB,aAAc+8C,IAIjD,QAASI,GAAY99C,GACjB49C,EAAQl+C,YAAYM,EAAElC,EAAGkC,EAAEiP,GA5E/B,GAAI1Z,GAASu7C,EAAav7C,OACtBkoD,EAASloD,EAAO4vB,SAASqP,aACzBopB,EAAU,GAAIK,GAAc1oD,EAAOomC,UAEvCmV,GAAav7C,OAAOi7B,kBAAkB,kBAAmB,SAASxwB,GAC9D,GAAKzK,EAAOm/B,aAAgC,GAAjB10B,EAAEs2C,YAA7B,CAEA,GAAI/hB,GAAekpB,EAAOhpB,UAAUz0B,EAEpC,IAAoB,eAAhBu0B,EAAJ,CAGA,GAAIj1B,GAAMU,EAAEq0B,sBAAsB/0B,IAC9B8J,EAAY7T,EAAOuE,QAAQsP,SAE/B,IAAIpJ,EAAE02C,cACFttC,EAAUsQ,SAASpa,EAAK,OACvB,CACD,GAAyB,GAArBU,EAAEwL,SAASgrC,OAEX,MADAjhD,GAAO+jB,YACAtZ,EAAEi4B,gBAEb6Y,GAAaoN,gBAAkB3oD,EAAO6T,UAAUoS,aAAalc,GAIjE,MAFAwxC,GAAa0D,SAAS,iBACtB1D,EAAaoD,aAAal0C,GACnBA,EAAEi4B,oBAIb,IAAI+lB,GAAgBR,EAAYG,CAiDhC7M,GAAav7C,OAAOi7B,kBAAkB,kBAAmB,SAASxwB,GAC9D,GAAIkM,GAASlM,EAAEwL,SAASU,QAAUlM,EAAEwL,SAASW,UAC7C,OAAI5X,GAAI4pD,YAAYjyC,EAAQ,mBACjBwxC,KAEPC,GAAqB7M,EAAa+M,sBAClCC,EAAY99C,GAEhBw9C,EAAax9C,OACTg+C,IAEJA,EAAiBp8C,WAAW,WACxBo8C,EAAiB,KACbR,IAAe1M,EAAasN,eAC5Bb,IAEAG,KACL,SAGPlpD,EAAMwB,YAAYT,EAAO4vB,SAAS6W,QAAS,WAAY,SAASh8B,GAC5Dw9C,EAAa,KACRG,IAAqBK,IAG1BA,EAAiBp8C,WAAW,WACxBo8C,EAAiB,KACjBN,KACD,OAGPnoD,EAAOU,GAAG,gBAAiBynD,GAG/B,QAASO,GAAcnD,GACnBC,EAAQhoD,KAAKjB,KAAMgpD,GAxHvB,GAAIvmD,GAAMpD,EAAQ,cACdgO,EAAMhO,EAAQ,cACdqD,EAAQrD,EAAQ,gBAChB4pD,EAAU5pD,EAAQ,cAAc4pD,OAwHpC57C,GAAI+Q,SAAS+tC,EAAelD,GAE5B,WACIjpD,KAAK4N,YAAc,SAAS5B,EAAGmR,GAC3B,GAAIovC,GAAclsD,OAAOmsD,YAAcnpD,SAASopD,gBAAgB5d,YAC5D6d,EAAersD,OAAOssD,aAAetpD,SAASopD,gBAAgB9d,aAC9D7X,EAAQ92B,KAAKuvC,WACb5D,EAAS3rC,KAAKovC,WAClBpjC,IAAK,GACLmR,GAAK,GACDnR,EAAI8qB,EAAQy1B,IACZvgD,GAAMA,EAAI8qB,EAASy1B,GAEnBpvC,EAAIwuB,EAAS+gB,IACbvvC,GAAK,GAAKwuB,GAEdsd,EAAQloD,UAAU6M,YAAY3M,KAAKjB,KAAMgM,EAAGmR,KAGjDlc,KAAKkrD,EAAcprD,WAItBoB,EAAQqpD,cAAgBA,IAIxB7rD,OAAO,iBAAkB,UAAW,UAAW,SAAW,cAAe,cAAe,gBAAiB,yBAA0B,SAASN,EAAS8C,EAAS7C,GAG9J,GAAI+N,GAAMhO,EAAQ,aACdoD,EAAMpD,EAAQ,aACdqD,EAAQrD,EAAQ,eAChBiO,EAAejO,EAAQ,uBAAuBiO,aAC9Cs/C,EAAY,SAASC,GACrB7sD,KAAK0qC,QAAUjoC,EAAIimC,cAAc,OACjC1oC,KAAK0qC,QAAQ99B,UAAY,8BAAgC5M,KAAK8sD,YAE9D9sD,KAAK+sD,MAAQtqD,EAAIimC,cAAc,OAC/B1oC,KAAK+sD,MAAMngD,UAAY,sBACvB5M,KAAK0qC,QAAQ/B,YAAY3oC,KAAK+sD,OAE9BF,EAAOlkB,YAAY3oC,KAAK0qC,SAExB1qC,KAAKm0C,YAAW,GAChBn0C,KAAKgtD,WAAY,EAEjBtqD,EAAMwB,YAAYlE,KAAK0qC,QAAS,SAAU1qC,KAAKitD,SAAShpD,KAAKjE,OAC7D0C,EAAMwB,YAAYlE,KAAK0qC,QAAS,YAAahoC,EAAMyjC,kBAGvD,WACI94B,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAKm0C,WAAa,SAAS2V,GACvB9pD,KAAK0qC,QAAQ5xB,MAAMw3B,QAAUwZ,EAAY,GAAK,OAC9C9pD,KAAK8pD,UAAYA,KAEtB7oD,KAAK2rD,EAAU7rD,UAClB,IAAIyoC,GAAa,SAASqjB,EAAQx5B,GAC9Bu5B,EAAU3rD,KAAKjB,KAAM6sD,GACrB7sD,KAAKk2B,UAAY,EACjB7C,EAAS65B,gBACTltD,KAAK82B,MAAQr0B,EAAI0qD,eAAeN,EAAOngB,eACvC1sC,KAAK+sD,MAAMj0C,MAAMge,MACjB92B,KAAK0qC,QAAQ5xB,MAAMge,OAAS92B,KAAK82B,OAAS,IAAM,EAAI,KAGxDzpB,GAAI+Q,SAASorB,EAAYojB,GAEzB,WAEI5sD,KAAK8sD,YAAc,KACnB9sD,KAAKitD,SAAW,WACPjtD,KAAKgtD,YACNhtD,KAAKk2B,UAAYl2B,KAAK0qC,QAAQxU,UAC9Bl2B,KAAKuV,MAAM,UAAWnH,KAAMpO,KAAKk2B,aAErCl2B,KAAKgtD,WAAY,GAErBhtD,KAAKuvC,SAAW,WACZ,MAAOvvC,MAAK8pD,UAAY9pD,KAAK82B,MAAQ,GAEzC92B,KAAKotD,UAAY,SAASzhB,GACtB3rC,KAAK0qC,QAAQ5xB,MAAM6yB,OAASA,EAAS,MAEzC3rC,KAAKqtD,eAAiB,SAAS1hB,GAC3B3rC,KAAK+sD,MAAMj0C,MAAM6yB,OAASA,EAAS,MAEvC3rC,KAAKmzC,gBAAkB,SAASxH,GAC5B3rC,KAAK+sD,MAAMj0C,MAAM6yB,OAASA,EAAS,MAEvC3rC,KAAKi2B,aAAe,SAASC,GACrBl2B,KAAKk2B,WAAaA,IAClBl2B,KAAKgtD,WAAY,EACjBhtD,KAAKk2B,UAAYl2B,KAAK0qC,QAAQxU,UAAYA,KAInDj1B,KAAKuoC,EAAWzoC,UACnB,IAAIwoC,GAAa,SAASsjB,EAAQx5B,GAC9Bu5B,EAAU3rD,KAAKjB,KAAM6sD,GACrB7sD,KAAKu2B,WAAa,EAClBv2B,KAAK2rC,OAAStY,EAAS65B,gBACvBltD,KAAK+sD,MAAMj0C,MAAM6yB,OACjB3rC,KAAK0qC,QAAQ5xB,MAAM6yB,QAAU3rC,KAAK2rC,QAAU,IAAM,EAAI,KAG1Dt+B,GAAI+Q,SAASmrB,EAAYqjB,GAEzB,WAEI5sD,KAAK8sD,YAAc,KACnB9sD,KAAKitD,SAAW,WACPjtD,KAAKgtD,YACNhtD,KAAKu2B,WAAav2B,KAAK0qC,QAAQnU,WAC/Bv2B,KAAKuV,MAAM,UAAWnH,KAAMpO,KAAKu2B,cAErCv2B,KAAKgtD,WAAY,GAErBhtD,KAAKovC,UAAY,WACb,MAAOpvC,MAAK8pD,UAAY9pD,KAAK2rC,OAAS,GAE1C3rC,KAAKstD,SAAW,SAASx2B,GACrB92B,KAAK0qC,QAAQ5xB,MAAMge,MAAQA,EAAQ,MAEvC92B,KAAKutD,cAAgB,SAASz2B,GAC1B92B,KAAK+sD,MAAMj0C,MAAMge,MAAQA,EAAQ,MAErC92B,KAAKqzC,eAAiB,SAASvc,GAC3B92B,KAAK+sD,MAAMj0C,MAAMge,MAAQA,EAAQ,MAErC92B,KAAKs2B,cAAgB,SAASC,GACtBv2B,KAAKu2B,YAAcA,IACnBv2B,KAAKgtD,WAAY,EACjBhtD,KAAKu2B,WAAav2B,KAAK0qC,QAAQnU,WAAaA,KAIrDt1B,KAAKsoC,EAAWxoC,WAGnBoB,EAAQyqD,UAAYpjB,EACpBrnC,EAAQqrD,WAAahkB,EACrBrnC,EAAQsrD,WAAalkB,EAErBpnC,EAAQqnC,WAAaA,EACrBrnC,EAAQonC,WAAaA,IAGrB5pC,OAAO,8BAA+B,UAAW,UAAW,SAAW,cAAe,gBAAiB,qBAAsB,SAASN,EAAS8C,EAAS7C,GASxJ,QAASouD,GAAgB1O,GACrBA,EAAaoN,gBAAkB,IAE/B,IAAI3oD,GAASu7C,EAAav7C,MAC1BA,GAAOi7B,kBAAkB,YAAa1+B,KAAK6hD,YAAY59C,KAAK+6C,IAC5Dv7C,EAAOi7B,kBAAkB,WAAY1+B,KAAK2tD,cAAc1pD,KAAK+6C,IAC7Dv7C,EAAOi7B,kBAAkB,cAAe1+B,KAAK4tD,cAAc3pD,KAAK+6C,IAChEv7C,EAAOi7B,kBAAkB,YAAa1+B,KAAK6tD,YAAY5pD,KAAK+6C,IAC5Dv7C,EAAOi7B,kBAAkB,aAAc1+B,KAAK8tD,aAAa7pD,KAAK+6C,GAE9D,IAAI78C,IAAW,SAAU,cAAe,YAAa,eAAgB,mBACjE,mBAAoB,WAAY,cAAe,YAEnDA,GAAQmK,QAAQ,SAASN,GACrBgzC,EAAahzC,GAAKhM,KAAKgM,IACxBhM,MAEHg/C,EAAa+O,cAAgB/tD,KAAKguD,kBAAkB/pD,KAAK+6C,EAAc,gBACvEA,EAAaiP,cAAgBjuD,KAAKguD,kBAAkB/pD,KAAK+6C,EAAc,gBAiM3E,QAASS,GAAa2D,EAAIC,EAAIC,EAAIC,GAC9B,MAAOj1C,MAAKk1C,KAAKl1C,KAAKsoC,IAAI0M,EAAKF,EAAI,GAAK90C,KAAKsoC,IAAI2M,EAAKF,EAAI,IAG9D,QAAS6K,GAAqB7/C,EAAOoJ,GACjC,GAAIpJ,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,IAC7B,GAAIuF,GAAM,EAAI0E,EAAOrO,OAASiF,EAAMhF,MAAMD,OAASiF,EAAM/C,IAAIlC,WAC5D,IAAIiF,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,IAAM,GAAMa,EAAMhF,MAAMD,QAAWiF,EAAM/C,IAAIlC,OAG/E,GAAI2J,GAAM,EAAI0E,EAAOjK,IAAMa,EAAMhF,MAAMmE,IAAMa,EAAM/C,IAAIkC,QAFvD,IAAIuF,GAAM0E,EAAOrO,OAAS,CAI9B,OAAI2J,GAAM,GACE0E,OAAQpJ,EAAMhF,MAAO2U,OAAQ3P,EAAM/C,MAEnCmM,OAAQpJ,EAAM/C,IAAK0S,OAAQ3P,EAAMhF,OAxOjD,GAII8kD,IAJM9uD,EAAQ,cACNA,EAAQ,gBACJA,EAAQ,oBAEN,IAuBlB,WAEIW,KAAK6hD,YAAc,SAASuM,GACxB,GAAI9J,GAAc8J,EAAG9J,cACjB71C,EAAM2/C,EAAG7rB,qBACbviC,MAAK2jD,eAAiByK,CACtB,IAAI3qD,GAASzD,KAAKyD,OAEd8gD,EAAS6J,EAAG5J,WAChB,IAAe,IAAXD,EAAc,CACd,GAAIsB,GAAiBpiD,EAAOyhC,oBACxBmpB,EAAiBxI,EAAeruC,SAMpC,OAJI62C,IACA5qD,EAAO6T,UAAU2Q,eAAexZ,OAEpChL,GAAO6qD,UAAUC,cAAcH,EAAG10C,UAGtC,OAAI4qC,GAAgB7gD,EAAOm/B,cACvBn/B,EAAOo/B,SACH7iC,KAAKwuD,cAAiBxuD,KAAKosD,iBAAoB3oD,EAAOkhD,oBAQ9D3kD,KAAKoiD,aAAagM,IACb9J,GAAetkD,KAAKosD,iBAAmBgC,EAAGxJ,eAAiBnhD,EAAOkhD,kBACnE3kD,KAAKmiD,YAAY1zC,GACV61C,IACPtkD,KAAK2jD,eAAeC,KAAOp0C,KAAK0vC,MAChCl/C,KAAKmiD,YAAY1zC,IAEd2/C,EAAGjoB,mBAdFnmC,KAAK2jD,eAAeC,KAAOp0C,KAAK0vC,MAChCl/C,KAAK0iD,SAAS,iBACd1iD,MAAKoiD,aAAagM,KAe9BpuD,KAAKmiD,YAAc,SAAS1zC,GACxBA,EAAMA,GAAOzO,KAAKyD,OAAO4vB,SAAS4kB,wBAAwBj4C,KAAKgM,EAAGhM,KAAKmd,EACvE,IAAI1Z,GAASzD,KAAKyD,OACdgrD,EAAezuD,KAAK2jD,eAAeiB,aACnC6J,GACAhrD,EAAO6T,UAAUwQ,iBAAiBrZ,GAE5BzO,KAAKosD,iBACX3oD,EAAO6T,UAAU2Q,eAAexZ,GAEhChL,EAAO4vB,SAAS8W,SAASukB,YACzBjrD,EAAO4vB,SAAS8W,SAASukB,aAE7BjrD,EAAOiqC,SAAS,iBAChB1tC,KAAK0iD,SAAS,WAGlB1iD,KAAK2uD,OAAS,WACV,GAAI3wC,GAAQva,EAASzD,KAAKyD,OACtBgU,EAAShU,EAAO4vB,SAAS4kB,wBAAwBj4C,KAAKgM,EAAGhM,KAAKmd,EAElE,IAAInd,KAAKosD,gBAAiB,CACtB,GAAIr5C,GAAM/S,KAAKosD,gBAAgBz0C,aAAaF,EAE5C,IAAI1E,IAAO,EACPiL,EAAShe,KAAKosD,gBAAgB9gD,QAC3B,IAAW,GAAPyH,EACPiL,EAAShe,KAAKosD,gBAAgB/iD,UAC3B,CACH,GAAIulD,GAAgBV,EAAqBluD,KAAKosD,gBAAiB30C,EAC/DA,GAASm3C,EAAcn3C,OACvBuG,EAAS4wC,EAAc5wC,OAE3Bva,EAAO6T,UAAU0P,mBAAmBhJ,EAAOxQ,IAAKwQ,EAAO5U,QAE3D3F,EAAO6T,UAAUwQ,iBAAiBrQ,GAElChU,EAAO4vB,SAASyP,wBAGpB9iC,KAAKguD,kBAAoB,SAASa,GAC9B,GAAI7wC,GAAQva,EAASzD,KAAKyD,OACtBgU,EAAShU,EAAO4vB,SAAS4kB,wBAAwBj4C,KAAKgM,EAAGhM,KAAKmd,GAC9D9O,EAAQ5K,EAAO6T,UAAUu3C,GAAUp3C,EAAOjK,IAAKiK,EAAOrO,OAE1D,IAAIpJ,KAAKosD,gBAAiB,CACtB,GAAI9oC,GAAWtjB,KAAKosD,gBAAgBz0C,aAAatJ,EAAMhF,OACnDga,EAASrjB,KAAKosD,gBAAgBz0C,aAAatJ,EAAM/C,IAErD,IAAIgY,IAAY,GAAMD,GAAU,EAC5BrF,EAAShe,KAAKosD,gBAAgB9gD,IAC1B+C,EAAM/C,IAAIkC,KAAOiK,EAAOjK,KAAOa,EAAM/C,IAAIlC,QAAUqO,EAAOrO,SAC1DqO,EAASpJ,EAAMhF,WAChB,IAAc,GAAVga,GAAeC,GAAY,EAClCtF,EAAShe,KAAKosD,gBAAgB/iD,MAC1BgF,EAAMhF,MAAMmE,KAAOiK,EAAOjK,KAAOa,EAAMhF,MAAMD,QAAUqO,EAAOrO,SAC9DqO,EAASpJ,EAAM/C,SAChB,IAAIgY,IAAY,GAAgB,GAAVD,EACzB5L,EAASpJ,EAAM/C,IACf0S,EAAS3P,EAAMhF,UACZ,CACH,GAAIulD,GAAgBV,EAAqBluD,KAAKosD,gBAAiB30C,EAC/DA,GAASm3C,EAAcn3C,OACvBuG,EAAS4wC,EAAc5wC,OAE3Bva,EAAO6T,UAAU0P,mBAAmBhJ,EAAOxQ,IAAKwQ,EAAO5U,QAE3D3F,EAAO6T,UAAUwQ,iBAAiBrQ,GAElChU,EAAO4vB,SAASyP,wBAGpB9iC,KAAKgkD,UACLhkD,KAAK8uD,aACL9uD,KAAK+uD,iBACL/uD,KAAKgvD,iBAAmB,WACpBhvD,KAAKyD,OAAO21C,WAAW,iBACnBp5C,KAAKyD,OAAO4vB,SAAS8W,SAAS8kB,gBAC9BjvD,KAAKyD,OAAO4vB,SAAS8W,SAAS8kB,kBAItCjvD,KAAKkvD,UAAY,WACb,GAAI1P,GAAWC,EAAaz/C,KAAK2jD,eAAe33C,EAAGhM,KAAK2jD,eAAexmC,EAAGnd,KAAKgM,EAAGhM,KAAKmd,GACnFymC,EAAOp0C,KAAK0vC,OAEZM,EAAW2O,GAAevK,EAAO5jD,KAAK2jD,eAAeC,KAAO5jD,KAAKwuD,eACjExuD,KAAKmiD,YAAYniD,KAAK2jD,eAAephB,wBAG7CviC,KAAK2tD,cAAgB,SAASS,GAC1B,GAAI3/C,GAAM2/C,EAAG7rB,sBACT9+B,EAASzD,KAAKyD,OACduE,EAAUvE,EAAOuE,QAEjBqG,EAAQrG,EAAQyd,gBAAgBhX,EAChCJ,IACIA,EAAMmJ,YACNnJ,EAAMhF,MAAMD,SACZiF,EAAM/C,IAAIlC,UAEdpJ,KAAK0iD,SAAS,YAEdr0C,EAAQ5K,EAAO6T,UAAUgS,aAAa7a,EAAIjB,IAAKiB,EAAIrF,QACnDpJ,KAAK0iD,SAAS,kBAElB1iD,KAAKosD,gBAAkB/9C,EACvBrO,KAAKA,KAAK+J,QAAU/J,KAAKA,KAAK+J,OAAOqkD,IAGzCpuD,KAAK4tD,cAAgB,SAASQ,GAC1B,GAAI3/C,GAAM2/C,EAAG7rB,sBACT9+B,EAASzD,KAAKyD,MAElBzD,MAAK0iD,SAAS,iBACd1iD,KAAKosD,gBAAkB3oD,EAAO6T,UAAUoS,aAAajb,EAAIjB,KACzDxN,KAAKA,KAAK+J,QAAU/J,KAAKA,KAAK+J,OAAOqkD,IAGzCpuD,KAAK6tD,YAAc,SAASO,GACxB,GAAI3qD,GAASzD,KAAKyD,MAElBA,GAAO+jB,YACPxnB,KAAKosD,gBAAkB3oD,EAAOyhC,oBAC9BllC,KAAK0iD,SAAS,cAGlB1iD,KAAK8tD,aAAe,SAASM,GACzB,IAAIA,EAAG5rB,cAAP,CAEI4rB,EAAGxJ,eAAiBwJ,EAAGe,SAAWf,EAAGgB,SACrChB,EAAGgB,OAAShB,EAAGe,OACff,EAAGe,OAAS,EAGhB,IAAI1Y,GAAI2X,EAAG10C,SAAS21C,UAChBC,EAAK7Y,GAAKz2C,KAAKuvD,iBAAiB,GAEhC9rD,EAASzD,KAAKyD,OACd+rD,EAAc/rD,EAAO4vB,SAASwkB,eAAeuW,EAAGgB,OAAShB,EAAGqB,MAAOrB,EAAGe,OAASf,EAAGqB,MACtF,OAAID,IAAeF,EAAK,KACpBtvD,KAAKuvD,gBAAkB9Y,EACvBhzC,EAAO4vB,SAASyR,SAASspB,EAAGgB,OAAShB,EAAGqB,MAAOrB,EAAGe,OAASf,EAAGqB,OACvDrB,EAAGl+C,QAHd,WAOLjP,KAAKysD,EAAgB3sD,WAExBoB,EAAQurD,gBAAkBA,IAsB1B/tD,OAAO,kBAAmB,UAAW,UAAW,SAAW,iBAAkB,SAASN,EAAS8C,EAAS7C,GAGxG,GAAIoD,GAAQrD,EAAQ,eAGhBoqC,EAAa,SAASimB,EAAU3sB,GAChC/iC,KAAK0vD,SAAWA,EAChB1vD,KAAKyuC,SAAU,EACfzuC,KAAK+uC,QAAU,EACf/uC,KAAKK,OAAS0iC,GAAO1iC,SAGzB,WAGIL,KAAK0wB,SAAW,SAASi/B,GAErB,GADA3vD,KAAK+uC,QAAU/uC,KAAK+uC,QAAU4gB,GACzB3vD,KAAKyuC,SAAWzuC,KAAK+uC,QAAS,CAC/B/uC,KAAKyuC,SAAU,CACf,IAAIjZ,GAAQx1B,IACZ0C,GAAMktD,UAAU,WACZp6B,EAAMiZ,SAAU,CAEhB,KADA,GAAIM,GACGA,EAAUvZ,EAAMuZ,SACnBvZ,EAAMuZ,QAAU,EAChBvZ,EAAMk6B,SAAS3gB,IAEpB/uC,KAAKK,YAIjBY,KAAKwoC,EAAW1oC,WAEnBoB,EAAQsnC,WAAaA,IAGrB9pC,OAAO,2BAA4B,UAAW,UAAW,SAAW,gBAAiB,oBAAqB,6BAA8B,mCAAoC,wBAAyB,6BAA8B,cAAe,SAASN,EAAS8C,EAAS7C,GAG7Q,GAAIoD,GAAQrD,EAAQ,gBAChByhC,EAAYzhC,EAAQ,oBACpBquD,EAAkBruD,EAAQ,sBAAsBquD,gBAChDmC,EAAuBxwD,EAAQ,4BAA4BmsD,cAC3D9F,EAAarmD,EAAQ,iBAAiBqmD,WACtC3G,EAAkB1/C,EAAQ,sBAAsB0/C,gBAChD97C,EAAS5D,EAAQ,aAEjBywD,EAAe,SAASrsD,GACxBzD,KAAKyD,OAASA,EAEd,GAAIiqD,GAAgB1tD,MACpB,GAAI6vD,GAAqB7vD,MACzB,GAAI++C,GAAgB/+C,KAEpB,IAAI+hD,GAAct+C,EAAO4vB,SAASye,qBAClCpvC,GAAMwB,YAAY69C,EAAa,QAAS/hD,KAAK+vD,aAAa9rD,KAAKjE,KAAM,UACrE0C,EAAMwB,YAAY69C,EAAa,YAAa/hD,KAAK6gD,YAAY58C,KAAKjE,KAAM,cACxE0C,EAAMstD,0BAA0BjO,GAAc,IAAK,IAAK,KAAM/hD,KAAM,gBAChEyD,EAAO4vB,SAAS2X,aAChBtoC,EAAMstD,0BAA0BvsD,EAAO4vB,SAAS2X,WAAW+hB,OAAQ,IAAK,IAAK,KAAM/sD,KAAM,gBACzF0C,EAAMstD,0BAA0BvsD,EAAO4vB,SAAS4X,WAAW8hB,OAAQ,IAAK,IAAK,KAAM/sD,KAAM,iBAE7F0C,EAAMutD,sBAAsBxsD,EAAOomC,UAAW7pC,KAAK8tD,aAAa7pD,KAAKjE,KAAM,cAE3E,IAAIkwD,GAAWzsD,EAAO4vB,SAAS6W,OAC/BxnC,GAAMwB,YAAYgsD,EAAU,YAAalwD,KAAK+vD,aAAa9rD,KAAKjE,KAAM,oBACtE0C,EAAMwB,YAAYgsD,EAAU,QAASlwD,KAAK+vD,aAAa9rD,KAAKjE,KAAM,gBAClE0C,EAAMwB,YAAYgsD,EAAU,WAAYlwD,KAAK+vD,aAAa9rD,KAAKjE,KAAM,mBACrE0C,EAAMwB,YAAYgsD,EAAU,YAAalwD,KAAK+vD,aAAa9rD,KAAKjE,KAAM,oBAEtE0C,EAAMwB,YAAY69C,EAAa,YAAa,SAAS7zC,GACjDzK,EAAOo/B,UAGXngC,EAAMwB,YAAYgsD,EAAU,YAAa,SAAShiD,GAE9C,MADAzK,GAAOo/B,QACAngC,EAAMyjC,eAAej4B,OAIpC,WACIlO,KAAK+vD,aAAe,SAASprD,EAAMuJ,GAC/BlO,KAAKyD,OAAO8R,MAAM5Q,EAAM,GAAI+gD,GAAWx3C,EAAGlO,KAAKyD,UAGnDzD,KAAK6gD,YAAc,SAASl8C,EAAMuJ,GAC9B,GAAIu4B,GAAYzmC,KAAKyD,OAAO8iC,gBAAkBvmC,KAAKyD,OAAO8iC,eAAe4pB,SACpE1pB,IAAcA,EAAU/lC,QAG7BV,KAAKyD,OAAO8R,MAAM5Q,EAAM,GAAI+gD,GAAWx3C,EAAGlO,KAAKyD,UAGnDzD,KAAK8tD,aAAe,SAASnpD,EAAMuJ,GAC/B,GAAIw9C,GAAa,GAAIhG,GAAWx3C,EAAGlO,KAAKyD,OACxCioD,GAAW+D,MAA4B,EAApBzvD,KAAKowD,aACxB1E,EAAW0D,OAASlhD,EAAEkhD,OACtB1D,EAAWyD,OAASjhD,EAAEihD,OAEtBnvD,KAAKyD,OAAO8R,MAAM5Q,EAAM+mD,IAG5B1rD,KAAK0iD,SAAW,SAAS34C,GACrB/J,KAAK+J,MAAQA,GAGjB/J,KAAKoiD,aAAe,SAASgM,EAAIiC,GAC7BrwD,KAAKgM,EAAIoiD,EAAGpiD,EACZhM,KAAKmd,EAAIixC,EAAGjxC,EAEZnd,KAAKssD,gBAAiB,CACtB,IAAIj5B,GAAWrzB,KAAKyD,OAAO4vB,QACvBA,GAAS0W,wBACT1W,EAAS0W,sBAAwB,KAErC,IAAI16B,GAAOrP,KACP6gD,EAAc,SAAS3yC,GACvBmB,EAAKrD,EAAIkC,EAAE40C,QACXzzC,EAAK8N,EAAIjP,EAAE60C,QACXsN,GAAoBA,EAAiBniD,GACrCmB,EAAKq8C,WAAa,GAAIhG,GAAWx3C,EAAGmB,EAAK5L,QACzC4L,EAAKihD,aAAc,GAGnBC,EAAe,SAASriD,GACxBmpC,cAAcsJ,GACd6P,IACAnhD,EAAKA,EAAKtF,MAAQ,QAAUsF,EAAKA,EAAKtF,MAAQ,OAAOmE,GACrDmB,EAAK+8C,gBAAkB,KACe,MAAlC/4B,EAAS0W,wBACT1W,EAAS0W,uBAAwB,EACjC1W,EAAS2e,yBAEb3iC,EAAKi9C,gBAAiB,EACtBj9C,EAAKohD,oBAAsBphD,EAAKqhD,aAAe,KAC/CrhD,EAAK0gD,aAAa,UAAW7hD,IAG7BsiD,EAAoB,WACpBnhD,EAAKA,EAAKtF,QAAUsF,EAAKA,EAAKtF,SAC9BsF,EAAKihD,aAAc,EAGvB,IAAIxvB,EAAU6vB,SAA+B,YAApBvC,EAAG10C,SAASvI,KACjC,MAAOrB,YAAW,WAAYygD,EAAanC,IAG/C/+C,GAAKohD,oBAAsB5P,EAC3BxxC,EAAKqhD,aAAehuD,EAAMkuD,QAAQ5wD,KAAKyD,OAAOomC,UAAWgX,EAAa0P,EACtE,IAAI5P,GAAUpJ,YAAYiZ,EAAmB,KAEjDxwD,KAAK0wD,aAAe,OACrBzvD,KAAK6uD,EAAa/uD,WAErBkC,EAAO46B,cAAciyB,EAAa/uD,UAAW,gBACzC8vD,aAAc3yB,aAAc,GAC5B4yB,WAAY5yB,aAAc,KAC1B6yB,aAAc7yB,cAAc,GAC5B8yB,aAAc9yB,aAAc,GAC5B+yB,qBAAsB/yB,cAAc,KAIxC/7B,EAAQ2tD,aAAeA,IAGvBnwD,OAAO,0BAA2B,UAAW,UAAW,SAAW,cAAe,cAAe,eAAgB,yBAA0B,SAASN,EAAS8C,EAAS7C,GAEtK,GAAI+N,GAAMhO,EAAQ,cACdoD,EAAMpD,EAAQ,cACdkK,EAAOlK,EAAQ,eACfiO,EAAejO,EAAQ,wBAAwBiO,aAE/C4jD,EAAa,EAEbxnB,EAAcvnC,EAAQunC,YAAc,SAASyT,EAAUuG,GACvD1jD,KAAKmD,GAAKV,EAAIimC,cAAc,OAC5B1oC,KAAKmxD,sBAAsBnxD,KAAKmD,GAAG2V,OAAO,GAE1C9Y,KAAKoxD,MAAQ3uD,EAAIimC,cAAc,OAC/B1oC,KAAKmxD,sBAAsBnxD,KAAKoxD,MAAMt4C,OAEtC9Y,KAAK+oD,aAAetmD,EAAIimC,cAAc,OACtC1oC,KAAKmxD,sBAAsBnxD,KAAK+oD,aAAajwC,OAG7C9Y,KAAKmD,GAAGwlC,YAAY3oC,KAAKoxD,OACzBpxD,KAAKmD,GAAGwlC,YAAY3oC,KAAK+oD,cACzB5L,EAASxU,YAAY3oC,KAAKmD,IAErB+tD,GACDlxD,KAAKqxD,sBACTrxD,KAAK+oD,aAAauI,YAAc/nD,EAAKuoB,aAAa,IAAKo/B,GAEvDlxD,KAAKqmD,gBAAkBvvB,MAAO,EAAG6U,OAAQ,GACzC3rC,KAAKsuC,wBAGT,WAEIjhC,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAKqmD,gBAAkBvvB,MAAO,EAAG6U,OAAQ,GAEzC3rC,KAAKqxD,oBAAsB,WACvB,GAAIluD,GAAKV,EAAIimC,cAAc,MAC3B1oC,MAAKmxD,sBAAsBhuD,EAAG2V,OAC9B3V,EAAG2V,MAAMge,MAAQ,QACjBzzB,SAASopD,gBAAgB9jB,YAAYxlC,EACrC,IAAI4zB,GAAI5zB,EAAG60C,wBAAwBlhB,KAE/Bo6B,GADAn6B,EAAI,GAAKA,EAAI,EACA,EAEA,IACjB5zB,EAAG6lD,WAAW9K,YAAY/6C,IAG9BnD,KAAKmxD,sBAAwB,SAASr4C,EAAOy4C,GACzCz4C,EAAMge,MAAQhe,EAAM6yB,OAAS,OAC7B7yB,EAAMuyB,KAAOvyB,EAAMsyB,IAAM,SACzBtyB,EAAM84B,WAAa,SACnB94B,EAAMsM,SAAW,QACjBtM,EAAM04C,WAAa,MACnB14C,EAAM24C,KAAO,UACb34C,EAAM44C,SAAWH,EAAS,SAAW,WAGzCvxD,KAAKsuC,oBAAsB,WACvB,GAAIpV,GAAOl5B,KAAK2xD,eAChB,IAAIz4B,IAASl5B,KAAKqmD,eAAevvB,QAAUoC,EAAKpC,OAAS92B,KAAKqmD,eAAe1a,SAAWzS,EAAKyS,QAAS,CAClG3rC,KAAK+oD,aAAajwC,MAAM84C,WAAa,MACrC,IAAIC,GAAW7xD,KAAK2xD,eACpB3xD,MAAK+oD,aAAajwC,MAAM84C,WAAa,GACrC5xD,KAAKqmD,eAAiBntB,EACtBl5B,KAAK8xD,UAAYhxD,OAAO6L,OAAO,MAC/B3M,KAAKwtC,eAAiBqkB,GAAYA,EAAS/6B,QAAUoC,EAAKpC,OAAS+6B,EAASlmB,SAAWzS,EAAKyS,OAC5F3rC,KAAKuV,MAAM,uBAAwBnH,KAAM8qB,MAIjDl5B,KAAKumD,iBAAmB,WACpB,GAAIvmD,KAAKwmD,sBACL,MAAOxmD,MAAKwmD,qBAChB,IAAIn3C,GAAOrP,IACX,OAAOA,MAAKwmD,sBAAwBjP,YAAY,WAC5CloC,EAAKi/B,uBACN,MAGPtuC,KAAK+xD,WAAa,SAASniC,GACnBA,EACA5vB,KAAKumD,mBAEDvmD,KAAKwmD,uBACLxmD,KAAKwmD,uBAIjBxmD,KAAK2xD,cAAgB,WACjB,GAAI7S,GAAO9+C,KAAK+oD,aAAa/Q,wBACzB9e,GACAyS,OAAQmT,EAAKnT,OACb7U,MAAOgoB,EAAKhoB,MAAQo6B,EAExB,OAAmB,KAAfh4B,EAAKpC,OAA+B,IAAhBoC,EAAKyS,OAClB,KACJzS,GAGXl5B,KAAKgyD,kBAAoB,SAAS/mC,GAC9BjrB,KAAKoxD,MAAME,YAAc/nD,EAAKuoB,aAAa7G,EAAIimC,EAC/C,IAAIpS,GAAO9+C,KAAKoxD,MAAMpZ,uBACtB,OAAO8G,GAAKhoB,MAAQo6B,GAGxBlxD,KAAK2tC,kBAAoB,SAAS1iB,GAC9B,GAAI8L,GAAI/2B,KAAK8xD,UAAU7mC,EAIvB,OAHUpmB,UAANkyB,IACA/2B,KAAK8xD,UAAU7mC,GAAMjrB,KAAKgyD,kBAAkB/mC,GAAMjrB,KAAKqmD,eAAevvB,OAEnEC,GAGX/2B,KAAKw5C,QAAU,WACXnC,cAAcr3C,KAAKwmD,uBACfxmD,KAAKmD,IAAMnD,KAAKmD,GAAG6lD,YACnBhpD,KAAKmD,GAAG6lD,WAAW9K,YAAYl+C,KAAKmD,OAG7ClC,KAAKyoC,EAAY3oC,aAIpBpB,OAAO,0BAA2B,UAAW,UAAW,SAAW,gBAAiB,oBAAqB,cAAe,gBAAiB,SAASN,EAAS8C,EAAS7C,GAGpK,GAAIoD,GAAQrD,EAAQ,gBAChByhC,EAAYzhC,EAAQ,oBACpBoD,EAAMpD,EAAQ,cACdkK,EAAOlK,EAAQ,eACf4yD,EAAiBnxB,EAAUoxB,SAAW,GAEtCC,EAAY,SAASnJ,EAAYoJ,GAiDjC,QAASC,GAAe76C,GACpB,IAAI86C,EAAJ,CAEA,GAAIC,EACAC,EAAiB,EACjBC,EAAej7C,EAAU,EAAInT,EAAKiF,MAAM5I,OAAS,MAEjD,IAAI8xD,GAAiBh7C,EAAU,EAAI,EAC/Bi7C,EAAe,CAEvB,KACIpuD,EAAKqjB,kBAAkB8qC,EAAgBC,GACzC,MAAMvkD,MAGZ,QAASwkD,KACDJ,IAEJjuD,EAAKiF,MAAQqpD,EACT7xB,EAAUikB,UACV6N,EAAUliC,YAuVlB,QAASmiC,KACL/iD,WAAW,WACHgjD,IACAzuD,EAAKyU,MAAM4/B,QAAUoa,EACrBA,EAAY,IAE2B,MAAvCV,EAAK/+B,SAAS0W,wBACdqoB,EAAK/+B,SAAS0W,uBAAwB,EACtCqoB,EAAK/+B,SAAS2e,0BAEnB,GAraP,GAAI3tC,GAAO5B,EAAIimC,cAAc,WAC7BrkC,GAAKuI,UAAY,iBAEbk0B,EAAUiyB,YACV1uD,EAAK2uD,aAAa,2BAA2B,GAEjD3uD,EAAKmqB,KAAO,MACZnqB,EAAK4uD,YAAc,MACnB5uD,EAAK6uD,eAAiB,MACtB7uD,EAAK8uD,YAAa,EAElB9uD,EAAKyU,MAAMyxC,QAAU,IACrBvB,EAAWtX,aAAartC,EAAM2kD,EAAWrX,WAEzC,IAAIghB,GAAc,KAEdS,GAAM,EACNC,GAAS,EACTC,GAAS,EACThB,GAAgB,EAChBQ,EAAY,GACZS,GAAmB,CACvB,KAAM,GAAI3wB,GAAYv/B,SAASmwD,gBAAkBnvD,EAAQ,MAAM6J,IAE/DxL,EAAMwB,YAAYG,EAAM,OAAQ,WAC5B+tD,EAAKqB,SACL7wB,GAAY,IAEhBlgC,EAAMwB,YAAYG,EAAM,QAAS,WAC7Bu+B,GAAY,EACZwvB,EAAKsB,UACLrB,MAEJryD,KAAK6iC,MAAQ,WAAax+B,EAAKw+B,SAC/B7iC,KAAK2zD,KAAO,WAAatvD,EAAKsvD,QAC9B3zD,KAAK4iC,UAAY,WACb,MAAOA,GAEX,IAAIgxB,GAAgBrqD,EAAKioB,YAAY,WACjCoR,GAAayvB,EAAekB,KAE5BX,EAAYrpD,EAAKioB,YAAY,WACvB8gC,IACFjuD,EAAKiF,MAAQqpD,EACb/vB,GAAayvB,MA2BrBvxB,GAAUikB,UAAYqN,EAAK78B,iBAAiB,kBAAmB,WACvD68B,EAAK96C,UAAUE,WAAa+7C,IAC5BA,GAAoBA,EACpBK,EAAcljC,cAItBgiC,IACI9vB,GACAwvB,EAAKsB,SAGT,IAAIG,GAAgB,SAASxvD,GACzB,MAA+B,KAAxBA,EAAKmuD,gBAAwBnuD,EAAKouD,eAAiBpuD,EAAKiF,MAAM5I,OAkBzE,KAhBK2D,EAAKqjB,mBAAqBrjB,EAAKyvD,kBAChCzvD,EAAKqjB,kBAAoB,SAAS8qC,EAAgBC,GAC9C,GAAIpkD,GAAQrO,KAAK8zD,iBACjBzlD,GAAM0lD,UAAS,GACf1lD,EAAM2lD,UAAU,YAAaxB,GAC7BnkD,EAAM4lD,QAAQ,YAAaxB,GAC3BpkD,EAAMsgD,UAEVkF,EAAgB,SAASxvD,GACrB,IACI,GAAIgK,GAAQhK,EAAKqoC,cAAcp1B,UAAU48C,cAC5C,MAAMhmD,IACP,SAAKG,GAASA,EAAM8lD,iBAAmB9vD,IAC5BgK,EAAMhK,MAAQA,EAAKiF,QAGlCw3B,EAAU6vB,QAAS,CACnB,GAAIyD,IAAmB,EACnBC,EAAmB,SAASnmD,GAC5B,IAAIkmD,EAAJ,CAEA,GAAIhmD,GAAO/J,EAAKiF,KAChB,KAAIgpD,GAAkBlkD,GAAQA,GAAQukD,EAAtC,CAEA,GAAIzkD,GAAKE,GAAQukD,EAAY,GACzB,MAAO2B,GAAa5jC,UAExB6jC,GAASnmD,GACTgmD,GAAmB,EACnB1B,IACA0B,GAAmB,KAEnBE,EAAe/qD,EAAKioB,YAAY6iC,EACpC3xD,GAAMwB,YAAYG,EAAM,iBAAkBgwD,EAE1C,IAAIG,IAAaC,GAAG,EAAGC,GAAG,EAC1BhyD,GAAMwB,YAAYG,EAAM,QAAS,SAAU6J,GAGvC,OAFIokD,GAAmBjuD,EAAKiF,QAASkrD,EAAStmD,EAAEoyB,UAC5CxwB,WAAW6kD,EAAkB,IAC5BtwD,EAAKiF,MAAM6yB,WAAW,IAAI,GAAK,IACzBm4B,EAAarzD,YAExBqxD,EAAgBsC,IAAwBC,OAE5CnyD,EAAMwB,YAAYG,EAAM,UAAW,SAAU6J,GACzComD,EAAa5jC,SAAS,MAI9B,GAAIokC,GAAW,SAAS5mD,GAChBklD,EACAA,GAAM,EACCC,EACPA,GAAS,EACFQ,EAAcxvD,IACrB+tD,EAAK5qC,YACL6qC,KACOE,GACPF,EAAeD,EAAK96C,UAAUE,YAIlC+6C,EAAe,IACnBvyD,MAAK+0D,gBAAkB,SAAS//B,GAAKu9B,EAAev9B,GACpDh1B,KAAKg1D,gBAAkB,WAAY,MAAOzC,GAC1C,IAAI0C,IAAmB,EAEnBV,EAAW,SAASnmD,GAChBmkD,IACAnkD,EAAOmkD,EAAankD,GACpBmkD,EAAe,MAEfe,GACAjB,IACIjkD,GACAgkD,EAAK8C,QAAQ9mD,GACjBklD,GAAS,GACFllD,GAAQukD,EAAY9wD,OAAO,GAC9BozD,EACA7C,EAAK+C,YAAY,OAAQC,OAAQ,QAEjChD,EAAK+C,YAAY,aAAcC,OAAQ,SAEvChnD,EAAKoF,UAAU,EAAG,IAAMm/C,EACxBvkD,EAAOA,EAAKsP,OAAO,GACdtP,EAAKvM,OAAO,IAAM8wD,EAAY9wD,OAAO,GAC1CuM,EAAOA,EAAKsP,OAAO,GACdtP,EAAKvM,OAAOuM,EAAK1N,OAAS,IAAMiyD,EAAY9wD,OAAO,KACxDuM,EAAOA,EAAKrM,MAAM,GAAG,IACrBqM,EAAKvM,OAAOuM,EAAK1N,OAAS,IAAMiyD,EAAY9wD,OAAO,KACnDuM,EAAOA,EAAKrM,MAAM,GAAG,IAErBqM,GACAgkD,EAAKvxB,YAAYzyB,IAErB6mD,IACAA,GAAmB,IAEvBI,EAAU,SAASnnD,GACnB,IAAIokD,EAAJ,CAEA,GAAIlkD,GAAO/J,EAAKiF,KAChBirD,GAASnmD,GACTskD,MAGA4C,EAAQ,SAASpnD,GACjB,GAAIE,GAAOgkD,EAAKmD,aAChB,KAAKnnD,EAED,WADA1L,GAAMyjC,eAAej4B,EAIzB,IAAIsnD,GAAgBtnD,EAAEsnD,eAAiBn1D,OAAOm1D,aAE9C,IAAIA,IAAkBvD,EAAgB,CAClC,GAAIwD,GAAYD,EAAc/S,QAAQ,OAAQr0C,EAC1CqnD,KACArD,EAAKkD,QACL5yD,EAAMyjC,eAAej4B,IAIxBunD,IACDrC,GAAM,EACN/uD,EAAKiF,MAAQ8E,EACb/J,EAAKsqD,SACL7+C,WAAW,WACPsjD,GAAM,EACNV,IACAL,IACAD,EAAKkD,YAKbI,EAAS,SAASxnD,GAClB,GAAIE,GAAOgkD,EAAKmD,aAChB,KAAKnnD,EAED,WADA1L,GAAMyjC,eAAej4B,EAIzB,IAAIsnD,GAAgBtnD,EAAEsnD,eAAiBn1D,OAAOm1D,aAC9C,IAAIA,IAAkBvD,EAAgB,CAClC,GAAIwD,GAAYD,EAAc/S,QAAQ,OAAQr0C,EAC1CqnD,KACArD,EAAKsD,SACLhzD,EAAMyjC,eAAej4B,IAGxBunD,IACDpC,GAAS,EACThvD,EAAKiF,MAAQ8E,EACb/J,EAAKsqD,SACL7+C,WAAW,WACPujD,GAAS,EACTX,IACAL,IACAD,EAAKsD,aAKbR,EAAU,SAAShnD,GACnB,GAAIsnD,GAAgBtnD,EAAEsnD,eAAiBn1D,OAAOm1D,aAE9C,IAAIA,EAAe,CACf,GAAIpnD,GAAOonD,EAAcrS,QAAQ,OAC7B/0C,IACAgkD,EAAK8C,QAAQ9mD,GACb0yB,EAAUqjB,MACVr0C,WAAWuiD,GACf3vD,EAAMyjC,eAAej4B,OAGrB7J,GAAKiF,MAAQ,GACbgqD,GAAS,EAIjB5wD,GAAMizD,sBAAsBtxD,EAAM+tD,EAAKzxB,aAAa18B,KAAKmuD,IAEzD1vD,EAAMwB,YAAYG,EAAM,SAAUywD,GAElCpyD,EAAMwB,YAAYG,EAAM,QAASgxD,GAEjC3yD,EAAMwB,YAAYG,EAAM,MAAOixD,GAC/B5yD,EAAMwB,YAAYG,EAAM,OAAQqxD,GAChChzD,EAAMwB,YAAYG,EAAM,QAAS6wD,GAC3B,SAAW7wD,IAAW,UAAYA,IAAW,WAAaA,IAC5D3B,EAAMwB,YAAY8kD,EAAY,UAAW,SAAS96C,GAC9C,KAAK4yB,EAAUC,OAAU7yB,EAAE8L,UAAa9L,EAAE6L,QAG1C,OAAQ7L,EAAEoyB,SACN,IAAK,IACDo1B,EAAOxnD,EACP,MACJ,KAAK,IACDgnD,EAAQhnD,EACR,MACJ,KAAK,IACDonD,EAAMpnD,KAKtB,IAAI2mD,GAAqB,SAAS3mD,IAC1BokD,GAAkBF,EAAKyC,qBAC3BvC,KACAF,EAAKyC,qBACL/kD,WAAW8kD,EAAqB,GAChCxC,EAAKjuD,GAAG,YAAawwD,GAChBvC,EAAK96C,UAAUE,YAChB46C,EAAK/wC,OAAO,IACZ+wC,EAAKpqD,QAAQypB,gBACb2gC,EAAK96C,UAAUkP,kBAEnB4rC,EAAKpqD,QAAQypB,kBAGbmjC,EAAsB,WACtB,GAAKtC,GAAkBF,EAAKwC,oBAA5B,CACA,GAAIhlC,GAAMvrB,EAAKiF,MAAMpH,QAAQ,QAAS,GACtC,IAAIowD,EAAcsD,YAAchmC,IAEhCwiC,EAAKwC,oBAAoBhlC,GACrB0iC,EAAcsD,WACdxD,EAAKzgC,OACT2gC,EAAcsD,UAAYhmC,EACtB0iC,EAAcsD,WAAW,CACzB,GAAInqD,GAAI2mD,EAAK96C,UAAUC,UACvB66C,GAAK/wC,OAAOixC,EAAcsD,WAC1BxD,EAAKpqD,QAAQypB,gBACb6gC,EAAcjkD,MAAQ+jD,EAAK96C,UAAUC;AACrC66C,EAAK96C,UAAUmQ,SAAShc,GACxB2mD,EAAK96C,UAAUkP,oBAInBmuC,EAAmB,SAASzmD,GAC5B,GAAKkkD,EAAKuC,iBAAV,CACA,GAAIn7C,GAAI84C,CACRA,IAAgB,CAChB,IAAIuD,GAAQ/lD,WAAW,WACnB+lD,EAAQ,IACR,IAAIxiD,GAAMhP,EAAKiF,MAAMpH,QAAQ,QAAS,GAClCowD,KAEKj/C,GAAOmG,EAAEo8C,UACdlD,KACMl5C,EAAEo8C,WAAaviD,IACrBq/C,IACA6B,EAASlhD,MAGjBk/C,GAAe,SAAiCl/C,GAI5C,MAHIwiD,IACAnlD,aAAamlD,GACjBxiD,EAAMA,EAAInR,QAAQ,QAAS,IACvBmR,GAAOmG,EAAEo8C,UACF,IACPp8C,EAAEo8C,WAAaC,GACfzD,EAAKzgC,OACFte,IAEX++C,EAAKuC,mBACLvC,EAAKhuD,eAAe,YAAauwD,GACnB,kBAAVzmD,EAAEiD,MAA4BqI,EAAEnL,OAChC+jD,EAAK96C,UAAUmQ,SAASjO,EAAEnL,SAM9BynD,EAAkBvsD,EAAKioB,YAAYojC,EAAqB,GA6D5D,IA3DAlyD,EAAMwB,YAAYG,EAAM,mBAAoBwwD,GACxC/zB,EAAUi1B,QACVrzD,EAAMwB,YAAYG,EAAM,OAAQ,WAAWyxD,EAAgBplC,cAE3DhuB,EAAMwB,YAAYG,EAAM,QAAS,WAAWyxD,EAAgBplC,aAC5DhuB,EAAMwB,YAAYG,EAAM,UAAW,WAAWyxD,EAAgBplC,cAElEhuB,EAAMwB,YAAYG,EAAM,iBAAkBswD,GAE1C30D,KAAKspD,WAAa,WACd,MAAOjlD,IAGXrE,KAAKg2D,YAAc,SAASn3B,GACzBx6B,EAAKw6B,SAAWA,GAGnB7+B,KAAKuuD,cAAgB,SAASrgD,GAC1B+mD,GAAmB,EACdnC,IACDA,EAAYzuD,EAAKyU,MAAM4/B,SAE3Br0C,EAAKyU,MAAM4/B,QAAU,mBAAqB5X,EAAUqjB,KAAO,eAAiB,IAE5EkO,EAAeD,EAAK96C,UAAUE,WAC9B46C,EAAK78C,MAAM,qBAAsB6E,OAAQg4C,EAAM14C,SAAUxL,GACzD,IAAI4wC,GAAOsT,EAAKvoB,UAAUmO,wBACtBl/B,EAAQrW,EAAIk8C,cAAcyT,EAAKvoB,WAC/BuB,EAAM0T,EAAK1T,KAAO1uB,SAAS5D,EAAMm9C,iBAAmB,GACpD5qB,EAAOyT,EAAKzT,MAAQ3uB,SAASoiC,EAAKoX,kBAAoB,GACtDC,EAASrX,EAAKxS,OAASlB,EAAM/mC,EAAKsqC,aAClCynB,EAAO,SAASloD,GAChB7J,EAAKyU,MAAMuyB,KAAOn9B,EAAE40C,QAAUzX,EAAO,EAAI,KACzChnC,EAAKyU,MAAMsyB,IAAM98B,KAAKS,IAAIb,EAAE60C,QAAU3X,EAAM,EAAG+qB,GAAU,KAE7DC,GAAKloD,GAES,aAAVA,EAAEiD,OAGFihD,EAAK/+B,SAAS0W,wBACdqoB,EAAK/+B,SAAS0W,sBAAwB,MACtCjJ,EAAUu1B,OACV3zD,EAAMkuD,QAAQwB,EAAKvoB,UAAWusB,EAAMvD,KAG5C7yD,KAAK6yD,mBAAqBA,GAarB/xB,EAAUi1B,SAAWj1B,EAAUC,MAAO,CACvC,GAAIwtB,GAAgB,SAASrgD,GACzBkkD,EAAK9D,UAAUC,cAAcrgD,GAC7B2kD,IAEJnwD,GAAMwB,YAAYkuD,EAAK/+B,SAAS8W,SAAU,cAAeokB,GACzD7rD,EAAMwB,YAAYG,EAAM,cAAekqD,IAI/CpsD,GAAQgwD,UAAYA,IAGpBxyD,OAAO,gBAAiB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAGrF6C,EAAQmO,KAAO,SAASzD,GACpB,MAAOA,GAAEA,EAAEnM,OAAS,IAGxByB,EAAQ4oB,cAAgB,SAASurC,GAC7B,MAAOA,GAAO10D,MAAM,IAAI+lB,UAAU3lB,KAAK,KAG3CG,EAAQ2vB,aAAe,SAAUwkC,EAAQC,GAErC,IADA,GAAI7Z,GAAS,GACN6Z,EAAQ,GACC,EAARA,IACA7Z,GAAU4Z,IAEVC,IAAU,KACVD,GAAUA,EAElB,OAAO5Z,GAGX,IAAI8Z,GAAkB,SAClBC,EAAgB,QAEpBt0D,GAAQu0D,eAAiB,SAAUJ,GAC/B,MAAOA,GAAOp0D,QAAQs0D,EAAiB,KAG3Cr0D,EAAQw0D,gBAAkB,SAAUL,GAChC,MAAOA,GAAOp0D,QAAQu0D,EAAe,KAGzCt0D,EAAQuqB,WAAa,SAASowB,GAC1B,GAAIvkB,KACJ,KAAK,GAAIvzB,KAAO83C,GACZvkB,EAAKvzB,GAAO83C,EAAI93C,EAEpB,OAAOuzB,IAGXp2B,EAAQy0D,UAAY,SAASC,GAEzB,IAAK,GADDt+B,MACKp3B,EAAE,EAAGC,EAAEy1D,EAAMn2D,OAAQS,EAAEC,EAAGD,IAC3B01D,EAAM11D,IAAyB,gBAAZ01D,GAAM11D,GACzBo3B,EAAKp3B,GAAKnB,KAAK0sB,WAAYmqC,EAAM11D,IAEjCo3B,EAAKp3B,GAAK01D,EAAM11D,EAExB,OAAOo3B,IAGXp2B,EAAQuI,SAAW,SAAUoyC,GACzB,GAAmB,gBAARA,KAAqBA,EAC5B,MAAOA,EACX,IAAIga,GAAOha,EAAIia,WACf,IAAID,IAAS3+C,OACT,MAAO2kC,EAEX,IAAIvkB,GAAOu+B,GACX,KAAK,GAAI9xD,KAAO83C,GACY,gBAAbA,GAAI93C,GACXuzB,EAAKvzB,GAAO7C,EAAQuI,SAASoyC,EAAI93C,IAEjCuzB,EAAKvzB,GAAO83C,EAAI93C,EAGxB,OAAOuzB,IAGXp2B,EAAQ60D,WAAa,SAASp8B,GAE1B,IAAK,GADDruB,MACKpL,EAAE,EAAGA,EAAEy5B,EAAIl6B,OAAQS,IACxBoL,EAAIquB,EAAIz5B,IAAM,CAElB,OAAOoL,IAIXpK,EAAQ80D,UAAY,SAASC,GACzB,GAAI3qD,GAAMzL,OAAO6L,OAAO,KACxB,KAAK,GAAIxL,KAAK+1D,GACV3qD,EAAIpL,GAAK+1D,EAAM/1D,EAEnB,OAAOoL,IAEXpK,EAAQg1D,YAAc,SAASN,EAAOvtD,GACpC,IAAK,GAAInI,GAAI,EAAGA,GAAK01D,EAAMn2D,OAAQS,IAC7BmI,IAAUutD,EAAM11D,IAClB01D,EAAM5qD,OAAO9K,EAAG,IAKtBgB,EAAQ0d,aAAe,SAASxM,GAC5B,MAAOA,GAAInR,QAAQ,0BAA2B,SAGlDC,EAAQu7C,WAAa,SAASrqC,GAC1B,MAAOA,GAAInR,QAAQ,KAAM,SAASA,QAAQ,KAAM,SAASA,QAAQ,KAAM,SAASA,QAAQ,KAAM,UAGlGC,EAAQwP,gBAAkB,SAAS2kD,EAAQrlD,GACvC,GAAIsc,KASJ,OAPA+oC,GAAOp0D,QAAQ+O,EAAQ,SAASoC,GAC5Bka,EAAQhsB,MACJsQ,OAAQvR,UAAUA,UAAUI,OAAO,GACnCA,OAAQ2S,EAAI3S,WAIb6sB,GAEXprB,EAAQi1D,aAAe,SAASC,GAE5B,GAAIxB,GAAQ,KACRt2D,EAAW,WACXs2D,EAAQ,KACRwB,KAGAC,EAAW,SAASC,GAGpB,MAFAD,GAASpmC,SACT2kC,EAAQ/lD,WAAWvQ,EAAUg4D,GAAW,GACjCD,EAqBX,OAlBAA,GAAS5mC,SAAW4mC,EAEpBA,EAASr2D,KAAO,WAGZ,MAFAjB,MAAKkxB,SACLmmC,IACOC,GAGXA,EAASpmC,OAAS,WAGd,MAFAxgB,cAAamlD,GACbA,EAAQ,KACDyB,GAGXA,EAASE,UAAY,WACjB,MAAO3B,IAGJyB,GAIXn1D,EAAQqvB,YAAc,SAAS6lC,EAAKI,GAChC,GAAI5B,GAAQ,KACRt2D,EAAW,WACXs2D,EAAQ,KACRwB,KAGA7hC,EAAQ,SAAS+hC,GACJ,MAAT1B,IACAA,EAAQ/lD,WAAWvQ,EAAUg4D,GAAWE,IAuBhD,OApBAjiC,GAAMkiC,MAAQ,SAASH,GACnB1B,GAASnlD,aAAamlD,GACtBA,EAAQ/lD,WAAWvQ,EAAUg4D,GAAWE,IAE5CjiC,EAAM9E,SAAW8E,EAEjBA,EAAMv0B,KAAO,WACTjB,KAAKkxB,SACLmmC,KAGJ7hC,EAAMtE,OAAS,WACX2kC,GAASnlD,aAAamlD,GACtBA,EAAQ,MAGZrgC,EAAMgiC,UAAY,WACd,MAAO3B,IAGJrgC,KAIX71B,OAAO,oBAAqB,UAAW,UAAW,SAAW,iBAAkB,YAAa,gBAAiB,iCAAkC,gBAAiB,eAAgB,qCAAsC,aAAc,mBAAoB,aAAc,cAAe,SAASN,EAAS8C,EAAS7C,GAahT,QAASstB,GAAK5kB,EAAS+kB,EAAQhV,GAI3B,MAHA8I,GAAOyL,SAASkC,MAAO,EACvB3N,EAAOyL,SAASS,OAASA,EACzBlM,EAAOyL,SAASqB,UAAY5V,IAAO,EAC5B8I,EAAO+L,KAAK5kB,GAgqBvB,QAAS2vD,GAAYxzC,EAAIC,GACrB,MAAOD,GAAG3W,KAAO4W,EAAG5W,KAAO2W,EAAG/a,QAAUgb,EAAGhb,OA+B/C,QAASpG,GAAYS,GACbA,EAAOm0D,8BAEXn0D,EAAOo0D,YAAcp0D,EAAOo0D,YAAY5zD,KAAKR,GAC7CA,EAAOq0D,eAAiBr0D,EAAOq0D,eAAe7zD,KAAKR,GACnDA,EAAOs0D,eAAiBt0D,EAAOs0D,eAAe9zD,KAAKR,GACnDA,EAAOu0D,gBAAkBv0D,EAAOu0D,gBAAgB/zD,KAAKR,GACrDA,EAAOm0D,4BAA8Bz1D,EAAQ81D,gBAAgBh0D,KAAKR,GAElEA,EAAOm0D,4BAA4Bn0D,GACnCA,EAAOU,GAAG,gBAAiBV,EAAOm0D,6BAElCn0D,EAAOU,GAAG,YAAa09C,GACvBp+C,EAAO+6B,SAAS8C,YAAY9C,EAAS05B,iBAErCC,EAAsB10D,IAG1B,QAAS00D,GAAsB10D,GAgB3B,QAASqtB,GAAM5iB,GACPkqD,IACA30D,EAAO4vB,SAASimB,eAAe,IAC/B8e,GAAY,GAlBpB,GAAIj1D,GAAKM,EAAO6qD,UAAUhF,aACtB8O,GAAY,CAChB11D,GAAMwB,YAAYf,EAAI,UAAW,SAAS+K,GACrB,IAAbA,EAAEoyB,SAAmBpyB,EAAE6L,SAAW7L,EAAE2L,UAAY3L,EAAE8L,QAK3Co+C,GACPtnC,IALKsnC,IACD30D,EAAO4vB,SAASimB,eAAe,aAC/B8e,GAAY,KAOxB11D,EAAMwB,YAAYf,EAAI,QAAS2tB,GAC/BpuB,EAAMwB,YAAYf,EAAI,OAAQ2tB,GAhvBlC,GAAI3S,GAAY9e,EAAQ,gBAAgB8e,UACpCpN,EAAQ1R,EAAQ,WAAW0R,MAC3BwV,EAAYlnB,EAAQ,eAAeknB,UACnCs7B,EAAcxiD,EAAQ,gCAAgCwiD,YACtDn/C,EAAQrD,EAAQ,eAChBkK,EAAOlK,EAAQ,cACfm/B,EAAWn/B,EAAQ,mCACvB8C,GAAQq8B,SAAWA,EAAS05B,gBAAgBpsD,OAAO0yB,EAAS65B,oBAC5D,IAAIhsC,GAAShtB,EAAQ,YAAYgtB,OAC7BxL,EAAS,GAAIwL,GAQbzpB,EAAcvD,EAAQ,kBAAkBuD,aAC5C,WACI5C,KAAKs4D,oBAAsB,WACvB,MAAOt4D,MAAKorD,qBAEjBnqD,KAAK2B,EAAY7B,WACpB,WACIf,KAAK0R,OAAS,KACd1R,KAAKksB,UAAY,KACjBlsB,KAAKosB,SAAW,SAAS/d,EAAOkqD,GAC5B,GAAKlqD,EAAL,CAGA,IAAKrO,KAAK2kD,mBAAwC,GAAnB3kD,KAAK+rB,WAAiB,CACjD,GAAIysC,GAAWx4D,KAAKkhB,iBAGpB,IAFAlhB,KAAKksB,UAAUxnB,IAAI8zD,GACnBx4D,KAAKksB,UAAUxnB,IAAI2J,GACiB,GAAhCrO,KAAKksB,UAAUxa,OAAOhR,OAEtB,MADAV,MAAKksB,UAAUnI,YACRw0C,GAAsBv4D,KAAKshB,kBAAkBjT,EAExDrO,MAAKksB,UAAUnI,YACf/jB,KAAKksB,UAAUxnB,IAAI8zD,GACnBx4D,KAAK63D,YAAYW,GAGhBnqD,EAAMoJ,SACPpJ,EAAMoJ,OAASpJ,EAAM/C,IAEzB,IAAImY,GAAUzjB,KAAKksB,UAAUxnB,IAAI2J,EAcjC,OAZArO,MAAK63D,YAAYxpD,GAEboV,EAAQ/iB,QACRV,KAAK83D,eAAer0C,GAEpBzjB,KAAK+rB,WAAa,IAAM/rB,KAAK2kD,oBAC7B3kD,KAAK2O,QAAQ,eACb3O,KAAK2kD,mBAAoB,EACzB3kD,KAAKgI,QAAQgnB,aAAc,EAC3BhvB,KAAKksB,UAAUve,OAAO3N,KAAKgI,UAGxBuwD,GAAsBv4D,KAAKshB,kBAAkBjT,KAGxDrO,KAAKmsB,cAAgB,SAAS9d,GAC1BA,EAAQA,GAASrO,KAAK0R,OAAO,EAC7B,IAAI+R,GAAUzjB,KAAKksB,UAAUnI,WACzBN,GAAQ/iB,QACRV,KAAK83D,eAAer0C,GAExBpV,GAASrO,KAAKshB,kBAAkBjT,IAEpCrO,KAAK0jB,eAAiB,SAASjV,GAC3B,GAAIgV,GAAUzjB,KAAKksB,UAAUxI,eAAejV,EAC5C,IAAIgV,EAEA,MADAzjB,MAAK83D,eAAer0C,GACbA,EAAQ,IAGvBzjB,KAAKy4D,uBAAyB,WAC1B,GAAIh1C,GAAUzjB,KAAKksB,UAAUjX,OACzBwO,GAAQ/iB,OACRV,KAAK83D,eAAer0C,GAChBzjB,KAAK0R,OAAO,IAChB1R,KAAKshB,kBAAkBthB,KAAK0R,OAAO,KAG3C1R,KAAK63D,YAAc,SAASxpD,GACxBrO,KAAK+rB,WAAa/rB,KAAKksB,UAAUxa,OAAOhR,OACxCV,KAAK0R,OAAO1G,QAAQqD,GACpBrO,KAAK2O,QAAQ,YAAaN,MAAOA,KAGrCrO,KAAK83D,eAAiB,SAASr0C,GAE3B,GADAzjB,KAAK+rB,WAAa/rB,KAAKksB,UAAUxa,OAAOhR,OACjB,GAAnBV,KAAK+rB,YAAmB/rB,KAAK2kD,kBAAmB,CAChD,GAAI+T,GAAY14D,KAAKksB,UAAUxa,OAAOgE,KACtC+N,GAAQliB,KAAKm3D,GACb14D,KAAK+rB,WAAa,EAGtB,IAAK,GAAI5qB,GAAIsiB,EAAQ/iB,OAAQS,KAAO,CAChC,GAAIuH,GAAQ1I,KAAK0R,OAAOhQ,QAAQ+hB,EAAQtiB,GACxCnB,MAAK0R,OAAOzF,OAAOvD,EAAO,GAG9B1I,KAAK2O,QAAQ,eAAgB+C,OAAQ+R,IAEd,GAAnBzjB,KAAK+rB,YAAmB/rB,KAAK2kD,oBAC7B3kD,KAAK2kD,mBAAoB,EACzB3kD,KAAK2O,QAAQ,gBACb3O,KAAKgI,QAAQgnB,aAAc,EAC3BhvB,KAAKksB,UAAUtd,OAAO5O,KAAKgI,UAG/B0wD,EAAYA,GAAa14D,KAAK0R,OAAO,GACjCgnD,IAAcA,EAAUp+C,QAAQta,KAAKuX,aACrCvX,KAAKshB,kBAAkBo3C,IAE/B14D,KAAK24D,eAAiB,WACd34D,KAAKksB,YAGTlsB,KAAKksB,UAAY,GAAI/N,GACrBne,KAAK0R,UACL1R,KAAK+rB,WAAa,IAEtB/rB,KAAKwjC,aAAe,WAChB,MAAOxjC,MAAK+rB,WAAa/rB,KAAKksB,UAAUxa,OAAO5F,UAAY9L,KAAKuX,aAGpEvX,KAAK44D,eAAiB,WAClB,GAAI54D,KAAK+rB,WAAa,EAAG,CACrB,GAAIra,GAAS1R,KAAKksB,UAAUxa,OACxBgnD,EAAYhnD,EAAOA,EAAOhR,OAAS,GACnC2N,EAAQ0C,EAAMuF,WAAW5E,EAAO,GAAGrI,MAAOqvD,EAAUptD,IAExDtL,MAAKmsB,gBACLnsB,KAAK0nB,kBAAkBrZ,EAAOqqD,EAAUjhD,QAAUihD,EAAUrvD,WACzD,CACH,GAAIgF,GAAQrO,KAAKuX,WACb+P,EAActnB,KAAKsnB,cACnB/W,EAAWlC,EAAMhF,MAAMmE,IACvBgH,EAASnG,EAAM/C,IAAIkC,GACvB,IAAI+C,GAAYiE,EAAQ,CACpB,GAAI8S,EACA,GAAIje,GAAQgF,EAAM/C,IAAKA,EAAM+C,EAAMhF,UAEnC,IAAIA,GAAQgF,EAAMhF,MAAOiC,EAAM+C,EAAM/C,GAIzC,OAFAtL,MAAKosB,SAASrb,EAAMuF,WAAWhL,EAAKA,QACpCtL,MAAKosB,SAASrb,EAAMuF,WAAWjN,EAAOA,IAI1C,GAAIwvD,MACAptD,EAAIzL,KAAK0pB,aAAanZ,GAAU,EACpC9E,GAAEpC,MAAMD,OAASiF,EAAMhF,MAAMD,OAC7ByvD,EAAQt3D,KAAKkK,EAEb,KAAK,GAAItK,GAAIoP,EAAW,EAAGpP,EAAIqT,EAAQrT,IACnC03D,EAAQt3D,KAAKvB,KAAK0pB,aAAavoB,GAAG,GAEtCsK,GAAIzL,KAAK0pB,aAAalV,GAAQ,GAC9B/I,EAAEH,IAAIlC,OAASiF,EAAM/C,IAAIlC,OACzByvD,EAAQt3D,KAAKkK,GAEbotD,EAAQvsD,QAAQtM,KAAKosB,SAAUpsB,QAGvCA,KAAK84D,qBAAuB,WACxB,GAAI94D,KAAK+rB,WAAa,EAAG,CACrB,GAAIra,GAAS1R,KAAKksB,UAAUxa,OACxBgnD,EAAYhnD,EAAOA,EAAOhR,OAAS,GACnC2N,EAAQ0C,EAAMuF,WAAW5E,EAAO,GAAGrI,MAAOqvD,EAAUptD,IAExDtL,MAAKmsB,gBACLnsB,KAAK0nB,kBAAkBrZ,EAAOqqD,EAAUjhD,QAAUihD,EAAUrvD,WACzD,CACH,GAAIoO,GAASzX,KAAKgI,QAAQgd,yBAAyBhlB,KAAK0mB,eACpD1I,EAAShe,KAAKgI,QAAQgd,yBAAyBhlB,KAAK4mB,iBAEpDiyC,EAAU74D,KAAK+4D,sBAAsBthD,EAAQuG,EACjD66C,GAAQvsD,QAAQtM,KAAKosB,SAAUpsB,QAGvCA,KAAK+4D,sBAAwB,SAASC,EAAcC,EAAcC,GAC9D,GAAIL,MAEAM,EAAaH,EAAa5vD,OAAS6vD,EAAa7vD,MACpD,IAAI+vD,EACA,GAAI5kD,GAAcykD,EAAa5vD,OAC3BqL,EAAYwkD,EAAa7vD,WAE7B,IAAImL,GAAc0kD,EAAa7vD,OAC3BqL,EAAYukD,EAAa5vD,MAGjC,IAAIgwD,GAAaJ,EAAaxrD,IAAMyrD,EAAazrD,GACjD,IAAI4rD,EACA,GAAI7oD,GAAWyoD,EAAaxrD,IACxBgH,EAASykD,EAAazrD,QAE1B,IAAI+C,GAAW0oD,EAAazrD,IACxBgH,EAASwkD,EAAaxrD,GAG1B+G,GAAc,IACdA,EAAc,GACdhE,EAAW,IACXA,EAAW,GAEXA,GAAYiE,IACZ0kD,GAAoB,EAExB,KAAK,GAAI1rD,GAAM+C,EAAU/C,GAAOgH,EAAQhH,IAAO,CAC3C,GAAIa,GAAQ0C,EAAMuF,WACdtW,KAAKgI,QAAQoiB,yBAAyB5c,EAAK+G,GAC3CvU,KAAKgI,QAAQoiB,yBAAyB5c,EAAKiH,GAE/C,IAAIpG,EAAMmJ,UAAW,CACjB,GAAI6hD,GAAU1B,EAAYtpD,EAAM/C,IAAK+tD,GACjC,KACJ,IAAIA,GAAShrD,EAAM/C,IAEvB+C,EAAMoJ,OAAS0hD,EAAa9qD,EAAMhF,MAAQgF,EAAM/C,IAChDutD,EAAQt3D,KAAK8M,GAMjB,GAHI+qD,GACAP,EAAQlxC,WAEPuxC,EAAmB,CAEpB,IADA,GAAI5tD,GAAMutD,EAAQn4D,OAAS,EACpBm4D,EAAQvtD,GAAKkM,WAAalM,EAAM,GACnCA,GACJ,IAAIA,EAAM,EAEN,IADA,GAAIjC,GAAQ,EACLwvD,EAAQxvD,GAAOmO,WAClBnO,GAER,KAAK,GAAIlI,GAAImK,EAAKnK,GAAKkI,EAAOlI,IACtB03D,EAAQ13D,GAAGqW,WACXqhD,EAAQ5sD,OAAO9K,EAAG,GAI9B,MAAO03D,KAEZ53D,KAAKslB,EAAUxlB,UAClB,IAAI4B,GAAStD,EAAQ,YAAYsD,QACjC,WACI3C,KAAKs5D,uBAAyB,WAC1Bt5D,KAAKqzB,SAASkiB,eACdv1C,KAAKqzB,SAASgiB,qBAElBr1C,KAAKu5D,mBAAqB,SAAS3K,GAC1BA,EAAcn3C,SACfm3C,EAAcn3C,OAASm3C,EAActjD,IAEzC,IAAIwN,GAAQ9Y,KAAKygD,mBAKjB,OAJAmO,GAAcx7B,OAASpzB,KAAKgI,QAAQkrB,UAAU07B,EAAe,gBAAiB91C,GAE9E9Y,KAAKgI,QAAQojD,kBAAkB7pD,KAAKqtD,GACpC5uD,KAAKgI,QAAQwxD,qBAAuBx5D,KAAKgI,QAAQojD,kBAAkB1qD,OAC5DkuD,GAEX5uD,KAAKy5D,sBAAwB,SAASprD,GAClC,GAAKA,EAAM+kB,OAAX,CAEApzB,KAAKgI,QAAQurB,aAAallB,EAAM+kB,OAChC,IAAI1qB,GAAQ1I,KAAKgI,QAAQojD,kBAAkB1pD,QAAQ2M,EAC/C3F,KAAS,GACT1I,KAAKgI,QAAQojD,kBAAkBn/C,OAAOvD,EAAO,GACjD1I,KAAKgI,QAAQwxD,qBAAuBx5D,KAAKgI,QAAQojD,kBAAkB1qD,SAGvEV,KAAK05D,uBAAyB,SAAShoD,GAEnC,IAAK,GADDioD,GAAa35D,KAAKgI,QAAQojD,kBACrBjqD,EAAIuQ,EAAOhR,OAAQS,KAAO,CAC/B,GAAIkN,GAAQqD,EAAOvQ,EACnB,IAAKkN,EAAM+kB,OAAX,CAEApzB,KAAKgI,QAAQurB,aAAallB,EAAM+kB,OAChC,IAAI1qB,GAAQixD,EAAWj4D,QAAQ2M,EAC3B3F,KAAS,GACTixD,EAAW1tD,OAAOvD,EAAO,IAEjC1I,KAAKgI,QAAQwxD,qBAAuBG,EAAWj5D,QAGnDV,KAAK63D,YAAc,SAAS3pD,GACxBlO,KAAKu5D,mBAAmBrrD,EAAEG,OAC1BrO,KAAKqzB,SAASkiB,eACdv1C,KAAKqzB,SAASgiB,qBAGlBr1C,KAAK83D,eAAiB,SAAS5pD,GAC3BlO,KAAK05D,uBAAuBxrD,EAAEwD,QAC9B1R,KAAKqzB,SAASkiB,eACdv1C,KAAKqzB,SAASgiB,qBAGlBr1C,KAAK+3D,eAAiB,SAAS7pD,GACvBlO,KAAK2kD,oBAET3kD,KAAK2kD,mBAAoB,EAEzB3kD,KAAK0tC,SAAS,mBACd1tC,KAAK45D,WAAW75B,mBAAmBvB,EAASq7B,iBAC5C75D,KAAKw+B,SAASE,kBAAkB,OAAQ1+B,KAAK85D,oBAE7C95D,KAAKqzB,SAASkiB,eACdv1C,KAAKqzB,SAASgiB,sBAGlBr1C,KAAKg4D,gBAAkB,SAAS9pD,GACxBlO,KAAKgI,QAAQ+xD,YAAYC,gBAE7Bh6D,KAAK2kD,mBAAoB,EAEzB3kD,KAAKo5C,WAAW,mBAChBp5C,KAAK45D,WAAW/5B,sBAAsBrB,EAASq7B,iBAE/C75D,KAAKw+B,SAASuI,qBAAqB,OAAQ/mC,KAAK85D,oBAChD95D,KAAKqzB,SAASkiB,eACdv1C,KAAKqzB,SAASgiB,oBACdr1C,KAAKuV,MAAM,qBAGfvV,KAAK85D,mBAAqB,SAAS5rD,GAC/B,GAAIywB,GAAUzwB,EAAEywB,QACZl7B,EAASyK,EAAEzK,MACf,IAAKA,EAAOs2D,YAAZ,CAEA,GAAKp7B,EAAQgF,kBAI2B,WAA7BhF,EAAQgF,kBACf+Y,EAASj5C,EAAOw2D,iBAAiBt7B,EAASzwB,EAAErC,MACR,eAA7B8yB,EAAQgF,kBACf+Y,EAASj5C,EAAOw2D,iBAAiBt7B,EAASzwB,EAAErC,MAAM,GACd,UAA7B8yB,EAAQgF,mBACflgC,EAAOy2D,sBACPxd,EAAS/d,EAAQviB,KAAK3Y,EAAQyK,EAAErC,WAEhC6wC,EAAS/d,EAAQgF,kBAAkBlgC,EAAQyK,EAAErC,cAZjB,CAC5B,GAAI6wC,GAAS/d,EAAQviB,KAAK3Y,EAAQyK,EAAErC,SACpCpI,GAAOs2D,YAAY3tC,SAAS3oB,EAAOs2D,YAAY74C,mBAC/Czd,EAAOs2D,YAAYtB,yBAWvB,MAAO/b,KAEX18C,KAAKi6D,iBAAmB,SAASE,EAAKtuD,EAAMuuD,GACxC,IAAIp6D,KAAKq6D,uBAAT,CAGA,GAGI3d,GAHA10C,EAAUhI,KAAKgI,QACfsP,EAAYtX,KAAKsX,UACjB4U,EAAY5U,EAAU4U,UAGtBouC,EAAMhjD,EAAUivB,cACpBjvB,GAAUivB,iBAEV,IAAIg0B,GAAS,GAAIh0C,GAAUve,EAC3BhI,MAAKq6D,wBAAyB,CAC9B,KAAK,GAAIl5D,GAAI+qB,EAAUxa,OAAOhR,OAAQS,KAAM,CACxC,GAAIi5D,EACA,KAAOj5D,EAAI,GAAK+qB,EAAUxa,OAAOvQ,GAAGkI,MAAMmE,KAAO0e,EAAUxa,OAAOvQ,EAAI,GAAGmK,IAAIkC,KACzErM,GAERo5D,GAAOj5C,kBAAkB4K,EAAUxa,OAAOvQ,IAC1Co5D,EAAOl4D,GAAK6pB,EAAUxa,OAAOvQ,GAAGiyB,OAChCpzB,KAAKsX,UAAYtP,EAAQsP,UAAYijD,CACrC,IAAIC,GAAYL,EAAI/9C,KAAKpc,KAAM6L,MAChBhH,UAAX63C,IACAA,EAAS8d,GACbD,EAAOr5C,gBAAgBgL,EAAUxa,OAAOvQ,IAE5Co5D,EAAO3rD,SAEP5O,KAAKsX,UAAYtP,EAAQsP,UAAYA,EACrCtX,KAAKq6D,wBAAyB,EAC9B/iD,EAAUivB,eAAiB+zB,EAC3BhjD,EAAUmhD,wBAEV,IAAIgC,GAAOz6D,KAAKqzB,SAAS6X,gBAMzB,OALAlrC,MAAK06D,iBACL16D,KAAK26D,oBACDF,GAAQA,EAAKtjB,MAAQsjB,EAAKrjB,IAC1Bp3C,KAAKqzB,SAAS4jB,iBAAiBwjB,EAAKtjB,MAEjCuF,IAEX18C,KAAKk6D,oBAAsB,WAClBl6D,KAAK2kD,oBAAqB3kD,KAAKq6D,wBAEpCr6D,KAAK+5D,YAAY5tC,iBAGrBnsB,KAAK46D,gBAAkB,WACnB,GAAIv2D,GAAO,EACX,IAAIrE,KAAK2kD,oBAAsB3kD,KAAKq6D,uBAAwB,CAGxD,IAAK,GAFD3oD,GAAS1R,KAAK+5D,YAAY7tC,UAAUxa,OACpCmpD,KACK15D,EAAI,EAAGA,EAAIuQ,EAAOhR,OAAQS,IAC/B05D,EAAIt5D,KAAKvB,KAAKgI,QAAQ8P,aAAapG,EAAOvQ,IAE9C,IAAI25D,GAAK96D,KAAKgI,QAAQgG,cAAco4C,qBACpC/hD,GAAOw2D,EAAI74D,KAAK84D,GACZz2D,EAAK3D,SAAWm6D,EAAIn6D,OAAS,GAAKo6D,EAAGp6D,SACrC2D,EAAO,QACHrE,MAAKsX,UAAUE,YACvBnT,EAAOrE,KAAKgI,QAAQ8P,aAAa9X,KAAKklC,qBAE1C,OAAO7gC,IAEXrE,KAAKk1D,QAAU,SAAS7wD,GACpB,IAAIrE,KAAK4+B,UAAT,CAIA,GAAI1wB,IAAK7J,KAAMA,EAGf,IAFArE,KAAK2O,QAAQ,QAAST,GACtB7J,EAAO6J,EAAE7J,MACJrE,KAAK2kD,mBAAqB3kD,KAAKq6D,uBAChC,MAAOr6D,MAAKqhB,OAAOhd,EAEvB,IAAI8K,GAAQ9K,EAAKzC,MAAM,cACnB8P,EAAS1R,KAAKsX,UAAU4U,UAAUxa,MAEtC,IAAIvC,EAAMzO,OAASgR,EAAOhR,QAAUyO,EAAMzO,OAAS,IAAMyO,EAAM,GAC3D,MAAOnP,MAAKw+B,SAASpiB,KAAK,eAAgBpc,KAAMqE,EAEpD,KAAK,GAAIlD,GAAIuQ,EAAOhR,OAAQS,KAAM,CAC9B,GAAIkN,GAAQqD,EAAOvQ,EACdkN,GAAMmJ,WACPxX,KAAKgI,QAAQ/C,OAAOoJ,GAExBrO,KAAKgI,QAAQqZ,OAAOhT,EAAMhF,MAAO8F,EAAMhO,OAG/CnB,KAAK8sB,QAAU,SAASC,EAAQpT,EAASohD,GACrCphD,EAAUA,MACVA,EAAQoT,OAASA,GAAUpT,EAAQoT,OACnC/sB,KAAKg7D,QAAQzuC,IAAI5S,EAEjB,IAAIjI,GAAS1R,KAAKg7D,QAAQluC,QAAQ9sB,KAAKgI,QACvC,KAAK0J,EAAOhR,OACR,MAAO,EAEXV,MAAKs/C,iBAAmB,CACxB,IAAIhoC,GAAYtX,KAAK+5D,WAEhBgB,IACDzjD,EAAU6U,cAAcza,EAAO,GAEnC,KAAK,GAAIvQ,GAAIuQ,EAAOhR,OAAQS,KACxBmW,EAAU8U,SAAS1a,EAAOvQ,IAAI,EAIlC,OAFAnB,MAAKs/C,iBAAmB,EAEjB5tC,EAAOhR,QAElBV,KAAKi7D,gBAAkB,SAASljD,EAAKmjD,GACjC,GAAI7sD,GAAQrO,KAAKsX,UAAU4J,kBACvBoG,EAAcjZ,EAAMoJ,QAAUpJ,EAAM/C,IAEpC6vD,EAAan7D,KAAKgI,QAAQgd,yBAAyB3W,EAAMoJ,OACzDzX,MAAKsX,UAAUyP,iBACfo0C,EAAW/xD,OAASpJ,KAAKsX,UAAUyP,eAEvC,IAAIN,GAAOzmB,KAAKgI,QAAQoiB,yBAAyB+wC,EAAW3tD,IAAMuK,EAAKojD,EAAW/xD,OAElF,IAAKiF,EAAMmJ,UAIP,GAAIwG,GAASyI,MAHb,IAAIwyC,GAAej5D,KAAKgI,QAAQgd,yBAAyBsC,EAAcjZ,EAAM/C,IAAM+C,EAAMhF,OACrF2U,EAAShe,KAAKgI,QAAQoiB,yBAAyB6uC,EAAazrD,IAAMuK,EAAKkhD,EAAa7vD,OAK5F,IAAIke,EAAa,CACb,GAAI8zC,GAAWrqD,EAAMuF,WAAWmQ,EAAMzI,EACtCo9C,GAAS3jD,OAAS2jD,EAAS/xD,UACxB,CACH,GAAI+xD,GAAWrqD,EAAMuF,WAAW0H,EAAQyI,EACxC20C,GAAS3jD,OAAS2jD,EAAS9vD,IAI/B,GADA8vD,EAASvvC,cAAgBsvC,EAAW/xD,OAC/BpJ,KAAKsX,UAAUqtC,mBAGhB,GAAIuW,EACA,GAAIG,GAAWhtD,EAAMoJ,WAHzBzX,MAAKsX,UAAU8U,SAAS/d,EAM5BrO,MAAKsX,UAAU8U,SAASgvC,GACpBC,GACAr7D,KAAKsX,UAAUoM,eAAe23C,IAEtCr7D,KAAKgmC,oBAAsB,SAASjuB,GAKhC,IAAK,GAJD/P,GAAUhI,KAAKgI,QACfszD,EAAMtzD,EAAQ+xD,YACdjgD,EAAMwhD,EAAI5pD,OAELvQ,EAAI2Y,EAAIpZ,OAAQS,KAAO,CAC5B,GAAIkN,GAAQyL,EAAI3Y,EAChB,IAAIkN,EAAMmJ,UAAW,CACjB,GAAI+jD,GAAMvzD,EAAQshB,aAAajb,EAAMhF,MAAMmE,IAAKa,EAAMhF,MAAMD,OAC5DiF,GAAMhF,MAAMmE,IAAM+tD,EAAIlyD,MAAMmE,IAC5Ba,EAAMhF,MAAMD,OAASmyD,EAAIlyD,MAAMD,OAC/BiF,EAAM/C,IAAIkC,IAAM+tD,EAAIjwD,IAAIkC,IACxBa,EAAM/C,IAAIlC,OAASmyD,EAAIjwD,IAAIlC,QAGnCkyD,EAAI7C,wBAGJ,KAAK,GADD+C,MACKr6D,EAAI2Y,EAAIpZ,OAAQS,KAAO,CAC5B,GAAIkN,GAAQyL,EAAI3Y,EAChBq6D,GAAMxwD,QAAQhD,EAAQ8P,aAAazJ,IAGnC0J,EAAM,EACNyjD,EAAMxwD,QAAQwwD,EAAM9lD,OAEpB8lD,EAAMj6D,KAAKi6D,EAAMtwD,QAErB,KAAK,GAAI/J,GAAI2Y,EAAIpZ,OAAQS,KAAO,CAC5B,GAAIkN,GAAQyL,EAAI3Y,GACZo6D,EAAMltD,EAAM6I,OAChBlP,GAAQ9F,QAAQmM,EAAOmtD,EAAMr6D,IAC7BkN,EAAMhF,MAAMmE,IAAM+tD,EAAIlyD,MAAMmE,IAC5Ba,EAAMhF,MAAMD,OAASmyD,EAAIlyD,MAAMD,SAGvCpJ,KAAKy7D,WAAa,SAAS1jD,EAAKmjD,GAC5B,GAAIlzD,GAAUhI,KAAKgI,QACfszD,EAAMtzD,EAAQ+xD,YAEd1rD,EAAQitD,EAAIp6C,iBACZ7S,GAAMmJ,YACNnJ,EAAQrG,EAAQshB,aAAajb,EAAMhF,MAAMmE,IAAKa,EAAMhF,MAAMD,QAC1DiF,EAAMoJ,OAASM,IAAO,EAAK1J,EAAMhF,MAAQgF,EAAM/C,IAC/CtL,KAAK+5D,YAAY3tC,SAAS/d,GAE9B,IAAI0e,GAAS/kB,EAAQ8P,aAAazJ,GAE9B+sD,EAAWxuC,EAAK5kB,EAAS+kB,EAAQhV,EACjCqjD,KACAA,EAAS3jD,OAASM,IAAO,EAAKqjD,EAAS/xD,MAAQ+xD,EAAS9vD,IACxDtL,KAAKs/C,iBAAmB,EACxBt/C,KAAKgI,QAAQmO,OAAOilD,GACpBp7D,KAAK+5D,YAAY3tC,SAASgvC,GAC1Bp7D,KAAKs/C,iBAAmB,EACxBt/C,KAAKqzB,SAASyP,qBAAqB,KAAM,KAEzCo4B,GACAl7D,KAAK+5D,YAAYr2C,eAAerV,EAAMoJ,SAE9CzX,KAAK07D,aAAe,WAChB,GAAI1zD,GAAUhI,KAAKgI,QACfszD,EAAMtzD,EAAQ+xD,YACdroD,EAAS4pD,EAAI5pD,MAEjB,IAAKA,EAAOhR,OAyBL,CACH,GAAI8M,IAAM,EACNmuD,EAAgBjqD,EAAOvM,OAAO,SAASsG,GACvC,MAAIA,GAAEgM,OAAOjK,KAAOA,QAEpBA,EAAM/B,EAAEgM,OAAOjK,MAEnB8tD,GAAIxD,eAAe6D,EAEnB,IAAIC,GAAS,EACTC,EAAWr8C,EAAAA,EACXs8C,EAAepqD,EAAOnF,IAAI,SAASd,GACnC,GAAI4Y,GAAI5Y,EAAEgM,OACN7G,EAAO5I,EAAQ8G,QAAQuV,EAAE7W,KACzBuuD,EAAcnrD,EAAK8M,OAAO2G,EAAEjb,QAAQyX,OAAO,MAQ/C,OAPIk7C,KAAe,IACfA,EAAc,GAEd13C,EAAEjb,OAASwyD,IACXA,EAASv3C,EAAEjb,QACX2yD,EAAcF,IACdA,EAAWE,GACRA,GAEXrqD,GAAOpF,QAAQ,SAASb,EAAGtK,GACvB,GAAIkjB,GAAI5Y,EAAEgM,OACNrW,EAAIw6D,EAASv3C,EAAEjb,OACf4yD,EAAIF,EAAa36D,GAAK06D,CACtBz6D,GAAI46D,EACJh0D,EAAQqZ,OAAOgD,EAAG9a,EAAKuoB,aAAa,IAAK1wB,EAAI46D,IAE7Ch0D,EAAQ/C,OAAO,GAAI8L,GAAMsT,EAAE7W,IAAK6W,EAAEjb,OAAQib,EAAE7W,IAAK6W,EAAEjb,OAAShI,EAAI46D,IAEpEvwD,EAAEpC,MAAMD,OAASqC,EAAEH,IAAIlC,OAASwyD,EAChCnwD,EAAEpC,MAAMmE,IAAM/B,EAAEH,IAAIkC,IAAM6W,EAAE7W,IAC5B/B,EAAEgM,OAAShM,EAAEH,MAEjBgwD,EAAIh6C,kBAAkB5P,EAAO,IAC7B1R,KAAKqzB,SAASkiB,eACdv1C,KAAKqzB,SAASgiB,wBAhEE,CAChB,GAAIhnC,GAAQrO,KAAKsX,UAAUC,WACvB0kD,EAAK5tD,EAAMhF,MAAMmE,IAAK0uD,EAAK7tD,EAAM/C,IAAIkC,IACrC2uD,EAAaF,GAAMC,CACvB,IAAIC,EAAY,CACZ,GACIvrD,GADArC,EAAMvO,KAAKgI,QAAQc,WAEvB,GACI8H,GAAO5Q,KAAKgI,QAAQ8G,QAAQotD,SACvB,OAAOjkD,KAAKrH,MAAWsrD,EAAK3tD,EACrC,GACIqC,GAAO5Q,KAAKgI,QAAQ8G,QAAQmtD,SACvB,OAAOhkD,KAAKrH,MAAWqrD,EAAK,EAEjCA,GAAK,IAAGA,EAAK,GACbC,GAAM3tD,IAAK2tD,EAAK3tD,EAAM,GAE9B,GAAIY,GAAQnP,KAAKgI,QAAQtE,IAAI41B,YAAY2iC,EAAIC,EAC7C/sD,GAAQnP,KAAKo8D,aAAajtD,EAAOgtD,GACjCn8D,KAAKgI,QAAQtE,IAAI2d,QAAQ7T,IAAKyuD,EAAI7yD,OAAQ,GAAI+F,EAAMnN,KAAK,MAAQ,MAC5Dm6D,IACD9tD,EAAMhF,MAAMD,OAAS,EACrBiF,EAAM/C,IAAIlC,OAAS+F,EAAMA,EAAMzO,OAAS,GAAGA,QAE/CV,KAAKsX,UAAUmQ,SAASpZ,KA4ChCrO,KAAKo8D,aAAe,SAASjtD,EAAOktD,GAgChC,QAAS77C,GAAO0D,GACZ,MAAO3a,GAAKuoB,aAAa,IAAK5N,GAGlC,QAASo4C,GAAUv/C,GACf,MAAQA,GAAE,GAAYyD,EAAO+7C,GAAUx/C,EAAE,GACnCyD,EAAOg8C,EAAQz/C,EAAE,GAAGrc,OAAS+7D,GAC7B1/C,EAAE,GAAG7a,QAAQ,aAAc,OAFlB6a,EAAE,GAIrB,QAAS2/C,GAAW3/C,GAChB,MAAQA,GAAE,GAAYyD,EAAO+7C,EAASC,EAAQz/C,EAAE,GAAGrc,QAAUqc,EAAE,GACzDyD,EAAOi8C,EAAM,KACb1/C,EAAE,GAAG7a,QAAQ,aAAc,OAFlB6a,EAAE,GAIrB,QAAS4/C,GAAQ5/C,GACb,MAAQA,GAAE,GAAYyD,EAAO+7C,GAAUx/C,EAAE,GACnCyD,EAAOi8C,GACP1/C,EAAE,GAAG7a,QAAQ,aAAc,OAFlB6a,EAAE,GA9CrB,GACIw/C,GAAQC,EAAOC,EADfG,GAAgB,EAAMC,GAAiB,CAG3C,OAAO1tD,GAAM5C,IAAI,SAASqE,GACtB,GAAImM,GAAInM,EAAKgB,MAAM,0BACnB,OAAKmL,GAGS,MAAVw/C,GACAA,EAASx/C,EAAE,GAAGrc,OACd87D,EAAQz/C,EAAE,GAAGrc,OACb+7D,EAAO1/C,EAAE,GAAGrc,OACLqc,IAGPw/C,EAASC,EAAQC,GAAQ1/C,EAAE,GAAGrc,OAASqc,EAAE,GAAGrc,OAASqc,EAAE,GAAGrc,SAC1Dm8D,GAAiB,GACjBN,GAAUx/C,EAAE,GAAGrc,SACfk8D,GAAgB,GAEhBL,EAASx/C,EAAE,GAAGrc,SACd67D,EAASx/C,EAAE,GAAGrc,QACd87D,EAAQz/C,EAAE,GAAGrc,SACb87D,EAAQz/C,EAAE,GAAGrc,QACb+7D,EAAO1/C,EAAE,GAAGrc,SACZ+7D,EAAO1/C,EAAE,GAAGrc,QAETqc,IArBKnM,KAsBbrE,IAAI8vD,EAAYC,EACfM,EAAgBC,EAAiBH,EAAaJ,EAAYK,MAsBnE17D,KAAK0B,EAAO5B,WAMfoB,EAAQ81D,gBAAkB,SAAS/pD,GAC/B,GAAIlG,GAAUkG,EAAElG,OACXA,GAAQ+xD,cACT/xD,EAAQojD,qBACRpjD,EAAQsP,UAAUqhD,iBAClB3wD,EAAQ+xD,YAAc/xD,EAAQsP,WAElCtX,KAAK+5D,YAAc/xD,EAAQ+xD,WAE3B,IAAI+C,GAAa5uD,EAAE4uD,UACfA,KACAA,EAAW/C,YAAYlrD,oBAAoB,WAAY7O,KAAK63D,aAC5DiF,EAAW/C,YAAYlrD,oBAAoB,cAAe7O,KAAK83D,gBAC/DgF,EAAW/C,YAAYlrD,oBAAoB,cAAe7O,KAAK+3D,gBAC/D+E,EAAW/C,YAAYlrD,oBAAoB,eAAgB7O,KAAKg4D,kBAGpEhwD,EAAQ+xD,YAAY51D,GAAG,WAAYnE,KAAK63D,aACxC7vD,EAAQ+xD,YAAY51D,GAAG,cAAenE,KAAK83D,gBAC3C9vD,EAAQ+xD,YAAY51D,GAAG,cAAenE,KAAK+3D,gBAC3C/vD,EAAQ+xD,YAAY51D,GAAG,eAAgBnE,KAAKg4D,iBAExCh4D,KAAK2kD,mBAAqB38C,EAAQsP,UAAUqtC,oBACxC38C,EAAQsP,UAAUqtC,kBAClB3kD,KAAK+3D,iBAEL/3D,KAAKg4D,oBA6CjB71D,EAAQa,YAAcA,EAGtB3D,EAAQ,YAAYw+B,cAAcl7B,EAAO5B,UAAW,UAChDg8D,mBACIxwC,IAAK,SAASqD,GACV5sB,EAAYhD,MACR4vB,GACA5vB,KAAKmE,GAAG,gBAAiBnE,KAAK43D,6BAC9B53D,KAAKmE,GAAG,YAAa09C,KAErB7hD,KAAKinC,IAAI,gBAAiBjnC,KAAK43D,6BAC/B53D,KAAKinC,IAAI,YAAa4a,KAG9Bv4C,OAAO,OAQf3J,OAAO,cAAe,UAAW,UAAW,SAAW,yBAA0B,cAAe,cAAe,eAAgB,oBAAqB,yBAA0B,0BAA2B,yBAA0B,0BAA2B,mBAAoB,aAAc,YAAa,wBAAyB,+BAAgC,gCAAiC,cAAe,SAASN,EAAS8C,EAAS7C,GAGjbD,EAAQ,uBAER,IAAIgO,GAAMhO,EAAQ,aACdoD,EAAMpD,EAAQ,aACdkK,EAAOlK,EAAQ,cACfyhC,EAAYzhC,EAAQ,mBACpB8yD,EAAY9yD,EAAQ,wBAAwB8yD,UAC5CrC,EAAezwD,EAAQ,yBAAyBywD,aAChDxtB,EAAcjjC,EAAQ,wBAAwBijC,YAC9C9C,EAAangC,EAAQ,yBAAyBmgC,WAC9C58B,EAAcvD,EAAQ,kBAAkBuD,YACxCypB,EAAShtB,EAAQ,YAAYgtB,OAC7Btb,EAAQ1R,EAAQ,WAAW0R,MAC3BzD,EAAejO,EAAQ,uBAAuBiO,aAC9CgxB,EAAiBj/B,EAAQ,8BAA8Bi/B,eACvD45B,EAAkB74D,EAAQ,+BAA+Bm/B,SACzDv7B,EAAS5D,EAAQ,YACjBsD,EAAS,SAAS0wB,EAAUrrB,GAC5B,GAAI6hC,GAAYxW,EAASwe,qBACzB7xC,MAAK6pC,UAAYA,EACjB7pC,KAAKqzB,SAAWA,EAEhBrzB,KAAKw+B,SAAW,GAAIF,GAAewC,EAAUC,MAAQ,MAAQ,MAAOm3B,GACpEl4D,KAAKsuD,UAAa,GAAI6D,GAAU9+B,EAAS0e,uBAAwB/xC,MACjEA,KAAKqzB,SAAS+e,SAAWpyC,KAAKsuD,UAAUhF,aACxCtpD,KAAK45D,WAAa,GAAIp6B,GAAWx/B,MACjCA,KAAKg9D,cAAgB,GAAIlN,GAAa9vD,MACtC,GAAIsiC,GAAYtiC,MAEhBA,KAAKs/C,gBAAkB,EACvBt/C,KAAKg7D,SAAU,GAAI3uC,IAASE,KACxBiC,MAAM,IAGVxuB,KAAKi9D,gBAAkBj9D,KAAKi9D,gBAAgBh5D,KAAKjE,MACjDA,KAAKw+B,SAASr6B,GAAG,OAAQnE,KAAKi9D,iBAE9Bj9D,KAAKk9D,0BAELl9D,KAAKm9D,iBAAmB5zD,EAAKioB,YAAY,WACrCxxB,KAAK2O,QAAQ,YACb3O,KAAKgI,QAAQqnB,aAAervB,KAAKgI,QAAQqnB,YAAY7e,iBACvDvM,KAAKjE,OAEPA,KAAKmE,GAAG,SAAU,SAAS0kC,EAAGrT,GAC1BA,EAAM2nC,iBAAiBzsC,SAAS,MAGpC1wB,KAAK8D,WAAWkE,GAAW,GAAIpF,GAAY,KAC3CK,EAAOisB,aAAalvB,MACpBiD,EAAO0L,QAAQ,SAAU3O,QAG7B,WAEIqN,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAKk9D,wBAA0B,WAC3B,QAAS5sD,GAAKzD,GAAI,MAAOA,GAAEA,EAAEnM,OAAS,GAEtCV,KAAKmrD,cACLnrD,KAAKw+B,SAASr6B,GAAG,OAAQ,SAAS+J,GAC9BlO,KAAKo9D,eAAelvD,EAEpB,IAAIywB,GAAUzwB,EAAEywB,OAChB,IAA+B,YAA3BA,EAAQiF,gBAA+B,CACvC,GAAIy5B,GAAOr9D,KAAKs9D,MACXD,IAAwC,YAAhCA,EAAK1+B,QAAQiF,kBACtB5jC,KAAKu9D,gBAAkBjtD,EAAKtQ,KAAKmrD,iBAGrCnrD,MAAKu9D,gBAAkB,MAE7Bt5D,KAAKjE,OAAO,GAEdA,KAAKw+B,SAASr6B,GAAG,YAAa,SAAS+J,GACnC,GAAIywB,GAAUzwB,EAAEywB,OAEe,aAA3BA,EAAQiF,iBACJ5jC,KAAKu9D,kBAAoBv9D,KAAKw9D,MAAMC,kBACpCz9D,KAAKsX,UAAU2U,SAASjsB,KAAKu9D,iBAGrCv9D,KAAK09D,aAAaxvD,IACpBjK,KAAKjE,OAAO,GAEdA,KAAK29D,cAAgBp0D,EAAKioB,YAAYxxB,KAAK09D,aAAaz5D,KAAKjE,OAE7DA,KAAKmE,GAAG,SAAU,WACdnE,KAAKw9D,OAASx9D,KAAKo9D,iBACnBp9D,KAAKw9D,MAAMI,YAAa,GAC1B35D,KAAKjE,OAAO,GAEdA,KAAKmE,GAAG,kBAAmB,WACvBnE,KAAKw9D,OAASx9D,KAAKo9D,iBACnBp9D,KAAKw9D,MAAMC,kBAAmB,GAChCx5D,KAAKjE,OAAO,IAGlBA,KAAKw9D,MAAQ,KACbx9D,KAAKs9D,UACLt9D,KAAKo9D,eAAiB,SAASS,GAC3B,GAAI79D,KAAKw9D,MAAO,CACZ,IAAKK,GAAe79D,KAAKw9D,MAAM7+B,QAC3B,MACJ3+B,MAAKs9D,OAASt9D,KAAKw9D,MAElBK,IACD79D,KAAK89D,gBAAkB,KACvBD,MAGJ79D,KAAK29D,cAAcjtC,WACnB1wB,KAAKw9D,OACD7+B,QAASk/B,EAAYl/B,YACrB9yB,KAAMgyD,EAAYhyD,KAClBqqB,UAAWl2B,KAAKqzB,SAAS6C,UAG7B,IAAIyI,GAAU3+B,KAAKw9D,MAAM7+B,OACrBA,IAAWA,EAAQyE,gBACnBpjC,KAAKs/C,kBAETt/C,KAAKmrD,WAAW5pD,KAAKvB,KAAKsX,UAAUwU,WAGxC9rB,KAAK09D,aAAe,WAChB,GAAI19D,KAAKw9D,MAAO,CACZ,GAAI7+B,GAAU3+B,KAAKw9D,MAAM7+B,OACzB,IAAIA,GAAWA,EAAQyE,eAAgB,CAEnC,OADApjC,KAAKs/C,kBACG3gB,EAAQyE,gBACZ,IAAK,SACDpjC,KAAKqzB,SAASyP,qBAAqB,KAAM,GACzC,MACJ,KAAK,UACL,IAAK,SACD9iC,KAAKqzB,SAASyP,sBACd,MACJ,KAAK,gBACD,GAAIz0B,GAAQrO,KAAKsX,UAAUC,WACvBtU,EAASjD,KAAKqzB,SAAS0R,aACvB12B,EAAMhF,MAAMmE,KAAOvK,EAAOmN,SAAW/B,EAAM/C,IAAIkC,KAAOvK,EAAOkN,WAC7DnQ,KAAKqzB,SAASqiB,wBAAwB11C,KAAKsX,UAAU0G,OAAQhe,KAAKsX,UAAUmP,MAM1D,WAA1BkY,EAAQyE,gBACRpjC,KAAKqzB,SAAS4jB,iBAAiBj3C,KAAKw9D,MAAMtnC,WAGlDl2B,KAAKs9D,OAASt9D,KAAKw9D,MACnBx9D,KAAKw9D,MAAQ,OAIrBx9D,KAAKi9D,gBAAkB,SAAS/uD,GAC5B,GAAKlO,KAAK+9D,iBAAV,CAIA,GAAIV,GAAOr9D,KAAKs9D,OACZU,GAAqB,YAAa,MAAO,gBACzCC,EAAcZ,EAAK1+B,SAAYzwB,EAAEywB,QAAQh6B,MAAQ04D,EAAK1+B,QAAQh6B,IAClE,IAAsB,gBAAlBuJ,EAAEywB,QAAQh6B,KAAwB,CAClC,GAAIN,GAAO6J,EAAErC,IACiBhH,UAA1B7E,KAAKk+D,mBACLl+D,KAAKk+D,kBAAmB,GAE5BD,EAAcA,GACPj+D,KAAKk+D,oBACH,KAAKjmD,KAAK5T,IAAS,KAAK4T,KAAKolD,EAAKxxD,OAE3C7L,KAAKk+D,kBAAmB,MAExBD,GAAcA,GACPD,EAAkBt8D,QAAQwM,EAAEywB,QAAQh6B,SAAU,CAI5B,WAAzB3E,KAAK+9D,kBACFvuD,KAAK0vC,MAAQl/C,KAAKm+D,kBAAoB,MAEzCF,GAAc,GAGdA,EACAj+D,KAAKgI,QAAQupB,iBAAkB,EAC1BysC,EAAkBt8D,QAAQwM,EAAEywB,QAAQh6B,SAAU,IACnD3E,KAAKm+D,kBAAoB3uD,KAAK0vC,SAEtCl/C,KAAKggC,mBAAqB,SAAS65B,GAC/B,GAAKA,EAEE,GAA+B,gBAApBA,GAA8B,CAC5C75D,KAAKo+D,cAAgBvE,CACrB,IAAIrkC,GAAQx1B,IACZiD,GAAOkyB,YAAY,aAAc0kC,GAAkB,SAASv6D,GACpDk2B,EAAM4oC,eAAiBvE,GACvBrkC,EAAMokC,WAAW55B,mBAAmB1gC,GAAUA,EAAO++D,eAG7Dr+D,MAAKo+D,cAAgB,KACrBp+D,KAAK45D,WAAW55B,mBAAmB65B,OAVnC75D,MAAK45D,WAAW55B,mBAAmB,OAa3ChgC,KAAKkgC,mBAAqB,WACtB,MAAOlgC,MAAK45D,WAAW15B,sBAE3BlgC,KAAK8D,WAAa,SAASkE,GACvB,GAAIhI,KAAKgI,SAAWA,EAApB,CAGA,GAAI80D,GAAa98D,KAAKgI,OACtB,IAAI80D,EAAY,CACZ98D,KAAKgI,QAAQ6G,oBAAoB,SAAU7O,KAAKs+D,mBAChDt+D,KAAKgI,QAAQ6G,oBAAoB,aAAc7O,KAAKi1B,eACpDj1B,KAAKgI,QAAQ6G,oBAAoB,kBAAmB7O,KAAKu+D,oBACzDv+D,KAAKgI,QAAQ6G,oBAAoB,gBAAiB7O,KAAKw+D,kBACvDx+D,KAAKgI,QAAQ6G,oBAAoB,kBAAmB7O,KAAKy+D,oBACzDz+D,KAAKgI,QAAQ6G,oBAAoB,iBAAkB7O,KAAK0+D,mBACxD1+D,KAAKgI,QAAQ6G,oBAAoB,eAAgB7O,KAAK2+D,eACtD3+D,KAAKgI,QAAQ6G,oBAAoB,oBAAqB7O,KAAK4+D,sBAC3D5+D,KAAKgI,QAAQ6G,oBAAoB,mBAAoB7O,KAAK6+D,qBAC1D7+D,KAAKgI,QAAQ6G,oBAAoB,mBAAoB7O,KAAK8+D,qBAC1D9+D,KAAKgI,QAAQ6G,oBAAoB,mBAAoB7O,KAAK++D,qBAC1D/+D,KAAKgI,QAAQ6G,oBAAoB,kBAAmB7O,KAAKg/D,iBACzDh/D,KAAKgI,QAAQ6G,oBAAoB,kBAAmB7O,KAAKi/D,oBACzDj/D,KAAKgI,QAAQ6G,oBAAoB,mBAAoB7O,KAAKk/D,oBAE1D,IAAI5nD,GAAYtX,KAAKgI,QAAQgpB,cAC7B1Z,GAAUzI,oBAAoB,eAAgB7O,KAAKg/D,iBACnD1nD,EAAUzI,oBAAoB,kBAAmB7O,KAAKm/D,oBAG1Dn/D,KAAKgI,QAAUA,EACXA,IACAhI,KAAKs+D,kBAAoBt+D,KAAKo/D,iBAAiBn7D,KAAKjE,MACpDgI,EAAQutB,iBAAiB,SAAUv1B,KAAKs+D,mBACxCt+D,KAAKqzB,SAASvvB,WAAWkE,GAEzBhI,KAAKi1B,cAAgBj1B,KAAKq/D,aAAap7D,KAAKjE,MAC5CgI,EAAQutB,iBAAiB,aAAcv1B,KAAKi1B,eAE5Cj1B,KAAKu+D,mBAAqBv+D,KAAKs/D,kBAAkBr7D,KAAKjE,MACtDgI,EAAQutB,iBAAiB,kBAAmBv1B,KAAKu+D,oBAEjDv+D,KAAKw+D,iBAAmBx+D,KAAKqzB,SAAS6a,gBAAgBjqC,KAAKjE,KAAKqzB,UAChErrB,EAAQutB,iBAAiB,gBAAiBv1B,KAAKw+D,kBAE/Cx+D,KAAKy+D,mBAAqBz+D,KAAKu/D,kBAAkBt7D,KAAKjE,MACtDgI,EAAQutB,iBAAiB,kBAAmBv1B,KAAKy+D,oBAEjDz+D,KAAK0+D,kBAAoB1+D,KAAKw/D,iBAAiBv7D,KAAKjE,MACpDgI,EAAQutB,iBAAiB,iBAAkBv1B,KAAK0+D,mBAEhD1+D,KAAK2+D,cAAgB3+D,KAAKivB,aAAahrB,KAAKjE,MAC5CgI,EAAQutB,iBAAiB,aAAcv1B,KAAK2+D,eAE5C3+D,KAAK4+D,qBAAuB5+D,KAAKy/D,oBAAoBx7D,KAAKjE,MAC1DA,KAAKgI,QAAQutB,iBAAiB,oBAAqBv1B,KAAK4+D,sBAExD5+D,KAAK6+D,oBAAsB7+D,KAAK0/D,mBAAmBz7D,KAAKjE,MACxDA,KAAKgI,QAAQutB,iBAAiB,mBAAoBv1B,KAAK6+D,qBAEvD7+D,KAAK8+D,oBAAsB9+D,KAAK2/D,mBAAmB17D,KAAKjE,MACxDA,KAAKgI,QAAQutB,iBAAiB,mBAAoBv1B,KAAK8+D,qBAEvD9+D,KAAK++D,oBAAsB/+D,KAAK4/D,mBAAmB37D,KAAKjE,MACxDA,KAAKgI,QAAQutB,iBAAiB,mBAAoBv1B,KAAK++D,qBAEvD/+D,KAAKg/D,gBAAkBh/D,KAAK06D,eAAez2D,KAAKjE,MAChDA,KAAKgI,QAAQutB,iBAAiB,kBAAmBv1B,KAAKg/D,iBAEtDh/D,KAAKi/D,mBAAqBj/D,KAAK6/D,kBAAkB57D,KAAKjE,MACtDA,KAAKgI,QAAQutB,iBAAiB,kBAAmBv1B,KAAKi/D,oBAEtDj/D,KAAKk/D,oBAAsBl/D,KAAK8/D,mBAAmB77D,KAAKjE,MACxDA,KAAKgI,QAAQutB,iBAAiB,mBAAoBv1B,KAAKk/D,qBAEvDl/D,KAAKsX,UAAYtP,EAAQgpB,eACzBhxB,KAAKsX,UAAUie,iBAAiB,eAAgBv1B,KAAKg/D,iBAErDh/D,KAAKm/D,mBAAqBn/D,KAAK26D,kBAAkB12D,KAAKjE,MACtDA,KAAKsX,UAAUie,iBAAiB,kBAAmBv1B,KAAKm/D,oBAExDn/D,KAAKq/D,eAELr/D,KAAKs/C,iBAAmB,EACxBt/C,KAAK06D,iBACL16D,KAAKs/C,iBAAmB,EAExBt/C,KAAK6/D,oBACL7/D,KAAK8/D,qBACL9/D,KAAK26D,oBACL36D,KAAKy/D,sBACLz/D,KAAK0/D,qBACL1/D,KAAK2/D,qBACL3/D,KAAK4/D,qBACL5/D,KAAKgI,QAAQ+xB,kBAAoB/5B,KAAKqzB,SAAS4G,kBAC/Cj6B,KAAKqzB,SAAS+a,cAGlBpuC,KAAK2O,QAAQ,iBACT3G,QAASA,EACT80D,WAAYA,IAGhBA,GAAcA,EAAWnuD,QAAQ,gBAAiBoxD,UAAW//D,OAC7DgI,GAAWA,EAAQ2G,QAAQ,gBAAiBlL,OAAQzD,SAExDA,KAAKggE,WAAa,WACd,MAAOhgE,MAAKgI,SAEhBhI,KAAK2wB,SAAW,SAASf,EAAK0b,GAU1B,MATAtrC,MAAKgI,QAAQtE,IAAIitB,SAASf,GAErB0b,EAEiB,GAAbA,EACLtrC,KAAKgkC,kBACAsH,IAAa,GAClBtrC,KAAK6jC,oBAJL7jC,KAAKwnB,YAMFoI,GAEX5vB,KAAK+wB,SAAW,WACZ,MAAO/wB,MAAKgI,QAAQ+oB,YAExB/wB,KAAKgxB,aAAe,WAChB,MAAOhxB,MAAKsX,WAEhBtX,KAAKgE,OAAS,SAASizB,GACnBj3B,KAAKqzB,SAAStvB,SAASkzB,IAE3Bj3B,KAAKiqC,SAAW,SAASH,EAAO9U,GAC5Bh1B,KAAKqzB,SAAS4W,SAASH,EAAO9U,IAElCh1B,KAAKm5C,SAAW,WACZ,MAAOn5C,MAAKqzB,SAAS8lB,YAEzBn5C,KAAK0tC,SAAW,SAAS50B,GACrB9Y,KAAKqzB,SAASqa,SAAS50B,IAE3B9Y,KAAKo5C,WAAa,SAAStgC,GACvB9Y,KAAKqzB,SAAS+lB,WAAWtgC,IAE7B9Y,KAAKigE,YAAc,WACf,MAAOjgE,MAAKmwC,UAAU,aACnB1tC,EAAIk8C,cAAc3+C,KAAK6pC,UAAW,aAEzC7pC,KAAKkgE,YAAc,SAAShnC,GACxBl5B,KAAKgyB,UAAU,WAAYkH,IAG/Bl5B,KAAKmgE,mBAAqB,WAMtB,GALIngE,KAAKgI,QAAQo4D,oBACbpgE,KAAKgI,QAAQurB,aAAavzB,KAAKgI,QAAQo4D,mBACvCpgE,KAAKgI,QAAQo4D,kBAAoB,OAGjCpgE,KAAKqgE,kBAAT,CAGA,GAAIhxD,GAAOrP,IACXA,MAAKqgE,mBAAoB,EACzBvwD,WAAW,WACPT,EAAKgxD,mBAAoB,CAEzB,IAAI5xD,GAAMY,EAAKrH,QAAQ0P,oBAAoBrI,EAAKixD,oBAChD,IAAI7xD,EACA,GAAIJ,GAAQ,GAAI0C,GAAMtC,EAAIjB,IAAKiB,EAAIrF,OAAQqF,EAAIjB,IAAKiB,EAAIrF,OAAO,OAC5D,IAAIiG,EAAKrH,QAAQkqB,MAAMquC,YAC1B,GAAIlyD,GAAQgB,EAAKrH,QAAQkqB,MAAMquC,YAAYlxD,EAAKrH,QAEhDqG,KACAgB,EAAKrH,QAAQo4D,kBAAoB/wD,EAAKrH,QAAQkrB,UAAU7kB,EAAO,cAAe,UACnF,MAEPrO,KAAK6iC,MAAQ,WACT,GAAIrN,GAAQx1B,IACZ8P,YAAW,WACP0lB,EAAM84B,UAAUzrB,UAEpB7iC,KAAKsuD,UAAUzrB,SAEnB7iC,KAAK4iC,UAAY,WACb,MAAO5iC,MAAKsuD,UAAU1rB,aAE1B5iC,KAAK2zD,KAAO,WACR3zD,KAAKsuD,UAAUqF,QAEnB3zD,KAAK0zD,QAAU,WACP1zD,KAAKwgE,aAETxgE,KAAKwgE,YAAa,EAClBxgE,KAAKqzB,SAASoiB,aACdz1C,KAAKqzB,SAASglB,iBACdr4C,KAAKuV,MAAM,WAEfvV,KAAKyzD,OAAS,WACLzzD,KAAKwgE,aAEVxgE,KAAKwgE,YAAa,EAClBxgE,KAAKqzB,SAASmiB,aACdx1C,KAAKqzB,SAASilB,gBACdt4C,KAAKuV,MAAM,UAGfvV,KAAKygE,cAAgB,WACjBzgE,KAAKqzB,SAASkiB,gBAElBv1C,KAAKo/D,iBAAmB,SAASlxD,GAC7B,GAEIkC,GAFAjC,EAAQD,EAAEE,KACVC,EAAQF,EAAME,KAId+B,GADA/B,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,KAAuB,eAAhBW,EAAMvJ,QAA2C,eAAhBuJ,EAAMvJ,OACjEyJ,EAAM/C,IAAIkC,IAEVgS,EAAAA,EACdxf,KAAKqzB,SAAS0a,YAAY1/B,EAAMhF,MAAMmE,IAAK4C,GAE3CpQ,KAAK2O,QAAQ,SAAUT,GACvBlO,KAAKygE,iBAGTzgE,KAAKs/D,kBAAoB,SAASpxD,GAC9B,GAAIod,GAAOpd,EAAEE,IACbpO,MAAKqzB,SAAS0a,YAAYziB,EAAKjb,MAAOib,EAAKhb,OAI/CtQ,KAAK6/D,kBAAoB,WACrB7/D,KAAKqzB,SAASmkB,UAAUx3C,KAAKgI,QAAQouB,iBAGzCp2B,KAAK8/D,mBAAqB,WACtB9/D,KAAKqzB,SAASokB,UAAUz3C,KAAKgI,QAAQwuB,kBAEzCx2B,KAAK06D,eAAiB,WAClB16D,KAAKygE,gBAEAzgE,KAAKs/C,iBACNt/C,KAAKqzB,SAASyP,uBAGlB9iC,KAAKmgE,qBACLngE,KAAK0gE,6BACL1gE,KAAK2O,QAAQ,oBAGjB3O,KAAK0gE,2BAA6B,WAC9B,GAEI/sC,GAFA3rB,EAAUhI,KAAKggE,YAUnB,IAPIhgE,KAAK2gE,uBACwB,QAAxB3gE,KAAK4gE,iBAA8B5gE,KAAKsX,UAAUO,gBACnD8b,EAAY3zB,KAAKsgE,sBACjBtgE,KAAKqzB,SAAS0gB,WAA0C,IAA7B/zC,KAAKgI,QAAQc,aAAuB9I,KAAKqzB,SAAS4gB,UAAY,IACzFtgB,GAAY,IAGhB3rB,EAAQ64D,uBAAyBltC,EACjC3rB,EAAQurB,aAAavrB,EAAQ64D,qBAAqBx+D,IAClD2F,EAAQ64D,qBAAuB,SAC5B,KAAK74D,EAAQ64D,sBAAwBltC,EAAW,CACnD,GAAItlB,GAAQ,GAAI0C,GAAM4iB,EAAUnmB,IAAKmmB,EAAUvqB,OAAQuqB,EAAUnmB,IAAKgS,EAAAA,EACtEnR,GAAMhM,GAAK2F,EAAQkrB,UAAU7kB,EAAO,kBAAmB,cACvDrG,EAAQ64D,qBAAuBxyD,MACxBslB,KACP3rB,EAAQ64D,qBAAqBx3D,MAAMmE,IAAMmmB,EAAUnmB,IACnDxF,EAAQ64D,qBAAqBv1D,IAAIkC,IAAMmmB,EAAUnmB,IACjDxF,EAAQ64D,qBAAqBx3D,MAAMD,OAASuqB,EAAUvqB,OACtDpB,EAAQ2G,QAAQ,sBAIxB3O,KAAK26D,kBAAoB,SAASzsD,GAC9B,GAAIlG,GAAUhI,KAAKgI,OAOnB,IALIA,EAAQ84D,kBACR94D,EAAQurB,aAAavrB,EAAQ84D,kBAEjC94D,EAAQ84D,iBAAmB,KAEtB9gE,KAAKsX,UAAUE,UAKhBxX,KAAK0gE,iCALsB,CAC3B,GAAIryD,GAAQrO,KAAKsX,UAAUC,WACvBuB,EAAQ9Y,KAAKygD,mBACjBz4C,GAAQ84D,iBAAmB94D,EAAQkrB,UAAU7kB,EAAO,gBAAiByK,GAKzE,GAAIZ,GAAKlY,KAAK+gE,wBAA0B/gE,KAAKghE,8BAC7ChhE,MAAKgI,QAAQ2rB,UAAUzb,GAEvBlY,KAAK2O,QAAQ,oBAGjB3O,KAAKghE,6BAA+B,WAChC,GAAIh5D,GAAUhI,KAAKgI,QAEfsP,EAAYtX,KAAKklC,mBACrB,KAAI5tB,EAAUE,YAAaF,EAAUO,cAArC,CAGA,GAAIopD,GAAa3pD,EAAUjO,MAAMD,OAAS,EACtC83D,EAAW5pD,EAAUhM,IAAIlC,OAAS,EAClCwH,EAAO5I,EAAQ8G,QAAQwI,EAAUjO,MAAMmE,KACvC2zD,EAAWvwD,EAAKlQ,OAChBqsB,EAASnc,EAAK4C,UAAUlF,KAAKC,IAAI0yD,EAAY,GACrB3yD,KAAKS,IAAImyD,EAAUC,GAC/C,MAAKF,GAAc,GAAK,UAAUhpD,KAAK8U,IAClCm0C,GAAYC,GAAY,UAAUlpD,KAAK8U,MAG5CA,EAASnc,EAAK4C,UAAU8D,EAAUjO,MAAMD,OAAQkO,EAAUhM,IAAIlC,QACzD,YAAY6O,KAAK8U,IAAtB,CAGA,GAAI7U,GAAKlY,KAAKg7D,QAAQhuC,iBAClBkB,WAAW,EACXE,eAAe,EACfrB,OAAQA,GAGZ,OAAO7U,MAIXlY,KAAKy/D,oBAAsB,WACvBz/D,KAAKqzB,SAAS8hB,sBAGlBn1C,KAAK0/D,mBAAqB,WACtB1/D,KAAKqzB,SAASgiB,qBAIlBr1C,KAAK2/D,mBAAqB,WACtB3/D,KAAKqzB,SAASiiB,qBAGlBt1C,KAAK4/D,mBAAqB,WACtB5/D,KAAKqzB,SAASS,eAAe9zB,KAAKgI,QAAQisB,mBAI9Cj0B,KAAKq/D,aAAe,SAASnxD,GACzBlO,KAAKqzB,SAAS8a,aACdnuC,KAAKuV,MAAM,aAAcrH,IAI7BlO,KAAKu/D,kBAAoB,WACrBv/D,KAAKqzB,SAAS+a,cAGlBpuC,KAAKw/D,iBAAmB,WACpBx/D,KAAKqzB,SAAStvB,UAAS,IAI3B/D,KAAKivB,aAAe,WAChBjvB,KAAK0gE,6BACL1gE,KAAKqzB,SAAS+a,cAElBpuC,KAAK46D,gBAAkB,WACnB,MAAO56D,MAAKgI,QAAQ8P,aAAa9X,KAAKklC,sBAE1CllC,KAAKu1D,YAAc,WACf,GAAIlxD,GAAOrE,KAAK46D,iBAEhB,OADA56D,MAAK2O,QAAQ,OAAQtK,GACdA,GAEXrE,KAAK01D,OAAS,WACV11D,KAAKw+B,SAASpiB,KAAK,OAAQpc,OAE/BA,KAAKs1D,MAAQ,WACTt1D,KAAKw+B,SAASpiB,KAAK,MAAOpc,OAE9BA,KAAKk1D,QAAU,SAAS7wD,GACpB,IAAIrE,KAAK4+B,UAAT,CAEA,GAAI1wB,IAAK7J,KAAMA,EACfrE,MAAK2O,QAAQ,QAAST,GACtBlO,KAAKqhB,OAAOnT,EAAE7J,MAAM,KAIxBrE,KAAKm1D,YAAc,SAASx2B,EAAS9yB,GACjC7L,KAAKw+B,SAASpiB,KAAKuiB,EAAS3+B,KAAM6L,IAEtC7L,KAAKqhB,OAAS,SAAShd,EAAMivD,GACzB,GAAItrD,GAAUhI,KAAKgI,QACf1D,EAAO0D,EAAQ+tB,UACfte,EAASzX,KAAKsgE,mBAElB,IAAItgE,KAAKohE,yBAA2B9N,EAAQ,CACxC,GAAI+N,GAAY/8D,EAAKge,gBAAgBta,EAAQ2I,SAAS8G,EAAOjK,KAAM,YAAaxN,KAAMgI,EAAS3D,EAC3Fg9D,KACIh9D,IAASg9D,EAAUh9D,OACnBrE,KAAKgI,QAAQupB,iBAAkB,EAC/BvxB,KAAKshE,mBAAoB,GAE7Bj9D,EAAOg9D,EAAUh9D,MAOzB,GAFY,MAARA,IACAA,EAAOrE,KAAKgI,QAAQ6pB,gBACnB7xB,KAAKsX,UAAUE,WAKf,GAAIxX,KAAKgI,QAAQyqB,eAAgB,CAClC,GAAIpkB,GAAQ,GAAI0C,GAAMuF,WAAWmB,EAAQA,EACzCpJ,GAAM/C,IAAIlC,QAAU/E,EAAK3D,OACzBV,KAAKgI,QAAQ/C,OAAOoJ,QARO,CAC3B,GAAIA,GAAQrO,KAAKklC,mBACjBztB,GAASzX,KAAKgI,QAAQ/C,OAAOoJ,GAC7BrO,KAAKwmB,iBAQT,GAAY,MAARniB,GAAwB,QAARA,EAAgB,CAChC,GAAIuM,GAAO5I,EAAQ8G,QAAQ2I,EAAOjK,IAClC,IAAIiK,EAAOrO,OAASwH,EAAKiQ,OAAO,QAAS,CACrC,GAAIm7C,GAAIprD,EAAK8M,OAAOjG,EAAOrO,QAAQyX,OAAO,OAC1C7Y,GAAQtE,IAAIuc,aAAaxI,EAAOjK,IAAKiK,EAAOrO,OAAQqO,EAAOrO,OAAS4yD,IAG5Eh8D,KAAKwmB;AAEL,GAAInd,GAAQoO,EAAOrO,OACfm4D,EAAYv5D,EAAQ2I,SAAS8G,EAAOjK,KACpCoD,EAAO5I,EAAQ8G,QAAQ2I,EAAOjK,KAC9Bg0D,EAAgBl9D,EAAKod,aAAa6/C,EAAW3wD,EAAMvM,EAC7C2D,GAAQqZ,OAAO5J,EAAQpT,EAgBjC,IAdIg9D,GAAaA,EAAU/pD,YACW,GAA9B+pD,EAAU/pD,UAAU5W,OACpBV,KAAKsX,UAAUoQ,kBACX,GAAI3W,GAAM0G,EAAOjK,IAAKnE,EAAQg4D,EAAU/pD,UAAU,GACxCG,EAAOjK,IAAKnE,EAAQg4D,EAAU/pD,UAAU,KAEtDtX,KAAKsX,UAAUoQ,kBACX,GAAI3W,GAAM0G,EAAOjK,IAAM6zD,EAAU/pD,UAAU,GACjC+pD,EAAU/pD,UAAU,GACpBG,EAAOjK,IAAM6zD,EAAU/pD,UAAU,GACjC+pD,EAAU/pD,UAAU,MAItCtP,EAAQgG,cAAcyzD,UAAUp9D,GAAO,CACvC,GAAIq9D,GAAap9D,EAAKid,kBAAkBggD,EAAW3wD,EAAK7O,MAAM,EAAG0V,EAAOrO,QAASpB,EAAQ6pB,eAEzF7pB,GAAQqZ,QAAQ7T,IAAKiK,EAAOjK,IAAI,EAAGpE,OAAQ,GAAIs4D,GAE/CF,GACAl9D,EAAKsd,YAAY2/C,EAAWv5D,EAASyP,EAAOjK,MAGpDxN,KAAK6gC,YAAc,SAASx8B,GACxBrE,KAAK45D,WAAW/4B,YAAYx8B,IAGhCrE,KAAK2gC,aAAe,SAASzyB,EAAGkyB,EAAQE,GACpCtgC,KAAK45D,WAAWj5B,aAAazyB,EAAGkyB,EAAQE,IAE5CtgC,KAAKuyB,aAAe,SAASC,GACzBxyB,KAAKgI,QAAQuqB,aAAaC,IAE9BxyB,KAAKyyB,aAAe,WAChB,MAAOzyB,MAAKgI,QAAQyqB,gBAExBzyB,KAAK0yB,gBAAkB,WACnB1yB,KAAKgI,QAAQ0qB,mBAEjB1yB,KAAK2hE,eAAiB,SAASlS,GAC3BzvD,KAAKgyB,UAAU,cAAey9B,IAElCzvD,KAAK4hE,eAAiB,WAClB,MAAO5hE,MAAKmwC,UAAU,gBAE1BnwC,KAAK6hE,aAAe,SAAS/Q,GACzB9wD,KAAKgyB,UAAU,YAAa8+B,IAEhC9wD,KAAK6jD,aAAe,WAChB,MAAO7jD,MAAKmwC,UAAU,cAE1BnwC,KAAK8hE,kBAAoB,SAASlyC,GAC9B5vB,KAAKgyB,UAAU,iBAAkBpC,IAErC5vB,KAAKygD,kBAAoB,WACrB,MAAOzgD,MAAKmwC,UAAU,mBAE1BnwC,KAAK+hE,uBAAyB,SAAS7wB,GACnClxC,KAAKgyB,UAAU,sBAAuBkf,IAE1ClxC,KAAKgiE,uBAAyB,WAC1B,MAAOhiE,MAAKmwC,UAAU,wBAE1BnwC,KAAKixC,uBAAyB,SAASC,GACnClxC,KAAKgyB,UAAU,sBAAuBkf,IAG1ClxC,KAAKmxC,uBAAyB,WAC1B,MAAOnxC,MAAKmwC,UAAU,wBAE1BnwC,KAAKiiE,yBAA2B,SAAS/wB,GACrClxC,KAAKgyB,UAAU,wBAAyBkf,IAE5ClxC,KAAKkiE,yBAA2B,WAC5B,MAAOliE,MAAK+gE,wBAGhB/gE,KAAK4vC,kBAAoB,SAASC,GAC9B7vC,KAAKqzB,SAASuc,kBAAkBC,IAGpC7vC,KAAK8vC,kBAAoB,WACrB,MAAO9vC,MAAKqzB,SAASyc,qBAEzB9vC,KAAKgwC,kBAAoB,SAASC,GAC9BjwC,KAAKqzB,SAAS2c,kBAAkBC,IAEpCjwC,KAAKkwC,kBAAoB,WACrB,MAAOlwC,MAAKqzB,SAAS6c,qBAGzBlwC,KAAKqwC,uBAAyB,SAASC,GACnCtwC,KAAKqzB,SAASgd,uBAAuBC,IAGzCtwC,KAAKowC,uBAAyB,WAC1B,MAAOpwC,MAAKqzB,SAAS+c,0BAEzBpwC,KAAKuwC,mBAAqB,SAASC,GAC/BxwC,KAAKqzB,SAASkd,mBAAmBC,IAErCxwC,KAAKywC,mBAAqB,WACtB,MAAOzwC,MAAKqzB,SAASod,sBAEzBzwC,KAAK0wC,qBAAuB,SAASF,GACjCxwC,KAAKqzB,SAASqd,qBAAqBF,IAEvCxwC,KAAK2wC,qBAAuB,WACxB,MAAO3wC,MAAKqzB,SAASsd,wBAEzB3wC,KAAKg2D,YAAc,SAASn3B,GACxB7+B,KAAKgyB,UAAU,WAAY6M,IAE/B7+B,KAAKghD,YAAc,WACf,MAAOhhD,MAAKmwC,UAAU,aAE1BnwC,KAAKmiE,qBAAuB,SAAUC,GAClCpiE,KAAKgyB,UAAU,oBAAqBowC,IAExCpiE,KAAKohE,qBAAuB,WACxB,MAAOphE,MAAKmwC,UAAU,sBAE1BnwC,KAAKqiE,yBAA2B,SAAUD,GACtCpiE,KAAKgyB,UAAU,wBAAyBowC,IAE5CpiE,KAAKsiE,yBAA2B,WAC5B,MAAOtiE,MAAKmwC,UAAU,0BAE1BnwC,KAAK+5C,mBAAqB,SAASjJ,GAC/B9wC,KAAKgyB,UAAU,kBAAmB8e,IAGtC9wC,KAAK0+C,mBAAqB,WACtB,MAAO1+C,MAAKmwC,UAAU,oBAG1BnwC,KAAKgxC,mBAAqB,SAASuxB,GAC/BviE,KAAKgyB,UAAU,kBAAmBuwC,IAGtCviE,KAAK+wC,mBAAqB,WACtB,MAAO/wC,MAAKmwC,UAAU,oBAE1BnwC,KAAKiF,OAAS,SAAS8S,GACf/X,KAAKsX,UAAUE,YACJ,QAAPO,EACA/X,KAAKsX,UAAUkR,aAEfxoB,KAAKsX,UAAUgR,cAGvB,IAAIja,GAAQrO,KAAKklC,mBACjB,IAAIllC,KAAKohE,uBAAwB,CAC7B,GAAIp5D,GAAUhI,KAAKgI,QACf+B,EAAQ/B,EAAQ2I,SAAStC,EAAMhF,MAAMmE,KACrCg1D,EAAYx6D,EAAQ+tB,UAAUzT,gBAAgBvY,EAAO,WAAY/J,KAAMgI,EAASqG,EAEpF,IAAyB,IAArBA,EAAM/C,IAAIlC,OAAc,CACxB,GAAI/E,GAAO2D,EAAQ8P,aAAazJ,EAChC,IAA6B,MAAzBhK,EAAKA,EAAK3D,OAAS,GAAY,CAC/B,GAAIkQ,GAAO5I,EAAQ8G,QAAQT,EAAM/C,IAAIkC,IACjC,SAAQyK,KAAKrH,KACbvC,EAAM/C,IAAIlC,OAASwH,EAAKlQ,SAIhC8hE,IACAn0D,EAAQm0D,GAGhBxiE,KAAKgI,QAAQ/C,OAAOoJ,GACpBrO,KAAKwmB,kBAETxmB,KAAK2lC,gBAAkB,WACf3lC,KAAKsX,UAAUE,WACfxX,KAAKsX,UAAU4R,kBAEnBlpB,KAAKgI,QAAQ/C,OAAOjF,KAAKklC,qBACzBllC,KAAKwmB,kBAETxmB,KAAK0lC,eAAiB,WACd1lC,KAAKsX,UAAUE,WACfxX,KAAKsX,UAAU8R,iBAEnBppB,KAAKgI,QAAQ/C,OAAOjF,KAAKklC,qBACzBllC,KAAKwmB,kBAETxmB,KAAKwlC,kBAAoB,WACjBxlC,KAAKsX,UAAUE,WACfxX,KAAKsX,UAAUoR,kBAEnB1oB,KAAKgI,QAAQ/C,OAAOjF,KAAKklC,qBACzBllC,KAAKwmB,kBAETxmB,KAAKylC,gBAAkB,WACfzlC,KAAKsX,UAAUE,WACfxX,KAAKsX,UAAUsR,eAEnB,IAAIva,GAAQrO,KAAKklC,mBACb72B,GAAMhF,MAAMD,QAAUiF,EAAM/C,IAAIlC,QAAUiF,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,MACvEa,EAAM/C,IAAIlC,OAAS,EACnBiF,EAAM/C,IAAIkC,OAGdxN,KAAKgI,QAAQ/C,OAAOoJ,GACpBrO,KAAKwmB,kBAETxmB,KAAK8lC,UAAY,WACR9lC,KAAKsX,UAAUE,YAChBxX,KAAKgI,QAAQ/C,OAAOjF,KAAKklC,qBACzBllC,KAAKwmB,iBAGT,IAAI/O,GAASzX,KAAKsgE,mBAClBtgE,MAAKqhB,OAAO,MACZrhB,KAAK+nB,qBAAqBtQ,IAE9BzX,KAAK+lC,iBAAmB,WACpB,GAAK/lC,KAAKsX,UAAUE,UAApB,CAIA,GAAIC,GAASzX,KAAKsgE,oBACdl3D,EAASqO,EAAOrO,MACpB,IAAe,IAAXA,EAAJ,CAGA,GACIq5D,GAAMp0D,EADNuC,EAAO5Q,KAAKgI,QAAQ8G,QAAQ2I,EAAOjK,IAEnCpE,GAASwH,EAAKlQ,QACd+hE,EAAO7xD,EAAK/O,OAAOuH,GAAUwH,EAAK/O,OAAOuH,EAAO,GAChDiF,EAAQ,GAAI0C,GAAM0G,EAAOjK,IAAKpE,EAAO,EAAGqO,EAAOjK,IAAKpE,EAAO,KAG3Dq5D,EAAO7xD,EAAK/O,OAAOuH,EAAO,GAAKwH,EAAK/O,OAAOuH,EAAO,GAClDiF,EAAQ,GAAI0C,GAAM0G,EAAOjK,IAAKpE,EAAO,EAAGqO,EAAOjK,IAAKpE,IAExDpJ,KAAKgI,QAAQ9F,QAAQmM,EAAOo0D,MAEhCziE,KAAK8M,YAAc,WACf,GAAI41D,GAAgB1iE,KAAKklC,mBACrBllC,MAAKsX,UAAUE,WACfxX,KAAKsX,UAAUiS,YAGnB,IAAIlb,GAAQrO,KAAKklC,oBACb7gC,EAAOrE,KAAKgI,QAAQ8P,aAAazJ,EACrCrO,MAAKgI,QAAQ9F,QAAQmM,EAAOhK,EAAKyI,eACjC9M,KAAKsX,UAAUoQ,kBAAkBg7C,IAErC1iE,KAAK0tB,YAAc,WACf,GAAIg1C,GAAgB1iE,KAAKklC,mBACrBllC,MAAKsX,UAAUE,WACfxX,KAAKsX,UAAUiS,YAGnB,IAAIlb,GAAQrO,KAAKklC,oBACb7gC,EAAOrE,KAAKgI,QAAQ8P,aAAazJ,EACrCrO,MAAKgI,QAAQ9F,QAAQmM,EAAOhK,EAAKqpB,eACjC1tB,KAAKsX,UAAUoQ,kBAAkBg7C,IAErC1iE,KAAK4gB,OAAS,WACV,GAAI5Y,GAAUhI,KAAKgI,QACfqG,EAAQrO,KAAKklC,mBAEjB,IAAI72B,EAAMhF,MAAMmE,IAAMa,EAAM/C,IAAIkC,IAAK,CACjC,GAAI8d,GAAOtrB,KAAK2iE,kBAEhB,YADA36D,GAAQ6wB,WAAWvN,EAAKjb,MAAOib,EAAKhb,KAAM,MAEvC,GAAIjC,EAAMhF,MAAMD,OAASiF,EAAM/C,IAAIlC,OAAQ,CAC9C,GAAI/E,GAAO2D,EAAQ8P,aAAazJ,EAChC,KAAK,QAAQ4J,KAAK5T,GAAO,CACrB,GAAIinB,GAAOtrB,KAAK2iE,kBAEhB,YADA36D,GAAQ6wB,WAAWvN,EAAKjb,MAAOib,EAAKhb,KAAM,OAKlD,GAAIM,GAAO5I,EAAQ8G,QAAQT,EAAMhF,MAAMmE,KACnC4X,EAAW/W,EAAMhF,MACjB6vB,EAAOlxB,EAAQ0X,aACftW,EAASpB,EAAQ20B,uBAAuBvX,EAAS5X,IAAK4X,EAAShc,OAEnE,IAAIpJ,KAAKgI,QAAQ8X,iBACb,GAAIy2C,GAASr9B,EAAO9vB,EAAS8vB,EACzBJ,EAAevvB,EAAKuoB,aAAa,IAAKykC,OACvC,CAEH,IADA,GAAIA,GAAQntD,EAAS8vB,EACc,KAA5BtoB,EAAKvC,EAAMhF,MAAMD,SAAkBmtD,GACtCloD,EAAMhF,MAAMD,SACZmtD,GAEJv2D,MAAKsX,UAAUoQ,kBAAkBrZ,GACjCyqB,EAAe,KAEnB,MAAO94B,MAAKqhB,OAAOyX,IAEvB94B,KAAK6lC,YAAc,WACf,GAAIva,GAAOtrB,KAAK2iE,kBAChB3iE,MAAKgI,QAAQ6wB,WAAWvN,EAAKjb,MAAOib,EAAKhb,KAAM,OAEnDtQ,KAAK4lC,aAAe,WAChB,GAAItuB,GAAYtX,KAAKgI,QAAQgpB,cAC7BhxB,MAAKgI,QAAQ+wB,YAAYzhB,EAAUC,aAEvCvX,KAAKolC,UAAY,WACb,GAAI9Z,GAAOtrB,KAAK2iE,mBACZ36D,EAAUhI,KAAKgI,QAEfmH,IACJ,KAAKhO,EAAImqB,EAAKjb,MAAOlP,GAAKmqB,EAAKhb,KAAMnP,IACjCgO,EAAM5N,KAAKyG,EAAQ8G,QAAQ3N,GAE/BgO,GAAM4E,KAAK,SAASlH,EAAGmH,GACnB,MAAInH,GAAEC,cAAgBkH,EAAElH,eAAsB,EAC1CD,EAAEC,cAAgBkH,EAAElH,cAAsB,EACvC,GAIX,KAAK,GADDmsB,GAAc,GAAIloB,GAAM,EAAG,EAAG,EAAG,GAC5B5P,EAAImqB,EAAKjb,MAAOlP,GAAKmqB,EAAKhb,KAAMnP,IAAK,CAC1C,GAAIyP,GAAO5I,EAAQ8G,QAAQ3N,EAC3B83B,GAAY5vB,MAAMmE,IAAMrM,EACxB83B,EAAY3tB,IAAIkC,IAAMrM,EACtB83B,EAAY3tB,IAAIlC,OAASwH,EAAKlQ,OAC9BsH,EAAQ9F,QAAQ+2B,EAAa9pB,EAAMhO,EAAEmqB,EAAKjb,UAGlDrQ,KAAKkf,mBAAqB,WACtB,GAAInV,GAAQ/J,KAAKgI,QAAQ2I,SAAS3Q,KAAKsgE,oBAAoB9yD,KACvD8d,EAAOtrB,KAAK2iE,kBAChB3iE,MAAKgI,QAAQ+tB,UAAU7W,mBAAmBnV,EAAO/J,KAAKgI,QAASsjB,EAAKjb,MAAOib,EAAKhb,OAGpFtQ,KAAK+gB,mBAAqB,WACtB,GAAItJ,GAASzX,KAAKsgE,oBACdv2D,EAAQ/J,KAAKgI,QAAQ2I,SAAS8G,EAAOjK,KACrCa,EAAQrO,KAAKklC,mBACjBllC,MAAKgI,QAAQ+tB,UAAUhV,mBAAmBhX,EAAO/J,KAAKgI,QAASqG,EAAOoJ,IAE1EzX,KAAK4iE,YAAc,SAASp1D,EAAKpE,GAC7B,GAAIy5D,GAAY,2BAChBA,GAAUjlD,UAAY,CAGtB,KADA,GAAI6qB,GAAIzoC,KAAKgI,QAAQ8G,QAAQtB,GACtBq1D,EAAUjlD,UAAYxU,GAAQ,CACjC,GAAI2T,GAAI8lD,EAAUzmD,KAAKqsB,EACvB,IAAG1rB,EAAErU,OAASU,GAAU2T,EAAErU,MAAMqU,EAAE,GAAGrc,QAAU0I,EAAO,CAClD,GAAI05D,IACAx5D,MAAOyT,EAAE,GACT1T,MAAO0T,EAAErU,MACT4C,IAAKyR,EAAErU,MAAMqU,EAAE,GAAGrc,OAEtB,OAAOoiE,IAGf,MAAO,OAEX9iE,KAAKqlC,aAAe,SAAS09B,GACzB,GAAIv1D,GAAMxN,KAAKsX,UAAUmD,YAAYjN,IACjCpE,EAASpJ,KAAKsX,UAAUmD,YAAYrR,OACpC45D,EAAY,GAAIjyD,GAAMvD,EAAKpE,EAAO,EAAGoE,EAAKpE,GAE1CoQ,EAAIxZ,KAAKgI,QAAQ8P,aAAakrD,EAClC,KAAK7sC,MAAM8sC,WAAWzpD,KAAO0pD,SAAS1pD,GAAI,CACtC,GAAI2pD,GAAKnjE,KAAK4iE,YAAYp1D,EAAKpE,EAC/B,IAAI+5D,EAAI,CACJ,GAAIC,GAAKD,EAAG75D,MAAM5H,QAAQ,MAAQ,EAAIyhE,EAAG95D,MAAQ85D,EAAG75D,MAAM5H,QAAQ,KAAO,EAAIyhE,EAAG73D,IAC5E+3D,EAAWF,EAAG95D,MAAQ85D,EAAG75D,MAAM5I,OAAS0iE,EAExC3sB,EAAIwsB,WAAWE,EAAG75D,MACtBmtC,IAAKnoC,KAAKsoC,IAAI,GAAIysB,GAIdN,GADDK,IAAOD,EAAG73D,KAAOlC,EAASg6D,EACf90D,KAAKsoC,IAAI,GAAIusB,EAAG73D,IAAMlC,EAAS,GAE/BkF,KAAKsoC,IAAI,GAAIusB,EAAG73D,IAAMlC,GAGpCqtC,GAAKssB,EACLtsB,GAAKnoC,KAAKsoC,IAAI,GAAIysB,EAClB,IAAIC,GAAM7sB,EAAE8sB,QAAQF,GAChBG,EAAe,GAAIzyD,GAAMvD,EAAK21D,EAAG95D,MAAOmE,EAAK21D,EAAG73D,IACpDtL,MAAKgI,QAAQ9F,QAAQshE,EAAcF,GACnCtjE,KAAKqnB,aAAa7Z,EAAKc,KAAKC,IAAI40D,EAAG95D,MAAO,EAAGD,EAASk6D,EAAI5iE,OAASyiE,EAAG75D,MAAM5I,YAKxFV,KAAKs5B,YAAc,WACf,GACIjrB,GADAid,EAAOtrB,KAAK2iE,kBAGZt0D,GADe,IAAfid,EAAKjb,OAAeib,EAAKhb,KAAK,EAAItQ,KAAKgI,QAAQc,YACvC,GAAIiI,GAAMua,EAAKjb,MAAO,EAAGib,EAAKhb,KAAK,EAAG,GAEtC,GAAIS,GACRua,EAAKjb,MAAM,EAAGrQ,KAAKgI,QAAQ8G,QAAQwc,EAAKjb,MAAM,GAAG3P,OACjD4qB,EAAKhb,KAAMtQ,KAAKgI,QAAQ8G,QAAQwc,EAAKhb,MAAM5P,QAEnDV,KAAKgI,QAAQ/C,OAAOoJ,GACpBrO,KAAKwmB,kBAGTxmB,KAAKmlC,mBAAqB,WACtB,GAAIm2B,GAAMt7D,KAAKsX,UACX5T,EAAM1D,KAAKgI,QACXqG,EAAQitD,EAAI/jD,WACZoQ,EAAU2zC,EAAIh0C,aAClB,IAAIjZ,EAAMmJ,UAAW,CACjB,GAAIhK,GAAMa,EAAMhF,MAAMmE,GACtB9J,GAAIg2B,eAAelsB,EAAKA,OACrB,CACH,GAAIuQ,GAAQ4J,EAAUtZ,EAAMhF,MAAQgF,EAAM/C,IACtCm4D,EAAW//D,EAAI2d,OAAOtD,EAAOra,EAAIoU,aAAazJ,IAAQ,EAC1DA,GAAMhF,MAAQ0U,EACd1P,EAAM/C,IAAMm4D,EAEZnI,EAAI5zC,kBAAkBrZ,EAAOsZ,KAGrC3nB,KAAKy5B,cAAgB,WACjBz5B,KAAKm5B,WAAW,SAAShpB,EAAUC,GAC/B,MAAOpQ,MAAKgI,QAAQyxB,cAActpB,EAAUC,MAGpDpQ,KAAKw5B,YAAc,WACfx5B,KAAKm5B,WAAW,SAAShpB,EAAUC,GAC/B,MAAOpQ,MAAKgI,QAAQwxB,YAAYrpB,EAAUC,MAGlDpQ,KAAKo4B,SAAW,SAAS/pB,EAAOiqB,EAAYC,GACxC,MAAOv4B,MAAKgI,QAAQowB,SAAS/pB,EAAOiqB,EAAYC,IAEpDv4B,KAAKslC,YAAc,WACftlC,KAAKm5B,WAAW,SAAShpB,EAAUC,GAE/B,MADApQ,MAAKgI,QAAQ0xB,eAAevpB,EAAUC,GAC/B,KAGfpQ,KAAKulC,cAAgB,WACjBvlC,KAAKm5B,WAAW,SAAShpB,EAAUC,GAC/B,MAAOpQ,MAAKgI,QAAQ0xB,eAAevpB,EAAUC,MAGrDpQ,KAAKm5B,WAAa,SAAStR,GACvB,GAAIvQ,GAAYtX,KAAKsX,SACrB,KAAKA,EAAUqtC,mBAAqB3kD,KAAKq6D,uBAAwB,CAC7D,GAAIhsD,GAAQiJ,EAAU4J,kBAClBoK,EAAOtrB,KAAK2iE,iBAAiBt0D,GAC7Bq1D,EAAa77C,EAAM5mB,KAAKjB,KAAMsrB,EAAKjb,MAAOib,EAAKhb,KACnDjC,GAAM6W,OAAOw+C,EAAY,GACzBpsD,EAAUgK,kBAAkBjT,OACzB,CACH,GAAIqD,GAAS4F,EAAU4U,UAAUxa,MACjC4F,GAAU4U,UAAUtd,OAAO5O,KAAKgI,QAEhC,KAAK,GAAI7G,GAAIuQ,EAAOhR,OAAQS,KAAO,CAK/B,IAJA,GAAIwiE,GAAaxiE,EACbmqB,EAAO5Z,EAAOvQ,GAAG2jB,eACjBxU,EAAOgb,EAAKhgB,IAAIkC,IAChB6C,EAAQib,EAAKjiB,MAAMmE,IAChBrM,MACHmqB,EAAO5Z,EAAOvQ,GAAG2jB,eACbzU,EAAQib,EAAKhgB,IAAIkC,KAAO,IACxB6C,EAAQib,EAAKhgB,IAAIkC,GAIzBrM,IAGA,KADA,GAAIuiE,GAAa77C,EAAM5mB,KAAKjB,KAAMqQ,EAAOC,GAClCqzD,GAAcxiE,GACjBuQ,EAAOiyD,GAAYz+C,OAAOw+C,EAAY,GACtCC,IAGRrsD,EAAUgK,kBAAkBhK,EAAU5F,OAAO,IAC7C4F,EAAU4U,UAAUve,OAAO3N,KAAKgI,WAGxChI,KAAK2iE,iBAAmB,WACpB,GAAIt0D,GAAQrO,KAAKklC,oBAAoBpgB,cAErC,QACIzU,MAAOrQ,KAAKgI,QAAQ0O,gBAAgBrI,EAAMhF,MAAMmE,KAChD8C,KAAMtQ,KAAKgI,QAAQyO,cAAcpI,EAAM/C,IAAIkC,OAInDxN,KAAK60D,mBAAqB,SAASxwD,GAC/BrE,KAAKqzB,SAASmlB,gBAAgBx4C,KAAKsgE,sBAGvCtgE,KAAK40D,oBAAsB,SAASvwD,GAChCrE,KAAKqzB,SAASslB,mBAAmBt0C,IAGrCrE,KAAK20D,iBAAmB,WACpB30D,KAAKqzB,SAASulB,mBAElB54C,KAAKqyC,mBAAqB,WACtB,MAAOryC,MAAKqzB,SAASgf,sBAEzBryC,KAAKyyC,kBAAoB,WACrB,MAAOzyC,MAAKqzB,SAASof,qBAEzBzyC,KAAK4jE,aAAe,SAASp2D,GACzB,MAAQA,IAAOxN,KAAKqyC,sBAAwB7kC,GAAOxN,KAAKyyC,qBAE5DzyC,KAAK6jE,kBAAoB,SAASr2D,GAC9B,MAAQA,IAAOxN,KAAKqzB,SAASif,2BAA6B9kC,GAAOxN,KAAKqzB,SAASkf,0BAEnFvyC,KAAK8jE,oBAAsB,WACvB,MAAO9jE,MAAKqzB,SAAS0iB,qBAAuB/1C,KAAKqzB,SAASyiB,kBAAoB,GAGlF91C,KAAK+jE,YAAc,SAAShsD,EAAK42C,GAC7B,GAAIt7B,GAAWrzB,KAAKqzB,SAChBpwB,EAASjD,KAAKqzB,SAAS0R,YACvBzZ,EAAOvT,EAAMzJ,KAAKwS,MAAM7d,EAAO0oC,OAAS1oC,EAAO+hC,WAEnDhlC,MAAKs/C,kBACDqP,KAAW,EACX3uD,KAAKsX,UAAUiQ,eAAe,WAC1BvnB,KAAK+pB,aAAauB,EAAM,KAErBqjC,KAAW,IAClB3uD,KAAKsX,UAAUyS,aAAauB,EAAM,GAClCtrB,KAAKsX,UAAUkP,kBAEnBxmB,KAAKs/C,iBAEL,IAAIppB,GAAY7C,EAAS6C,SAEzB7C,GAASyR,SAAS,EAAGxZ,EAAOroB,EAAO+hC,YACrB,MAAV2pB,GACAt7B,EAASyP,qBAAqB,KAAM,IAExCzP,EAAS4jB,iBAAiB/gB,IAE9Bl2B,KAAKwkC,eAAiB,WAClBxkC,KAAK+jE,YAAY,GAAG,IAExB/jE,KAAK2kC,aAAe,WAChB3kC,KAAK+jE,aAAY,GAAI,IAEzB/jE,KAAK0kC,aAAe,WACjB1kC,KAAK+jE,YAAY,GAAG,IAEvB/jE,KAAK6kC,WAAa,WACd7kC,KAAK+jE,aAAY,GAAI,IAEzB/jE,KAAKykC,eAAiB,WAClBzkC,KAAK+jE,YAAY,IAErB/jE,KAAK4kC,aAAe,WAChB5kC,KAAK+jE,aAAY,IAErB/jE,KAAKg2C,YAAc,SAASxoC,GACxBxN,KAAKqzB,SAAS2iB,YAAYxoC,IAE9BxN,KAAK62C,aAAe,SAASjmC,EAAMkmC,EAAQC,EAASx3C,GAChDS,KAAKqzB,SAASwjB,aAAajmC,EAAMkmC,EAAQC,EAASx3C,IAEtDS,KAAKqjC,gBAAkB,WACnB,GAAIh1B,GAAQrO,KAAKklC,oBACbz2B,GACAjB,IAAKc,KAAKwS,MAAMzS,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,IAAMa,EAAMhF,MAAMmE,KAAO,GACtEpE,OAAQkF,KAAKwS,MAAMzS,EAAMhF,MAAMD,QAAUiF,EAAM/C,IAAIlC,OAASiF,EAAMhF,MAAMD,QAAU,GAEtFpJ,MAAKqzB,SAAS4iB,YAAYxnC,EAAK,KAEnCzO,KAAKsgE,kBAAoB,WACrB,MAAOtgE,MAAKsX,UAAUmD,aAE1Bza,KAAKgkE,wBAA0B,WAC3B,MAAOhkE,MAAKgI,QAAQgd,yBAAyBhlB,KAAKsgE,sBAEtDtgE,KAAKklC,kBAAoB,WACrB,MAAOllC,MAAKsX,UAAUC,YAE1BvX,KAAKwnB,UAAY,WACbxnB,KAAKs/C,iBAAmB,EACxBt/C,KAAKsX,UAAUkQ,YACfxnB,KAAKs/C,iBAAmB,GAE5Bt/C,KAAKwmB,eAAiB,WAClBxmB,KAAKsX,UAAUkP,kBAEnBxmB,KAAKqnB,aAAe,SAAS7Z,EAAKpE,GAC9BpJ,KAAKsX,UAAU+P,aAAa7Z,EAAKpE,IAErCpJ,KAAK+nB,qBAAuB,SAAStZ,GACjCzO,KAAKsX,UAAUyQ,qBAAqBtZ,IAExCzO,KAAKilC,eAAiB,SAAS0pB,GAC3B,GAAIl3C,GAASzX,KAAKsgE,oBAEdjyD,EAAQrO,KAAKgI,QAAQyd,gBAAgBhO,EACzC,KAAKpJ,EAAO,CAMR,GALAA,EAAQrO,KAAK4sB,MACTG,OAAQ,cACRk3C,eAAc,EACd56D,OAAQmE,IAAKiK,EAAOjK,IAAKpE,OAAQqO,EAAOrO,OAAS,MAEhDiF,EACD,MACJ,IAAII,GAAMJ,EAAMhF,KACZoF,GAAIjB,KAAOiK,EAAOjK,KAAOc,KAAKusB,IAAIpsB,EAAIrF,OAASqO,EAAOrO,QAAU,IAChEiF,EAAQrO,KAAKgI,QAAQyd,gBAAgBhX,IAG7CA,EAAMJ,GAASA,EAAMoJ,QAAUhJ,EAC3BA,IACIkgD,EACItgD,GAASA,EAAMiM,QAAQta,KAAKklC,qBAC5BllC,KAAKwmB,iBAELxmB,KAAKsX,UAAUsQ,SAASnZ,EAAIjB,IAAKiB,EAAIrF,QAEzCpJ,KAAKsX,UAAU0Q,OAAOvZ,EAAIjB,IAAKiB,EAAIrF,UAI/CpJ,KAAKujC,SAAW,SAAS2gC,EAAY96D,EAAQ2tC,GACzC/2C,KAAKsX,UAAUkP,iBACfxmB,KAAKgI,QAAQmO,QAAQ3I,IAAK02D,EAAa,EAAG96D,OAAQA,GAAU,IAE5DpJ,KAAKs/C,iBAAmB,EACxBt/C,KAAKk6D,qBAAuBl6D,KAAKk6D,sBACjCl6D,KAAKqnB,aAAa68C,EAAa,EAAG96D,GAAU,GAC5CpJ,KAAKs/C,iBAAmB,EAEnBt/C,KAAK6jE,kBAAkBK,EAAa,IACrClkE,KAAK62C,aAAaqtB,EAAa,GAAG,EAAMntB,IAEhD/2C,KAAKmkE,WAAa,SAAS32D,EAAKpE,GAC5BpJ,KAAKsX,UAAU0Q,OAAOxa,EAAKpE,IAE/BpJ,KAAK8jC,WAAa,SAASC,GACvB,GAAI/jC,KAAKsX,UAAUO,gBAAkB7X,KAAKsX,UAAUgQ,cAAe,CAC/D,GAAIkrC,GAAiBxyD,KAAKsX,UAAU0G,OAAOlQ,aAC3C,OAAO9N,MAAK+nB,qBAAqByqC,GAErCxyD,KAAKsX,UAAUkP,iBACfxmB,KAAKsX,UAAUyS,cAAcga,IAAS,EAAI,IAE9C/jC,KAAKikC,aAAe,SAASF,GACzB,GAAI/jC,KAAKsX,UAAUO,eAAiB7X,KAAKsX,UAAUgQ,cAAe,CAC9D,GAAImrC,GAAezyD,KAAKsX,UAAU0G,OAAOlQ,aACzC,OAAO9N,MAAK+nB,qBAAqB0qC,GAErCzyD,KAAKsX,UAAUkP,iBACfxmB,KAAKsX,UAAUyS,aAAaga,GAAS,EAAG,IAE5C/jC,KAAKokC,aAAe,SAASL,GACzB,GAAK/jC,KAAKsX,UAAUE,UAMhB,IADAusB,EAAQA,GAAS,EACVA,KACH/jC,KAAKsX,UAAUmR,qBAPQ,CAC3B,GAAI+pC,GAAiBxyD,KAAKklC,oBAAoB77B,KAC9CrJ,MAAK+nB,qBAAqByqC,GAQ9BxyD,KAAKwmB,kBAETxmB,KAAKukC,cAAgB,SAASR,GAC1B,GAAK/jC,KAAKsX,UAAUE,UAMhB,IADAusB,EAAQA,GAAS,EACVA,KACH/jC,KAAKsX,UAAUiR,sBAPQ,CAC3B,GAAIkqC,GAAezyD,KAAKklC,oBAAoB55B,GAC5CtL,MAAK+nB,qBAAqB0qC,GAQ9BzyD,KAAKwmB,kBAETxmB,KAAKmkC,kBAAoB,WACrBnkC,KAAKsX,UAAUqR,sBACf3oB,KAAKwmB,kBAETxmB,KAAKskC,gBAAkB,WACnBtkC,KAAKsX,UAAUuR,oBACf7oB,KAAKwmB,kBAETxmB,KAAKgkC,gBAAkB,WACnBhkC,KAAKsX,UAAUyR,oBACf/oB,KAAKwmB,kBAETxmB,KAAK6jC,kBAAoB,WACrB7jC,KAAKsX,UAAU2R,sBACfjpB,KAAKwmB,kBAETxmB,KAAKqkC,kBAAoB,WACrBrkC,KAAKsX,UAAU6R,sBACfnpB,KAAKwmB,kBAETxmB,KAAKkkC,iBAAmB,WACpBlkC,KAAKsX,UAAU+R,qBACfrpB,KAAKwmB,kBAETxmB,KAAKkC,QAAU,SAASsrB,EAAa7T,GAC7BA,GACA3Z,KAAKg7D,QAAQzuC,IAAI5S,EAErB,IAAItL,GAAQrO,KAAKg7D,QAAQpuC,KAAK5sB,KAAKgI,SAC/Bo8D,EAAW,CACf,OAAK/1D,IAGDrO,KAAKqkE,YAAYh2D,EAAOmf,KACxB42C,EAAW,GAED,OAAV/1D,IACArO,KAAKsX,UAAUoQ,kBAAkBrZ,GACjCrO,KAAKqzB,SAASqiB,wBAAwBrnC,EAAMhF,MAAOgF,EAAM/C,MAGtD84D,GAVIA,GAYfpkE,KAAKskE,WAAa,SAAS92C,EAAa7T,GAChCA,GACA3Z,KAAKg7D,QAAQzuC,IAAI5S,EAGrB,IAAIjI,GAAS1R,KAAKg7D,QAAQluC,QAAQ9sB,KAAKgI,SACnCo8D,EAAW,CACf,KAAK1yD,EAAOhR,OACR,MAAO0jE,EAEXpkE,MAAKs/C,iBAAmB,CAExB,IAAIhoC,GAAYtX,KAAKklC,mBACrBllC,MAAKsX,UAAU0Q,OAAO,EAAG,EAEzB,KAAK,GAAI7mB,GAAIuQ,EAAOhR,OAAS,EAAGS,GAAK,IAAKA,EACnCnB,KAAKqkE,YAAY3yD,EAAOvQ,GAAIqsB,IAC3B42C,GAOR,OAHApkE,MAAKsX,UAAUoQ,kBAAkBpQ,GACjCtX,KAAKs/C,iBAAmB,EAEjB8kB,GAGXpkE,KAAKqkE,YAAc,SAASh2D,EAAOmf,GAC/B,GAAI7L,GAAQ3hB,KAAKgI,QAAQ8P,aAAazJ,EAEtC,OADAmf,GAAcxtB,KAAKg7D,QAAQ94D,QAAQyf,EAAO6L,GACtB,OAAhBA,GACAnf,EAAM/C,IAAMtL,KAAKgI,QAAQ9F,QAAQmM,EAAOmf,GACjCnf,GAEA,MAGfrO,KAAKukE,qBAAuB,WACxB,MAAOvkE,MAAKg7D,QAAQvuC,cAExBzsB,KAAK4sB,KAAO,SAASG,EAAQpT,EAASo9B,GAC7Bp9B,IACDA,MAEiB,gBAAVoT,IAAsBA,YAAkB5U,QAC/CwB,EAAQoT,OAASA,EACK,gBAAVA,IACZ1f,EAAImf,MAAM7S,EAASoT,EAEvB,IAAI1e,GAAQrO,KAAKsX,UAAUC,UACL,OAAlBoC,EAAQoT,SACRA,EAAS/sB,KAAKgI,QAAQ8P,aAAazJ,IAC5BrO,KAAKg7D,QAAQ1uC,SAASS,OACxBA,IACD1e,EAAQrO,KAAKgI,QAAQshB,aAAajb,EAAMhF,MAAMmE,IAAKa,EAAMhF,MAAMD,QAC/D2jB,EAAS/sB,KAAKgI,QAAQ8P,aAAazJ,IAEvCrO,KAAKg7D,QAAQzuC,KAAKQ,OAAQA,KAG9B/sB,KAAKg7D,QAAQzuC,IAAI5S,GACZA,EAAQtQ,OACTrJ,KAAKg7D,QAAQzuC,KAAKljB,MAAOgF,GAE7B,IAAI+sD,GAAWp7D,KAAKg7D,QAAQpuC,KAAK5sB,KAAKgI,QACtC,OAAI2R,GAAQsqD,cACD7I,EACPA,GACAp7D,KAAKwkE,YAAYpJ,EAAUrkB,GACpBqkB,IAEPzhD,EAAQgU,UACRtf,EAAMhF,MAAQgF,EAAM/C,IAEpB+C,EAAM/C,IAAM+C,EAAMhF,UACtBrJ,MAAKsX,UAAUmQ,SAASpZ,KAE5BrO,KAAKyjC,SAAW,SAAS9pB,EAASo9B,GAC9B/2C,KAAK4sB,MAAM2B,aAAa,EAAMZ,WAAW,GAAQhU,EAASo9B,IAE9D/2C,KAAK0jC,aAAe,SAAS/pB,EAASo9B,GAClC/2C,KAAK4sB,KAAKjT,GAAU4U,aAAa,EAAMZ,WAAW,GAAOopB,IAG7D/2C,KAAKwkE,YAAc,SAASn2D,EAAO0oC,GAC/B/2C,KAAKs/C,iBAAmB,EACxBt/C,KAAKgI,QAAQmO,OAAO9H,GACpBrO,KAAKsX,UAAUoQ,kBAAkBrZ,GACjCrO,KAAKs/C,iBAAmB,CAExB,IAAIppB,GAAYl2B,KAAKqzB,SAAS6C,SAC9Bl2B,MAAKqzB,SAASqiB,wBAAwBrnC,EAAMhF,MAAOgF,EAAM/C,IAAK,IAC1DyrC,KAAY,GACZ/2C,KAAKqzB,SAAS4jB,iBAAiB/gB,IAEvCl2B,KAAK2xB,KAAO,WACR3xB,KAAKs/C,kBACLt/C,KAAKgI,QAAQ6oB,iBAAiBc,OAC9B3xB,KAAKs/C,kBACLt/C,KAAKqzB,SAASyP,qBAAqB,KAAM,KAE7C9iC,KAAK4xB,KAAO,WACR5xB,KAAKs/C,kBACLt/C,KAAKgI,QAAQ6oB,iBAAiBe,OAC9B5xB,KAAKs/C,kBACLt/C,KAAKqzB,SAASyP,qBAAqB,KAAM,KAE7C9iC,KAAKw5C,QAAU,WACXx5C,KAAKqzB,SAASmmB,UACdx5C,KAAK2O,QAAQ,UAAW3O,OAE5BA,KAAKykE,4BAA8B,SAASzsC,GACxC,GAAKA,EAAL,CAEA,GAAI8mB,GACAzvC,EAAOrP,KACP0kE,GAAe,CACd1kE,MAAK2kE,gBACN3kE,KAAK2kE,cAAgBthE,SAASqlC,cAAc,OAChD,IAAIk8B,GAAe5kE,KAAK2kE,aACxBC,GAAa9rD,MAAM4/B,QAAU,oBAC7B14C,KAAK6pC,UAAU6H,aAAakzB,EAAc5kE,KAAK6pC,UAAU8H,WACzD,IAAIkzB,GAAoB7kE,KAAKmE,GAAG,kBAAmB,WAC/CugE,GAAe,IAEfI,EAAiB9kE,KAAKqzB,SAASlvB,GAAG,eAAgB,WAC9CugE,IACA5lB,EAAOzvC,EAAKgkB,SAASwW,UAAUmO,2BAEnC+sB,EAAgB/kE,KAAKqzB,SAASlvB,GAAG,cAAe,WAChD,GAAIugE,GAAgB5lB,GAAQzvC,EAAKuzB,YAAa,CAC1C,GAAIvP,GAAWhkB,EAAKgkB,SAChB5kB,EAAM4kB,EAASuX,aAAayG,UAC5BpuC,EAASowB,EAAS0R,YAClBqG,EAAM38B,EAAI28B,IAAMnoC,EAAO4O,MAEvB6yD,GADAj2D,EAAI28B,KAAO,GAAKA,EAAM0T,EAAK1T,IAAM,KAE1B38B,EAAI28B,IAAMnoC,EAAO0oC,QACxBl9B,EAAI28B,IAAM0T,EAAK1T,IAAMnoC,EAAO+hC,WAAa3kC,OAAOssD,cAGjC,KAEC,MAAhB+X,IACAE,EAAa9rD,MAAMsyB,IAAMA,EAAM,KAC/Bw5B,EAAa9rD,MAAMuyB,KAAO58B,EAAI48B,KAAO,KACrCu5B,EAAa9rD,MAAM6yB,OAAS1oC,EAAO+hC,WAAa,KAChD4/B,EAAaxhC,eAAeshC,IAEhCA,EAAe5lB,EAAO,OAG9B9+C,MAAKykE,4BAA8B,SAASzsC,GACpCA,UAEGh4B,MAAKykE,4BACZzkE,KAAK6O,oBAAoB,kBAAmBg2D,GAC5C7kE,KAAKqzB,SAASxkB,oBAAoB,cAAek2D,GACjD/kE,KAAKqzB,SAASxkB,oBAAoB,eAAgBi2D,OAK1D9kE,KAAKglE,kBAAoB,WACrB,GAAIlsD,GAAQ9Y,KAAKilE,cAAgB,MAC7BC,EAAcllE,KAAKqzB,SAASuX,YAC3Bs6B,KAELA,EAAYva,kBAA2B,UAAT7xC,GAC9BosD,EAAYnb,YAAc/pD,KAAK4+B,WAAsB,QAAT9lB,MAGjD7X,KAAK0B,EAAO5B,WAIfkC,EAAO46B,cAAcl7B,EAAO5B,UAAW,UACnCokE,gBACI54C,IAAK,SAASzT,GACV9Y,KAAK26D,oBACL36D,KAAK2O,QAAQ,wBAAyBP,KAAM0K,KAEhDolB,aAAc,QAElBknC,qBACI74C,IAAK,WAAYvsB,KAAK0gE,8BACtBxiC,cAAc,GAElBmnC,uBACI94C,IAAK,SAAS2kB,GAAkBlxC,KAAKm/D,sBACrCjhC,cAAc,GAElBW,UACItS,IAAK,SAASsS,GACV7+B,KAAKsuD,UAAU0H,YAAYn3B,GAC3B7+B,KAAKglE,qBAET9mC,cAAc,GAElBqb,aACIhtB,IAAK,SAASqD,GAAO5vB,KAAKglE,qBAC1BhoD,QAAS,MAAO,OAAQ,SAAU,QAClCkhB,aAAc,OAElB3M,iBACIvU,SAAS,GAAO,EAAM,UACtBkhB,cAAc,GAElBonC,mBAAoBpnC,cAAc,GAClCqnC,uBAAwBrnC,cAAc,GACtCsnC,0BACIj5C,IAAK,SAASqD,GAAM5vB,KAAKykE,4BAA4B70C,KAGzDwqB,wBAAyB,WACzBC,wBAAyB,WACzBF,oBAAqB,WACrBV,eAAgB,WAChBxJ,eAAgB,WAChBO,gBAAiB,WACjBkJ,kBAAmB,WACnBC,YAAa,WACbE,gBAAiB,WACjBC,gBAAiB,WACjBE,gBAAiB,WACjBJ,WAAY,WACZM,oBAAqB,WACrBI,SAAU,WACVC,WAAY,WACZC,SAAU,WACVC,SAAU,WACVC,cAAe,WACfC,iBAAkB,WAClB7Q,MAAO,WAEP+mB,YAAa,gBACbC,UAAW,gBACXC,YAAa,gBACbC,YAAa,gBACbC,oBAAqB,gBAErB9yB,gBAAiB,UACjB3L,UAAW,UACXgC,YAAa,UACbG,UAAW,UACXyJ,YAAa,UACb3e,QAAS,UACT+O,KAAM,UACNi3C,UAAW,UACXnhE,KAAM,YAGVnC,EAAQQ,OAASA,IAGjBhD,OAAO,kCAAmC,UAAW,UAAW,SAAW,iBAAkB,SAASN,EAAS8C,EAAS7C,GAGxH,QAASq4D,GAAYxzC,EAAIC,GACrB,MAAOD,GAAG3W,KAAO4W,EAAG5W,KAAO2W,EAAG/a,QAAUgb,EAAGhb,OAG/C,QAASy4C,GAAY3zC,GACjB,GAAIkgD,GAAKlgD,EAAEwL,SACPgsD,EAAMtX,EAAGl0C,OACThP,EAAQkjD,EAAGv0C,SACX8rD,EAAOz3D,EAAEs0B,cACT+hB,EAASr2C,EAAEs2C,WAEf,IAAIt2C,EAAEzK,OAAOkhD,mBAA+B,GAAVJ,EAE9B,WADAr2C,GAAEzK,OAAO6qD,UAAUC,cAAcrgD,EAAEwL,SAIvC,KAAKisD,IAASD,EAGV,YAFe,IAAXnhB,GAAgBr2C,EAAEzK,OAAOkhD,mBACzBz2C,EAAEzK,OAAOy2D,sBAIjB,IAAIz2D,GAASyK,EAAEzK,OACX6T,EAAY7T,EAAO6T,UACnBsuD,EAAgBniE,EAAOkhD,kBACvBl2C,EAAMP,EAAEq0B,sBACR9qB,EAASH,EAAUmD,YACnB6pC,EAAcp2C,EAAEo2C,eAAkBhtC,EAAUE,WAAamgD,EAAYlpD,EAAKgJ,GAG1EouD,EAAS33D,EAAElC,EAAG85D,EAAS53D,EAAEiP,EACzB4oD,EAAmB,SAAS73D,GAC5B23D,EAAS33D,EAAE40C,QACXgjB,EAAS53D,EAAE60C,SAGXijB,EAAc,WACd,GAAIC,GAAYxiE,EAAO4vB,SAASykB,yBAAyB+tB,EAAQC,GAC7DruD,EAASzP,EAAQoiB,yBAAyB67C,EAAUz4D,IAAKy4D,EAAU78D,OAEnEuuD,GAAYqB,EAAciN,IACvBtO,EAAYlgD,EAAQH,EAAUoP,iBAErCsyC,EAAeiN,EAEfxiE,EAAO6T,UAAU2Q,eAAexQ,GAChChU,EAAO4vB,SAASyP,uBAEhBr/B,EAAOi2D,uBAAuBb,GAC9BA,EAAUvhD,EAAUyhD,sBAAsBC,EAAcC,GACxDJ,EAAQvsD,QAAQ7I,EAAO81D,mBAAoB91D,GAC3CA,EAAO61D,2BAGPtxD,EAAUvE,EAAOuE,QACjBixD,EAAex1D,EAAO4vB,SAASykB,yBAAyB+tB,EAAQC,GAChE9M,EAAeC,CAInB,KAAI0M,GAASD,GAAQx6D,GAAoB,IAAXq5C,GA2BvB,GAAImhB,GAAkB,IAAXnhB,EAAc,CAC5Br2C,EAAEgC,OAEE01D,IAAkBD,EAClBruD,EAAU6U,iBACJy5C,GAAiBD,GACvBruD,EAAU8U,UAEd,IAAIysC,KACA3tD,IACA+tD,EAAejxD,EAAQgd,yBAAyB1N,EAAUmP,MAC1Du/C,KAEA1uD,EAAU2Q,eAAexZ,EAI7B,IAAIy3D,GAAsB,SAASh4D,GAC/BmpC,cAAcsJ,GACdl9C,EAAOi2D,uBAAuBb,EAC9B,KAAK,GAAI13D,GAAI,EAAGA,EAAI03D,EAAQn4D,OAAQS,IAChCmW,EAAU8U,SAASysC,EAAQ13D,KAG/BglE,EAAsBH,CAE1BtjE,GAAMkuD,QAAQntD,EAAOomC,UAAWk8B,EAAkBG,EAClD,IAAIvlB,GAAUpJ,YAAY,WAAY4uB,KAAyB,GAE/D,OAAOj4D,GAAEi4B,sBAxD+B,CACxC,IAAKy/B,GAAiBthB,EAClB,MAEJ,KAAKshB,EAAe,CAChB,GAAIv3D,GAAQiJ,EAAU4J,iBACtBzd,GAAO81D,mBAAmBlrD,GAG9B,GAAImqD,GAAWlhD,EAAU4U,UAAUtI,aAAanV,EAEhDhL,GAAO67C,kBACP77C,EAAOijC,KAAK,UAAW,WACnB,GAAI6zB,GAASjjD,EAAU4J,iBAEnBs3C,IAAY+B,EAAO/iD,WAAamgD,EAAYa,EAAS/gD,OAAQ8iD,EAAO9iD,QACpEH,EAAUoM,eAAe62C,EAAO9iD,SAE5BpJ,IACA5K,EAAOg2D,sBAAsBprD,GAC7BiJ,EAAU8U,SAAS/d,IAEvBiJ,EAAU8U,SAASmuC,IAEvB92D,EAAO67C,qBArFnB,GAAI58C,GAAQrD,EAAQ,eA0HpB8C,GAAQ0/C,YAAcA,IAItBliD,OAAO,qBAAsB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAe1F,GAdA6C,EAAQikE,IACJC,MAAO,QACPC,IAAK,MACLC,QAAS,WAEbpkE,EAAQqkE,MAAQ,WACZ,MAAIrkE,GAAQ4+B,MACD5+B,EAAQikE,GAAGE,IACXnkE,EAAQskE,QACRtkE,EAAQikE,GAAGC,MAEXlkE,EAAQikE,GAAGG,SAGF,gBAAbG,WAAX,CAGA,GAAIC,IAAMD,UAAUnoC,SAAS3sB,MAAM,oBAAsB,UAAU,GAAG9E,cAClE85D,EAAKF,UAAUG,SACnB1kE,GAAQk0D,MAAe,OAANsQ,EACjBxkE,EAAQ4+B,MAAe,OAAN4lC,EACjBxkE,EAAQskE,QAAiB,SAANE,EACnBxkE,EAAQgiD,MACkB,+BAArBuiB,UAAUI,SAA4CJ,UAAUI,QAAQplE,QAAQ,cAAgB,IAC9FuhE,WAAWyD,UAAUG,UAAUj1D,MAAM,2DAA2D,IAEvGzP,EAAQwuD,QAAUxuD,EAAQgiD,MAAQhiD,EAAQgiD,KAAO,EACjDhiD,EAAQ4zD,QAAU5zD,EAAQ4kE,UAAY1mE,OAAO2mE,aAA4C,UAA7B3mE,OAAOqmE,UAAUO,QAC7E9kE,EAAQ+kE,WAAa/kE,EAAQ4zD,SAAWr5C,UAAUgqD,UAAUG,UAAUj1D,MAAM,kBAAkB,GAAI,IAAM,EACxGzP,EAAQy/C,QAAUvhD,OAAO8mE,OAAyD,kBAAhDrmE,OAAOC,UAAUC,SAASC,KAAKZ,OAAO8mE,OACxEhlE,EAAQ4iD,SAAWke,WAAW2D,EAAGhlE,MAAM,WAAW,KAAOiD,OAEzD1C,EAAQ+vD,SAAW+Q,WAAW2D,EAAGhlE,MAAM,YAAY,KAAOiD,OAE1D1C,EAAQilE,MAAQR,EAAGllE,QAAQ,aAAe,EAE1CS,EAAQklE,OAAST,EAAGllE,QAAQ,SAAW,EAEvCS,EAAQ4wD,WAAa6T,EAAGllE,QAAQ,aAAe,KAI/C/B,OAAO,sCAAuC,UAAW,UAAW,SAAW,6BAA8B,SAASN,EAAS8C,EAAS7C,GACxI6C,EAAQ+1D,kBACJvzD,KAAM,iBACNyX,KAAM,SAAS3Y,GAAUA,EAAOw3D,iBAAgB,IAChDx5B,SAAUsB,IAAK,cAAeC,IAAK,eACnCskC,UAAU,IAEV3iE,KAAM,iBACNyX,KAAM,SAAS3Y,GAAUA,EAAOw3D,gBAAgB,IAChDx5B,SAAUsB,IAAK,gBAAiBC,IAAK,iBACrCskC,UAAU,IAEV3iE,KAAM,4BACNyX,KAAM,SAAS3Y,GAAUA,EAAOw3D,iBAAgB,GAAI,IACpDx5B,SAAUsB,IAAK,oBAAqBC,IAAK,qBACzCskC,UAAU,IAEV3iE,KAAM,4BACNyX,KAAM,SAAS3Y,GAAUA,EAAOw3D,gBAAgB,GAAG,IACnDx5B,SAAUsB,IAAK,sBAAuBC,IAAK,uBAC3CskC,UAAU,IAEV3iE,KAAM,mBACNyX,KAAM,SAAS3Y,GAAUA,EAAOg4D,YAAW,IAC3Ch6B,SAAUsB,IAAK,gBAAiBC,IAAK,iBACrCskC,UAAU,IAEV3iE,KAAM,kBACNyX,KAAM,SAAS3Y,GAAUA,EAAOg4D,WAAW,IAC3Ch6B,SAAUsB,IAAK,iBAAkBC,IAAK,kBACtCskC,UAAU,IAEV3iE,KAAM,mBACNyX,KAAM,SAAS3Y,GAAUA,EAAOg4D,YAAW,GAAI,IAC/Ch6B,SAAUsB,IAAK,sBAAuBC,IAAK,uBAC3CskC,UAAU,IAEV3iE,KAAM,kBACNyX,KAAM,SAAS3Y,GAAUA,EAAOg4D,WAAW,GAAG,IAC9Ch6B,SAAUsB,IAAK,uBAAwBC,IAAK,wBAC5CskC,UAAU,IAEV3iE,KAAM,iBACNyX,KAAM,SAAS3Y,GAAUA,EAAOs2D,YAAYnB,kBAC5Cn3B,SAAUsB,IAAK,aAAcC,IAAK,cAClCskC,UAAU,IAEV3iE,KAAM,eACNyX,KAAM,SAAS3Y,GAAUA,EAAOi4D,gBAChCj6B,SAAUsB,IAAK,aAAcC,IAAK,gBAEtC7gC,EAAQk2D,sBACJ1zD,KAAM,kBACN88B,QAAS,MACTrlB,KAAM,SAAS3Y,GAAUA,EAAOy2D,uBAChCoN,UAAU,EACVC,YAAa,SAAS9jE,GAAS,MAAOA,IAAUA,EAAOkhD,oBAG3D,IAAItmB,GAAch/B,EAAQ,4BAA4Bg/B,WACtDl8B,GAAQ03D,gBAAkB,GAAIx7B,GAAYl8B,EAAQk2D,uBAIlD14D,OAAO,eAAgB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAGpF6C,EAAQic,SAAW,SAASopD,EAAMC,GAC9BD,EAAKE,OAASD,EACdD,EAAKzmE,UAAYD,OAAO6L,OAAO86D,EAAU1mE,WACrCg2D,aACIztD,MAAOk+D,EACPG,YAAY,EACZC,UAAU,EACVC,cAAc,MAK1B1lE,EAAQqqB,MAAQ,SAASswB,EAAKtwB,GAC1B,IAAK,GAAIxnB,KAAOwnB,GACZswB,EAAI93C,GAAOwnB,EAAMxnB,EAErB,OAAO83C,IAGX36C,EAAQ0L,UAAY,SAASi6D,EAAOt7C,GAChCrqB,EAAQqqB,MAAMs7C,EAAOt7C,MAKzB7sB,OAAO,4BAA6B,UAAW,UAAW,SAAW,cAAe,wBAAyB,cAAe,SAASN,EAAS8C,EAAS7C,GAGvJ,GAAI+N,GAAMhO,EAAQ,cACdiO,EAAejO,EAAQ,wBAAwBiO,aAC/CrK,EAAS5D,EAAQ,aAEjB0oE,EAAe,SAASC,EAAoB5lE,EAAK6lE,EAAWC,GAO5D,GANAloE,KAAKmoE,gBAAkBnoE,KAAKmoE,gBAAgBlkE,KAAKjE,MACjDA,KAAKooE,eAAiBpoE,KAAKooE,eAAenkE,KAAKjE,MAC/CA,KAAKqoE,UAAYroE,KAAKqoE,UAAUpkE,KAAKjE,MACjCX,EAAQipE,YAAcjpE,EAAQkpE,QAC9BlpE,EAAQkpE,MAAQlpE,EAAQipE,WAExBrlE,EAAO+6B,IAAI,cAAgB3+B,EAAQkpE,MACnCL,EAAYA,GAAajlE,EAAO84C,UAAU35C,EAAK,cAC5C,CACH,GAAIomE,GAAgBxoE,KAAKyoE,cACzBP,GAAYA,GAAaM,EAAcnpE,EAAQkpE,MAAM,uBAAwB,KAAM,KAEnF,IAAIG,KACJV,GAAmB17D,QAAQ,SAASlN,GAChCspE,EAAKtpE,GAAMopE,EAAcnpE,EAAQkpE,MAAMnpE,EAAI,KAAM,KAAK8C,QAAQ,kBAAmB,OAIzF,IACIlC,KAAKsP,QAAU,GAAIumB,QAAOqyC,GAC5B,MAAMh6D,GACJ,KAAIA,YAAa7N,QAAOsoE,cAQpB,KAAMz6D,EAPN,IAAI06D,GAAO5oE,KAAK6oE,YAAYX,GACxBY,EAAMzoE,OAAOyoE,KAAOzoE,OAAO0oE,UAC3BC,EAAUF,EAAIG,gBAAgBL,EAElC5oE,MAAKsP,QAAU,GAAIumB,QAAOmzC,GAC1BF,EAAII,gBAAgBF,GAK5BhpE,KAAKsP,QAAQ65D,aACTlmC,MAAO,EACPylC,KAAOA,EACPppE,OAAS8C,EACT6lE,UAAYA,IAGhBjoE,KAAKopE,WAAa,EAClBppE,KAAKqpE,aAELrpE,KAAKsP,QAAQg6D,UAAYtpE,KAAKqoE,YAGlC,WAEIh7D,EAAIQ,UAAU7N,KAAMsN,GAEpBtN,KAAKqoE,UAAY,SAASn6D,GACtB,GAAIq7D,GAAMr7D,EAAEE,IACZ,QAAOm7D,EAAIp4D,MACP,IAAK,MACD9Q,OAAOE,SAAWA,QAAQ6a,KAAO7a,QAAQ6a,IAAIhb,MAAMG,QAASgpE,EAAIn7D,KAChE,MAEJ,KAAK,QACDpO,KAAK2O,QAAQ46D,EAAI5kE,MAAOyJ,KAAMm7D,EAAIn7D,MAClC,MAEJ,KAAK,OACD,GAAI7O,GAAWS,KAAKqpE,UAAUE,EAAIlnE,GAC9B9C,KACAA,EAASgqE,EAAIn7D,YACNpO,MAAKqpE,UAAUE,EAAIlnE,OAM1CrC,KAAKyoE,eAAiB,SAASvzC,GAC3B,MAAK9e,UAASg8C,MAEdl9B,EAAOA,EAAKhzB,QAAQ,qBAAsB,IAC1CgzB,EAAO9e,SAASozD,SAAW,KAAOpzD,SAASg8C,MAClB,KAAlBl9B,EAAKrzB,OAAO,GAAY,GAAKuU,SAASqzD,SAASvnE,QAAQ,YAAa,KACrE,IAAMgzB,EAAKhzB,QAAQ,SAAU,KAJxBgzB,GAQfl1B,KAAK41B,UAAY,WACb51B,KAAK2O,QAAQ,gBACb3O,KAAK0pE,WAAa,KAClB1pE,KAAKsP,QAAQsmB,YACb51B,KAAKsP,QAAU,KACftP,KAAKmnC,KAAKt4B,oBAAoB,SAAU7O,KAAKooE,gBAC7CpoE,KAAKmnC,KAAO,MAGhBnnC,KAAKqoC,KAAO,SAAS8xB,EAAKtuD,GACtB7L,KAAKsP,QAAQ65D,aAAaxqC,QAASw7B,EAAKtuD,KAAMA,KAGlD7L,KAAKiB,KAAO,SAASk5D,EAAKtuD,EAAMtM,GAC5B,GAAIA,EAAU,CACV,GAAI8C,GAAKrC,KAAKopE,YACdppE,MAAKqpE,UAAUhnE,GAAM9C,EACrBsM,EAAKtK,KAAKc,GAEdrC,KAAKqoC,KAAK8xB,EAAKtuD,IAGnB7L,KAAK2pE,KAAO,SAASjnE,EAAO0L,GACxB,IACIpO,KAAKsP,QAAQ65D,aAAazmE,MAAOA,EAAO0L,MAAOA,KAAMA,EAAKA,QAE9D,MAAMw7D,MAGV5pE,KAAK6pE,iBAAmB,SAASnmE,GAC1B1D,KAAKmnC,MACJnnC,KAAK41B,YAET51B,KAAKmnC,KAAOzjC,EACZ1D,KAAKiB,KAAK,YAAayC,EAAIqtB,aAC3BrtB,EAAIS,GAAG,SAAUnE,KAAKooE,iBAG1BpoE,KAAKooE,eAAiB,SAASl6D,GACtBlO,KAAK0pE,WAIN1pE,KAAK0pE,WAAWnoE,KAAK2M,EAAEE,OAHvBpO,KAAK0pE,YAAcx7D,EAAEE,MACrB0B,WAAW9P,KAAKmoE,gBAAiB,KAKzCnoE,KAAKmoE,gBAAkB,WACnB,GAAI2B,GAAI9pE,KAAK0pE,UACRI,KACL9pE,KAAK0pE,WAAa,KACdI,EAAEppE,OAAS,IAAMopE,EAAEppE,OAASV,KAAKmnC,KAAKr+B,aAAe,EACrD9I,KAAKiB,KAAK,YAAajB,KAAKmnC,KAAKpW,aAEjC/wB,KAAK2pE,KAAK,UAAWv7D,KAAM07D,MAGnC9pE,KAAK6oE,YAAc,SAASX,GACxB,GAAIjtB,GAAS,kBAAoBitB,EAAY,KAC7C,KACI,MAAO,IAAI6B,OAAM9uB,IAAU9pC,KAAQ,2BACrC,MAAOjD,GACL,GAAI87D,GAAc3pE,OAAO2pE,aAAe3pE,OAAO4pE,mBAAqB5pE,OAAO6pE,eACvEC,EAAc,GAAIH,EAEtB,OADAG,GAAY3/D,OAAOywC,GACZkvB,EAAYC,QAAQ,8BAIpCnpE,KAAK8mE,EAAahnE,UAGrB,IAAIspE,GAAiB,SAASrC,EAAoB5lE,EAAK6lE,GACnDjoE,KAAKmoE,gBAAkBnoE,KAAKmoE,gBAAgBlkE,KAAKjE,MACjDA,KAAKooE,eAAiBpoE,KAAKooE,eAAenkE,KAAKjE,MAC/CA,KAAKopE,WAAa,EAClBppE,KAAKqpE,aACLrpE,KAAKsqE,gBAEL,IAAIC,GAAO,KACPC,GAAW,EACXC,EAAS3pE,OAAO6L,OAAOW,GACvBkoB,EAAQx1B,IAEZA,MAAKsP,WACLtP,KAAKsP,QAAQsmB,UAAY,aACzB51B,KAAKsP,QAAQ65D,YAAc,SAASj7D,GAChCsnB,EAAM80C,cAAc/oE,KAAK2M,GACrBq8D,IACIC,EACA16D,WAAW46D,GAEXA,MAGZ1qE,KAAK2qE,YAAc,SAAS/6C,GAAO46C,EAAW56C,EAE9C,IAAI86C,GAAc,WACd,GAAInB,GAAM/zC,EAAM80C,cAAcp/D,OAC1Bq+D,GAAI5qC,QACJ4rC,EAAKhB,EAAI5qC,SAASv+B,MAAMmqE,EAAMhB,EAAI19D,MAC7B09D,EAAI7mE,OACT+nE,EAAO97D,QAAQ46D,EAAI7mE,MAAO6mE,EAAIn7D,MAGtCq8D,GAAOtB,YAAc,SAASI,GAC1B/zC,EAAM6yC,WAAWj6D,KAAMm7D,KAE3BkB,EAAOlrE,SAAW,SAAS6O,EAAMg7D,GAC7BppE,KAAKmpE,aAAah4D,KAAM,OAAQ9O,GAAI+mE,EAAYh7D,KAAMA,KAE1Dq8D,EAAOd,KAAO,SAAShlE,EAAMyJ,GACzBpO,KAAKmpE,aAAah4D,KAAM,QAASxM,KAAMA,EAAMyJ,KAAMA,KAGvDnL,EAAOkyB,YAAY,SAAU/yB,GAAM,SAASwoE,GAExC,IADAL,EAAO,GAAIK,GAAK3C,GAAWwC,GACpBj1C,EAAM80C,cAAc5pE,QACvBgqE,MAIZL,GAAetpE,UAAYgnE,EAAahnE,UAExCoB,EAAQkoE,eAAiBA,EACzBloE,EAAQ4lE,aAAeA,IAIvBpoE,OAAO,gBAAiB,UAAW,UAAW,SAAW,eAAgB,SAASN,EAAS8C,EAAS7C,GAGpG,GAAI+N,GAAMhO,EAAQ,SACdwrE,EAAO,WACP,GAkEIlmE,GAAMxD,EAlENkE,GACAylE,eACIC,GAAI,QAASC,GAAI,OAAQC,GAAI,MAAOC,IAAK,QAG7C/oC,UACIwjC,KAAQ,EAAGD,IAAO,EAAGyF,OAAW,EAAGjgE,MAAS,EAC5CkgE,MAAS,EAAGroD,KAAQ,EAAG4b,QAAW,EAAGw7B,IAAO,GAGhDj4B,eACImpC,EAAK,YACLC,EAAK,MACL7W,GAAK,SACL8W,GAAK,QACL7W,GAAK,MACL8W,GAAK,QACLC,GAAK,SACLC,GAAK,WACLC,GAAK,MACLC,GAAK,OACLC,GAAK,OACLC,GAAK,KACLC,GAAK,QACLC,GAAK,OACLC,GAAK,QACLC,GAAK,SACLC,GAAK,SACLC,GAAK,UACLC,GAAK,UACLC,GAAK,UACLC,GAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,MAAO,cACPC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,MACLC,IAAK,MACLC,IAAK,MACLC,IAAK,UACLC,IAAK,cAGTC,gBACGrC,GAAI,IAAMsC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAKC,GAAK,IAChEC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAKC,GAAK,IAChEC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAKC,GAAK,IAChEC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAKC,GAAK,IAChEC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAKC,GAAK,IAChEC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAMC,GAAI,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IACjEC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,IAAKC,IAAK,KACvDC,IAAK,IAAKC,IAAK,KAIrB,KAAK3vE,IAAKkE,GAAI68B,cACVv9B,EAAOU,EAAI68B,cAAc/gC,GAAG2L,cAC5BzH,EAAIV,GAAQ+X,SAASvb,EAAG,GAE5B,KAAKA,IAAKkE,GAAIwoE,eACVlpE,EAAOU,EAAIwoE,eAAe1sE,GAAG2L,cAC7BzH,EAAIV,GAAQ+X,SAASvb,EAAG,GAmB5B,OAjBAkM,GAAImf,MAAMnnB,EAAKA,EAAIylE,eACnBz9D,EAAImf,MAAMnnB,EAAKA,EAAIwoE,gBACnBxgE,EAAImf,MAAMnnB,EAAKA,EAAI68B,eACnB78B,EAAI0rE,MAAQ1rE,EAAY,OACxBA,EAAI2rE,OAAS3rE,EAAIiY,IACjBjY,EAAI4rE,IAAM5rE,EAAY,OACtBA,EAAI,KAAO,IAEX,WAEI,IAAK,GADD6rE,IAAQ,MAAO,OAAQ,MAAO,SACzB/vE,EAAImN,KAAKsoC,IAAI,EAAGs6B,EAAKxwE,QAASS,KACnCkE,EAAI88B,SAAShhC,GAAK+vE,EAAK/rE,OAAO,SAAS6G,GACnC,MAAO7K,GAAIkE,EAAI88B,SAASn2B,KACzBhK,KAAK,KAAO,OAIhBqD,IAEXgI,GAAImf,MAAMrqB,EAAS0oE,GAEnB1oE,EAAQy+B,gBAAkB,SAASN,GAC/B,OAAQuqC,EAAKvqC,IAAY6wC,OAAOC,aAAa9wC,IAAUxzB,iBAI3DnN,OAAO,mBAAoB,UAAW,UAAW,SAAW,YAAa,wBAAyB,eAAgB,SAASN,EAAS8C,EAAS7C,GAG7I,GAAIyR,GAAQ1R,EAAQ,WAAW0R,MAC3BzD,EAAejO,EAAQ,uBAAuBiO,aAC9CD,EAAMhO,EAAQ,aAEdgyE,EAAc,SAASrpE,EAAStH,EAAQ+N,EAAK6iE,EAAQC,EAAWC,GAChE,GAAIh8C,GAAQx1B,IACZA,MAAKU,OAASA,EACdV,KAAKgI,QAAUA,EACfhI,KAAK0D,IAAMsE,EAAQgG,cACnBhO,KAAKuxE,UAAYA,EACjBvxE,KAAKwxE,YAAcA,EACnBxxE,KAAKyxE,UAAYzxE,KAAK0xE,SAASztE,KAAKjE,MACpCA,KAAK0D,IAAIS,GAAG,SAAUnE,KAAKyxE,WAC3BzxE,KAAK2xE,QAAUL,EAEftxE,KAAKg/D,gBAAkB,WACnBlvD,WAAW,WACP0lB,EAAMklC,oBAId16D,KAAK2lD,KAAOl3C,CACZ,IAAImjE,GAAY5pE,EAAQ6oB,iBAAiByW,YAAct/B,EAAQ6oB,iBAAiBghD,aAAenxE,QAAQ,EACvGV,MAAK8xE,gBAAmBF,EAAUlxE,OAClCV,KAAK+xE,QAEL/pE,EAAQsP,UAAUnT,GAAG,eAAgBnE,KAAKg/D,mBAG9C,WAEI3xD,EAAIQ,UAAU7N,KAAMsN,GACpBtN,KAAK+xE,MAAQ,WACT,GAAIv8C,GAAQx1B,KACR0D,EAAM1D,KAAK0D,IACXsE,EAAUhI,KAAKgI,QACfyG,EAAMzO,KAAK2lD,IAEf3lD,MAAKyO,IAAM/K,EAAIijB,aAAalY,EAAIjB,IAAKiB,EAAIrF,QACzCpJ,KAAKwzB,SAAWxrB,EAAQkrB,UAAU,GAAIniB,GAAMtC,EAAIjB,IAAKiB,EAAIrF,OAAQqF,EAAIjB,IAAKiB,EAAIrF,OAASpJ,KAAKU,QAASV,KAAKuxE,UAAW,MAAM,GAC3HvxE,KAAKyO,IAAItK,GAAG,SAAU,SAASzB,GAC3BsF,EAAQurB,aAAaiC,EAAMhC,UAC3BgC,EAAMhC,SAAWxrB,EAAQkrB,UAAU,GAAIniB,GAAMrO,EAAM4G,MAAMkE,IAAK9K,EAAM4G,MAAMF,OAAQ1G,EAAM4G,MAAMkE,IAAK9K,EAAM4G,MAAMF,OAAOosB,EAAM90B,QAAS80B,EAAM+7C,UAAW,MAAM,KAEhKvxE,KAAKsxE,UACLtxE,KAAK2xE,QAAQrlE,QAAQ,SAAS0lE,GAC1B,GAAIh0D,GAASta,EAAIijB,aAAaqrD,EAAMxkE,IAAKwkE,EAAM5oE,OAC/CosB,GAAM87C,OAAO/vE,KAAKyc,KAEtBhW,EAAQ+vB,eAAc,IAE1B/3B,KAAKiyE,iBAAmB,WACpB,IAAGjyE,KAAKkyE,aAAR,CACA,GAAIlqE,GAAUhI,KAAKgI,QACfwtB,EAAQx1B,IACZA,MAAKkyE,cAAe,EACpBlyE,KAAKsxE,OAAOhlE,QAAQ,SAAS0R,GACzBA,EAAOwV,SAAWxrB,EAAQkrB,UAAU,GAAIniB,GAAMiN,EAAOxQ,IAAKwQ,EAAO5U,OAAQ4U,EAAOxQ,IAAKwQ,EAAO5U,OAAOosB,EAAM90B,QAAS80B,EAAMg8C,YAAa,MAAM,GAC3IxzD,EAAO7Z,GAAG,SAAU,SAASzB,GACzBsF,EAAQurB,aAAavV,EAAOwV,UAC5BxV,EAAOwV,SAAWxrB,EAAQkrB,UAAU,GAAIniB,GAAMrO,EAAM4G,MAAMkE,IAAK9K,EAAM4G,MAAMF,OAAQ1G,EAAM4G,MAAMkE,IAAK9K,EAAM4G,MAAMF,OAAOosB,EAAM90B,QAAS80B,EAAMg8C,YAAa,MAAM,SAI3KxxE,KAAKmyE,iBAAmB,WACpB,GAAInyE,KAAKkyE,aAAT,CACAlyE,KAAKkyE,cAAe,CACpB,KAAK,GAAI/wE,GAAI,EAAGA,EAAInB,KAAKsxE,OAAO5wE,OAAQS,IACpCnB,KAAKgI,QAAQurB,aAAavzB,KAAKsxE,OAAOnwE,GAAGqyB,YAGjDxzB,KAAK0xE,SAAW,SAAShvE,GACrB,GAAIyL,GAAQzL,EAAM0L,KACdC,EAAQF,EAAME,KAClB,IAAGA,EAAMhF,MAAMmE,MAAQa,EAAM/C,IAAIkC,KAC9Ba,EAAMhF,MAAMmE,MAAQxN,KAAKyO,IAAIjB,MAC5BxN,KAAK4V,UAAT,CACA5V,KAAK4V,WAAY,CACjB,IAAIw8D,GAA8B,eAAjBjkE,EAAMvJ,OAA0ByJ,EAAM/C,IAAIlC,OAASiF,EAAMhF,MAAMD,OAASiF,EAAMhF,MAAMD,OAASiF,EAAM/C,IAAIlC,MAExH,IAAGiF,EAAMhF,MAAMD,QAAUpJ,KAAKyO,IAAIrF,QAAUiF,EAAMhF,MAAMD,QAAUpJ,KAAKyO,IAAIrF,OAASpJ,KAAKU,OAAS,EAAG,CACjG,GAAI2xE,GAAoBhkE,EAAMhF,MAAMD,OAASpJ,KAAKyO,IAAIrF,MAEtD,IADApJ,KAAKU,QAAU0xE,GACXpyE,KAAKgI,QAAQooB,UAAW,CACxB,GAAoB,eAAjBjiB,EAAMvJ,OACL,IAAK,GAAIzD,GAAInB,KAAKsxE,OAAO5wE,OAAS,EAAGS,GAAK,EAAGA,IAAK,CAC9C,GAAImxE,GAAWtyE,KAAKsxE,OAAOnwE,GACvBoxE,GAAU/kE,IAAK8kE,EAAS9kE,IAAKpE,OAAQkpE,EAASlpE,OAASipE,EACxDC,GAAS9kE,MAAQa,EAAMhF,MAAMmE,KAAOa,EAAMhF,MAAMD,OAASkpE,EAASlpE,SACjEmpE,EAAOnpE,QAAUgpE,GACrBpyE,KAAK0D,IAAI2d,OAAOkxD,EAAQpkE,EAAM9J,UAE/B,IAAoB,eAAjB8J,EAAMvJ,OACZ,IAAK,GAAIzD,GAAInB,KAAKsxE,OAAO5wE,OAAS,EAAGS,GAAK,EAAGA,IAAK,CAC9C,GAAImxE,GAAWtyE,KAAKsxE,OAAOnwE,GACvBoxE,GAAU/kE,IAAK8kE,EAAS9kE,IAAKpE,OAAQkpE,EAASlpE,OAASipE,EACxDC,GAAS9kE,MAAQa,EAAMhF,MAAMmE,KAAOa,EAAMhF,MAAMD,OAASkpE,EAASlpE,SACjEmpE,EAAOnpE,QAAUgpE,GACrBpyE,KAAK0D,IAAIuB,OAAO,GAAI8L,GAAMwhE,EAAO/kE,IAAK+kE,EAAOnpE,OAAQmpE,EAAO/kE,IAAK+kE,EAAOnpE,OAASgpE;CAGtF/jE,EAAMhF,MAAMD,SAAWpJ,KAAKyO,IAAIrF,QAA2B,eAAjB+E,EAAMvJ,OAC/CkL,WAAW,WACP9P,KAAKyO,IAAIb,YAAY5N,KAAKyO,IAAIjB,IAAKxN,KAAKyO,IAAIrF,OAASgpE,EACrD,KAAK,GAAIjxE,GAAI,EAAGA,EAAInB,KAAKsxE,OAAO5wE,OAAQS,IAAK,CACzC,GAAI6wE,GAAQhyE,KAAKsxE,OAAOnwE,GACpBoxE,GAAU/kE,IAAKwkE,EAAMxkE,IAAKpE,OAAQ4oE,EAAM5oE,OAASgpE,EAClDJ,GAAMxkE,MAAQa,EAAMhF,MAAMmE,KAAOa,EAAMhF,MAAMD,OAAS4oE,EAAM5oE,SAC3DmpE,EAAOnpE,QAAUgpE,GACrBJ,EAAMpkE,YAAY2kE,EAAO/kE,IAAK+kE,EAAOnpE,UAE3CnF,KAAKjE,MAAO,GAEVqO,EAAMhF,MAAMD,SAAWpJ,KAAKyO,IAAIrF,QAA2B,eAAjB+E,EAAMvJ,QACpDkL,WAAW,WACP,IAAK,GAAI3O,GAAI,EAAGA,EAAInB,KAAKsxE,OAAO5wE,OAAQS,IAAK,CACzC,GAAI6wE,GAAQhyE,KAAKsxE,OAAOnwE,EACrB6wE,GAAMxkE,MAAQa,EAAMhF,MAAMmE,KAAOa,EAAMhF,MAAMD,OAAS4oE,EAAM5oE,QAC3D4oE,EAAMpkE,YAAYokE,EAAMxkE,IAAKwkE,EAAM5oE,OAASgpE,KAGtDnuE,KAAKjE,MAAO,GAGtBA,KAAKyO,IAAI8G,MAAM,UAAWjM,MAAOtJ,KAAKyO,KACtC,KAAK,GAAItN,GAAI,EAAGA,EAAInB,KAAKsxE,OAAO5wE,OAAQS,IACpCnB,KAAKsxE,OAAOnwE,GAAGoU,MAAM,UAAWjM,MAAOtJ,KAAKsxE,OAAOnwE,KAG3DnB,KAAK4V,WAAY,IAGrB5V,KAAK06D,eAAiB,SAASh4D,GAC3B,IAAI1C,KAAK4V,UAAT,CACA,GAAInH,GAAMzO,KAAKgI,QAAQsP,UAAUmD,WAC9BhM,GAAIjB,MAAQxN,KAAKyO,IAAIjB,KAAOiB,EAAIrF,QAAUpJ,KAAKyO,IAAIrF,QAAUqF,EAAIrF,QAAUpJ,KAAKyO,IAAIrF,OAASpJ,KAAKU,QACjGV,KAAKiyE,mBACLjyE,KAAKuV,MAAM,cAAe7S,KAE1B1C,KAAKmyE,mBACLnyE,KAAKuV,MAAM,cAAe7S,MAGlC1C,KAAK4O,OAAS,WACV5O,KAAKgI,QAAQurB,aAAavzB,KAAKwzB,UAC/BxzB,KAAKmyE,mBACLnyE,KAAK0D,IAAImL,oBAAoB,SAAU7O,KAAKyxE,WAC5CzxE,KAAKgI,QAAQsP,UAAUzI,oBAAoB,eAAgB7O,KAAKg/D,iBAChEh/D,KAAKyO,IAAIG,QACT,KAAK,GAAIzN,GAAI,EAAGA,EAAInB,KAAKsxE,OAAO5wE,OAAQS,IACpCnB,KAAKsxE,OAAOnwE,GAAGyN,QAEnB5O,MAAKgI,QAAQ+vB,eAAc,IAE/B/3B,KAAKkxB,OAAS,WACV,GAAGlxB,KAAK8xE,mBAAoB,EACxB,KAAMvuE,OAAM,+EAGhB,KAAK,GAFD0tB,GAAcjxB,KAAKgI,QAAQ6oB,iBAC3B2hD,GAAiBvhD,EAAYqW,YAAcrW,EAAY4gD,YAAYnxE,OAASV,KAAK8xE,gBAC5E3wE,EAAI,EAAGA,EAAIqxE,EAAerxE,IAC/B8vB,EAAYU,MAAK,MAG1B1wB,KAAKowE,EAAYtwE,WAGpBoB,EAAQkvE,YAAcA,IAGtB1xE,OAAO,iBAAkB,UAAW,UAAW,SAAW,eAAgB,qBAAsB,SAASN,EAAS8C,EAAS7C,GAsL3H,QAASmzE,GAAqBlzE,EAAU2O,EAAGoyB,GACvC,GAAIF,GAASsyC,EAAgBxkE,EAE7B,KAAK4yB,EAAUC,OAAS4xC,EAAa,CAGjC,IAFIA,EAAY,KAAOA,EAAY,OAC/BvyC,GAAU,GACVuyC,EAAYC,MAAO,CACnB,GAAoB,IAAf,EAAIxyC,GAGL,MAFAuyC,GAAYC,MAAQ,EAI5B,GAAgB,KAAZtyC,GAA8B,KAAZA,EAAgB,CAClC,GAAIlqB,GAAWlI,EAAEkI,UAAYlI,EAAE2kE,WAC/B,IAAgB,KAAZvyC,GAA+B,IAAblqB,EAClB08D,EAAK5kE,EAAEmhD,cACJ,IAAgB,KAAZ/uB,GAA6B,IAAXF,GAA6B,IAAbhqB,EAAgB,CACzD,GAAIk5C,IAAMwjB,CACVA,GAAK5kE,EAAEmhD,UACPC,GAAMwjB,EACFxjB,EAAK,IACLqjB,EAAYC,OAAQ,KAKpC,GAAItyC,IAAWj0B,GAAKy+D,cAAe,CAC/B,OAAQz+D,EAAKy+D,cAAcxqC,IACvB,IAAK,MACDF,EAAS,CACT,MACJ,KAAK,QACDA,EAAS,CACT,MACJ,KAAK,OACDA,EAAS,CACT,MACJ,SACIA,EAAS,EAGjBE,GAAU,EAOd,GAJa,EAATF,IAA2B,KAAZE,GAA8B,KAAZA,KACjCA,GAAU,GAGTF,GAAsB,KAAZE,IACPpyB,EAAEkI,UAA8B,IAAlBlI,EAAE2kE,cAChBtzE,EAAS2O,EAAGkyB,GAASE,IACjBpyB,EAAEk4B,kBAId,SAAKhG,GAAYE,IAAWj0B,GAAK61B,eAAoB5B,IAAWj0B,GAAKwhE,iBAI9DtuE,EAAS2O,EAAGkyB,EAAQE,GA9O/B,GAAIj0B,GAAOhN,EAAQ,UACfyhC,EAAYzhC,EAAQ,cAExB8C,GAAQ+B,YAAc,SAAS6uE,EAAM5hE,EAAM5R,GACvC,GAAIwzE,EAAKx9C,iBACL,MAAOw9C,GAAKx9C,iBAAiBpkB,EAAM5R,GAAU,EAEjD,IAAIwzE,EAAKC,YAAa,CAClB,GAAIC,GAAU,WACV1zE,EAAS0B,KAAK8xE,EAAM1yE,OAAOqC,OAE/BnD,GAAS2zE,SAAWD,EACpBF,EAAKC,YAAY,KAAO7hE,EAAM8hE,KAItC9wE,EAAQiC,eAAiB,SAAS2uE,EAAM5hE,EAAM5R,GAC1C,MAAIwzE,GAAKlkE,oBACEkkE,EAAKlkE,oBAAoBsC,EAAM5R,GAAU,QAEhDwzE,EAAKI,aACLJ,EAAKI,YAAY,KAAOhiE,EAAM5R,EAAS2zE,UAAY3zE,KAG3D4C,EAAQu+B,UAAY,SAASxyB,GAGzB,MAFA/L,GAAQ8jC,gBAAgB/3B,GACxB/L,EAAQgkC,eAAej4B,IAChB,GAGX/L,EAAQ8jC,gBAAkB,SAAS/3B,GAC3BA,EAAE+3B,gBACF/3B,EAAE+3B,kBAEF/3B,EAAEklE,cAAe,GAGzBjxE,EAAQgkC,eAAiB,SAASj4B,GAC1BA,EAAEi4B,eACFj4B,EAAEi4B,iBAEFj4B,EAAE1L,aAAc,GAExBL,EAAQqiD,UAAY,SAASt2C,GACzB,MAAc,YAAVA,EAAEiD,KACK,EACG,eAAVjD,EAAEiD,MAA0BjD,EAAE6L,SAAW+mB,EAAUC,MAC5C,EACP7yB,EAAEi4B,eACKj4B,EAAEq2C,QAGD8uB,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAAGrlE,EAAEq2C,SAIjCpiD,EAAQyuD,QAAU,SAASztD,EAAIqwE,EAAcC,GACzC,QAASC,GAAUxlE,GACfslE,GAAgBA,EAAatlE,GAC7BulE,GAAyBA,EAAsBvlE,GAE/C/L,EAAQiC,eAAef,SAAU,YAAamwE,GAAc,GAC5DrxE,EAAQiC,eAAef,SAAU,UAAWqwE,GAAW,GACvDvxE,EAAQiC,eAAef,SAAU,YAAaqwE,GAAW,GAO7D,MAJAvxE,GAAQ+B,YAAYb,SAAU,YAAamwE,GAAc,GACzDrxE,EAAQ+B,YAAYb,SAAU,UAAWqwE,GAAW,GACpDvxE,EAAQ+B,YAAYb,SAAU,YAAaqwE,GAAW,GAE/CA,GAGXvxE,EAAQ8tD,sBAAwB,SAAS9sD,EAAI5D,GACrC,gBAAkB4D,GAClBhB,EAAQ+B,YAAYf,EAAI,aAAc,SAAS+K,GAC3C,GAAIylE,GAAS,CACS9uE,UAAlBqJ,EAAE0lE,aACF1lE,EAAEkhD,QAAUlhD,EAAE0lE,YAAcD,EAC5BzlE,EAAEihD,QAAUjhD,EAAE2lE,YAAcF,IAE5BzlE,EAAEkhD,OAAS,EACXlhD,EAAEihD,QAAUjhD,EAAE4lE,WAAaH,GAE/Bp0E,EAAS2O,KAEN,WAAa/K,GACpBhB,EAAQ+B,YAAYf,EAAI,QAAU,SAAS+K,GACvC,GAAIylE,GAAS,GACb,QAAQzlE,EAAE6lE,WACN,IAAK7lE,GAAE8lE,gBACH9lE,EAAEkhD,OAASlhD,EAAEypC,OAASg8B,GAAU,EAChCzlE,EAAEihD,OAASjhD,EAAE0pC,OAAS+7B,GAAU,CAChC,MACJ,KAAKzlE,GAAE+lE,eACP,IAAK/lE,GAAEgmE,eACHhmE,EAAEkhD,OAA2B,GAAjBlhD,EAAEypC,QAAU,GACxBzpC,EAAEihD,OAA2B,GAAjBjhD,EAAE0pC,QAAU,GAIhCr4C,EAAS2O,KAGb/L,EAAQ+B,YAAYf,EAAI,iBAAkB,SAAS+K,GAC3CA,EAAEimE,MAAQjmE,EAAEimE,MAAQjmE,EAAEkmE,iBACtBlmE,EAAEkhD,OAA2B,GAAjBlhD,EAAEw2C,QAAU,GACxBx2C,EAAEihD,OAAS,IAEXjhD,EAAEkhD,OAAS,EACXlhD,EAAEihD,OAA2B,GAAjBjhD,EAAEw2C,QAAU,IAE5BnlD,EAAS2O,MAKrB/L,EAAQ6tD,0BAA4B,SAAS7sD,EAAIkxE,EAAUb,EAAcc,GACrE,GACIC,GAAQC,EAAQ3e,EADhB4e,EAAS,EAETC,GACApB,EAAG,WACHqB,EAAG,cACHpB,EAAG,YAGPpxE,GAAQ+B,YAAYf,EAAI,YAAa,SAAS+K,GAU1C,GAT6B,IAAzB/L,EAAQqiD,UAAUt2C,GAClBumE,EAAS,EACFvmE,EAAEw2C,OAAS,GAClB+vB,IACIA,EAAS,IACTA,EAAS,IAEbA,EAAS,EAET3zC,EAAUqjB,KAAM,CAChB,GAAIywB,GAAatmE,KAAKusB,IAAI3sB,EAAE40C,QAAUyxB,GAAU,GAAKjmE,KAAKusB,IAAI3sB,EAAE60C,QAAUyxB,GAAU,CAChFI,KACAH,EAAS,GAEC,GAAVA,IACAF,EAASrmE,EAAE40C,QACX0xB,EAAStmE,EAAE60C,SAMnB,GAFAywB,EAAac,GAAc,YAAapmE,GAEpCumE,EAAS,EACTA,EAAS,MACR,IAAIA,EAAS,EACd,MAAOjB,GAAac,GAAcI,EAAWD,GAASvmE,KAG1D4yB,EAAU6vB,SACVxuD,EAAQ+B,YAAYf,EAAI,WAAY,SAAS+K,GACzCumE,EAAS,EACL5e,GACAnlD,aAAamlD,GACjBA,EAAQ/lD,WAAW,WAAY+lD,EAAQ,MAAOwe,EAASI,EAAS,IAAM,KACtEjB,EAAac,GAAc,YAAapmE,GACxCslE,EAAac,GAAcI,EAAWD,GAASvmE,KAK3D,IAAIwkE,IAAkB5xC,EAAUC,QAASD,EAAU8gB,SAAa,iBAAmBvhD,QAI7E,SAAS6N,GACP,MAAO,IAAKA,EAAE6L,QAAU,EAAI,IAAM7L,EAAEgM,OAAS,EAAI,IAAMhM,EAAE2L,SAAW,EAAI,IAAM3L,EAAE8L,QAAU,EAAI,IAJhG,SAAS9L,GACP,MAAO,IAAKA,EAAE8L,QAAU,EAAI,IAAM9L,EAAEgM,OAAS,EAAI,IAAMhM,EAAE2L,SAAW,EAAI,IAAM3L,EAAE6L,QAAU,EAAI,GAMtG5X,GAAQ0yE,kBAAoB,SAAS3mE,GACjC,MAAO7B,GAAK81B,SAASuwC,EAAgBxkE,IAiEzC,IAAIykE,GAAc,KACdG,EAAK,CAyCT,IAxCA3wE,EAAQwzD,sBAAwB,SAASxyD,EAAI5D,GACzC,GAAI2E,GAAc/B,EAAQ+B,WAC1B,IAAI48B,EAAUomC,YAAepmC,EAAU8gB,WAAa,iBAAmBvhD,SAAU,CAC7E,GAAIy0E,GAAqB,IACzB5wE,GAAYf,EAAI,UAAW,SAAS+K,GAChC4mE,EAAqB5mE,EAAEoyB,UAE3Bp8B,EAAYf,EAAI,WAAY,SAAS+K,GACjC,MAAOukE,GAAqBlzE,EAAU2O,EAAG4mE,SAE1C,CACH,GAAIC,GAAuB,IAE3B7wE,GAAYf,EAAI,UAAW,SAAS+K,GAChCykE,EAAYzkE,EAAEoyB,UAAW,CACzB,IAAIoc,GAAS+1B,EAAqBlzE,EAAU2O,EAAGA,EAAEoyB,QAEjD,OADAy0C,GAAuB7mE,EAAEk4B,iBAClBsW,IAGXx4C,EAAYf,EAAI,WAAY,SAAS+K,GAC7B6mE,IAAyB7mE,EAAE6L,SAAW7L,EAAEgM,QAAUhM,EAAE2L,UAAY3L,EAAE8L,WAClE7X,EAAQu+B,UAAUxyB,GAClB6mE,EAAuB,QAI/B7wE,EAAYf,EAAI,QAAS,SAAS+K,GAC9BykE,EAAYzkE,EAAEoyB,SAAW,OAGxBqyC,IACDA,EAAc7xE,OAAO6L,OAAO,MAC5BzI,EAAY7D,OAAQ,QAAS,SAAS6N,GAClCykE,EAAc7xE,OAAO6L,OAAO,WAMxCtM,OAAO8oE,cAAgBroC,EAAU6vB,QAAS,CAC1C,GAAIqkB,GAAgB,CACpB7yE,GAAQ8yE,SAAW,SAAS11E,EAAUwjC,GAClCA,EAAMA,GAAO1iC,MACb,IAAI60E,GAAc,wBAA0BF,CAC5C7yE,GAAQ+B,YAAY6+B,EAAK,UAAW,QAASoyC,GAASjnE,GAC9CA,EAAEE,MAAQ8mE,IACV/yE,EAAQ8jC,gBAAgB/3B,GACxB/L,EAAQiC,eAAe2+B,EAAK,UAAWoyC,GACvC51E,OAGRwjC,EAAIomC,YAAY+L,EAAa,MAKrC/yE,EAAQytD,UAAYvvD,OAAO+0E,uBACvB/0E,OAAOg1E,0BACPh1E,OAAOi1E,6BACPj1E,OAAOk1E,yBACPl1E,OAAOm1E,uBAEPrzE,EAAQytD,UACRztD,EAAQytD,UAAYztD,EAAQytD,UAAU3rD,KAAK5D,QAE3C8B,EAAQytD,UAAY,SAASrwD,GACzBuQ,WAAWvQ,EAAU,OAI7BI,OAAO,8BAA+B,UAAW,UAAW,SAAW,aAAc,SAASN,EAAS8C,EAAS7C,GAGhH,GAAIyR,GAAQ1R,EAAQ,eAAe0R,MAE/B0kE,EAAWtzE,EAAQszE,SAAW,cAElC,WAEIz1E,KAAK01E,mBAAqB,KAC1B11E,KAAK21E,kBAAoB,KACzB31E,KAAKsY,cAAgB,SAAStQ,EAASy9D,EAAWj4D,GAC9C,GAAIoD,GAAO5I,EAAQ8G,QAAQtB,EAC3B,OAAIxN,MAAK01E,mBAAmBz9D,KAAKrH,GACtB,QACM,gBAAb60D,GACOzlE,KAAK21E,mBACL31E,KAAK21E,kBAAkB19D,KAAKrH,GAC5B,MACJ,IAGX5Q,KAAKuY,mBAAqB,SAASvQ,EAASy9D,EAAWj4D,GACnD,MAAO,OAGXxN,KAAK41E,iBAAmB,SAAS5tE,EAASwF,EAAKpE,GAC3C,GAAI8O,GAAK,KACLtH,EAAO5I,EAAQ8G,QAAQtB,GACvBqoE,EAAajlE,EAAKiQ,OAAO3I,EAC7B,IAAI29D,IAAc,EAAlB,CAQA,IALA,GAAIthE,GAAcnL,GAAUwH,EAAKlQ,OAC7B2sB,EAASrlB,EAAQc,YACjByH,EAAW/C,EACXgH,EAAShH,IAEJA,EAAM6f,GAAQ,CACnB,GAAIyoD,GAAQ9tE,EAAQ8G,QAAQtB,GAAKqT,OAAO3I,EAExC,IAAI49D,IAAS,EAAb,CAGA,GAAIA,GAASD,EACT,KAEJrhE,GAAShH,GAGb,GAAIgH,EAASjE,EAAU,CACnB,GAAIkE,GAAYzM,EAAQ8G,QAAQ0F,GAAQ9T,MACxC,OAAO,IAAIqQ,GAAMR,EAAUgE,EAAaC,EAAQC,MAIxDzU,KAAK+1E,oBAAsB,SAAS/tE,EAASie,EAASzY,EAAKpE,EAAQ8c,GAC/D,GAAI7c,IAASmE,IAAKA,EAAKpE,OAAQA,EAAS,GACpCkC,EAAMtD,EAAQud,oBAAoBU,EAAS5c,EAAO6c,EACtD,IAAK5a,EAAL,CAGA,GAAIgO,GAAKtR,EAAQqQ,YAAY/M,EAAIkC,IAQjC,OAPU,OAAN8L,IACAA,EAAKtR,EAAQsQ,cAAchN,EAAIkC,MAEzB,SAAN8L,GAAiBhO,EAAIkC,IAAMnE,EAAMmE,MACjClC,EAAIkC,MACJlC,EAAIlC,OAASpB,EAAQ8G,QAAQxD,EAAIkC,KAAK9M,QAEnCqQ,EAAMuF,WAAWjN,EAAOiC,KAGnCtL,KAAKg2E,oBAAsB,SAAShuE,EAASie,EAASzY,EAAKpE,EAAQ8c,GAC/D,GAAI5a,IAAOkC,IAAKA,EAAKpE,OAAQA,GACzBC,EAAQrB,EAAQwd,oBAAoBS,EAAS3a,EAEjD,IAAKjC,EAML,MAHAA,GAAMD,SACNkC,EAAIlC,SAEI2H,EAAMuF,WAAWjN,EAAOiC,MAErCrK,KAAKw0E,EAAS10E,aAIjBpB,OAAO,eAAgB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAGpF,GAAuB,mBAAZ+D,UAAX,CAGA,GAAI4yE,GAAW,8BAEf9zE,GAAQqmC,gBAAkB,SAAS9kC,GAG/B,MAFKA,KACDA,EAAML,UACHK,EAAI6kC,MAAQ7kC,EAAIs3C,qBAAqB,QAAQ,IAAMt3C,EAAI+oD,iBAGlEtqD,EAAQumC,cAAgB,SAASwtC,EAAK92E,GAClC,MAAOiE,UAAS8yE,gBACT9yE,SAAS8yE,gBAAgB/2E,GAAM62E,EAAUC,GACzC7yE,SAASqlC,cAAcwtC,IAGlC/zE,EAAQkqD,YAAc,SAASlpD,EAAIwB,GAC/B,GAAI0jD,GAAUllD,EAAGyJ,UAAUhL,MAAM,OACjC,OAAOymD,GAAQ3mD,QAAQiD,MAAU,GAErCxC,EAAQ6nC,YAAc,SAAS7mC,EAAIwB,GAC1BxC,EAAQkqD,YAAYlpD,EAAIwB,KACzBxB,EAAGyJ,WAAa,IAAMjI,IAG9BxC,EAAQo2C,eAAiB,SAASp1C,EAAIwB,GAElC,IADA,GAAI0jD,GAAUllD,EAAGyJ,UAAUhL,MAAM,UACpB,CACT,GAAI8G,GAAQ2/C,EAAQ3mD,QAAQiD,EAC5B,IAAI+D,IAAS,EACT,KAEJ2/C,GAAQp8C,OAAOvD,EAAO,GAE1BvF,EAAGyJ,UAAYy7C,EAAQrmD,KAAK,MAGhCG,EAAQi0E,eAAiB,SAASjzE,EAAIwB,GAElC,IADA,GAAI0jD,GAAUllD,EAAGyJ,UAAUhL,MAAM,QAAS8C,GAAM,IACnC,CACT,GAAIgE,GAAQ2/C,EAAQ3mD,QAAQiD,EAC5B,IAAI+D,IAAS,EACT,KAEJhE,IAAM,EACN2jD,EAAQp8C,OAAOvD,EAAO,GAM1B,MAJGhE,IACC2jD,EAAQ9mD,KAAKoD,GAEjBxB,EAAGyJ,UAAYy7C,EAAQrmD,KAAK,KACrB0C,GAEXvC,EAAQ82C,YAAc,SAASo9B,EAAMzpE,EAAWlB,GACxCA,EACAvJ,EAAQ6nC,YAAYqsC,EAAMzpE,GAE1BzK,EAAQo2C,eAAe89B,EAAMzpE,IAIrCzK,EAAQm0E,aAAe,SAASj0E,EAAIqB,GAChC,GAAe6yE,GAAX7tE,EAAQ,CAGZ,IAFAhF,EAAMA,GAAOL,SAETK,EAAI8yE,mBAAqBD,EAAS7yE,EAAI+yE,cACtC,KAAO/tE,EAAQ6tE,EAAO71E,QAClB,GAAI61E,EAAO7tE,KAASguE,cAAcr0E,KAAOA,EAAI,OAAO,MACrD,IAAKk0E,EAAS7yE,EAAIs3C,qBAAqB,SAC1C,KAAOtyC,EAAQ6tE,EAAO71E,QAClB,GAAI61E,EAAO7tE,KAASrG,KAAOA,EAAI,OAAO,CAG9C,QAAO,GAGXF,EAAQynC,gBAAkB,SAAyB8O,EAASr2C,EAAIqB,GAE5D,GADAA,EAAMA,GAAOL,SACThB,GAAMF,EAAQm0E,aAAaj0E,EAAIqB,GAC/B,MAAO,KAEX,IAAIoV,EAEApV,GAAI8yE,kBACJ19D,EAAQpV,EAAI8yE,mBACZ19D,EAAM4/B,QAAUA,EACZr2C,IACAyW,EAAM49D,cAAcr0E,GAAKA,KAE7ByW,EAAQpV,EAAIyyE,gBACNzyE,EAAIyyE,gBAAgBF,EAAU,SAC9BvyE,EAAIglC,cAAc,SAExB5vB,EAAM6vB,YAAYjlC,EAAI26C,eAAe3F,IACjCr2C,IACAyW,EAAMzW,GAAKA,GAEfF,EAAQqmC,gBAAgB9kC,GAAKilC,YAAY7vB,KAIjD3W,EAAQw0E,mBAAqB,SAASr0E,EAAKoB,GACvC,GAAIA,EAAI8yE,iBACJ9yE,EAAI8yE,iBAAiBl0E,OAClB,CACH,GAAIs0E,GAAOz0E,EAAQumC,cAAc,OACjCkuC,GAAKC,IAAM,aACXD,EAAKE,KAAOx0E,EAEZH,EAAQqmC,gBAAgB9kC,GAAKilC,YAAYiuC,KAIjDz0E,EAAQ40E,cAAgB,SAASrsC,GAC7B,MACIhuB,UAASva,EAAQw8C,cAAcjU,EAAS,eAAgB,IACxDhuB,SAASva,EAAQw8C,cAAcjU,EAAS,gBAAiB,IACzDA,EAAQmE,aAIhB1sC,EAAQ60E,eAAiB,SAAStsC,GAC9B,MACIhuB,UAASva,EAAQw8C,cAAcjU,EAAS,cAAe,IACvDhuB,SAASva,EAAQw8C,cAAcjU,EAAS,iBAAkB,IAC1DA,EAAQiE,cAIW9pC,SAAvBxE,OAAO42E,aACP90E,EAAQ+0E,iBAAmB,WACvB,MAAO72E,QAAO42E,aAGlB90E,EAAQg1E,kBAAoB,WACxB,MAAO92E,QAAO+2E,eAIlBj1E,EAAQ+0E,iBAAmB,WACvB,MAAO7zE,UAASg0E,KAAKnhD,WAGzB/zB,EAAQg1E,kBAAoB,WACxB,MAAO9zE,UAASg0E,KAAK9gD,aAIzBl2B,OAAOi3E,iBACPn1E,EAAQw8C,cAAgB,SAASjU,EAAS5xB,GACtC,MAAIA,IACQzY,OAAOi3E,iBAAiB5sC,EAAS,SAAW5xB,IAAU,GAC3DzY,OAAOi3E,iBAAiB5sC,EAAS,SAG5CvoC,EAAQw8C,cAAgB,SAASjU,EAAS5xB,GACtC,MAAIA,GACO4xB,EAAQ6sC,aAAaz+D,GACzB4xB,EAAQ6sC,cAGvBp1E,EAAQgrD,eAAiB,SAAS9pD,GAC9B,GAAI0pD,GAAQ5qD,EAAQumC,cAAc,YAClCqkB,GAAMj0C,MAAMge,MAAQ,OACpBi2B,EAAMj0C,MAAM0+D,SAAW,MACvBzqB,EAAMj0C,MAAM6yB,OAAS,QACrBohB,EAAMj0C,MAAMw3B,QAAU,OAEtB,IAAIhjB,GAAQnrB,EAAQumC,cAAc,aAC9B5vB,EAAQwU,EAAMxU,KAElBA,GAAMsM,SAAW,WACjBtM,EAAMuyB,KAAO,WACbvyB,EAAM44C,SAAW,SACjB54C,EAAMge,MAAQ,QACdhe,EAAM0+D,SAAW,MACjB1+D,EAAM6yB,OAAS,QACf7yB,EAAMw3B,QAAU,QAEhBhjB,EAAMqb,YAAYokB,EAElB,IAAIsqB,GAAOh0E,EAASopD,eACpB4qB,GAAK1uC,YAAYrb,EAEjB,IAAImqD,GAAc1qB,EAAMzd,WAExBx2B,GAAM44C,SAAW,QACjB,IAAIgmB,GAAgB3qB,EAAMzd,WAQ1B,OANImoC,IAAeC,IACfA,EAAgBpqD,EAAMuhB,aAG1BwoC,EAAKn5B,YAAY5wB,GAEVmqD,EAAYC,GAEvBv1E,EAAQkjD,aAAe,SAASliD,EAAIw0E,GAChC,GAAIjtC,GAAUvnC,EAAGy0E,WAAU,EAG3B,OAFAltC,GAAQ7mC,UAAY8zE,EACpBx0E,EAAG6lD,WAAW6uB,aAAantC,EAASvnC,GAC7BunC,GAGP,eAAiBrnC,UAASopD,iBAC1BtqD,EAAQqnD,aAAe,SAASrmD,EAAI20E,GAChC30E,EAAGmuD,YAAcwmB,GAGrB31E,EAAQyB,aAAe,SAAST,GAC5B,MAAOA,GAAGmuD,eAIdnvD,EAAQqnD,aAAe,SAASrmD,EAAI20E,GAChC30E,EAAG20E,UAAYA,GAGnB31E,EAAQyB,aAAe,SAAST,GAC5B,MAAOA,GAAG20E,YAIlB31E,EAAQ41E,gBAAkB,SAAS10E,GAC/B,MAAOA,GAASspC,aAAetpC,EAAS20E,iBAK5Cr4E,OAAO,sBAAuB,UAAW,UAAW,SAAW,eAAgB,SAASN,EAAS8C,EAAS7C,GAG1G6C,EAAQ+2C,QAAS,EACjB/2C,EAAQ42C,SAAW,SACnB52C,EAAQu2C,QAAU,w1EA0HlB,IAAIj2C,GAAMpD,EAAQ,aAClBoD,GAAImnC,gBAAgBznC,EAAQu2C,QAASv2C,EAAQ42C,YAG7Cp5C,OAAO,oBAAqB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAEzF,QAAS24E,MA8cT,QAASC,GAAuBC,GAC5B,IAEI,MADAr3E,QAAOs3E,eAAeD,EAAQ,eACvB,YAAcA,GACvB,MAAOE,KAkLb,QAASC,GAAUp0D,GAOf,MANAA,IAAKA,EACDA,IAAMA,EACNA,EAAI,EACS,IAANA,GAAWA,IAAO,EAAE,GAAMA,MAAQ,EAAE,KAC3CA,GAAKA,EAAI,IAAK,GAAM5V,KAAKwS,MAAMxS,KAAKusB,IAAI3W,KAErCA,EAzoBNq0D,SAASx3E,UAAUkD,OACpBs0E,SAASx3E,UAAUkD,KAAO,SAAcu0E,GACpC,GAAIp+D,GAASpa,IACb,IAAqB,kBAAVoa,GACP,KAAM,IAAIq+D,WAAU,kDAAoDr+D,EAE5E,IAAIvO,GAAO9J,EAAMd,KAAKX,UAAW,GAC7Bo4E,EAAQ,WAER,GAAI14E,eAAgB04E,GAAO,CAEvB,GAAIh8B,GAAStiC,EAAOha,MAChBJ,KACA6L,EAAKC,OAAO/J,EAAMd,KAAKX,YAE3B,OAAIQ,QAAO47C,KAAYA,EACZA,EAEJ18C,KAGP,MAAOoa,GAAOha,MACVo4E,EACA3sE,EAAKC,OAAO/J,EAAMd,KAAKX,aAWnC,OALG8Z,GAAOrZ,YACNk3E,EAAMl3E,UAAYqZ,EAAOrZ,UACzB23E,EAAM33E,UAAY,GAAIk3E,GACtBA,EAAMl3E,UAAY,MAEf23E,GAGf,IAMIC,GACAC,EACAC,EACAC,EACAC,EAVA93E,EAAOs3E,SAASx3E,UAAUE,KAC1B+3E,EAAmBvuE,MAAM1J,UACzBk4E,EAAoBn4E,OAAOC,UAC3BgB,EAAQi3E,EAAiBj3E,MACzBm3E,EAAYj4E,EAAKgD,KAAKg1E,EAAkBj4E,UACxCm4E,EAAOl4E,EAAKgD,KAAKg1E,EAAkBn9B,eAYvC,KANKi9B,EAAoBI,EAAKF,EAAmB,uBAC7CN,EAAe13E,EAAKgD,KAAKg1E,EAAkBh4C,kBAC3C23C,EAAe33E,EAAKgD,KAAKg1E,EAAkB/3C,kBAC3C23C,EAAe53E,EAAKgD,KAAKg1E,EAAkBG,kBAC3CN,EAAe73E,EAAKgD,KAAKg1E,EAAkBI,mBAEjB,IAAzB,EAAE,GAAGptE,OAAO,GAAGvL,OAChB,GAAG,WACC,QAAS44E,GAAUl4E,GACf,GAAIyL,GAAI,GAAIpC,OAAMrJ,EAAE,EAEpB,OADAyL,GAAE,GAAKA,EAAE,GAAK,EACPA,EAEX,GAAgB0sE,GAAZ1iB,IAUJ,IARAA,EAAM5qD,OAAO7L,MAAMy2D,EAAOyiB,EAAU,KACpCziB,EAAM5qD,OAAO7L,MAAMy2D,EAAOyiB,EAAU,KAEpCC,EAAe1iB,EAAMn2D,OACrBm2D,EAAM5qD,OAAO,EAAG,EAAG,OAEnBstE,EAAe,GAAK1iB,EAAMn2D,OAEtB64E,EAAe,GAAK1iB,EAAMn2D,OAC1B,OAAO,KAEV,CACD,GAAI84E,GAAe/uE,MAAM1J,UAAUkL,MACnCxB,OAAM1J,UAAUkL,OAAS,SAAS5C,EAAOowE,GACrC,MAAKn5E,WAAUI,OAGJ84E,EAAap5E,MAAMJ,MACZ,SAAVqJ,EAAmB,EAAIA,EACP,SAAhBowE,EAA0Bz5E,KAAKU,OAAS2I,EAASowE,GACnD3tE,OAAO/J,EAAMd,KAAKX,UAAW,aAIvCmK,OAAM1J,UAAUkL,OAAS,SAASwC,EAAKirE,GACnC,GAAIh5E,GAASV,KAAKU,MACd+N,GAAM,EACFA,EAAM/N,IACN+N,EAAM/N,GACI,QAAP+N,EACPA,EAAM,EACCA,EAAM,IACbA,EAAMH,KAAKC,IAAI7N,EAAS+N,EAAK,IAG3BA,EAAIirE,EAAch5E,IACpBg5E,EAAch5E,EAAS+N,EAE3B,IAAIgV,GAAUzjB,KAAK+B,MAAM0M,EAAKA,EAAIirE,GAC9Br4D,EAAStf,EAAMd,KAAKX,UAAW,GAC/BoE,EAAM2c,EAAO3gB,MACjB,IAAI+N,IAAQ/N,EACJgE,GACA1E,KAAKuB,KAAKnB,MAAMJ,KAAMqhB,OAEvB,CACH,GAAIpc,GAASqJ,KAAKS,IAAI2qE,EAAah5E,EAAS+N,GACxCkrE,EAAalrE,EAAMxJ,EACnB20E,EAAaD,EAAaj1E,EAAMO,EAChC40E,EAAYn5E,EAASi5E,EACrBG,EAAoBp5E,EAASuE,CAEjC,IAAI20E,EAAaD,EACb,IAAK,GAAIx4E,GAAI,EAAGA,EAAI04E,IAAa14E,EAC7BnB,KAAK45E,EAAWz4E,GAAKnB,KAAK25E,EAAWx4E,OAEtC,IAAIy4E,EAAaD,EACpB,IAAKx4E,EAAI04E,EAAW14E,KAChBnB,KAAK45E,EAAWz4E,GAAKnB,KAAK25E,EAAWx4E,EAI7C,IAAIuD,GAAO+J,IAAQqrE,EACf95E,KAAKU,OAASo5E,EACd95E,KAAKuB,KAAKnB,MAAMJ,KAAMqhB,OAGtB,KADArhB,KAAKU,OAASo5E,EAAoBp1E,EAC7BvD,EAAI,EAAGA,EAAIuD,IAAOvD,EACnBnB,KAAKyO,EAAItN,GAAKkgB,EAAOlgB,GAIjC,MAAOsiB,GAIdhZ,OAAMc,UACPd,MAAMc,QAAU,SAAiBuxC,GAC7B,MAAyB,kBAAlBo8B,EAAUp8B,IAGzB,IAAIi9B,GAAcj5E,OAAO,KACrBk5E,EAAgC,KAAlBD,EAAY,MAAe,IAAKA,GAgPlD,IA9OKtvE,MAAM1J,UAAUuL,UACjB7B,MAAM1J,UAAUuL,QAAU,SAAiB8S,GACvC,GAAI+4D,GAAS8B,EAASj6E,MAClBqP,EAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXu2E,EACJ+B,EAAQ55E,UAAU,GAClBa,GAAI,EACJT,EAAS2O,EAAK3O,SAAW,CAC7B,IAAsB,qBAAlBw4E,EAAU95D,GACV,KAAM,IAAIq5D,UAGd,QAASt3E,EAAIT,GACLS,IAAKkO,IACL+P,EAAIne,KAAKi5E,EAAO7qE,EAAKlO,GAAIA,EAAGg3E,KAKvC1tE,MAAM1J,UAAUwL,MACjB9B,MAAM1J,UAAUwL,IAAM,SAAa6S,GAC/B,GAAI+4D,GAAS8B,EAASj6E,MAClBqP,EAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXu2E,EACJz3E,EAAS2O,EAAK3O,SAAW,EACzBg8C,EAASjyC,MAAM/J,GACfw5E,EAAQ55E,UAAU,EACtB,IAAsB,qBAAlB44E,EAAU95D,GACV,KAAM,IAAIq5D,WAAUr5D,EAAM,qBAG9B,KAAK,GAAIje,GAAI,EAAGA,EAAIT,EAAQS,IACpBA,IAAKkO,KACLqtC,EAAOv7C,GAAKie,EAAIne,KAAKi5E,EAAO7qE,EAAKlO,GAAIA,EAAGg3E,GAEhD,OAAOz7B,KAGVjyC,MAAM1J,UAAUoE,SACjBsF,MAAM1J,UAAUoE,OAAS,SAAgBia,GACrC,GAMI9V,GANA6uE,EAAS8B,EAASj6E,MAClBqP,EAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACPu2E,EACRz3E,EAAS2O,EAAK3O,SAAW,EACzBg8C,KAEAw9B,EAAQ55E,UAAU,EACtB,IAAsB,qBAAlB44E,EAAU95D,GACV,KAAM,IAAIq5D,WAAUr5D,EAAM,qBAG9B,KAAK,GAAIje,GAAI,EAAGA,EAAIT,EAAQS,IACpBA,IAAKkO,KACL/F,EAAQ+F,EAAKlO,GACTie,EAAIne,KAAKi5E,EAAO5wE,EAAOnI,EAAGg3E,IAC1Bz7B,EAAOn7C,KAAK+H,GAIxB,OAAOozC,KAGVjyC,MAAM1J,UAAUo5E,QACjB1vE,MAAM1J,UAAUo5E,MAAQ,SAAe/6D,GACnC,GAAI+4D,GAAS8B,EAASj6E,MAClBqP,EAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXu2E,EACJz3E,EAAS2O,EAAK3O,SAAW,EACzBw5E,EAAQ55E,UAAU,EACtB,IAAsB,qBAAlB44E,EAAU95D,GACV,KAAM,IAAIq5D,WAAUr5D,EAAM,qBAG9B,KAAK,GAAIje,GAAI,EAAGA,EAAIT,EAAQS,IACxB,GAAIA,IAAKkO,KAAS+P,EAAIne,KAAKi5E,EAAO7qE,EAAKlO,GAAIA,EAAGg3E,GAC1C,OAAO,CAGf,QAAO,IAGV1tE,MAAM1J,UAAUqgD,OACjB32C,MAAM1J,UAAUqgD,KAAO,SAAchiC,GACjC,GAAI+4D,GAAS8B,EAASj6E,MAClBqP,EAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXu2E,EACJz3E,EAAS2O,EAAK3O,SAAW,EACzBw5E,EAAQ55E,UAAU,EACtB,IAAsB,qBAAlB44E,EAAU95D,GACV,KAAM,IAAIq5D,WAAUr5D,EAAM,qBAG9B,KAAK,GAAIje,GAAI,EAAGA,EAAIT,EAAQS,IACxB,GAAIA,IAAKkO,IAAQ+P,EAAIne,KAAKi5E,EAAO7qE,EAAKlO,GAAIA,EAAGg3E,GACzC,OAAO,CAGf,QAAO,IAGV1tE,MAAM1J,UAAUq5E,SACjB3vE,MAAM1J,UAAUq5E,OAAS,SAAgBh7D,GACrC,GAAI+4D,GAAS8B,EAASj6E,MAClBqP,EAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXu2E,EACJz3E,EAAS2O,EAAK3O,SAAW,CAC7B,IAAsB,qBAAlBw4E,EAAU95D,GACV,KAAM,IAAIq5D,WAAUr5D,EAAM,qBAE9B,KAAK1e,GAA8B,GAApBJ,UAAUI,OACrB,KAAM,IAAI+3E,WAAU,8CAGxB,IACI/7B,GADAv7C,EAAI,CAER,IAAIb,UAAUI,QAAU,EACpBg8C,EAASp8C,UAAU,OAEnB,QAAG,CACC,GAAIa,IAAKkO,GAAM,CACXqtC,EAASrtC,EAAKlO,IACd,OAEJ,KAAMA,GAAKT,EACP,KAAM,IAAI+3E,WAAU,+CAKhC,KAAOt3E,EAAIT,EAAQS,IACXA,IAAKkO,KACLqtC,EAASt9B,EAAIne,KAAK,OAAQy7C,EAAQrtC,EAAKlO,GAAIA,EAAGg3E,GAItD,OAAOz7B,KAGVjyC,MAAM1J,UAAUs5E,cACjB5vE,MAAM1J,UAAUs5E,YAAc,SAAqBj7D,GAC/C,GAAI+4D,GAAS8B,EAASj6E,MAClBqP,EAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXu2E,EACJz3E,EAAS2O,EAAK3O,SAAW,CAC7B,IAAsB,qBAAlBw4E,EAAU95D,GACV,KAAM,IAAIq5D,WAAUr5D,EAAM,qBAE9B,KAAK1e,GAA8B,GAApBJ,UAAUI,OACrB,KAAM,IAAI+3E,WAAU,mDAGxB,IAAI/7B,GAAQv7C,EAAIT,EAAS,CACzB,IAAIJ,UAAUI,QAAU,EACpBg8C,EAASp8C,UAAU,OAEnB,QAAG,CACC,GAAIa,IAAKkO,GAAM,CACXqtC,EAASrtC,EAAKlO,IACd,OAEJ,KAAMA,EAAI,EACN,KAAM,IAAIs3E,WAAU,oDAKhC,EACQt3E,KAAKnB,QACL08C,EAASt9B,EAAIne,KAAK,OAAQy7C,EAAQrtC,EAAKlO,GAAIA,EAAGg3E,UAE7Ch3E,IAET,OAAOu7C,KAGVjyC,MAAM1J,UAAUW,UAAa,EAAG,GAAGA,QAAQ,EAAG,KAAM,IACrD+I,MAAM1J,UAAUW,QAAU,SAAiB44E,GACvC,GAAIjrE,GAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXq4E,EAASj6E,MACbU,EAAS2O,EAAK3O,SAAW,CAE7B,KAAKA,EACD,OAAO,CAGX,IAAIS,GAAI,CAKR,KAJIb,UAAUI,OAAS,IACnBS,EAAIm3E,EAAUh4E,UAAU,KAE5Ba,EAAIA,GAAK,EAAIA,EAAImN,KAAKC,IAAI,EAAG7N,EAASS,GAC/BA,EAAIT,EAAQS,IACf,GAAIA,IAAKkO,IAAQA,EAAKlO,KAAOm5E,EACzB,MAAOn5E,EAGf,QAAO,IAGVsJ,MAAM1J,UAAUw5E,cAAiB,EAAG,GAAGA,YAAY,GAAG,KAAO,IAC9D9vE,MAAM1J,UAAUw5E,YAAc,SAAqBD,GAC/C,GAAIjrE,GAAO2qE,GAAkC,mBAAnBd,EAAUl5E,MAC5BA,KAAK4B,MAAM,IACXq4E,EAASj6E,MACbU,EAAS2O,EAAK3O,SAAW,CAE7B,KAAKA,EACD,OAAO,CAEX,IAAIS,GAAIT,EAAS,CAKjB,KAJIJ,UAAUI,OAAS,IACnBS,EAAImN,KAAKS,IAAI5N,EAAGm3E,EAAUh4E,UAAU,MAExCa,EAAIA,GAAK,EAAIA,EAAIT,EAAS4N,KAAKusB,IAAI15B,GAC5BA,GAAK,EAAGA,IACX,GAAIA,IAAKkO,IAAQirE,IAAWjrE,EAAKlO,GAC7B,MAAOA,EAGf,QAAO,IAGVL,OAAOkM,iBACRlM,OAAOkM,eAAiB,SAAwBmrE,GAC5C,MAAOA,GAAOlrE,YACVkrE,EAAOphB,YACPohB,EAAOphB,YAAYh2D,UACnBk4E,MAIPn4E,OAAO05E,yBAA0B,CAClC,GAAIC,GAAiB,0DAErB35E,QAAO05E,yBAA2B,SAAkCrC,EAAQuC,GACxE,GAAsB,gBAAVvC,IAAuC,kBAAVA,IAAoC,OAAXA,EAC9D,KAAM,IAAIM,WAAUgC,EAAiBtC,EACzC,IAAKgB,EAAKhB,EAAQuC,GAAlB,CAGA,GAAIC,GAAYC,EAAQC,CAExB,IADAF,GAAgBhT,YAAY,EAAME,cAAc,GAC5CkR,EAAmB,CACnB,GAAIh4E,GAAYo3E,EAAOlrE,SACvBkrE,GAAOlrE,UAAYgsE,CAEnB,IAAI2B,GAAS/B,EAAaV,EAAQuC,GAC9BG,EAAS/B,EAAaX,EAAQuC,EAGlC,IAFAvC,EAAOlrE,UAAYlM,EAEf65E,GAAUC,EAGV,MAFID,KAAQD,EAAW38C,IAAM48C,GACzBC,IAAQF,EAAWpuD,IAAMsuD,GACtBF,EAIf,MADAA,GAAWrxE,MAAQ6uE,EAAOuC,GACnBC,IAQf,GALK75E,OAAOg6E,sBACRh6E,OAAOg6E,oBAAsB,SAA6B3C,GACtD,MAAOr3E,QAAOuL,KAAK8rE,MAGtBr3E,OAAO6L,OAAQ,CAChB,GAAIouE,EAEAA,GAD+B,OAA/Bj6E,OAAOC,UAAUkM,UACH,WACV,OAASA,UAAa,OAGZ,WACV,GAAI+tE,KACJ,KAAK,GAAI75E,KAAK65E,GACVA,EAAM75E,GAAK,IASf,OARA65E,GAAMjkB,YACNikB,EAAMl/B,eACNk/B,EAAMC,qBACND,EAAME,cACNF,EAAMG,eACNH,EAAMh6E,SACNg6E,EAAMI,QACNJ,EAAM/tE,UAAY,KACX+tE,GAIfl6E,OAAO6L,OAAS,SAAgB5L,EAAWs6E,GACvC,GAAIlD,EACJ,IAAkB,OAAdp3E,EACAo3E,EAAS4C,QACN,CACH,GAAwB,gBAAbh6E,GACP,KAAM,IAAI03E,WAAU,0BAA4B13E,GAAW,gBAC/D,IAAIu6E,GAAO,YACXA,GAAKv6E,UAAYA,EACjBo3E,EAAS,GAAImD,GACbnD,EAAOlrE,UAAYlM,EAIvB,MAFmB,UAAfs6E,GACAv6E,OAAOy6E,iBAAiBpD,EAAQkD,GAC7BlD,GAWf,GAAIr3E,OAAOs3E,eAAgB,CACvB,GAAIoD,GAA8BtD,MAC9BuD,EAA8C,mBAAZp4E,WAClC60E,EAAuB70E,SAASqlC,cAAc,OAClD,KAAK8yC,IAAgCC,EACjC,GAAIC,GAAyB56E,OAAOs3E,eAI5C,IAAKt3E,OAAOs3E,gBAAkBsD,EAAwB,CAClD,GAAIC,GAA4B,2CAC5BC,EAAwB,+CACxBC,EAA8B,gEAGlC/6E,QAAOs3E,eAAiB,SAAwBD,EAAQuC,EAAUC,GAC9D,GAAsB,gBAAVxC,IAAuC,kBAAVA,IAAoC,OAAXA,EAC9D,KAAM,IAAIM,WAAUmD,EAAwBzD,EAChD,IAA0B,gBAAdwC,IAA+C,kBAAdA,IAA4C,OAAfA,EACtE,KAAM,IAAIlC,WAAUkD,EAA4BhB,EACpD,IAAIe,EACA,IACI,MAAOA,GAAuBz6E,KAAKH,OAAQq3E,EAAQuC,EAAUC,GAC/D,MAAOtC,IAGb,GAAIc,EAAKwB,EAAY,SAEjB,GAAI5B,IAAsBF,EAAaV,EAAQuC,IACrB5B,EAAaX,EAAQuC,IAC/C,CACI,GAAI35E,GAAYo3E,EAAOlrE,SACvBkrE,GAAOlrE,UAAYgsE,QACZd,GAAOuC,GACdvC,EAAOuC,GAAYC,EAAWrxE,MAC9B6uE,EAAOlrE,UAAYlM,MAEnBo3E,GAAOuC,GAAYC,EAAWrxE,UAE/B,CACH,IAAKyvE,EACD,KAAM,IAAIN,WAAUoD,EACpB1C,GAAKwB,EAAY,QACjBhC,EAAaR,EAAQuC,EAAUC,EAAW38C,KAC1Cm7C,EAAKwB,EAAY,QACjB/B,EAAaT,EAAQuC,EAAUC,EAAWpuD,KAGlD,MAAO4rD,IAGVr3E,OAAOy6E,mBACRz6E,OAAOy6E,iBAAmB,SAA0BpD,EAAQkD,GACxD,IAAK,GAAIX,KAAYW,GACblC,EAAKkC,EAAYX,IACjB55E,OAAOs3E,eAAeD,EAAQuC,EAAUW,EAAWX,GAE3D,OAAOvC,KAGVr3E,OAAOg7E,OACRh7E,OAAOg7E,KAAO,SAAc3D,GACxB,MAAOA,KAGVr3E,OAAOyyC,SACRzyC,OAAOyyC,OAAS,SAAgB4kC,GAC5B,MAAOA,IAGf,KACIr3E,OAAOyyC,OAAO,cAChB,MAAO8kC,GACLv3E,OAAOyyC,OAAS,SAAiBwoC,GAC7B,MAAO,UAAgB5D,GACnB,MAAqB,kBAAVA,GACAA,EAEA4D,EAAa5D,KAG7Br3E,OAAOyyC,QAgCd,GA9BKzyC,OAAOk7E,oBACRl7E,OAAOk7E,kBAAoB,SAA2B7D,GAClD,MAAOA,KAGVr3E,OAAOm7E,WACRn7E,OAAOm7E,SAAW,SAAkB9D,GAChC,OAAO,IAGVr3E,OAAOo7E,WACRp7E,OAAOo7E,SAAW,SAAkB/D,GAChC,OAAO,IAGVr3E,OAAOq7E,eACRr7E,OAAOq7E,aAAe,SAAsBhE,GACxC,GAAIr3E,OAAOq3E,KAAYA,EACnB,KAAM,IAAIM,UAGd,KADA,GAAI9zE,GAAO,GACJw0E,EAAKhB,EAAQxzE,IAChBA,GAAQ,GAEZwzE,GAAOxzE,IAAQ,CACf,IAAInC,GAAc22E,EAAKhB,EAAQxzE,EAE/B,cADOwzE,GAAOxzE,GACPnC,KAGV1B,OAAOuL,KAAM,CACd,GAAI+vE,IAAiB,EACjBC,GACI,WACA,iBACA,UACA,iBACA,gBACA,uBACA,eAEJC,EAAkBD,EAAU37E,MAEhC,KAAK,GAAIsE,MAAQhE,SAAY,MACzBo7E,GAAiB,CAGrBt7E,QAAOuL,KAAO,QAASA,GAAK8rE,GAExB,GACsB,gBAAVA,IAAuC,kBAAVA,IAC1B,OAAXA,EAEA,KAAM,IAAIM,WAAU,qCAGxB,IAAIpsE,KACJ,KAAK,GAAI1H,KAAQwzE,GACTgB,EAAKhB,EAAQxzE,IACb0H,EAAK9K,KAAKoD,EAIlB,IAAIy3E,EACA,IAAK,GAAIj7E,GAAI,EAAGo7E,EAAKD,EAAiBn7E,EAAIo7E,EAAIp7E,IAAK,CAC/C,GAAIq7E,GAAWH,EAAUl7E,EACrBg4E,GAAKhB,EAAQqE,IACbnwE,EAAK9K,KAAKi7E,GAItB,MAAOnwE,IAIVmD,KAAK0vC,MACN1vC,KAAK0vC,IAAM,WACP,OAAO,GAAI1vC,OAAOitE,WAG1B,IAAIC,GAAK,gDAGT,KAAKvL,OAAOpwE,UAAUqS,MAAQspE,EAAGtpE,OAAQ,CACrCspE,EAAK,IAAMA,EAAK,GAChB,IAAIlmB,GAAkB,GAAIr+C,QAAO,IAAMukE,EAAKA,EAAK,KAC7CjmB,EAAgB,GAAIt+C,QAAOukE,EAAKA,EAAK,KACzCvL,QAAOpwE,UAAUqS,KAAO,WACpB,MAAO+9D,QAAOnxE,MAAMkC,QAAQs0D,EAAiB,IAAIt0D,QAAQu0D,EAAe,KA8ChF,GAAIwjB,GAAW,SAAU0C,GACrB,GAAS,MAALA,EACA,KAAM,IAAIlE,WAAU,iBAAiBkE,EAAE,aAE3C,OAAO77E,QAAO67E,MAKlBh9E,OAAO,kBAAmB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAoDnF,QAASs9E,GAAgBlzE,GACrB,OAAQA,EAAMhK,OAAa,IAAM,KACzBgK,EAAM8C,WAAa,IAAM,KACzB9C,EAAMmzE,UAAa,IAAM,KACzBnzE,EAAMozE,SAAa,IAAM,KACzBpzE,EAAMqzE,OAAa,IAAM,IAGrC,QAASr7E,GAASm1D,EAAOmmB,EAAM7lC,GAC3B,GAAI1sC,MAAM1J,UAAUW,QAChB,MAAOm1D,GAAMn1D,QAAQs7E,EAAM7lC,EAC/B,KAAK,GAAIh2C,GAAIg2C,GAAQ,EAAGh2C,EAAI01D,EAAMn2D,OAAQS,IACtC,GAAI01D,EAAM11D,KAAO67E,EACb,MAAO77E,EAEf,QAAO,EAjEX,GAAI87E,IACI7gE,KAAMjE,OAAOpX,UAAUqb,KACvBnE,KAAME,OAAOpX,UAAUkX,KACvBrG,MAAOu/D,OAAOpwE,UAAU6Q,MACxB1P,QAASivE,OAAOpwE,UAAUmB,QAC1BN,MAAOuvE,OAAOpwE,UAAUa,OAE5Bs7E,EAAsDr4E,SAAlCo4E,EAAK7gE,KAAKnb,KAAK,OAAQ,IAAI,GAC/Ck8E,EAA8B,WAC1B,GAAInxE,GAAI,IAER,OADAixE,GAAKhlE,KAAKhX,KAAK+K,EAAG,KACVA,EAAE4R,YAGdu/D,IAA+BD,IAEnC/kE,OAAOpX,UAAUqb,KAAO,SAAU/I,GAC9B,GACI1O,GAAMy4E,EADNxrE,EAAQqrE,EAAK7gE,KAAKhc,MAAMJ,KAAMM,UAElC,IAAoB,gBAAT,IAAqBsR,EAAO,CAUnC,IATKsrE,GAAqBtrE,EAAMlR,OAAS,GAAKgB,EAAQkQ,EAAO,KAAM,IAC/DwrE,EAAKjlE,OAAOnY,KAAKo1D,OAAQ6nB,EAAK/6E,QAAQjB,KAAK27E,EAAe58E,MAAO,IAAK,KACtEi9E,EAAK/6E,QAAQjB,KAAKoS,EAAItR,MAAM6P,EAAMlJ,OAAQ00E,EAAI,WAC1C,IAAK,GAAIj8E,GAAI,EAAGA,EAAIb,UAAUI,OAAS,EAAGS,IACjB0D,SAAjBvE,UAAUa,KACVyQ,EAAMzQ,GAAK0D,WAIvB7E,KAAKq9E,UAAYr9E,KAAKq9E,SAASC,aAC/B,IAAK,GAAIn8E,GAAI,EAAGA,EAAIyQ,EAAMlR,OAAQS,IAC9BwD,EAAO3E,KAAKq9E,SAASC,aAAan8E,EAAI,GAClCwD,IACDiN,EAAMjN,GAAQiN,EAAMzQ,KAG1Bg8E,GAA+Bn9E,KAAKN,SAAWkS,EAAM,GAAGlR,QAAWV,KAAK4d,UAAYhM,EAAMlJ,OAC3F1I,KAAK4d,YAEb,MAAOhM,IAENurE,IACDhlE,OAAOpX,UAAUkX,KAAO,SAAU5E,GAC9B,GAAIzB,GAAQqrE,EAAK7gE,KAAKnb,KAAKjB,KAAMqT,EAGjC,OAFIzB,IAAS5R,KAAKN,SAAWkS,EAAM,GAAGlR,QAAWV,KAAK4d,UAAYhM,EAAMlJ,OACpE1I,KAAK4d,cACAhM,OAwBrBjS,OAAO,wBAAyB,UAAW,UAAW,SAAW,mBAAoB,cAAe,aAAc,SAASN,EAAS8C,EAAS7C,GAM7I,QAASi+E,GAAa1mB,EAAO9pC,EAAQywD,GAIjC,IAHA,GAAIntE,GAAQ,EACRC,EAAOumD,EAAMn2D,OAAS,EAEnB2P,GAASC,GAAM,CAClB,GAAIyf,GAAO1f,EAAQC,GAAS,EACxBkJ,EAAIgkE,EAAWzwD,EAAQ8pC,EAAM9mC,GACjC,IAAIvW,EAAI,EACJnJ,EAAQ0f,EAAM,MACb,CAAA,KAAIvW,EAAI,GAGT,MAAOuW,EAFPzf,GAAOyf,EAAM,GAIrB,QAAS1f,EAAQ,GAGrB,QAASotE,GAAgBz1E,EAASwF,EAAKuK,GACnC,GAAIgc,GAAc/rB,EAAQisB,iBAAiBlgB,KAAKhD,EAAMkS,cACtD,IAAK8Q,EAAYrzB,OAAjB,CAGA,GAAIS,GAAIo8E,EAAaxpD,GAAcvmB,IAAKA,EAAKpE,QAAQ,GAAK2H,EAAMkS,cAC5D9hB,GAAI,IACJA,GAAKA,EAAI,GAETA,GAAK4yB,EAAYrzB,OAAS,EAC1BS,EAAI4W,EAAM,EAAI,EAAIgc,EAAYrzB,OAAS,EAC5B,IAANS,GAAW4W,EAAM,IACtB5W,EAAI4yB,EAAYrzB,OAAS,EAE7B,IAAI68C,GAAaxpB,EAAY5yB,EAC7B,IAAKo8C,GAAexlC,EAApB,CAGA,GAAIwlC,EAAW/vC,MAAQA,EAAK,CACxB,EACI+vC,GAAaxpB,EAAY5yB,GAAK4W,SACzBwlC,GAAcA,EAAW/vC,MAAQA,EAC1C,KAAK+vC,EACD,MAAOxpB,GAAYhyB,QAI3B,GAAI27E,KACJlwE,GAAM+vC,EAAW/vC,GACjB,GACIkwE,GAAQ3lE,EAAM,EAAI,UAAY,QAAQwlC,GACtCA,EAAaxpB,EAAY5yB,GAAK4W,SACzBwlC,GAAcA,EAAW/vC,KAAOA,EACzC,OAAOkwE,GAAQh9E,QAAUg9E,IAtD7B,GAAIC,GAAct+E,EAAQ,oBAAoBs+E,YAC1Cl7E,EAAMpD,EAAQ,eACd0R,EAAQ1R,EAAQ,aAAa0R,KAuDjC5O,GAAQghC,gBAAkB,SAAS1/B,EAAQsU,GACvC,GAAI/P,GAAUvE,EAAOuE,OAChBA,GAAQ41E,gBACT51E,EAAQ41E,cAAgB,GAAID,GAAY31E,GACxCA,EAAQ41E,cAAcjwE,OAAOlK,GAGjC,IAAIgL,GAAMhL,EAAO68D,oBACb9yD,EAAMiB,EAAIjB,IACVqwE,EAAY71E,EAAQ0jB,aAAe1jB,EAAQ0jB,YAAYle,EACvDqwE,GACAA,EAAUrkC,UAEVhsC,GAAOuK,CAEX,IACI+lE,GADA/pD,EAAc0pD,EAAgBz1E,EAASwF,EAAKuK,EAEhD,IAAIgc,EAAa,CACb,GAAIwpB,GAAaxpB,EAAY,EAC7BtlB,GAAIrF,QAAUm0C,EAAW9uC,KAAmC,gBAArB8uC,GAAWn0C,OAC5Cm0C,EAAW9uC,IAAIsvE,GACfxgC,EAAWn0C,SAAW,EAC5BqF,EAAIjB,IAAM+vC,EAAW/vC,IACrBswE,EAAar6E,EAAO4vB,SAASqP,aAAa1O,aAAavlB,EAAIjB,SACxD,CAAA,GAAIqwE,EACP,MAEAC,IACIz5E,MAAO,eACPuI,UAAW,UAGnBnJ,EAAOuE,QAAQmO,OAAO1H,EAAIjB,KAC1B/J,EAAO6T,UAAU2Q,eAAexZ,EAEhC,IAAIsoB,IACAvpB,IAAKiB,EAAIjB,IACTwwE,YAAY,EACZC,aAAa,EACb96E,GAAIV,EAAIimC,cAAc,QAEtBvlC,EAAK4zB,EAAE5zB,GAAGwlC,YAAYlmC,EAAIimC,cAAc,QACxCw1C,EAAQnnD,EAAE5zB,GAAGwlC,YAAYlmC,EAAIimC,cAAc,OAC/Cw1C,GAAMtxE,UAAY,sBAAwBkxE,EAAWlxE,SAErD,IAAIy+B,GAAO5nC,EAAO4vB,SAASuX,aACtB0G,iBAAiB7iC,GAAK48B,IAC3B6yC,GAAMplE,MAAMuyB,KAAOA,EAAO5nC,EAAO4vB,SAASoY,YAAc,EAAI,KAE5D1U,EAAE5zB,GAAGyJ,UAAY,uBACjBzJ,EAAGyJ,UAAY,gBAAkBkxE,EAAWlxE,UAC5CzJ,EAAGU,UAAYi6E,EAAWz5E,KAAKrC,KAAK,QAEpCmB,EAAGwlC,YAAYlmC,EAAIimC,cAAc,OAEjC,IAAI9I,GAAK,SAASiJ,EAAGzI,EAAQC,GACzB,GAAe,IAAXD,IAA+B,QAAdC,GAAqC,WAAdA,GAExC,MADAtJ,GAAEyiB,WACM7a,QAAS,QAIzB5H,GAAEyiB,QAAU,WACJ/1C,EAAOu5D,cAAc1Q,iBAEzB7oD,EAAOm2D,WAAW/5B,sBAAsBD,GACxC53B,EAAQ41E,cAAcO,iBAAiBpnD,GACvCtzB,EAAOwjC,IAAI,kBAAmBlQ,EAAEyiB,SAChC/1C,EAAOwjC,IAAI,gBAAiBlQ,EAAEyiB,SAC9B/1C,EAAOwjC,IAAI,UAAWlQ,EAAEyiB,SACxB/1C,EAAOwjC,IAAI,SAAUlQ,EAAEyiB,WAG3B/1C,EAAOm2D,WAAW75B,mBAAmBH,GACrCn8B,EAAOU,GAAG,kBAAmB4yB,EAAEyiB,SAC/B/1C,EAAOU,GAAG,gBAAiB4yB,EAAEyiB,SAC7B/1C,EAAOU,GAAG,UAAW4yB,EAAEyiB,SACvB/1C,EAAOU,GAAG,SAAU4yB,EAAEyiB,SAEtB/1C,EAAOuE,QAAQ41E,cAAcQ,cAAcrnD,GAE3CA,EAAE5zB,GAAGk7E,YAAc56E,EAAOo/B,MAAM5+B,KAAKR,GAErCA,EAAO4vB,SAASyP,qBAAqB,KAAM,IAAMwJ,OAAQvV,EAAE5zB,GAAGymD,gBAIlEnnD,EAAImnC,gBAAgB,u3BAiCjB,MAIHjqC,OAAO,0BAA2B,UAAW,UAAW,SAAW,iBAAkB,oBAAqB,SAASN,EAAS8C,EAAS7C,GAGrID,EAAQ,YACRA,EAAQ,gBAIRM,OAAO,oBAAqB,UAAW,UAAW,SAAW,cAAe,cAAe,aAAc,SAASN,EAAS8C,EAAS7C,GAQpI,QAASq+E,GAAY31E,GACjBhI,KAAKgI,QAAUA,EACfhI,KAAKgI,QAAQ41E,cAAgB59E,KAC7BA,KAAKgI,QAAQu0B,aAAev8B,KAAKu8B,aACjCv8B,KAAKgI,QAAQ01B,uBAAyB19B,KAAK09B,uBAC3C19B,KAAKs+E,eAAiBt+E,KAAKs+E,eAAer6E,KAAKjE,MAC/CA,KAAKu+E,cAAgBv+E,KAAKu+E,cAAct6E,KAAKjE,MAC7CA,KAAKw+E,eAAiBx+E,KAAKw+E,eAAev6E,KAAKjE,MAC/CA,KAAKgI,QAAQy2E,mBACbz+E,KAAK4O,OAAS5O,KAAK4O,OAAO3K,KAAKjE,MAE/BA,KAAKgI,QAAQ7D,GAAG,SAAUnE,KAAKs+E,gBAhBnC,GACI77E,IADMpD,EAAQ,aACRA,EAAQ,aACNA,GAAQ,WAAW0R,OAiB/B,WACI/Q,KAAKu8B,aAAe,SAAS/uB,GACzB,GAAIgvB,EAKJ,OAHIA,GADAx8B,KAAK0rB,YACD1rB,KAAK0rB,YAAYle,IAAQxN,KAAK0rB,YAAYle,GAAK3E,UAAY,EAE3D,EACH7I,KAAKmV,cAAiBnV,KAAKgwB,UAAUxiB,GAG/BxN,KAAKgwB,UAAUxiB,GAAK9M,OAAS,EAAI87B,EAFjC,EAAIA,GAMnBx8B,KAAK09B,uBAAyB,WAC1B,GAAID,GAAa,CAKjB,OAJAz9B,MAAK0rB,YAAYpf,QAAQ,SAASyqB,GAC1BA,GAAKA,EAAEluB,WACP40B,GAAa1G,EAAEluB,YAEhB40B,GAGXz9B,KAAK2N,OAAS,SAASlK,GACfA,EAAOm6E,eAAiBn6E,EAAOm6E,eAAiB59E,MAChDyD,EAAOm6E,cAAchvE,SAErB5O,KAAKyD,QAAUA,IAGnBzD,KAAK4O,SACL5O,KAAKyD,OAASA,EAEdzD,KAAKyD,OAAOU,GAAG,gBAAiBnE,KAAK4O,QAErCnL,EAAOm6E,cAAgB59E,KAEvByD,EAAOuuB,UAAU,qBAAqB,GACtCvuB,EAAO4vB,SAASlvB,GAAG,eAAgBnE,KAAKw+E,gBACxC/6E,EAAO4vB,SAASlvB,GAAG,cAAenE,KAAKu+E,iBAE3Cv+E,KAAK4O,OAAS,SAASV,GACnB,IAAIA,GAAKA,EAAElG,SAAWhI,KAAKgI,QAA3B,CAEA,GAAIvE,GAASzD,KAAKyD,MAClB,IAAKA,EAAL,CAGAA,EAAOwjC,IAAI,gBAAiBjnC,KAAK4O,QAEjC5O,KAAKyD,OAAS,KACdA,EAAOm6E,cAAgB,KAEvBn6E,EAAO4vB,SAAS4T,IAAI,eAAgBjnC,KAAKw+E,gBACzC/6E,EAAO4vB,SAAS4T,IAAI,cAAejnC,KAAKu+E,cACxC,IAAI7yD,GAAc1rB,KAAKgI,QAAQ0jB,WAC/BA,IAAeA,EAAYpf,QAAQ,SAASyqB,GACpCA,GAAKA,EAAE5zB,IAAM4zB,EAAE5zB,GAAG6lD,aAClBjyB,EAAE2nD,aAAc,EAChB3nD,EAAE5zB,GAAG6lD,WAAW9K,YAAYnnB,EAAE5zB,UAK1CnD,KAAKs+E,eAAiB,SAASpwE,GAC3B,GAAIwd,GAAc1rB,KAAKgI,QAAQ0jB,WAC/B,IAAKA,EAAL,CAEA,GAAIvd,GAAQD,EAAEE,KACVC,EAAQF,EAAME,MACdkC,EAAWlC,EAAMhF,MAAMmE,IACvBmC,EAAMtB,EAAM/C,IAAIkC,IAAM+C,CAE1B,IAAY,IAARZ,OACG,IAAoB,cAAhBxB,EAAMvJ,QAA0C,eAAhBuJ,EAAMvJ,OAAyB,CACtE,GAAI6e,GAAUiI,EAAYzf,OAAOsE,EAAW,EAAGZ,EAC/C8T,GAAQnX,QAAQ,SAASyqB,GACrBA,GAAK/2B,KAAKm+E,iBAAiBpnD,IAC5B/2B,MACHA,KAAK2+E,kBACF,CACH,GAAI9yE,GAAO,GAAIpB,OAAMkF,EACrB9D,GAAKb,QAAQuF,EAAU,GACvBmb,EAAYzf,OAAO7L,MAAMsrB,EAAa7f,GACtC7L,KAAK2+E,iBAIb3+E,KAAK2+E,YAAc,WACf,GAAIjzD,GAAc1rB,KAAKgI,QAAQ0jB,WAC/B,IAAKA,EAAL,CACA,GAAIkzD,IAAY,CAChBlzD,GAAYpf,QAAQ,SAASyqB,EAAG51B,GACxB41B,IACA6nD,GAAY,EACZ7nD,EAAEvpB,IAAMrM,KAGZy9E,IACA5+E,KAAKgI,QAAQ0jB,YAAc,QAGnC1rB,KAAKo+E,cAAgB,SAASrnD,GACrB/2B,KAAKgI,QAAQ0jB,cACd1rB,KAAKgI,QAAQ0jB,YAAc,GAAIjhB,OAAMzK,KAAKgI,QAAQc,cAEtD9I,KAAKgI,QAAQ0jB,YAAYqL,EAAEvpB,KAAOupB,CAElC,IAAI1D,GAAWrzB,KAAKyD,OAAO4vB,QA0B3B,OAzBI0D,GAAEvlB,OAASulB,EAAE5zB,KACb4zB,EAAE5zB,GAAKV,EAAIimC,cAAc,OACzB3R,EAAE5zB,GAAGU,UAAYkzB,EAAEvlB,MAEnBulB,EAAE5zB,KACFV,EAAIunC,YAAYjT,EAAE5zB,GAAI,2BACtB4zB,EAAE5zB,GAAG2V,MAAMsM,SAAW,WACtB2R,EAAE5zB,GAAG2V,MAAM+lE,OAAS,EACpBxrD,EAASwW,UAAUlB,YAAY5R,EAAE5zB,IACjC4zB,EAAE2nD,aAAc,GAGf3nD,EAAEknD,cACHlnD,EAAE5zB,GAAG2V,MAAM+lE,OAAS,GAEnB9nD,EAAE+nD,cACH/nD,EAAE+nD,YAAc/nD,EAAE5zB,GAAGymD,cAEP,MAAd7yB,EAAEluB,WACFkuB,EAAEluB,SAAWkuB,EAAE+nD,YAAczrD,EAAS0R,YAAYC,YAEtDhlC,KAAKgI,QAAQuN,MAAM,cAAenH,MAAM/E,OAAOmE,IAAKupB,EAAEvpB,QAEtDxN,KAAK2+E,cACL3+E,KAAKu+E,cAAc,KAAMlrD,GAClB0D,GAGX/2B,KAAKm+E,iBAAmB,SAASpnD,GAI7B,GAHAA,EAAE2nD,aAAc,EACZ3nD,EAAE5zB,IAAM4zB,EAAE5zB,GAAG6lD,YACbjyB,EAAE5zB,GAAG6lD,WAAW9K,YAAYnnB,EAAE5zB,IAC9B4zB,EAAEtzB,QAAUszB,EAAEtzB,OAAO+1C,QAAS,IAC9BziB,EAAEtzB,OAAO+1C,UACX,MAAMtrC,IACJlO,KAAKgI,QAAQ0jB,cACb1rB,KAAKgI,QAAQ0jB,YAAYqL,EAAEvpB,KAAO3I,QACtC7E,KAAKgI,QAAQuN,MAAM,cAAenH,MAAM/E,OAAOmE,IAAKupB,EAAEvpB,QACtDxN,KAAK2+E,eAGT3+E,KAAK++E,gBAAkB,SAAShoD,GAC5B/2B,KAAKgI,QAAQy2E,gBAAgBl9E,KAAKw1B,GAClC/2B,KAAKyD,QAAUzD,KAAKyD,OAAO4vB,SAAS+a,cAGxCpuC,KAAKw+E,eAAiB,SAAStwE,EAAGmlB,GAC9B,GAAI2rD,GAAiBh/E,KAAKgI,QAAQy2E,gBAC9Bx7E,EAASowB,EAAS0R,WAEtB,IAAKi6C,GAAmBA,EAAet+E,OAAvC,CAEA,IAAK,GADDqO,GAAMyQ,EAAAA,EACDre,EAAI,EAAGA,EAAI69E,EAAet+E,OAAQS,IAAK,CAC5C,GAAI41B,GAAIioD,EAAe79E,EAClB41B,GAAE2nD,cACH3nD,EAAE2nD,aAAc,EAChBrrD,EAASwW,UAAUlB,YAAY5R,EAAE5zB,KAGrC4zB,EAAEyF,EAAIzF,EAAE5zB,GAAGymD,aAEN7yB,EAAEinD,aACHjnD,EAAEA,EAAIA,EAAE5zB,GAAGmsC,YACXvY,EAAEH,YAActoB,KAAK0mC,KAAKje,EAAEA,EAAI9zB,EAAOgpC,gBAG3C,IAAIpjC,GAAWkuB,EAAEyF,EAAIv5B,EAAO+hC,UACxBjO,GAAEkoD,YACFp2E,GAAY7I,KAAKgI,QAAQy0B,gBAAgB1F,EAAEvpB,KACvC3E,EAAW,IACXA,EAAW,IAEfkuB,EAAEluB,UAAYA,IACdkuB,EAAEluB,SAAWA,EACTkuB,EAAEvpB,IAAMuB,IACRA,EAAMgoB,EAAEvpB,MAGhBuB,GAAOyQ,EAAAA,IACPxf,KAAKgI,QAAQuN,MAAM,cAAenH,MAAM/E,OAAOmE,IAAKuB,MACpD/O,KAAKgI,QAAQgvB,gBAAkB,MAEnCh3B,KAAKgI,QAAQy2E,qBAGjBz+E,KAAKu+E,cAAgB,SAASrwE,EAAGmlB,GAC7B,GAAIpwB,GAASowB,EAAS0R,YAClBrZ,EAAc1rB,KAAKgI,QAAQ0jB,WAC/B,IAAKA,EAAL,CAKA,IAHA,GAAIrb,GAAQ/B,KAAKS,IAAI/O,KAAKmQ,SAAUlN,EAAOkN,UACvCG,EAAOhC,KAAKC,IAAIvO,KAAKoQ,QAASnN,EAAOmN,QAASsb,EAAYhrB,QAEvD2P,EAAQ,IAAMqb,EAAYrb,IAC7BA,GAEJrQ,MAAKmQ,SAAWlN,EAAOkN,SACvBnQ,KAAKoQ,QAAUnN,EAAOmN,QAEtBijB,EAASuX,aAAa3nC,OAASA,CAC/B,KAAK,GAAI9B,GAAIkP,EAAOlP,GAAKmP,EAAMnP,IAAK,CAChC,GAAI41B,GAAIrL,EAAYvqB,EACpB,IAAK41B,GAAMA,EAAE5zB,GAAb,CAEK4zB,EAAE2nD,cACH3nD,EAAE2nD,aAAc,EAChBrrD,EAASwW,UAAUlB,YAAY5R,EAAE5zB,IAErC,IAAIioC,GAAM/X,EAASuX,aAAa0G,kBAAkB9jC,IAAKrM,EAAGiI,OAAO,IAAI,GAAMgiC,GACtErU,GAAEkoD,YACH7zC,GAAOnoC,EAAO+hC,WAAahlC,KAAKgI,QAAQy0B,gBAAgB1F,EAAEvpB,MAC9DupB,EAAE5zB,GAAG2V,MAAMsyB,IAAMA,EAAMnoC,EAAO4O,OAAS,IAEvC,IAAIw5B,GAAOtU,EAAEknD,YAAc,EAAI5qD,EAASoY,WACnC1U,GAAEinD,aACH3yC,GAAQhY,EAASkD,YACrBQ,EAAE5zB,GAAG2V,MAAMuyB,KAAOA,EAAO,KAErBtU,EAAEinD,WACFjnD,EAAE5zB,GAAG2V,MAAMuzB,MAAQhZ,EAAS0X,UAAUwE,WAAa,KAEnDxY,EAAE5zB,GAAG2V,MAAMuzB,MAAQ,SAKhCprC,KAAK08E,EAAY58E,WAGpBoB,EAAQw7E,YAAcA,IAItBh+E,OAAO,gBAAiB,UAAW,UAAW,SAAW,cAAe,wBAAyB,YAAa,cAAe,SAASN,EAAS8C,EAAS7C,GAGxJ,GAAI+N,GAAMhO,EAAQ,aACdiO,EAAejO,EAAQ,uBAAuBiO,aAC9CyD,EAAQ1R,EAAQ,WAAW0R,MAC3BxD,EAASlO,EAAQ,YAAYkO,OAE7BmhB,EAAW,SAASrqB,GACpBrE,KAAKk/E,UACe,IAAhB76E,EAAK3D,OACLV,KAAKk/E,QAAU,IACRz0E,MAAMc,QAAQlH,GACrBrE,KAAKm/E,aAAa,EAAG96E,GAErBrE,KAAKqhB,QAAQ7T,IAAK,EAAGpE,OAAO,GAAI/E,KAIxC,WAEIgJ,EAAIQ,UAAU7N,KAAMsN,GACpBtN,KAAK2wB,SAAW,SAAStsB,GACrB,GAAIsL,GAAM3P,KAAK8I,WACf9I,MAAKiF,OAAO,GAAI8L,GAAM,EAAG,EAAGpB,EAAK3P,KAAK8O,QAAQa,EAAI,GAAGjP,SACrDV,KAAKqhB,QAAQ7T,IAAK,EAAGpE,OAAO,GAAI/E,IAEpCrE,KAAK+wB,SAAW,WACZ,MAAO/wB,MAAKktB,cAAclrB,KAAKhC,KAAKomD,wBAExCpmD,KAAK2mB,aAAe,SAASnZ,EAAKpE,GAC9B,MAAO,IAAImE,GAAOvN,KAAMwN,EAAKpE,IAED,IAA5B,MAAMxH,MAAM,KAAKlB,OACjBV,KAAKo/E,OAAS,SAAS/6E,GACnB,MAAOA,GAAKnC,QAAQ,WAAY,MAAMN,MAAM,OAGhD5B,KAAKo/E,OAAS,SAAS/6E,GACnB,MAAOA,GAAKzC,MAAM,eAI1B5B,KAAKm0B,eAAiB,SAAS9vB,GAC3B,GAAIuN,GAAQvN,EAAKuN,MAAM,oBACvB5R,MAAKo0B,aAAexiB,EAAQA,EAAM,GAAK,KACvC5R,KAAK2O,QAAQ,sBAEjB3O,KAAKomD,oBAAsB,WACvB,OAAQpmD,KAAKq/E,cACX,IAAK,UACH,MAAO,MACT,KAAK,OACH,MAAO;AACT,QACE,MAAOr/E,MAAKo0B,cAAgB,OAIpCp0B,KAAKo0B,aAAe,GACpBp0B,KAAKq/E,aAAe,OACpBr/E,KAAKu0B,eAAiB,SAASC,GACvBx0B,KAAKq/E,eAAiB7qD,IAG1Bx0B,KAAKq/E,aAAe7qD,EACpBx0B,KAAK2O,QAAQ,uBAEjB3O,KAAKy0B,eAAiB,WAClB,MAAOz0B,MAAKq/E,cAEhBr/E,KAAKyhE,UAAY,SAASp9D,GACtB,MAAgB,QAARA,GAA0B,MAARA,GAAwB,MAARA,GAE9CrE,KAAK8O,QAAU,SAAStB,GACpB,MAAOxN,MAAKk/E,OAAO1xE,IAAQ,IAE/BxN,KAAKitB,SAAW,SAAS9c,EAAUC,GAC/B,MAAOpQ,MAAKk/E,OAAOn9E,MAAMoO,EAAUC,EAAU,IAEjDpQ,KAAKktB,YAAc,WACf,MAAOltB,MAAKitB,SAAS,EAAGjtB,KAAK8I,cAEjC9I,KAAK8I,UAAY,WACb,MAAO9I,MAAKk/E,OAAOx+E,QAEvBV,KAAK8X,aAAe,SAASzJ,GACzB,GAAIA,EAAMhF,MAAMmE,KAAOa,EAAM/C,IAAIkC,IAC7B,MAAOxN,MAAK8O,QAAQT,EAAMhF,MAAMmE,KAC3BgG,UAAUnF,EAAMhF,MAAMD,OAAQiF,EAAM/C,IAAIlC,OAEjD,IAAI+F,GAAQnP,KAAKitB,SAAS5e,EAAMhF,MAAMmE,IAAKa,EAAM/C,IAAIkC,IACrD2B,GAAM,IAAMA,EAAM,IAAM,IAAIqE,UAAUnF,EAAMhF,MAAMD,OAClD,IAAIhI,GAAI+N,EAAMzO,OAAS,CAGvB,OAFI2N,GAAM/C,IAAIkC,IAAMa,EAAMhF,MAAMmE,KAAOpM,IACnC+N,EAAM/N,GAAK+N,EAAM/N,GAAGoS,UAAU,EAAGnF,EAAM/C,IAAIlC,SACxC+F,EAAMnN,KAAKhC,KAAKomD,wBAG3BpmD,KAAKs/E,cAAgB,SAASl6D,GAC1B,GAAI1kB,GAASV,KAAK8I,WAMlB,OALIsc,GAAS5X,KAAO9M,GAChB0kB,EAAS5X,IAAMc,KAAKC,IAAI,EAAG7N,EAAS,GACpC0kB,EAAShc,OAASpJ,KAAK8O,QAAQpO,EAAO,GAAGA,QAClC0kB,EAAS5X,IAAM,IACtB4X,EAAS5X,IAAM,GACZ4X,GAEXplB,KAAKqhB,OAAS,SAAS+D,EAAU/gB,GAC7B,IAAKA,GAAwB,IAAhBA,EAAK3D,OACd,MAAO0kB,EAEXA,GAAWplB,KAAKs/E,cAAcl6D,GAC1BplB,KAAK8I,aAAe,GACpB9I,KAAKm0B,eAAe9vB,EAExB,IAAI8K,GAAQnP,KAAKo/E,OAAO/6E,GACpBk7E,EAAYpwE,EAAMlD,OAAO,EAAG,GAAG,GAC/BuzE,EAA2B,GAAhBrwE,EAAMzO,OAAc,KAAOyO,EAAMlD,OAAOkD,EAAMzO,OAAS,EAAG,GAAG,EAQ5E,OANA0kB,GAAWplB,KAAKogB,aAAagF,EAAUm6D,GACtB,OAAbC,IACAp6D,EAAWplB,KAAKy/E,cAAcr6D,GAC9BA,EAAWplB,KAAKm/E,aAAa/5D,EAAS5X,IAAK2B,GAC3CiW,EAAWplB,KAAKogB,aAAagF,EAAUo6D,GAAY,KAEhDp6D,GAEXplB,KAAKu5B,YAAc,SAAS/rB,EAAK2B,GAC7B,MAAI3B,IAAOxN,KAAK8I,YACL9I,KAAKqhB,QAAQ7T,IAAKA,EAAKpE,OAAQ,GAAI,KAAO+F,EAAMnN,KAAK,OACzDhC,KAAKm/E,aAAa7wE,KAAKC,IAAIf,EAAK,GAAI2B,IAE/CnP,KAAKm/E,aAAe,SAAS3xE,EAAK2B,GAC9B,GAAoB,GAAhBA,EAAMzO,OACN,OAAQ8M,IAAKA,EAAKpE,OAAQ,EAC9B,MAAO+F,EAAMzO,OAAS,OAAQ,CAC1B,GAAI4K,GAAMtL,KAAKm/E,aAAa3xE,EAAK2B,EAAMpN,MAAM,EAAG,OAChDoN,GAAQA,EAAMpN,MAAM,OACpByL,EAAMlC,EAAIkC,IAGd,GAAI3B,IAAQ2B,EAAK,EACjB3B,GAAKtK,KAAKnB,MAAMyL,EAAMsD,GACtBnP,KAAKk/E,OAAOjzE,OAAO7L,MAAMJ,KAAKk/E,OAAQrzE,EAEtC,IAAIwC,GAAQ,GAAI0C,GAAMvD,EAAK,EAAGA,EAAM2B,EAAMzO,OAAQ,GAC9CyN,GACAvJ,OAAQ,cACRyJ,MAAOA,EACPc,MAAOA,EAGX,OADAnP,MAAK2O,QAAQ,UAAYP,KAAMD,IACxBE,EAAM/C,KAEjBtL,KAAKy/E,cAAgB,SAASr6D,GAC1BA,EAAWplB,KAAKs/E,cAAcl6D,EAC9B,IAAIxU,GAAO5Q,KAAKk/E,OAAO95D,EAAS5X,MAAQ,EAExCxN,MAAKk/E,OAAO95D,EAAS5X,KAAOoD,EAAK4C,UAAU,EAAG4R,EAAShc,QACvDpJ,KAAKk/E,OAAOjzE,OAAOmZ,EAAS5X,IAAM,EAAG,EAAGoD,EAAK4C,UAAU4R,EAAShc,OAAQwH,EAAKlQ,QAE7E,IAAI4K,IACAkC,IAAM4X,EAAS5X,IAAM,EACrBpE,OAAS,GAGT+E,GACAvJ,OAAQ,aACRyJ,MAAO0C,EAAMuF,WAAW8O,EAAU9Z,GAClCjH,KAAMrE,KAAKomD,sBAIf,OAFApmD,MAAK2O,QAAQ,UAAYP,KAAMD,IAExB7C,GAEXtL,KAAKogB,aAAe,SAASgF,EAAU/gB,GACnC,GAAmB,GAAfA,EAAK3D,OACL,MAAO0kB,EAEX,IAAIxU,GAAO5Q,KAAKk/E,OAAO95D,EAAS5X,MAAQ,EAExCxN,MAAKk/E,OAAO95D,EAAS5X,KAAOoD,EAAK4C,UAAU,EAAG4R,EAAShc,QAAU/E,EACvDuM,EAAK4C,UAAU4R,EAAShc,OAElC,IAAIkC,IACAkC,IAAM4X,EAAS5X,IACfpE,OAASgc,EAAShc,OAAS/E,EAAK3D,QAGhCyN,GACAvJ,OAAQ,aACRyJ,MAAO0C,EAAMuF,WAAW8O,EAAU9Z,GAClCjH,KAAMA,EAIV,OAFArE,MAAK2O,QAAQ,UAAYP,KAAMD,IAExB7C,GAEXtL,KAAKiF,OAAS,SAASoJ,GAMnB,GALMA,YAAiB0C,KACnB1C,EAAQ0C,EAAMuF,WAAWjI,EAAMhF,MAAOgF,EAAM/C,MAChD+C,EAAMhF,MAAQrJ,KAAKs/E,cAAcjxE,EAAMhF,OACvCgF,EAAM/C,IAAMtL,KAAKs/E,cAAcjxE,EAAM/C,KAEjC+C,EAAMmJ,UACN,MAAOnJ,GAAMhF,KAEjB,IAAI8G,GAAW9B,EAAMhF,MAAMmE,IACvB4C,EAAU/B,EAAM/C,IAAIkC,GAExB,IAAIa,EAAMwJ,cAAe,CACrB,GAAI6nE,GAAqC,GAAtBrxE,EAAMhF,MAAMD,OAAc+G,EAAWA,EAAW,EAC/DwvE,EAAcvvE,EAAU,CAExB/B,GAAM/C,IAAIlC,OAAS,GACnBpJ,KAAKigB,aAAa7P,EAAS,EAAG/B,EAAM/C,IAAIlC,QAExCu2E,GAAeD,GACf1/E,KAAK4/E,aAAaF,EAAcC,GAEhCD,GAAgBvvE,IAChBnQ,KAAKigB,aAAa9P,EAAU9B,EAAMhF,MAAMD,OAAQpJ,KAAK8O,QAAQqB,GAAUzP,QACvEV,KAAK6/E,cAAcxxE,EAAMhF,MAAMmE,UAInCxN,MAAKigB,aAAa9P,EAAU9B,EAAMhF,MAAMD,OAAQiF,EAAM/C,IAAIlC,OAE9D,OAAOiF,GAAMhF,OAEjBrJ,KAAKigB,aAAe,SAASzS,EAAK+G,EAAaE,GAC3C,GAAIF,GAAeE,EAAnB,CAGA,GAAIpG,GAAQ,GAAI0C,GAAMvD,EAAK+G,EAAa/G,EAAKiH,GACzC7D,EAAO5Q,KAAK8O,QAAQtB,GACpBiW,EAAU7S,EAAK4C,UAAUe,EAAaE,GACtCqrE,EAAUlvE,EAAK4C,UAAU,EAAGe,GAAe3D,EAAK4C,UAAUiB,EAAW7D,EAAKlQ,OAC9EV,MAAKk/E,OAAOjzE,OAAOuB,EAAK,EAAGsyE,EAE3B,IAAI3xE,IACAvJ,OAAQ,aACRyJ,MAAOA,EACPhK,KAAMof,EAGV,OADAzjB,MAAK2O,QAAQ,UAAYP,KAAMD,IACxBE,EAAMhF,QAEjBrJ,KAAKs5B,YAAc,SAASnpB,EAAUC,GAClC,MAAID,GAAW,GAAKC,GAAWpQ,KAAK8I,YACzB9I,KAAKiF,OAAO,GAAI8L,GAAMZ,EAAU,EAAGC,EAAU,EAAG,IACpDpQ,KAAK4/E,aAAazvE,EAAUC,IAGvCpQ,KAAK4/E,aAAe,SAASzvE,EAAUC,GACnC,GAAI/B,GAAQ,GAAI0C,GAAMZ,EAAU,EAAGC,EAAU,EAAG,GAC5CqT,EAAUzjB,KAAKk/E,OAAOjzE,OAAOkE,EAAUC,EAAUD,EAAW,GAE5DhC,GACAvJ,OAAQ,cACRyJ,MAAOA,EACPysD,GAAI96D,KAAKomD,sBACTj3C,MAAOsU,EAGX,OADAzjB,MAAK2O,QAAQ,UAAYP,KAAMD,IACxBsV,GAEXzjB,KAAK6/E,cAAgB,SAASryE,GAC1B,GAAI+xE,GAAYv/E,KAAK8O,QAAQtB,GACzBuyE,EAAa//E,KAAK8O,QAAQtB,EAAI,GAE9Ba,EAAQ,GAAI0C,GAAMvD,EAAK+xE,EAAU7+E,OAAQ8M,EAAI,EAAG,GAChDoD,EAAO2uE,EAAYQ,CAEvB//E,MAAKk/E,OAAOjzE,OAAOuB,EAAK,EAAGoD,EAE3B,IAAIzC,IACAvJ,OAAQ,aACRyJ,MAAOA,EACPhK,KAAMrE,KAAKomD,sBAEfpmD,MAAK2O,QAAQ,UAAYP,KAAMD,KAEnCnO,KAAKkC,QAAU,SAASmM,EAAOhK,GAG3B,GAFMgK,YAAiB0C,KACnB1C,EAAQ0C,EAAMuF,WAAWjI,EAAMhF,MAAOgF,EAAM/C,MAC7B,GAAfjH,EAAK3D,QAAe2N,EAAMmJ,UAC1B,MAAOnJ,GAAMhF,KACjB,IAAIhF,GAAQrE,KAAK8X,aAAazJ,GAC1B,MAAOA,GAAM/C,GAGjB,IADAtL,KAAKiF,OAAOoJ,GACRhK,EACA,GAAIiH,GAAMtL,KAAKqhB,OAAOhT,EAAMhF,MAAOhF,OAGnCiH,GAAM+C,EAAMhF,KAGhB,OAAOiC,IAEXtL,KAAK83B,YAAc,SAASzG,GACxB,IAAK,GAAIlwB,GAAE,EAAGA,EAAEkwB,EAAO3wB,OAAQS,IAAK,CAChC,GAAIgN,GAAQkjB,EAAOlwB,GACfkN,EAAQ0C,EAAMuF,WAAWnI,EAAME,MAAMhF,MAAO8E,EAAME,MAAM/C,IAExC,gBAAhB6C,EAAMvJ,OACN5E,KAAKu5B,YAAYlrB,EAAMhF,MAAMmE,IAAKW,EAAMgB,OACnB,cAAhBhB,EAAMvJ,OACX5E,KAAKqhB,OAAOhT,EAAMhF,MAAO8E,EAAM9J,MACV,eAAhB8J,EAAMvJ,OACX5E,KAAK4/E,aAAavxE,EAAMhF,MAAMmE,IAAKa,EAAM/C,IAAIkC,IAAM,GAC9B,cAAhBW,EAAMvJ,QACX5E,KAAKiF,OAAOoJ,KAGxBrO,KAAK03B,aAAe,SAASrG,GACzB,IAAK,GAAIlwB,GAAEkwB,EAAO3wB,OAAO,EAAGS,GAAG,EAAGA,IAAK,CACnC,GAAIgN,GAAQkjB,EAAOlwB,GAEfkN,EAAQ0C,EAAMuF,WAAWnI,EAAME,MAAMhF,MAAO8E,EAAME,MAAM/C,IAExC,gBAAhB6C,EAAMvJ,OACN5E,KAAK4/E,aAAavxE,EAAMhF,MAAMmE,IAAKa,EAAM/C,IAAIkC,IAAM,GAC9B,cAAhBW,EAAMvJ,OACX5E,KAAKiF,OAAOoJ,GACS,eAAhBF,EAAMvJ,OACX5E,KAAKm/E,aAAa9wE,EAAMhF,MAAMmE,IAAKW,EAAMgB,OACpB,cAAhBhB,EAAMvJ,QACX5E,KAAKqhB,OAAOhT,EAAMhF,MAAO8E,EAAM9J,QAG3CrE,KAAKggF,gBAAkB,SAASt3E,EAAO6H,GAGnC,IAAK,GAFDpB,GAAQnP,KAAKk/E,QAAUl/E,KAAKktB,cAC5B+yD,EAAgBjgF,KAAKomD,sBAAsB1lD,OACtCS,EAAIoP,GAAY,EAAGnP,EAAI+N,EAAMzO,OAAQS,EAAIC,EAAGD,IAEjD,GADAuH,GAASyG,EAAMhO,GAAGT,OAASu/E,EACvBv3E,EAAQ,EACR,OAAQ8E,IAAKrM,EAAGiI,OAAQV,EAAQyG,EAAMhO,GAAGT,OAASu/E,EAE1D,QAAQzyE,IAAKpM,EAAE,EAAGgI,OAAQ+F,EAAM/N,EAAE,GAAGV,SAEzCV,KAAKkgF,gBAAkB,SAASzxE,EAAK8B,GAKjC,IAAK,GAJDpB,GAAQnP,KAAKk/E,QAAUl/E,KAAKktB,cAC5B+yD,EAAgBjgF,KAAKomD,sBAAsB1lD,OAC3CgI,EAAQ,EACR8E,EAAMc,KAAKS,IAAIN,EAAIjB,IAAK2B,EAAMzO,QACzBS,EAAIoP,GAAY,EAAGpP,EAAIqM,IAAOrM,EACnCuH,GAASyG,EAAMhO,GAAGT,OAASu/E,CAE/B,OAAOv3E,GAAQ+F,EAAIrF,UAGxBnI,KAAKytB,EAAS3tB,WAEjBoB,EAAQusB,SAAWA,IAGP,WACIruB,OAAOhB,SAAS,WAAY,SAASwN,GACjCA,GAAKA,EAAE5J,OAAOggC,MAAK,GACd5iC,OAAO8/E,MACR9/E,OAAO8/E,IAAMtzE,EACjB,KAAK,GAAI7H,KAAO6H,GAAOA,EAAEivC,eAAe92C,KACpCm7E,IAAIn7E,GAAO6H,EAAE7H;AC/piBrCrF,OAAO,gBAAiB,UAAW,UAAW,SAAW,cAAe,gBAAiB,gBAAiB,+BAAgC,kCAAmC,2BAA4B,yBAA0B,2BAA4B,SAASN,EAAS8C,EAAS7C,GAG1R,GAAI+N,GAAMhO,EAAQ,cACdovB,EAAWpvB,EAAQ,UAAUof,KAE7B2hE,GADY/gF,EAAQ,gBAAgBqc,UAChBrc,EAAQ,yBAAyB+gF,mBACrDC,EAAuBhhF,EAAQ,4BAA4BghF,qBAC3DtY,EAAe1oE,EAAQ,2BAA2B0oE,aAClDuY,EAAejhF,EAAQ,mBAAmBihF,aAC1CC,EAAiBlhF,EAAQ,oBAAoBo2E,SAE7Ch3D,EAAO,WACPze,KAAKqK,eAAiB+1E,EACtBpgF,KAAKwgF,SAAW,GAAIH,GACpBrgF,KAAK0e,WAAa,GAAI4hE,GACtBtgF,KAAK21B,aAAe,GAAI4qD,GAE5BlzE,GAAI+Q,SAASK,EAAMgQ,GAEnB,WAEIzuB,KAAK21B,aAAe,SACpB31B,KAAKif,cAAgB5V,MAAO,KAAMiC,IAAK,MAEvCtL,KAAKuhB,kBAAoB,SAASxX,EAAO6G,EAAM4Q,GAC3C,GAAIZ,GAAS5gB,KAAKyhB,WAAW7Q,GACzBE,EAAS9Q,KAAK6e,eAAehO,cAAcD,EAAM7G,GAAO+G,MAC5D,IAAIA,EAAOpQ,QAA0C,WAAhCoQ,EAAOA,EAAOpQ,OAAO,GAAGyQ,KACzC,MAAOyP,EAGX,IAAIhP,GAAQhB,EAAKgB,MAAM,YAKvB,OAJIA,KACAgP,GAAUY,GAGPZ,GAGX5gB,KAAK0hB,aAAe,SAAS3X,EAAO6G,EAAM+Q,GACtC,MAAO3hB,MAAKwgF,SAAS9+D,aAAa9Q,EAAM+Q,IAG5C3hB,KAAK4hB,YAAc,SAAS7X,EAAOrG,EAAK8J,GACpCxN,KAAKwgF,SAAS5+D,YAAYle,EAAK8J,IAGnCxN,KAAK6hB,aAAe,SAAS7Z,GACzB,GAAIy4E,GAAS,GAAI1Y,IAAc,OAAQ,sBAAuB,SAW9D,OAVA0Y,GAAO5W,iBAAiB7hE,EAAQgG,eAEhCyyE,EAAOt8E,GAAG,UAAW,SAAS+J,GAC1BlG,EAAQ8rB,eAAe5lB,EAAEE,QAG7BqyE,EAAOt8E,GAAG,YAAa,WACnB6D,EAAQksB,qBAGLusD,GAGXzgF,KAAKgjB,IAAM,gBACZ/hB,KAAKwd,EAAK1d,WAEboB,EAAQsc,KAAOA,IAIf9e,OAAO,gCAAiC,UAAW,UAAW,SAAW,cAAe,eAAgB,iCAAkC,SAASN,EAAS8C,EAAS7C,GAGrK,GAAI+N,GAAMhO,EAAQ,cAEdmK,GADOnK,EAAQ,eACMA,EAAQ,0BAA0BmK,oBACvDk3E,EAAcv+E,EAAQu+E,YAAc,ypHACpCC,EAAkBx+E,EAAQw+E,gBAAkB,qCAC5CC,EAAkBz+E,EAAQy+E,gBAAkB,gmEAC5CC,EAAuB1+E,EAAQ0+E,qBAAuB,uGACtDC,EAAuB3+E,EAAQ2+E,qBAAuB,+JAEtDC,EAAQ5+E,EAAQ4+E,MAAQ,yCACxBC,EAAiB7+E,EAAQ6+E,eAAiB,6EAC1CC,EAAiB9+E,EAAQ8+E,cAAiB,iQAE1Cb,EAAoB,WAEpB,GAAIc,GAAgBlhF,KAAKmM,qBACrBg1E,mBAAoBR,EACpBS,mBAAoBR,EACpBS,eAAgBX,EAChBY,yBAA0BT,EAC1BU,yBAA0BT,GAC3B,QAAQ,EAEX9gF,MAAKyJ,QACDJ,QACId,MAAQ,UACRmB,MAAQ,SACRnI,KAAO,YAEPgH,MAAO,eACPmB,MAAO,MACPnI,KAAO,YAEPgH,MAAO,SACPmB,MAAO,QACPnI,KAAO,UAEPgH,MAAO,UACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,mBAEPnB,MAAO,SACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,gBAEP0C,iBAAiB,IAGrBo1E,QACIj5E,MAAQ,UACRmB,MAAQ,SACRnI,KAAO,YAEPgH,MAAO,eACPmB,MAAO,MACPnI,KAAO,YAEPgH,MAAO,SACPmB,MAAO,MACPO,KAAO,QAEP1B,MAAO,UACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,mBAEPnB,MAAO,SACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,gBAEP0C,iBAAiB,IAGrB+T,UACI5X,MAAQ,UACRmB,MAAQ,SACRO,KAAO,QAEPN,aAAe,YAGnB83E,UAEIl5E,MAAQ,eACRmB,MAAQ,MACRO,KAAQ,QAER1B,MAAQ,UACRmB,MAAQ,SACRnI,KAAO,YAEPgH,MAAQ,SACRmB,MAAQ,uCAERnB,MAAQ,SACRmB,MAAQ,uCAERnB,OAAS,mBAAoB,WAC7BmB,MAAQ,IAAMq3E,EAAQ,qFAEtBx4E,MAAQ,mBACRmB,MAAQq3E,IAERx4E,MAAQ,mBACRmB,MAAQ,iBAERnB,MAAQ,mBACRmB,MAAQ,iBAERnB,OAAS,cAAe,kDACxBmB,MAAQs3E,IAERz4E,OAAS,cAAe,gDACxBmB,MAAQu3E,IAER14E,OAAS,mBAAoB,SAAU,oBACvCmB,MAAQ,sBAERnB,MAAQ24E,EACRx3E,MAAQ,kCAER0C,iBAAiB,KAIzBpM,KAAKmL,iBAGTkC,GAAI+Q,SAASgiE,EAAmB52E,GAEhCrH,EAAQi+E,kBAAoBA,IAI5BzgF,OAAO,mCAAoC,UAAW,UAAW,SAAW,aAAc,SAASN,EAAS8C,EAAS7C,GAGrH,GAAIyR,GAAQ1R,EAAQ,YAAY0R,MAE5BsvE,EAAuB,cAE3B,WAEIrgF,KAAK0hB,aAAe,SAAS9Q,EAAM+Q,GAC/B,QAAM,QAAQ1J,KAAKrH,IAGZ,SAASqH,KAAK0J,IAGzB3hB,KAAK4hB,YAAc,SAASle,EAAK8J,GAC7B,GAAIoD,GAAOlN,EAAIoL,QAAQtB,GACnBoE,EAAQhB,EAAKgB,MAAM,WAEvB,KAAKA,EAAO,MAAO,EAEnB,IAAIxI,GAASwI,EAAM,GAAGlR,OAClBghF,EAAeh+E,EAAIgU,qBAAqBlK,IAAKA,EAAKpE,OAAQA,GAE9D,KAAKs4E,GAAgBA,EAAal0E,KAAOA,EAAK,MAAO,EAErD,IAAIoT,GAAS5gB,KAAKyhB,WAAW/d,EAAIoL,QAAQ4yE,EAAal0E,KACtD9J,GAAIxB,QAAQ,GAAI6O,GAAMvD,EAAK,EAAGA,EAAKpE,EAAO,GAAIwX,IAGlD5gB,KAAKyhB,WAAa,SAAS7Q,GACvB,MAAOA,GAAKgB,MAAM,QAAQ,MAG/B3Q,KAAKo/E,EAAqBt/E,WAE7BoB,EAAQk+E,qBAAuBA,IAG/B1gF,OAAO,0BAA2B,UAAW,UAAW,SAAW,cAAe,qBAAsB,4BAA6B,sBAAuB,SAASN,EAAS8C,EAAS7C,GAGvL,GAAI+N,GAAMhO,EAAQ,iBAEdsiF,GADYtiF,EAAQ,gBAAgBmF,UAClBnF,EAAQ,YAAYsiF,iBACtC55E,EAAgB1I,EAAQ,wBAAwB0I,cAEhDu4E,EAAe,WAEftgF,KAAKkF,QAAQy8E,GAEb3hF,KAAK0E,IAAI,QAAS,YAAa,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACrE,GAAa,MAATA,EAAc,CACd,GAAIoT,GAAShU,EAAO68D,oBAChBtoD,EAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,QACzDb,EAAQyP,EAASjP,iBAIrB,IAHIR,GAASA,EAAMe,MAAMsI,MAAM,SAC3BrJ,EAAQyP,EAASrP,gBAEjBJ,GAAwB,iBAAfA,EAAM4I,KAAyB,CACxC,GAAIP,GAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAkB,MAAdw4E,EACA,OACGv9E,KAAM,GACNiT,WAAY,EAAG,GAGtB,KAAK1G,EAAK4C,UAAUiE,EAAOrO,QAAQwI,MAAM,SACrC,OACGvN,KAAM,KACNiT,WAAY,EAAG,QAOlCtX,KAAK0E,IAAI,QAAS,WAAY,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACpE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA8B,MAAbgqE,EAAkB,CAC1C,GAAIpqE,GAAShU,EAAO68D,oBAChBtoD,EAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,QACzDb,EAAQyP,EAASjP,iBAIrB,IAHIR,GAASA,EAAMe,MAAMsI,MAAM,SAC3BrJ,EAAQyP,EAASrP,gBAEjBJ,GAAwB,iBAAfA,EAAM4I,KAAyB,CACxC,GAAIP,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAM/C,IAAIlC,OAAQiF,EAAM/C,IAAIlC,OAAS,EACpE,IAAkB,MAAdw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,MAMvBrO,KAAK0E,IAAI,YAAa,YAAa,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACzE,GAAa,MAATA,EAAc,CACd,GAAIoT,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAkB,MAAdw4E,EACA,OACGv9E,KAAM,GACNiT,WAAY,EAAG,OAOlCjK,GAAI+Q,SAASkiE,EAAcqB,GAE3Bx/E,EAAQm+E,aAAeA,IAGvB3gF,OAAO,6BAA8B,UAAW,UAAW,SAAW,cAAe,qBAAsB,qBAAsB,gBAAiB,SAASN,EAAS8C,EAAS7C,GAG7K,GAUIwiF,GAVAz0E,EAAMhO,EAAQ,iBACdmF,EAAYnF,EAAQ,gBAAgBmF,UACpCuD,EAAgB1I,EAAQ,wBAAwB0I,cAChDwB,EAAOlK,EAAQ,kBAEf0iF,GACC,OAAQ,eAAgB,wBACzBC,GACC,OAAQ,eAAgB,uBAAwB,WAGjDC,KACAC,EAAc,SAASz+E,GACvB,GAAIpB,IAAK,CAMT,OALIoB,GAAOs2D,cACP13D,EAAKoB,EAAO6T,UAAUjV,GAClB4/E,EAAal2D,YAActoB,EAAOs2D,YAAYhuC,aAC9Ck2D,GAAgBl2D,WAAYtoB,EAAOs2D,YAAYhuC,cAEnDk2D,EAAa5/E,GACNy/E,EAAUG,EAAa5/E,QAClCy/E,EAAUG,EAAa5/E,IACnB8/E,qBAAsB,EACtBC,iBAAiB,EACjBC,oBAAqB,GACrBC,sBAAuB,EACvBC,kBAAkB,EAClBC,uBAAwB,GACxBC,qBAAsB,MAI1Bd,EAAkB,WAClB3hF,KAAK0E,IAAI,SAAU,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACrE,GAAIoT,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,IACtC,IAAY,KAARnJ,EAAa,CACb69E,EAAYz+E,EACZ,IAAI6T,GAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAgC,MAAbA,GAAoBp+E,EAAO6+D,2BAC9C,OACIj+D,KAAM,IAAMw9E,EAAW,IACvBvqE,WAAW,EAEZ,IAAIqqE,EAAgBe,gBAAgBj/E,EAAQuE,GAC/C,MAAI,WAAWiQ,KAAKrH,EAAK6G,EAAOrO,UAAY3F,EAAOkhD,mBAC/Cg9B,EAAgBgB,iBAAiBl/E,EAAQuE,EAAS,MAE9C3D,KAAM,KACNiT,WAAY,EAAG,MAGnBqqE,EAAgBiB,kBAAkBn/E,EAAQuE,EAAS,MAE/C3D,KAAM,IACNiT,WAAY,EAAG,SAIxB,IAAY,KAARjT,EAAa,CACpB69E,EAAYz+E,EACZ,IAAIm+E,GAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAiB,KAAbw4E,EAAkB,CAClB,GAAIiB,GAAW76E,EAAQwd,oBAAoB,KAAMpc,OAAQqO,EAAOrO,OAAS,EAAGoE,IAAKiK,EAAOjK,KACxF,IAAiB,OAAbq1E,GAAqBlB,EAAgBmB,sBAAsBrrE,EAAQ7G,EAAMvM,GAEzE,MADAs9E,GAAgBoB,0BAEZ1+E,KAAM,GACNiT,WAAY,EAAG,SAIxB,CAAA,GAAY,MAARjT,GAAwB,QAARA,EAAgB,CACvC69E,EAAYz+E,EACZ,IAAIu/E,GAAU,EACVrB,GAAgBsB,uBAAuBxrE,EAAQ7G,KAC/CoyE,EAAUz5E,EAAKuoB,aAAa,IAAKgwD,EAAQQ,uBACzCX,EAAgBuB,4BAEpB,IAAItB,GAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAkB,MAAdw4E,EAAmB,CACnB,GAAIF,GAAe15E,EAAQ0P,qBAAqBlK,IAAKiK,EAAOjK,IAAKpE,OAAQqO,EAAOrO,OAAO,GAAI,IAC3F,KAAKs4E,EACA,MAAO,KACZ,IAAIyB,GAAcnjF,KAAKyhB,WAAWzZ,EAAQ8G,QAAQ4yE,EAAal0E,UAC5D,CAAA,IAAIw1E,EAIP,WADArB,GAAgBuB,2BAFhB,IAAIC,GAAcnjF,KAAKyhB,WAAW7Q,GAKtC,GAAIgQ,GAASuiE,EAAcn7E,EAAQ6pB,cAEnC,QACIxtB,KAAM,KAAOuc,EAAS,KAAOuiE,EAAcH,EAC3C1rE,WAAY,EAAGsJ,EAAOlgB,OAAQ,EAAGkgB,EAAOlgB,SAG5CihF,EAAgBuB,+BAIxBljF,KAAK0E,IAAI,SAAU,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACpE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA6B,KAAZgqE,EAAiB,CACzCK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAM/C,IAAIlC,OAAQiF,EAAM/C,IAAIlC,OAAS,EACpE,IAAiB,KAAbw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,CAEPyzE,GAAQQ,2BAKpBtiF,KAAK0E,IAAI,SAAU,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACrE,GAAY,KAARA,EAAa,CACb69E,EAAYz+E,EACZ,IAAI6T,GAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAmBp+E,EAAO6+D,2BAC1B,OACIj+D,KAAM,IAAMw9E,EAAW,IACvBvqE,WAAW,EAEZ,IAAIqqE,EAAgBe,gBAAgBj/E,EAAQuE,GAE/C,MADA25E,GAAgBgB,iBAAiBl/E,EAAQuE,EAAS,MAE9C3D,KAAM,KACNiT,WAAY,EAAG,QAGpB,IAAY,KAARjT,EAAa,CACpB69E,EAAYz+E,EACZ,IAAIgU,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAiB,KAAbw4E,EAAkB,CAClB,GAAIiB,GAAW76E,EAAQwd,oBAAoB,KAAMpc,OAAQqO,EAAOrO,OAAS,EAAGoE,IAAKiK,EAAOjK,KACxF,IAAiB,OAAbq1E,GAAqBlB,EAAgBmB,sBAAsBrrE,EAAQ7G,EAAMvM,GAEzE,MADAs9E,GAAgBoB,0BAEZ1+E,KAAM,GACNiT,WAAY,EAAG,QAOnCtX,KAAK0E,IAAI,SAAU,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACpE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA6B,KAAZgqE,EAAiB,CACzCK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAMhF,MAAMD,OAAS,EAAGiF,EAAMhF,MAAMD,OAAS,EAC5E,IAAiB,KAAbw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,KAKnBrO,KAAK0E,IAAI,WAAY,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACvE,GAAY,KAARA,EAAa,CACb69E,EAAYz+E,EACZ,IAAI6T,GAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAmBp+E,EAAO6+D,2BAC1B,OACIj+D,KAAM,IAAMw9E,EAAW,IACvBvqE,WAAW,EAEZ,IAAIqqE,EAAgBe,gBAAgBj/E,EAAQuE,GAE/C,MADA25E,GAAgBgB,iBAAiBl/E,EAAQuE,EAAS,MAE9C3D,KAAM,KACNiT,WAAY,EAAG,QAGpB,IAAY,KAARjT,EAAa,CACpB69E,EAAYz+E,EACZ,IAAIgU,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAiB,KAAbw4E,EAAkB,CAClB,GAAIiB,GAAW76E,EAAQwd,oBAAoB,KAAMpc,OAAQqO,EAAOrO,OAAS,EAAGoE,IAAKiK,EAAOjK,KACxF,IAAiB,OAAbq1E,GAAqBlB,EAAgBmB,sBAAsBrrE,EAAQ7G,EAAMvM,GAEzE,MADAs9E,GAAgBoB,0BAEZ1+E,KAAM,GACNiT,WAAY,EAAG,QAOnCtX,KAAK0E,IAAI,WAAY,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACtE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA6B,KAAZgqE,EAAiB,CACzCK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAMhF,MAAMD,OAAS,EAAGiF,EAAMhF,MAAMD,OAAS,EAC5E,IAAiB,KAAbw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,KAKnBrO,KAAK0E,IAAI,iBAAkB,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GAC7E,GAAY,KAARA,GAAuB,KAARA,EAAa,CAC5B69E,EAAYz+E,EACZ,IAAI2/E,GAAQ/+E,EACRiT,EAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAgC,MAAbA,GAAgC,KAAZA,GAAmBp+E,EAAO6+D,2BACjE,OACIj+D,KAAM++E,EAAQvB,EAAWuB,EACzB9rE,WAAW,EAGf,IAAIG,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClC61E,EAAWzyE,EAAK4C,UAAUiE,EAAOrO,OAAO,EAAGqO,EAAOrO,OACtD,IAAgB,MAAZi6E,EACA,MAAO,KAMX,KAAK,GAHQ96E,GADTuI,EAAS9I,EAAQM,UAAUgP,EAAUjO,MAAMmE,KAC3CuwB,EAAM,EACNulD,GAAW,EAENt3E,EAAI,EAAGA,EAAI8E,EAAOpQ,SACvB6H,EAAQuI,EAAO9E,GACG,UAAdzD,EAAM4I,KACRmyE,GAAW,EACFA,EAAW,IACpBA,EAAW/6E,EAAMe,MAAM5H,QAAQ0hF,MAE5B76E,EAAMe,MAAM5I,OAASq9B,EAAOzmB,EAAUjO,MAAMD,SAPlB4C,IAU/B+xB,GAAOjtB,EAAO9E,GAAG1C,MAAM5I,MAE3B,KAAK6H,GAAU+6E,EAAW,GAAoB,YAAf/6E,EAAM4I,OAAsC,WAAf5I,EAAM4I,MAAuBmG,EAAUjO,MAAMD,SAAWb,EAAMe,MAAM5I,OAAOq9B,EAAI,GAAMx1B,EAAMe,MAAMixE,YAAY6I,KAAW76E,EAAMe,MAAM5I,OAAO,GAAM,CACzM,IAAKihF,EAAgBe,gBAAgBj/E,EAAQuE,GACzC,MACJ,QACI3D,KAAM++E,EAAQA,EACd9rE,WAAY,EAAE,IAEf,GAAI/O,GAAwB,WAAfA,EAAM4I,KAAmB,CACzC,GAAIywE,GAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAIw4E,GAAawB,EACb,OACI/+E,KAAM,GACNiT,WAAY,EAAG,QAQvCtX,KAAK0E,IAAI,iBAAkB,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GAC5E,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,gBAA8B,KAAZgqE,GAA+B,KAAZA,GAAkB,CAC9DK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAMhF,MAAMD,OAAS,EAAGiF,EAAMhF,MAAMD,OAAS,EAC5E,IAAIw4E,GAAaC,EAEb,MADAxzE,GAAM/C,IAAIlC,SACHiF,KAQvBszE,GAAgBe,gBAAkB,SAASj/E,EAAQuE,GAC/C,GAAIyP,GAAShU,EAAO68D,oBAChBtoD,EAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,OAC7D,KAAKpJ,KAAKujF,gBAAgBvrE,EAASjP,mBAAqB,OAAQg5E,GAAwB,CACpF,GAAIyB,GAAY,GAAIz7E,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,OAAS,EACvE,KAAKpJ,KAAKujF,gBAAgBC,EAAUz6E,mBAAqB,OAAQg5E,GAC7D,OAAO,EAGf,MADA/pE,GAASpP,cACFoP,EAAShP,uBAAyByO,EAAOjK,KAC5CxN,KAAKujF,gBAAgBvrE,EAASjP,mBAAqB,OAAQi5E,IAGnEL,EAAgB4B,gBAAkB,SAASh7E,EAAO0U,GAC9C,MAAOA,GAAMvb,QAAQ6G,EAAM4I,MAAQ5I,IAAS,GAGhDo5E,EAAgBgB,iBAAmB,SAASl/E,EAAQuE,EAASie,GACzD,GAAIxO,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,IACjCxN,MAAK8iF,sBAAsBrrE,EAAQ7G,EAAMkxE,EAAQO,oBAAoB,MACtEP,EAAQK,qBAAuB,GACnCL,EAAQM,gBAAkB3qE,EAAOjK,IACjCs0E,EAAQO,oBAAsBp8D,EAAUrV,EAAK8M,OAAOjG,EAAOrO,QAC3D04E,EAAQK,wBAGZR,EAAgBiB,kBAAoB,SAASn/E,EAAQuE,EAASie,GAC1D,GAAIxO,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,IACjCxN,MAAKijF,uBAAuBxrE,EAAQ7G,KACrCkxE,EAAQQ,sBAAwB,GACpCR,EAAQS,iBAAmB9qE,EAAOjK,IAClCs0E,EAAQU,uBAAyB5xE,EAAK8M,OAAO,EAAGjG,EAAOrO,QAAU6c,EACjE67D,EAAQW,qBAAuB7xE,EAAK8M,OAAOjG,EAAOrO,QAClD04E,EAAQQ,yBAGZX,EAAgBmB,sBAAwB,SAASrrE,EAAQ7G,EAAMqV,GAC3D,MAAO67D,GAAQK,qBAAuB,GAClC1qE,EAAOjK,MAAQs0E,EAAQM,iBACvBn8D,IAAY67D,EAAQO,oBAAoB,IACxCzxE,EAAK8M,OAAOjG,EAAOrO,UAAY04E,EAAQO,qBAG/CV,EAAgBsB,uBAAyB,SAASxrE,EAAQ7G,GACtD,MAAOkxE,GAAQQ,sBAAwB,GACnC7qE,EAAOjK,MAAQs0E,EAAQS,kBACvB3xE,EAAK8M,OAAOjG,EAAOrO,UAAY04E,EAAQW,sBACvC7xE,EAAK8M,OAAO,EAAGjG,EAAOrO,SAAW04E,EAAQU,wBAGjDb,EAAgBoB,uBAAyB,WACrCjB,EAAQO,oBAAsBP,EAAQO,oBAAoB3kE,OAAO,GACjEokE,EAAQK,wBAGZR,EAAgBuB,0BAA4B,WACpCpB,IACAA,EAAQQ,sBAAwB,EAChCR,EAAQS,kBAAmB,IAMnCl1E,EAAI+Q,SAASujE,EAAiBn9E,GAE9BrC,EAAQw/E,gBAAkBA,IAG1BhiF,OAAO,2BAA4B,UAAW,UAAW,SAAW,cAAe,YAAa,8BAA+B,SAASN,EAAS8C,EAAS7C,GAG1J,GAAI+N,GAAMhO,EAAQ,iBACd0R,EAAQ1R,EAAQ,eAAe0R,MAC/B0yE,EAAepkF,EAAQ,eAAeo2E,SAEtCA,EAAWtzE,EAAQszE,SAAW,SAASiO,GACnCA,IACA1jF,KAAK01E,mBAAqB,GAAIv9D,QAC1BnY,KAAK01E,mBAAmBtgB,OAAOlzD,QAAQ,YAAa,IAAMwhF,EAAar6E,QAE3ErJ,KAAK21E,kBAAoB,GAAIx9D,QACzBnY,KAAK21E,kBAAkBvgB,OAAOlzD,QAAQ,YAAa,IAAMwhF,EAAap4E,OAIlF+B,GAAI+Q,SAASq3D,EAAUgO,GAEvB,WAEIzjF,KAAK01E,mBAAqB,8BAC1B11E,KAAK21E,kBAAoB,kCAEzB31E,KAAKuY,mBAAqB,SAASvQ,EAASy9D,EAAWj4D,EAAKm2E,GACxD,GAAI/yE,GAAO5I,EAAQ8G,QAAQtB,GACvBoE,EAAQhB,EAAKgB,MAAM5R,KAAK01E,mBAC5B,IAAI9jE,EAAO,CACP,GAAIzQ,GAAIyQ,EAAMlJ,KAEd,IAAIkJ,EAAM,GACN,MAAO5R,MAAK+1E,oBAAoB/tE,EAAS4J,EAAM,GAAIpE,EAAKrM,EAE5D,IAAIkN,GAAQrG,EAAQ4P,oBAAoBpK,EAAKrM,EAAIyQ,EAAM,GAAGlR,OAAQ,EASlE,OAPI2N,KAAUA,EAAMwJ,gBACZ8rE,EACAt1E,EAAQrO,KAAK4jF,gBAAgB57E,EAASwF,GAClB,OAAbi4D,IACPp3D,EAAQ,OAGTA,EAGX,GAAkB,cAAdo3D,EAAJ,CAGA,GAAI7zD,GAAQhB,EAAKgB,MAAM5R,KAAK21E,kBAC5B,IAAI/jE,EAAO,CACP,GAAIzQ,GAAIyQ,EAAMlJ,MAAQkJ,EAAM,GAAGlR,MAE/B,OAAIkR,GAAM,GACC5R,KAAKg2E,oBAAoBhuE,EAAS4J,EAAM,GAAIpE,EAAKrM,GAErD6G,EAAQ4P,oBAAoBpK,EAAKrM,GAAG,MAInDnB,KAAK4jF,gBAAkB,SAAS57E,EAASwF,GACrC,GAAIoD,GAAO5I,EAAQ8G,QAAQtB,GACvBq2E,EAAcjzE,EAAKiQ,OAAO,MAC1BtQ,EAAW/C,EACX+G,EAAc3D,EAAKlQ,MACvB8M,IAAY,CAGZ,KAFA,GAAIgH,GAAShH,EACT6f,EAASrlB,EAAQc,cACZ0E,EAAM6f,GAAQ,CACnBzc,EAAO5I,EAAQ8G,QAAQtB,EACvB,IAAIoT,GAAShQ,EAAKiQ,OAAO,KACzB,IAAID,KAAW,EAAf,CAEA,GAAKijE,EAAcjjE,EACf,KACJ,IAAIkjE,GAAW9jF,KAAKuY,mBAAmBvQ,EAAS,MAAOwF,EAEvD,IAAIs2E,EAAU,CACV,GAAIA,EAASz6E,MAAMmE,KAAO+C,EACtB,KACG,IAAIuzE,EAASjsE,cAChBrK,EAAMs2E,EAASx4E,IAAIkC,QAChB,IAAIq2E,GAAejjE,EACtB,MAGRpM,EAAShH,GAGb,MAAO,IAAIuD,GAAMR,EAAUgE,EAAaC,EAAQxM,EAAQ8G,QAAQ0F,GAAQ9T,UAG7EO,KAAKw0E,EAAS10E;AC9wBjBpB,OAAO,iBAAkB,UAAW,UAAW,SAAW,cAAe,gBAAiB,sBAAuB,eAAgB,gBAAiB,gCAAiC,0BAA2B,wBAAyB,4BAA6B,4BAA6B,SAASN,EAAS8C,EAAS7C,GAG5T,GAAI+N,GAAMhO,EAAQ,cACdovB,EAAWpvB,EAAQ,UAAUof,KAC7BslE,EAAiB1kF,EAAQ,gBAAgBof,KACzCulE,EAAU3kF,EAAQ,SAASof,KAE3BwlE,GADY5kF,EAAQ,gBAAgBqc,UACfrc,EAAQ,0BAA0B4kF,oBACvDC,EAAgB7kF,EAAQ,oBAAoB6kF,cAC5CC,EAAe9kF,EAAQ,kBAAkBo2E,SACzC2O,EAAkB/kF,EAAQ,sBAAsB+kF,gBAChDrc,EAAe1oE,EAAQ,2BAA2B0oE,aAElDtpD,EAAO,SAAS9E,GAChB3Z,KAAKqkF,gBAAkB1qE,GAAWA,EAAQ0qE,gBAC1CrkF,KAAKqK,eAAiB45E,EACtBjkF,KAAK0e,WAAa,GAAIwlE,GACtBlkF,KAAKskF,WAAa,GAAIF,GAEtBpkF,KAAK8hB,qBACDyiE,MAAOR,EACPS,OAAQR,IAGZhkF,KAAK21B,aAAe,GAAIwuD,GAE5B92E,GAAI+Q,SAASK,EAAMgQ,GAEnB,WAEIzuB,KAAKif,cAAgB5V,MAAO,OAAQiC,IAAK,OAEzCtL,KAAKuhB,kBAAoB,SAASxX,EAAO6G,EAAM4Q,GAC3C,MAAOxhB,MAAKyhB,WAAW7Q,IAG3B5Q,KAAK0hB,aAAe,SAAS3X,EAAO6G,EAAM+Q,GACtC,OAAO,GAGX3hB,KAAK4iB,eAAiB,SAAS7Y,EAAO/B,EAASyG,EAAK3E,GAChD,MAAO9J,MAAKskF,WAAW1hE,eAAe7Y,EAAO/B,EAASyG,EAAK3E,IAG/D9J,KAAK6hB,aAAe,SAAS7Z,GACzB,GAAIhI,KAAK+2D,aAAet4C,EAAxB,CAEA,GAAIgiE,GAAS,GAAI1Y,IAAc,OAAQ,uBAAwB,SAc/D,OAbA0Y,GAAO5W,iBAAiB7hE,EAAQgG,eAE5BhO,KAAKqkF,iBACL5D,EAAOx/E,KAAK,eAAgB6gF,QAAS9hF,KAAKqkF,mBAE9C5D,EAAOt8E,GAAG,QAAS,SAAS+J,GACxBlG,EAAQ8rB,eAAe5lB,EAAEE,QAG7BqyE,EAAOt8E,GAAG,YAAa,WACnB6D,EAAQksB,qBAGLusD,IAGXzgF,KAAKgjB,IAAM,iBACZ/hB,KAAKwd,EAAK1d,WAEboB,EAAQsc,KAAOA,IAGf9e,OAAO,2BAA4B,UAAW,UAAW,SAAW,cAAe,YAAa,8BAA+B,SAASN,EAAS8C,EAAS7C,GAG1J,GAAI+N,GAAMhO,EAAQ,iBACd0R,EAAQ1R,EAAQ,eAAe0R,MAC/B0yE,EAAepkF,EAAQ,eAAeo2E,SAEtCA,EAAWtzE,EAAQszE,SAAW,SAASiO,GACnCA,IACA1jF,KAAK01E,mBAAqB,GAAIv9D,QAC1BnY,KAAK01E,mBAAmBtgB,OAAOlzD,QAAQ,YAAa,IAAMwhF,EAAar6E,QAE3ErJ,KAAK21E,kBAAoB,GAAIx9D,QACzBnY,KAAK21E,kBAAkBvgB,OAAOlzD,QAAQ,YAAa,IAAMwhF,EAAap4E,OAIlF+B,GAAI+Q,SAASq3D,EAAUgO,GAEvB,WAEIzjF,KAAK01E,mBAAqB,8BAC1B11E,KAAK21E,kBAAoB,kCAEzB31E,KAAKuY,mBAAqB,SAASvQ,EAASy9D,EAAWj4D,EAAKm2E,GACxD,GAAI/yE,GAAO5I,EAAQ8G,QAAQtB,GACvBoE,EAAQhB,EAAKgB,MAAM5R,KAAK01E,mBAC5B,IAAI9jE,EAAO,CACP,GAAIzQ,GAAIyQ,EAAMlJ,KAEd,IAAIkJ,EAAM,GACN,MAAO5R,MAAK+1E,oBAAoB/tE,EAAS4J,EAAM,GAAIpE,EAAKrM,EAE5D,IAAIkN,GAAQrG,EAAQ4P,oBAAoBpK,EAAKrM,EAAIyQ,EAAM,GAAGlR,OAAQ,EASlE,OAPI2N,KAAUA,EAAMwJ,gBACZ8rE,EACAt1E,EAAQrO,KAAK4jF,gBAAgB57E,EAASwF,GAClB,OAAbi4D,IACPp3D,EAAQ,OAGTA,EAGX,GAAkB,cAAdo3D,EAAJ,CAGA,GAAI7zD,GAAQhB,EAAKgB,MAAM5R,KAAK21E,kBAC5B,IAAI/jE,EAAO,CACP,GAAIzQ,GAAIyQ,EAAMlJ,MAAQkJ,EAAM,GAAGlR,MAE/B,OAAIkR,GAAM,GACC5R,KAAKg2E,oBAAoBhuE,EAAS4J,EAAM,GAAIpE,EAAKrM,GAErD6G,EAAQ4P,oBAAoBpK,EAAKrM,GAAG,MAInDnB,KAAK4jF,gBAAkB,SAAS57E,EAASwF,GACrC,GAAIoD,GAAO5I,EAAQ8G,QAAQtB,GACvBq2E,EAAcjzE,EAAKiQ,OAAO,MAC1BtQ,EAAW/C,EACX+G,EAAc3D,EAAKlQ,MACvB8M,IAAY,CAGZ,KAFA,GAAIgH,GAAShH,EACT6f,EAASrlB,EAAQc,cACZ0E,EAAM6f,GAAQ,CACnBzc,EAAO5I,EAAQ8G,QAAQtB,EACvB,IAAIoT,GAAShQ,EAAKiQ,OAAO,KACzB,IAAID,KAAW,EAAf,CAEA,GAAKijE,EAAcjjE,EACf,KACJ,IAAIkjE,GAAW9jF,KAAKuY,mBAAmBvQ,EAAS,MAAOwF,EAEvD,IAAIs2E,EAAU,CACV,GAAIA,EAASz6E,MAAMmE,KAAO+C,EACtB,KACG,IAAIuzE,EAASjsE,cAChBrK,EAAMs2E,EAASx4E,IAAIkC,QAChB,IAAIq2E,GAAejjE,EACtB,MAGRpM,EAAShH,GAGb,MAAO,IAAIuD,GAAMR,EAAUgE,EAAaC,EAAQxM,EAAQ8G,QAAQ0F,GAAQ9T,UAG7EO,KAAKw0E,EAAS10E,aAIjBpB,OAAO,gBAAiB,UAAW,UAAW,SAAW,cAAe,gBAAiB,gBAAiB,+BAAgC,kCAAmC,2BAA4B,yBAA0B,2BAA4B,SAASN,EAAS8C,EAAS7C,GAG1R,GAAI+N,GAAMhO,EAAQ,cACdovB,EAAWpvB,EAAQ,UAAUof,KAE7B2hE,GADY/gF,EAAQ,gBAAgBqc,UAChBrc,EAAQ,yBAAyB+gF,mBACrDC,EAAuBhhF,EAAQ,4BAA4BghF,qBAC3DtY,EAAe1oE,EAAQ,2BAA2B0oE,aAClDuY,EAAejhF,EAAQ,mBAAmBihF,aAC1CC,EAAiBlhF,EAAQ,oBAAoBo2E,SAE7Ch3D,EAAO,WACPze,KAAKqK,eAAiB+1E,EACtBpgF,KAAKwgF,SAAW,GAAIH,GACpBrgF,KAAK0e,WAAa,GAAI4hE,GACtBtgF,KAAK21B,aAAe,GAAI4qD,GAE5BlzE,GAAI+Q,SAASK,EAAMgQ,GAEnB,WAEIzuB,KAAK21B,aAAe,SACpB31B,KAAKif,cAAgB5V,MAAO,KAAMiC,IAAK,MAEvCtL,KAAKuhB,kBAAoB,SAASxX,EAAO6G,EAAM4Q,GAC3C,GAAIZ,GAAS5gB,KAAKyhB,WAAW7Q,GACzBE,EAAS9Q,KAAK6e,eAAehO,cAAcD,EAAM7G,GAAO+G,MAC5D,IAAIA,EAAOpQ,QAA0C,WAAhCoQ,EAAOA,EAAOpQ,OAAO,GAAGyQ,KACzC,MAAOyP,EAGX,IAAIhP,GAAQhB,EAAKgB,MAAM,YAKvB,OAJIA,KACAgP,GAAUY,GAGPZ,GAGX5gB,KAAK0hB,aAAe,SAAS3X,EAAO6G,EAAM+Q,GACtC,MAAO3hB,MAAKwgF,SAAS9+D,aAAa9Q,EAAM+Q,IAG5C3hB,KAAK4hB,YAAc,SAAS7X,EAAOrG,EAAK8J,GACpCxN,KAAKwgF,SAAS5+D,YAAYle,EAAK8J,IAGnCxN,KAAK6hB,aAAe,SAAS7Z,GACzB,GAAIy4E,GAAS,GAAI1Y,IAAc,OAAQ,sBAAuB,SAW9D,OAVA0Y,GAAO5W,iBAAiB7hE,EAAQgG,eAEhCyyE,EAAOt8E,GAAG,UAAW,SAAS+J,GAC1BlG,EAAQ8rB,eAAe5lB,EAAEE,QAG7BqyE,EAAOt8E,GAAG,YAAa,WACnB6D,EAAQksB,qBAGLusD,GAGXzgF,KAAKgjB,IAAM,gBACZ/hB,KAAKwd,EAAK1d,WAEboB,EAAQsc,KAAOA,IAIf9e,OAAO,gCAAiC,UAAW,UAAW,SAAW,cAAe,eAAgB,iCAAkC,SAASN,EAAS8C,EAAS7C,GAGrK,GAAI+N,GAAMhO,EAAQ,cAEdmK,GADOnK,EAAQ,eACMA,EAAQ,0BAA0BmK,oBACvDk3E,EAAcv+E,EAAQu+E,YAAc,ypHACpCC,EAAkBx+E,EAAQw+E,gBAAkB,qCAC5CC,EAAkBz+E,EAAQy+E,gBAAkB,gmEAC5CC,EAAuB1+E,EAAQ0+E,qBAAuB,uGACtDC,EAAuB3+E,EAAQ2+E,qBAAuB,+JAEtDC,EAAQ5+E,EAAQ4+E,MAAQ,yCACxBC,EAAiB7+E,EAAQ6+E,eAAiB,6EAC1CC,EAAiB9+E,EAAQ8+E,cAAiB,iQAE1Cb,EAAoB,WAEpB,GAAIc,GAAgBlhF,KAAKmM,qBACrBg1E,mBAAoBR,EACpBS,mBAAoBR,EACpBS,eAAgBX,EAChBY,yBAA0BT,EAC1BU,yBAA0BT,GAC3B,QAAQ,EAEX9gF,MAAKyJ,QACDJ,QACId,MAAQ,UACRmB,MAAQ,SACRnI,KAAO,YAEPgH,MAAO,eACPmB,MAAO,MACPnI,KAAO,YAEPgH,MAAO,SACPmB,MAAO,QACPnI,KAAO,UAEPgH,MAAO,UACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,mBAEPnB,MAAO,SACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,gBAEP0C,iBAAiB,IAGrBo1E,QACIj5E,MAAQ,UACRmB,MAAQ,SACRnI,KAAO,YAEPgH,MAAO,eACPmB,MAAO,MACPnI,KAAO,YAEPgH,MAAO,SACPmB,MAAO,MACPO,KAAO,QAEP1B,MAAO,UACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,mBAEPnB,MAAO,SACPmB,MAAO,iBAEPnB,MAAO,WACPmB,MAAO,gBAEP0C,iBAAiB,IAGrB+T,UACI5X,MAAQ,UACRmB,MAAQ,SACRO,KAAO,QAEPN,aAAe,YAGnB83E,UAEIl5E,MAAQ,eACRmB,MAAQ,MACRO,KAAQ,QAER1B,MAAQ,UACRmB,MAAQ,SACRnI,KAAO,YAEPgH,MAAQ,SACRmB,MAAQ,uCAERnB,MAAQ,SACRmB,MAAQ,uCAERnB,OAAS,mBAAoB,WAC7BmB,MAAQ,IAAMq3E,EAAQ,qFAEtBx4E,MAAQ,mBACRmB,MAAQq3E,IAERx4E,MAAQ,mBACRmB,MAAQ,iBAERnB,MAAQ,mBACRmB,MAAQ,iBAERnB,OAAS,cAAe,kDACxBmB,MAAQs3E,IAERz4E,OAAS,cAAe,gDACxBmB,MAAQu3E,IAER14E,OAAS,mBAAoB,SAAU,oBACvCmB,MAAQ,sBAERnB,MAAQ24E,EACRx3E,MAAQ,kCAER0C,iBAAiB,KAIzBpM,KAAKmL,iBAGTkC,GAAI+Q,SAASgiE,EAAmB52E,GAEhCrH,EAAQi+E,kBAAoBA,IAI5BzgF,OAAO,6BAA8B,UAAW,UAAW,SAAW,cAAe,qBAAsB,qBAAsB,gBAAiB,SAASN,EAAS8C,EAAS7C,GAG7K,GAUIwiF,GAVAz0E,EAAMhO,EAAQ,iBACdmF,EAAYnF,EAAQ,gBAAgBmF,UACpCuD,EAAgB1I,EAAQ,wBAAwB0I,cAChDwB,EAAOlK,EAAQ,kBAEf0iF,GACC,OAAQ,eAAgB,wBACzBC,GACC,OAAQ,eAAgB,uBAAwB,WAGjDC,KACAC,EAAc,SAASz+E,GACvB,GAAIpB,IAAK,CAMT,OALIoB,GAAOs2D,cACP13D,EAAKoB,EAAO6T,UAAUjV,GAClB4/E,EAAal2D,YAActoB,EAAOs2D,YAAYhuC,aAC9Ck2D,GAAgBl2D,WAAYtoB,EAAOs2D,YAAYhuC,cAEnDk2D,EAAa5/E,GACNy/E,EAAUG,EAAa5/E,QAClCy/E,EAAUG,EAAa5/E,IACnB8/E,qBAAsB,EACtBC,iBAAiB,EACjBC,oBAAqB,GACrBC,sBAAuB,EACvBC,kBAAkB,EAClBC,uBAAwB,GACxBC,qBAAsB,MAI1Bd,EAAkB,WAClB3hF,KAAK0E,IAAI,SAAU,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACrE,GAAIoT,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,IACtC,IAAY,KAARnJ,EAAa,CACb69E,EAAYz+E,EACZ,IAAI6T,GAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAgC,MAAbA,GAAoBp+E,EAAO6+D,2BAC9C,OACIj+D,KAAM,IAAMw9E,EAAW,IACvBvqE,WAAW,EAEZ,IAAIqqE,EAAgBe,gBAAgBj/E,EAAQuE,GAC/C,MAAI,WAAWiQ,KAAKrH,EAAK6G,EAAOrO,UAAY3F,EAAOkhD,mBAC/Cg9B,EAAgBgB,iBAAiBl/E,EAAQuE,EAAS,MAE9C3D,KAAM,KACNiT,WAAY,EAAG,MAGnBqqE,EAAgBiB,kBAAkBn/E,EAAQuE,EAAS,MAE/C3D,KAAM,IACNiT,WAAY,EAAG,SAIxB,IAAY,KAARjT,EAAa,CACpB69E,EAAYz+E,EACZ,IAAIm+E,GAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAiB,KAAbw4E,EAAkB,CAClB,GAAIiB,GAAW76E,EAAQwd,oBAAoB,KAAMpc,OAAQqO,EAAOrO,OAAS,EAAGoE,IAAKiK,EAAOjK,KACxF,IAAiB,OAAbq1E,GAAqBlB,EAAgBmB,sBAAsBrrE,EAAQ7G,EAAMvM,GAEzE,MADAs9E,GAAgBoB,0BAEZ1+E,KAAM,GACNiT,WAAY,EAAG,SAIxB,CAAA,GAAY,MAARjT,GAAwB,QAARA,EAAgB,CACvC69E,EAAYz+E,EACZ,IAAIu/E,GAAU,EACVrB,GAAgBsB,uBAAuBxrE,EAAQ7G,KAC/CoyE,EAAUz5E,EAAKuoB,aAAa,IAAKgwD,EAAQQ,uBACzCX,EAAgBuB,4BAEpB,IAAItB,GAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAkB,MAAdw4E,EAAmB,CACnB,GAAIF,GAAe15E,EAAQ0P,qBAAqBlK,IAAKiK,EAAOjK,IAAKpE,OAAQqO,EAAOrO,OAAO,GAAI,IAC3F,KAAKs4E,EACA,MAAO,KACZ,IAAIyB,GAAcnjF,KAAKyhB,WAAWzZ,EAAQ8G,QAAQ4yE,EAAal0E,UAC5D,CAAA,IAAIw1E,EAIP,WADArB,GAAgBuB,2BAFhB,IAAIC,GAAcnjF,KAAKyhB,WAAW7Q,GAKtC,GAAIgQ,GAASuiE,EAAcn7E,EAAQ6pB,cAEnC,QACIxtB,KAAM,KAAOuc,EAAS,KAAOuiE,EAAcH,EAC3C1rE,WAAY,EAAGsJ,EAAOlgB,OAAQ,EAAGkgB,EAAOlgB,SAG5CihF,EAAgBuB,+BAIxBljF,KAAK0E,IAAI,SAAU,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACpE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA6B,KAAZgqE,EAAiB,CACzCK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAM/C,IAAIlC,OAAQiF,EAAM/C,IAAIlC,OAAS,EACpE,IAAiB,KAAbw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,CAEPyzE,GAAQQ,2BAKpBtiF,KAAK0E,IAAI,SAAU,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACrE,GAAY,KAARA,EAAa,CACb69E,EAAYz+E,EACZ,IAAI6T,GAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAmBp+E,EAAO6+D,2BAC1B,OACIj+D,KAAM,IAAMw9E,EAAW,IACvBvqE,WAAW,EAEZ,IAAIqqE,EAAgBe,gBAAgBj/E,EAAQuE,GAE/C,MADA25E,GAAgBgB,iBAAiBl/E,EAAQuE,EAAS,MAE9C3D,KAAM,KACNiT,WAAY,EAAG,QAGpB,IAAY,KAARjT,EAAa,CACpB69E,EAAYz+E,EACZ,IAAIgU,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAiB,KAAbw4E,EAAkB,CAClB,GAAIiB,GAAW76E,EAAQwd,oBAAoB,KAAMpc,OAAQqO,EAAOrO,OAAS,EAAGoE,IAAKiK,EAAOjK,KACxF,IAAiB,OAAbq1E,GAAqBlB,EAAgBmB,sBAAsBrrE,EAAQ7G,EAAMvM,GAEzE,MADAs9E,GAAgBoB,0BAEZ1+E,KAAM,GACNiT,WAAY,EAAG,QAOnCtX,KAAK0E,IAAI,SAAU,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACpE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA6B,KAAZgqE,EAAiB,CACzCK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAMhF,MAAMD,OAAS,EAAGiF,EAAMhF,MAAMD,OAAS,EAC5E,IAAiB,KAAbw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,KAKnBrO,KAAK0E,IAAI,WAAY,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACvE,GAAY,KAARA,EAAa,CACb69E,EAAYz+E,EACZ,IAAI6T,GAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAmBp+E,EAAO6+D,2BAC1B,OACIj+D,KAAM,IAAMw9E,EAAW,IACvBvqE,WAAW,EAEZ,IAAIqqE,EAAgBe,gBAAgBj/E,EAAQuE,GAE/C,MADA25E,GAAgBgB,iBAAiBl/E,EAAQuE,EAAS,MAE9C3D,KAAM,KACNiT,WAAY,EAAG,QAGpB,IAAY,KAARjT,EAAa,CACpB69E,EAAYz+E,EACZ,IAAIgU,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAiB,KAAbw4E,EAAkB,CAClB,GAAIiB,GAAW76E,EAAQwd,oBAAoB,KAAMpc,OAAQqO,EAAOrO,OAAS,EAAGoE,IAAKiK,EAAOjK,KACxF,IAAiB,OAAbq1E,GAAqBlB,EAAgBmB,sBAAsBrrE,EAAQ7G,EAAMvM,GAEzE,MADAs9E,GAAgBoB,0BAEZ1+E,KAAM,GACNiT,WAAY,EAAG,QAOnCtX,KAAK0E,IAAI,WAAY,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACtE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA6B,KAAZgqE,EAAiB,CACzCK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAMhF,MAAMD,OAAS,EAAGiF,EAAMhF,MAAMD,OAAS,EAC5E,IAAiB,KAAbw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,KAKnBrO,KAAK0E,IAAI,iBAAkB,YAAa,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GAC7E,GAAY,KAARA,GAAuB,KAARA,EAAa,CAC5B69E,EAAYz+E,EACZ,IAAI2/E,GAAQ/+E,EACRiT,EAAY7T,EAAOyhC,oBACnB28C,EAAW75E,EAAQtE,IAAIoU,aAAaR,EACxC,IAAiB,KAAbuqE,GAAgC,MAAbA,GAAgC,KAAZA,GAAmBp+E,EAAO6+D,2BACjE,OACIj+D,KAAM++E,EAAQvB,EAAWuB,EACzB9rE,WAAW,EAGf,IAAIG,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClC61E,EAAWzyE,EAAK4C,UAAUiE,EAAOrO,OAAO,EAAGqO,EAAOrO,OACtD,IAAgB,MAAZi6E,EACA,MAAO,KAMX,KAAK,GAHQ96E,GADTuI,EAAS9I,EAAQM,UAAUgP,EAAUjO,MAAMmE,KAC3CuwB,EAAM,EACNulD,GAAW,EAENt3E,EAAI,EAAGA,EAAI8E,EAAOpQ,SACvB6H,EAAQuI,EAAO9E,GACG,UAAdzD,EAAM4I,KACRmyE,GAAW,EACFA,EAAW,IACpBA,EAAW/6E,EAAMe,MAAM5H,QAAQ0hF,MAE5B76E,EAAMe,MAAM5I,OAASq9B,EAAOzmB,EAAUjO,MAAMD,SAPlB4C,IAU/B+xB,GAAOjtB,EAAO9E,GAAG1C,MAAM5I,MAE3B,KAAK6H,GAAU+6E,EAAW,GAAoB,YAAf/6E,EAAM4I,OAAsC,WAAf5I,EAAM4I,MAAuBmG,EAAUjO,MAAMD,SAAWb,EAAMe,MAAM5I,OAAOq9B,EAAI,GAAMx1B,EAAMe,MAAMixE,YAAY6I,KAAW76E,EAAMe,MAAM5I,OAAO,GAAM,CACzM,IAAKihF,EAAgBe,gBAAgBj/E,EAAQuE,GACzC,MACJ,QACI3D,KAAM++E,EAAQA,EACd9rE,WAAY,EAAE,IAEf,GAAI/O,GAAwB,WAAfA,EAAM4I,KAAmB,CACzC,GAAIywE,GAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAIw4E,GAAawB,EACb,OACI/+E,KAAM,GACNiT,WAAY,EAAG,QAQvCtX,KAAK0E,IAAI,iBAAkB,WAAY,SAASqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GAC5E,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,gBAA8B,KAAZgqE,GAA+B,KAAZA,GAAkB,CAC9DK,EAAYz+E,EACZ,IAAImN,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAMhF,MAAMD,OAAS,EAAGiF,EAAMhF,MAAMD,OAAS,EAC5E,IAAIw4E,GAAaC,EAEb,MADAxzE,GAAM/C,IAAIlC,SACHiF,KAQvBszE,GAAgBe,gBAAkB,SAASj/E,EAAQuE,GAC/C,GAAIyP,GAAShU,EAAO68D,oBAChBtoD,EAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,OAC7D,KAAKpJ,KAAKujF,gBAAgBvrE,EAASjP,mBAAqB,OAAQg5E,GAAwB,CACpF,GAAIyB,GAAY,GAAIz7E,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,OAAS,EACvE,KAAKpJ,KAAKujF,gBAAgBC,EAAUz6E,mBAAqB,OAAQg5E,GAC7D,OAAO,EAGf,MADA/pE,GAASpP,cACFoP,EAAShP,uBAAyByO,EAAOjK,KAC5CxN,KAAKujF,gBAAgBvrE,EAASjP,mBAAqB,OAAQi5E,IAGnEL,EAAgB4B,gBAAkB,SAASh7E,EAAO0U,GAC9C,MAAOA,GAAMvb,QAAQ6G,EAAM4I,MAAQ5I,IAAS,GAGhDo5E,EAAgBgB,iBAAmB,SAASl/E,EAAQuE,EAASie,GACzD,GAAIxO,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,IACjCxN,MAAK8iF,sBAAsBrrE,EAAQ7G,EAAMkxE,EAAQO,oBAAoB,MACtEP,EAAQK,qBAAuB,GACnCL,EAAQM,gBAAkB3qE,EAAOjK,IACjCs0E,EAAQO,oBAAsBp8D,EAAUrV,EAAK8M,OAAOjG,EAAOrO,QAC3D04E,EAAQK,wBAGZR,EAAgBiB,kBAAoB,SAASn/E,EAAQuE,EAASie,GAC1D,GAAIxO,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,IACjCxN,MAAKijF,uBAAuBxrE,EAAQ7G,KACrCkxE,EAAQQ,sBAAwB,GACpCR,EAAQS,iBAAmB9qE,EAAOjK,IAClCs0E,EAAQU,uBAAyB5xE,EAAK8M,OAAO,EAAGjG,EAAOrO,QAAU6c,EACjE67D,EAAQW,qBAAuB7xE,EAAK8M,OAAOjG,EAAOrO,QAClD04E,EAAQQ,yBAGZX,EAAgBmB,sBAAwB,SAASrrE,EAAQ7G,EAAMqV,GAC3D,MAAO67D,GAAQK,qBAAuB,GAClC1qE,EAAOjK,MAAQs0E,EAAQM,iBACvBn8D,IAAY67D,EAAQO,oBAAoB,IACxCzxE,EAAK8M,OAAOjG,EAAOrO,UAAY04E,EAAQO,qBAG/CV,EAAgBsB,uBAAyB,SAASxrE,EAAQ7G,GACtD,MAAOkxE,GAAQQ,sBAAwB,GACnC7qE,EAAOjK,MAAQs0E,EAAQS,kBACvB3xE,EAAK8M,OAAOjG,EAAOrO,UAAY04E,EAAQW,sBACvC7xE,EAAK8M,OAAO,EAAGjG,EAAOrO,SAAW04E,EAAQU,wBAGjDb,EAAgBoB,uBAAyB,WACrCjB,EAAQO,oBAAsBP,EAAQO,oBAAoB3kE,OAAO,GACjEokE,EAAQK,wBAGZR,EAAgBuB,0BAA4B,WACpCpB,IACAA,EAAQQ,sBAAwB,EAChCR,EAAQS,kBAAmB,IAMnCl1E,EAAI+Q,SAASujE,EAAiBn9E,GAE9BrC,EAAQw/E,gBAAkBA,IAG1BhiF,OAAO,iCAAkC,UAAW,UAAW,SAAW,cAAe,eAAgB,+BAAgC,sCAAuC,gCAAiC,SAASN,EAAS8C,EAAS7C,GAG5O,GAAI+N,GAAMhO,EAAQ,cACdkK,EAAOlK,EAAQ,eACf+gF,EAAoB/gF,EAAQ,yBAAyB+gF,kBACrDqE,EAA2BplF,EAAQ,gCAAgColF,yBACnEC,EAAoBrlF,EAAQ,yBAAyBqlF,kBAErDC,EAASp7E,EAAK0tD,WACdpqD,EAAc,SACd03C,OAAc,OACdqgC,KAAc,OACdC,IAAc,QACdljE,MAAc,OACdmjE,MAAc,OACd3Z,OAAc,OACdlwB,OAAc,SACd0T,OAAc,OACdvc,SAAc,OACdt5B,MAAc,QACdisE,MAAc,QACdC,MAAc,QACdC,GAAc,QACdC,MAAc,QACdC,GAAc,QACdC,GAAc,UAGdnB,EAAqB,WACrBS,EAAkBzjF,KAAKjB,MAEvBA,KAAK4J,UACDuxC,aACIzvC,QAAU,UAEVnD,MAAQ,8BACRmB,MAAQ,oBAERnB,MAAQ,6BACRmB,MAAQ,IACRnI,OACImK,QAAS,UAETnD,MAAQ,SACRmB,MAAQ,iBACRO,KAAO,QAEP1B,MAAQ,QACRmB,MAAQ,GACRO,KAAO,UAGXyB,QAAU,WAEdwqE,MACI3tE,MAAQ,SAASc,EAAO6sE,GACpB,GAAI9kD,GAAQuzD,EAAOzO,EACnB,QAAQ,6BACJ,iBAAmB9kD,EAAQ,IAAMA,EAAQ,MAEjD1nB,MAAQ,uBACRO,KAAM,oBAEN1B,MAAQ,SAASc,EAAO6sE,GACpB,GAAI9kD,GAAQuzD,EAAOzO,EACnB,QAAQ,6BACJ,iBAAmB9kD,EAAQ,IAAMA,EAAQ,MAEjD1nB,MAAQ,wBACRO,KAAM,kBAEVo7E,kBACK35E,QAAU,eACVnD,MAAQ,2BAA4BmB,MAAQ,MAAOO,KAAO,UAE/Dq7E,gBACK55E,QAAU,UACVnD,MAAQ,2BAA4BmB,MAAQ,IAAKO,KAAO,YAIjEjK,KAAKulF,cAAcnF,EAAmB,OAAQ,SAC9CpgF,KAAKulF,cAAcd,EAA0B,MAAO,UAEhDzkF,KAAK+2D,cAAgBktB,GACrBjkF,KAAKmL,iBAGbkC,GAAI+Q,SAAS6lE,EAAoBS,GAEjCviF,EAAQ8hF,mBAAqBA,IAG7BtkF,OAAO,gCAAiC,UAAW,UAAW,SAAW,cAAe,oBAAqB,iCAAkC,SAASN,EAAS8C,EAAS7C,GAG1K,GAAI+N,GAAMhO,EAAQ,cAEdmK,GADUnK,EAAQ,cACGA,EAAQ,0BAA0BmK,oBAEvDk7E,EAAoB,SAASc,GAC7BxlF,KAAKyJ,QACDJ,QACKd,MAAQ,2BAA4BmB,MAAQ,kBAAmBO,KAAO,UAEnE1B,OAAS,gCAAiC,uBAC1CmB,MAAQ,uBAAwBO,KAAO,oBAGvC1B,OAAS,gCAAiC,uBAC1CmB,MAAQ,yBAA0BO,KAAO,gBAE5C1B,MAAQ,UAAWmB,MAAQ,SAAUO,KAAO,YAEzC1B,OAAS,4BAA6B,oBACtCmB,MAAQ,2BAA4BO,KAAO,YAE9CyB,QAAU,QACVA,QAAU,cAGf+5E,kBACK/5E,QAAU,eACVA,QAAU,gBAGfg6E,cACKn9E,MAAQ,8BAA+BmB,MAAQ,OAAQO,KAAO,UAGnE07E,UACKj6E,QAAU,UACVA,QAAU,WACVnD,MAAQ,0BAA2BmB,MAAQ,IAAKO,KAAO,UACvD1B,MAAQ,SAAUmB,MAAQ,oBAC1BnB,MAAQ,oBAAqBmB,MAAQ,MAAOnI,KAAO,iBAGxDqkF,eACIr9E,MAAQ,OACRmB,MAAQ,SAERnB,MAAO,kBACPmB,MAAO,IACPO,KAAM,QAEN1B,OAAS,oBAAqB,WAC9BmB,MAAQ,yBACRnI,OACIgH,MAAQ,OACRmB,MAAQ,SAGRnB,MAAQ,kBACRmB,MAAQ,IACRO,KAAO,QAEVyB,QAAU,aAGfm6E,QACKt9E,MAAQ,aAAcmB,MAAQ,UAAWO,KAAO,UAChD1B,MAAQ,OAAQmB,MAAQ,SACxBnB,MAAQ,OAAQmB,MAAQ,4BAG7ByW,UACK5X,MAAQ,UAAWmB,MAAQ,MAAOO,KAAO,UACzCN,aAAe,YAGpBusE,MACI3tE,OAAS,6BAA8B,iBACvCmB,MAAQ,0CACRO,OACKyB,QAAU,eACVnD,MAAQ,2BAA4BmB,MAAQ,MAAOO,KAAO,YAG/D1B,OAAS,6BAA8B,iBACvCmB,MAAQ,2CACRO,OACKyB,QAAU,UACVnD,MAAQ,2BAA4BmB,MAAQ,IAAKO,KAAO,YAIjEk+C,QACK5/C,MAAQ,OAAQmB,MAAQ,SAG7Bo8E,YACIv9E,MAAQ,2BACRmB,MAAQ,gEAERnB,MAAQ,OAAQmB,MAAQ,MAG5B4sD,SACI/tD,MAAQ,SACRmB,MAAQ,IACRnI,KAAO,kBAEPgH,MAAQ,SACRmB,MAAQ,IACRnI,KAAO,mBAGXwkF,gBACKx9E,MAAQ,SAAUmB,MAAO,IAAKO,KAAM,QACpCyB,QAAU,cACV/B,aAAe,WAGpBq8E,iBACKz9E,MAAQ,SAAUmB,MAAO,IAAKO,KAAM,QACpCyB,QAAU,cACV/B,aAAe,WAGpBwxC,aACI5yC,MAAQ,8BACRmB,MAAQ,uCAERnB,MAAQ,6BACRmB,MAAQ,MAERgC,QAAU,UAEVA,QAAU,YAId1L,KAAK+2D,cAAgB2tB,GACrB1kF,KAAKmL,mBAIb,WAEInL,KAAKulF,cAAgB,SAASl7E,EAAgBP,EAAQosE,GAClDl2E,KAAKyJ,OAAOysE,IAAIlrE,SACZzC,OAAS,6BAA8B,iBAAmB2tE,GAC1DxsE,MAAQ,OAASwsE,EAAM,IACvBjsE,OACKyB,QAAU,UACVA,QAAU,eACVnD,MAAQ,2BAA4BmB,MAAQ,MAAOO,KAAOH,EAAS,YAI5E9J,KAAKyJ,OAAOysE,EAAM,UACbxqE,QAAU,UACVnD,MAAQ,2BAA4BmB,MAAQ,IAAMO,KAAM,QACrDqS,QAAU,SAAShT,EAAOwB,EAAcC,GAEpC,MADAA,GAAMkB,OAAO,GACNjM,KAAKuI,SAIxBvI,KAAKoK,WAAWC,EAAgBP,IAC5BvB,OAAQ,6BAA8B,iBAAmB2tE,GACzDxsE,MAAQ,QAAUwsE,EAAM,IACxBjsE,KAAMisE,EAAM,SAEZ3tE,MAAO,eACPmB,MAAQ,oBAERnB,MAAO,aACPmB,MAAQ,gBAIjBzI,KAAKuI,EAAmBzI,WAE3BsM,EAAI+Q,SAASsmE,EAAmBl7E,GAEhCrH,EAAQuiF,kBAAoBA,IAG5B/kF,OAAO,qBAAsB,UAAW,UAAW,UAAY,SAASN,EAAS8C,EAAS7C,GAG1F,QAASg3D,GAAOvsD,GACZ,QACIxB,MAAQ,SACRmB,MAAQ,IACRO,KAAOF,EAAQ,cAEfxB,MAAQ,SACRmB,MAAQ,IACRO,KAAOF,EAAQ,aAIvB,QAASk8E,GAAgB7C,EAAOr5E,GAC5B,QACKxB,MAAQ,SAAUmB,MAAQ05E,EAAOn5E,KAAOF,IAErCxB,MAAQ,2BACRmB,MAAQ,gEAEXC,aAAe,WAIxBxH,EAAQ+zE,IAAM,SAAS3rE,EAAQ5F,EAAMuF,EAAWy6E,GAC5Cp6E,EAAO5F,KACH4D,MAAQ,OACRmB,MAAQ,SAGZnB,MAASo8E,EAA+B,SAASr7E,GACzC,MAAIq7E,GAAOr7E,GACA,qBAAuBq7E,EAAOr7E,GAE9B,qBAJD,oBAMdI,MAAQ,kBACRO,KAAOtF,EAAO,0BAEd4D,MAAO,QACPmB,MAAO,GACPO,KAAOtF,EAAO,0BAGlB4F,EAAO5F,EAAO,YAAcshF,EAAgB,IAAKthF,EAAO,yBACxD4F,EAAO5F,EAAO,aAAeshF,EAAgB,IAAMthF,EAAO,yBAE1D4F,EAAO5F,EAAO,2BACV4D,MAAQ,aACRmB,MAAQ,MACRO,KAAOC,IAEP3B,MAAQ,mBACRmB,MAAQ,MAERnB,MAAQ,8BACRmB,MAAQ,oBAERnB,MAAQ,mBACRmB,MAAQ,oDAERnB,MAAQ,OACRmB,MAAQ,SACToC,OAAOwqD,EAAO3xD,OAKrBhF,OAAO,2BAA4B,UAAW,UAAW,SAAW,cAAe,yBAA0B,4BAA6B,sBAAuB,SAASN,EAAS8C,EAAS7C,GAS5L,QAAS4mF,GAAQ39E,EAAO4I,GACpB,GAAIg1E,GAAa59E,EAAM4I,KAAKvP,MAAM,IAClC,OAAOuP,GAAKvP,MAAM,KAAKu4E,MAAM,SAAShpE,GAClC,MAAQg1E,GAAWzkF,QAAQyP,MAAU,IAT7C,GAAI9D,GAAMhO,EAAQ,iBACd+mF,EAAe/mF,EAAQ,oBAAoB+mF,aAE3Cr+E,GADkB1I,EAAQ,YAAYsiF,gBACtBtiF,EAAQ,wBAAwB0I,eAChDs+E,GAAgB,OAAQ,OAAQ,KAAM,MAAO,UAAW,QAAS,KAAM,MAAO,QAAS,SAAU,OAAQ,OAAQ,QAAS,SAAU,QAAS,OAU7InC,EAAgB,WAEhBlkF,KAAKkF,QAAQkhF,GAEbpmF,KAAK0E,IAAI,cAAe,YAAa,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GAC3E,GAAY,KAARA,EAAa,CACb,GAAI+gB,GAAW3hB,EAAO68D,oBAClBtoD,EAAW,GAAIjQ,GAAcC,EAASod,EAAS5X,IAAK4X,EAAShc,QAC7Db,EAAQyP,EAASjP,iBAErB,IAAIR,GAAS29E,EAAQ39E,EAAO,WAAayP,EAAS/O,wBAA0BV,EAAMe,MAAM5I,OAAS0kB,EAAShc,OACtG,MACJ,IAAIk9E,IAAW,CACf,IAAK/9E,IAAU29E,EAAQ39E,EAAO,aAAiB29E,EAAQ39E,EAAO,SAAWA,EAAMe,MAAMsI,MAAM,MAKvF00E,GAAW,MAJX,GACI/9E,GAAQyP,EAASrP,qBACZJ,IAAU29E,EAAQ39E,EAAO,WAAa29E,EAAQ39E,EAAO,qBAAuB29E,EAAQ39E,EAAO,0BAA4B29E,EAAQ39E,EAAO,SAInJ,KAAKA,IAAU29E,EAAQ39E,EAAO,kBAAoByP,EAASrP,eAAeW,MAAMsI,MAAM,KAClF,MAEJ,IAAI84B,GAAUniC,EAAMe,KACpB,IAAIg9E,EACA,GAAI57C,GAAUA,EAAQl3B,UAAU,EAAG4R,EAAShc,OAASb,EAAMc,MAE/D,IAAIg9E,EAAa3kF,QAAQgpC,MAAa,EAClC,MAEJ,QACGrmC,KAAM,MAAaqmC,EAAU,IAC7BpzB,WAAY,EAAG,OAK9BjK,GAAI+Q,SAAS8lE,EAAekC,GAE5BjkF,EAAQ+hF,cAAgBA,IAGxBvkF,OAAO,0BAA2B,UAAW,UAAW,SAAW,cAAe,qBAAsB,4BAA6B,sBAAuB,SAASN,EAAS8C,EAAS7C,GAQvL,QAAS4mF,GAAQ39E,EAAO4I,GACpB,GAAIg1E,GAAa59E,EAAM4I,KAAKvP,MAAM,IAClC,OAAOuP,GAAKvP,MAAM,KAAKu4E,MAAM,SAAShpE,GAClC,MAAQg1E,GAAWzkF,QAAQyP,MAAU,IAR7C,GAAI9D,GAAMhO,EAAQ,iBACdmF,EAAYnF,EAAQ,gBAAgBmF,UACpCm9E,EAAkBtiF,EAAQ,YAAYsiF,gBACtC55E,EAAgB1I,EAAQ,wBAAwB0I,cAUhDq+E,EAAe,WAEfpmF,KAAKkF,QAAQy8E,GAAkB,mBAE/B3hF,KAAK0E,IAAI,cAAe,YAAa,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GAC3E,GAAY,KAARA,EAAa,CACb,GAAI+gB,GAAW3hB,EAAO68D,oBAClBtoD,EAAW,GAAIjQ,GAAcC,EAASod,EAAS5X,IAAK4X,EAAShc,QAC7Db,EAAQyP,EAASjP,iBAErB,IAAIR,GAAS29E,EAAQ39E,EAAO,WAAayP,EAAS/O,wBAA0BV,EAAMe,MAAM5I,OAAS0kB,EAAShc,OACtG,MACJ,IAAIk9E,IAAW,CACf,IAAK/9E,IAAU29E,EAAQ39E,EAAO,aAAiB29E,EAAQ39E,EAAO,SAAWA,EAAMe,MAAMsI,MAAM,MAKvF00E,GAAW,MAJX,GACI/9E,GAAQyP,EAASrP,qBACZJ,IAAU29E,EAAQ39E,EAAO,WAAa29E,EAAQ39E,EAAO,qBAAuB29E,EAAQ39E,EAAO,0BAA4B29E,EAAQ39E,EAAO,SAInJ,KAAKA,IAAU29E,EAAQ39E,EAAO,kBAAoByP,EAASrP,eAAeW,MAAMsI,MAAM,KAClF,MAEJ,IAAIskE,GAAM3tE,EAAMe,KAChB,IAAIg9E,EACA,GAAIpQ,GAAMA,EAAI1iE,UAAU,EAAG4R,EAAShc,OAASb,EAAMc,MAGvD,QACGhF,KAAM,MAAa6xE,EAAM,IACzB5+D,WAAY,EAAG,OAK1BtX,KAAK0E,IAAI,aAAc,YAAa,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GAC1E,GAAY,MAARA,EAAc,CACd,GAAIoT,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQ8G,QAAQ2I,EAAOjK,KAC9B+4E,EAAa31E,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC/D,IAAkB,MAAdm9E,EAAoB,CACpB,GAAIpD,GAAcnjF,KAAKyhB,WAAW7Q,GAC9BgQ,EAASuiE,EAAcn7E,EAAQ6pB,cAEnC,QACIxtB,KAAM,KAAOuc,EAAS,KAAOuiE,EAC7B7rE,WAAY,EAAGsJ,EAAOlgB,OAAQ,EAAGkgB,EAAOlgB,aAO5D2M,GAAI+Q,SAASgoE,EAAc5hF,GAE3BrC,EAAQikF,aAAeA,IAGvBzmF,OAAO,mCAAoC,UAAW,UAAW,SAAW,aAAc,SAASN,EAAS8C,EAAS7C,GAGrH,GAAIyR,GAAQ1R,EAAQ,YAAY0R,MAE5BsvE,EAAuB,cAE3B,WAEIrgF,KAAK0hB,aAAe,SAAS9Q,EAAM+Q,GAC/B,QAAM,QAAQ1J,KAAKrH,IAGZ,SAASqH,KAAK0J,IAGzB3hB,KAAK4hB,YAAc,SAASle,EAAK8J,GAC7B,GAAIoD,GAAOlN,EAAIoL,QAAQtB,GACnBoE,EAAQhB,EAAKgB,MAAM,WAEvB,KAAKA,EAAO,MAAO,EAEnB,IAAIxI,GAASwI,EAAM,GAAGlR,OAClBghF,EAAeh+E,EAAIgU,qBAAqBlK,IAAKA,EAAKpE,OAAQA,GAE9D,KAAKs4E,GAAgBA,EAAal0E,KAAOA,EAAK,MAAO,EAErD,IAAIoT,GAAS5gB,KAAKyhB,WAAW/d,EAAIoL,QAAQ4yE,EAAal0E,KACtD9J,GAAIxB,QAAQ,GAAI6O,GAAMvD,EAAK,EAAGA,EAAKpE,EAAO,GAAIwX,IAGlD5gB,KAAKyhB,WAAa,SAAS7Q,GACvB,MAAOA,GAAKgB,MAAM,QAAQ,MAG/B3Q,KAAKo/E,EAAqBt/E,WAE7BoB,EAAQk+E,qBAAuBA,IAG/B1gF,OAAO,yBAA0B,UAAW,UAAW,SAAW,cAAe,yBAA0B,uBAAwB,2BAA4B,SAASN,EAAS8C,EAAS7C,GAG1L,GAAI+N,GAAMhO,EAAQ,iBACdmnF,EAAgBnnF,EAAQ,WAAWo2E,SACnCgR,EAAcpnF,EAAQ,SAASo2E,SAC/B8K,EAAiBlhF,EAAQ,YAAYo2E,SAErCA,EAAWtzE,EAAQszE,SAAW,WAC9B+Q,EAAcvlF,KAAKjB,KAAM,GAAIymF,IACzBC,KAAQ,EACR5kF,KAAQ,EACR6kF,GAAM,EACN5oD,IAAO,EACPY,QAAW,EACXioD,MAAS,EACTC,GAAM,EACNhC,IAAO,EACPljE,MAAS,EACTmlE,OAAU,EACVlQ,KAAQ,EACR7zD,KAAQ,EACRR,MAAS,EACT6yC,OAAU,EACV2xB,MAAS,EACTC,IAAO,EACPC,GAAM,EACN33B,GAAM,EACN43B,GAAM,EACN7iE,EAAK,EACL8iE,GAAM,EACNC,GAAM,EACNC,SAAY,EACZlc,OAAU,EACVmc,SAAY,EACZrC,GAAM,EACNE,GAAM,KAENZ,MAAO,GAAIhE,GACXiE,OAAQ,GAAIjE,KAIpBlzE,GAAI+Q,SAASq3D,EAAU+Q,KAIvB7mF,OAAO,wCAAyC,UAAW,UAAW,SAAW,cAAe,iCAAkC,SAASN,EAAS8C,EAAS7C,GAG7J,GAAI+N,GAAMhO,EAAQ,cACdmK,EAAqBnK,EAAQ,0BAA0BmK,mBAEvD+9E,EAA2B,WAE3BvnF,KAAKyJ,QACDJ,QACId,MAAQ,kBACRmB,MAAQ,gBAERnB,MAAQ,kBACRmB,MAAQ,eAERC,aAAe,iBAK3B0D,GAAI+Q,SAASmpE,EAA0B/9E,GAEvC+9E,EAAyBC,aAAe,SAASn+E,GAC7C,OACId,MAAQ,cACRmB,MAAQ,gBACRO,KAAQZ,IAIhBk+E,EAAyBE,WAAa,SAAUp+E,GAC5C,OACId,MAAQ,cACRmB,MAAQ,SACRO,KAAQZ,IAKhBlH,EAAQolF,yBAA2BA,IAInC5nF,OAAO,0BAA2B,UAAW,UAAW,SAAW,cAAe,8BAA+B,SAASN,EAAS8C,EAAS7C,GAG5I,GAAI+N,GAAMhO,EAAQ,iBACdokF,EAAepkF,EAAQ,eAAeo2E,SAEtCA,EAAWtzE,EAAQszE,SAAW,SAASiS,EAAaC,GACpD3nF,KAAK0nF,YAAcA,EACnB1nF,KAAK2nF,SAAWA,EAEpBt6E,GAAI+Q,SAASq3D,EAAUgO,GAEvB,WAGIzjF,KAAK4nF,SAAW,SAAS79E,GACD,gBAATA,KACPA,EAAQA,EAAM,GAClB,KAAK,GAAI/E,KAAOhF,MAAK2nF,SACjB,GAA2B,IAAvB59E,EAAMrI,QAAQsD,GACd,MAAOhF,MAAK2nF,SAAS3iF,EAE7B,OAAO,OAGXhF,KAAK6nF,SAAW,SAAS99E,EAAO/B,EAASy9D,EAAWj4D,GAChD,GAAIlJ,GAAOtE,KAAK4nF,SAAS79E,EACzB,OAAQzF,GAAOA,EAAKgU,cAActQ,EAASy9D,EAAWj4D,GAAO,IAGjExN,KAAKsY,cAAgB,SAAStQ,EAASy9D,EAAWj4D,GAC9C,MACIxN,MAAK6nF,SAAS7/E,EAAQ2I,SAASnD,EAAI,GAAIxF,EAASy9D,EAAWj4D,IAC3DxN,KAAK6nF,SAAS7/E,EAAQ2I,SAASnD,GAAMxF,EAASy9D,EAAWj4D,IACzDxN,KAAK0nF,YAAYpvE,cAActQ,EAASy9D,EAAWj4D,IAI3DxN,KAAKuY,mBAAqB,SAASvQ,EAASy9D,EAAWj4D,GACnD,GAAIlJ,GAAOtE,KAAK4nF,SAAS5/E,EAAQ2I,SAASnD,EAAI,GAQ9C,OANKlJ,IAASA,EAAKgU,cAActQ,EAASy9D,EAAWj4D,KACjDlJ,EAAOtE,KAAK4nF,SAAS5/E,EAAQ2I,SAASnD,KAErClJ,GAASA,EAAKgU,cAActQ,EAASy9D,EAAWj4D,KACjDlJ,EAAOtE,KAAK0nF,aAETpjF,EAAKiU,mBAAmBvQ,EAASy9D,EAAWj4D,KAGxDvM,KAAKw0E,EAAS10E,aAIjBpB,OAAO,uCAAwC,UAAW,UAAW,SAAW,cAAe,uCAAwC,iCAAkC,SAASN,EAAS8C,EAAS7C,GAGpM,GAAI+N,GAAMhO,EAAQ,cACdkoF,EAA2BloF,EAAQ,iCAAiCkoF,yBACpE/9E,EAAqBnK,EAAQ,0BAA0BmK,mBAEvDi7E,EAA2B,WAC3B,GAAIvD,GAAgBlhF,KAAKmM,qBACrB27E,oBACI,0dAUJC,QACI,oUAKJC,eACI,yBACJC,oBACI,8BACJ9G,mBACI,QACJ+G,4BAA6B,cAC9B,cACCC,EAAa,wEACbC,EAAe,wCAEfC,EAAY;AAQhBroF,KAAKyJ,QACD6+E,WAEQ//E,MAAQ,UACRmB,MAAQ,SACRO,KAAO,gBAEXs9E,EAAyBC,aAAa,cAElCj/E,MAAQ,UACRmB,MAAQ,OACRO,KAAO,YAEP1B,MAAQ,SACRmB,MAAQ,SACRO,KAAQ,YAER1B,MAAQ,SACRmB,MAAQ,SACRO,KAAQ,aAER1B,MAAQ,mBACRmB,MAAQ,wBAERnB,MAAQ,mBACRmB,MAAQ,+CAERnB,OACI,eAAgB,uBAAwB,mBACxC,uBAAwB,uBAAwB,OAAO,oBAE3DmB,MAAQ,IAAM0+E,EAAe,0BAA4BA,EAAc,aACvEn+E,KAAM,uBAEN1B,OACI,eAAgB,uBAAwB,uBAAwB,OAChE,mBAAoB,OAAQ,eAAgB,OAAQ,gBAExDmB,MAAQ,IAAM0+E,EAAe,UAAYA,EAAc,wCACvDn+E,KAAM,uBAEN1B,OACI,uBAAwB,OAAQ,mBAAoB,OAAQ,eAC5D,OAAQ,gBAEZmB,MAAQ,IAAM0+E,EAAc,wCAC5Bn+E,KAAM,uBAEN1B,OACI,eAAgB,uBAAwB,uBAAwB,OAChE,mBAAoB,OACpB,eAAgB,OAAQ,uBAAwB,OAAQ,gBAE5DmB,MAAQ,IAAM0+E,EAAe,UAAYA,EAAc,oDACvDn+E,KAAM,uBAEN1B,OACI,eAAgB,OAAQ,uBAAwB,OAAQ,gBAE5DmB,MAAQ,oBAAsB0+E,EAAe,eAC7Cn+E,KAAM,uBAEN1B,OACI,uBAAwB,OAAQ,uBAChC,OAAQ,eAAgB,OAAQ,gBAEpCmB,MAAQ,IAAM0+E,EAAe,wCAC7Bn+E,KAAM,uBAEN1B,OACI,OAAQ,OAAQ,eAAgB,OAAQ,gBAE5CmB,MAAQ,iCACRO,KAAM,uBAEN1B,MAAQ,UACRmB,MAAQ,MAAQy+E,EAAa,OAC7Bl+E,KAAO,UAEP1B,OAAS,uBAAwB,oBACjCmB,MAAQ,0vDAERnB,OAAS,uBAAwB,wBACjCmB,MAAQ,0lBAERnB,OAAS,uBAAwB,oBACjCmB,MAAQ,82DAERnB,OAAS,eAAgB,uBAAwB,4BACjDmB,MAAQ,6DAERnB,MAAQ24E,EACRx3E,MAAQ0+E,IAER7/E,MAAQ,mBACRmB,MAAQ,qGACRO,KAAQ,UAER1B,MAAQ,uBACRmB,MAAQ,iBACRO,KAAQ,UAER1B,MAAQ,eACRmB,MAAQ,SACRO,KAAQ,UAER1B,MAAQ,eACRmB,MAAQ,WAERnB,MAAQ,mBACRmB,MAAQ,OACRO,KAAQ,UAER1B,MAAO,UACPmB,MAAO,WAGfL,OACIk+E,EAAyBC,aAAa,cAElCj/E,MAAQ,UACRmB,MAAQ,SACRO,KAAO,0BAEP1B,MAAQ,UACRmB,MAAQ,SACRO,KAAO,+BAEP1B,MAAO,gBACPmB,MAAO,MACPO,KAAM,UAEN1B,MAAQ,OACRmB,MAAQ,UACRO,KAAO,UAEP1B,MAAO,QACPmB,MAAO,GACPO,KAAM,aAGdP,QAEQnB,MAAO,0BACPmB,MAAO,8CAEPnB,MAAO,gBACPmB,MAAO,cACPO,KAAM,aAEN1B,MAAQ,UACRmB,MAAO,kDAEPnB,MAAQ,2BACRmB,MAAO,kDAEPnB,MAAQ,8BACRmB,MAAO,OAEPnB,MAAO,2BACPmB,MAAO,QACPO,KAAM,0BAEN1B,MAAO,QACPmB,MAAO,IACPO,KAAM,aAENN,aAAc,kBAGtB4+E,wBAEQhgF,MAAO,0BACPmB,MAAO,8CAEPnB,MAAO,2BACPmB,MAAO,IACPO,KAAM,UAEN1B,MAAO,2BACPmB,MAAO,MAEPnB,MAAO,QACPmB,MAAO,IACPO,KAAM,aAENN,aAAc,kCAGtB6+E,qBAEQjgF,MAAO,qBACPmB,MAAO0+E,IAEP7/E,MAAO,uBACPmB,MAAO,UAEPnB,MAAO,uBACPmB,MAAO,MAEPnB,MAAO,QACPmB,MAAO,GACPO,KAAM,aAGdw+E,wBACKlgF,MAAQ,UAAWmB,MAAQ,SAAUO,KAAO,UAC5CN,aAAe,YAEpBwW,UACK5X,MAAQ,UAAWmB,MAAQ,SAAUO,KAAO,aAC5CN,aAAe,YAEpB++E,6BACKngF,MAAQ,UAAWmB,MAAQ,MAAOO,KAAO,UACzCN,aAAe,YAEpBg/E,eACKpgF,MAAQ,UAAWmB,MAAQ,MAAOO,KAAO,aACzCN,aAAe,YAEpBi/E,WAEQrgF,MAAQ,2BACRmB,MAAQ2+E,IAER9/E,MAAQ,SACRmB,MAAQ,QACRO,KAAQ,aAER1B,MAAQ,SACRmB,MAAQ,MACRO,KAAQ,aAERN,aAAc,WAGtBk/E,UAEQtgF,MAAQ,2BACRmB,MAAQ2+E,IAER9/E,MAAQ,SACRmB,MAAQ,QACRO,KAAQ,YAER1B,MAAQ,SACRmB,MAAQ,MACRO,KAAQ,aAERN,aAAc,YAK1B3J,KAAKoK,WAAWm9E,EAA0B,QACpCA,EAAyBE,WAAW,cAG9Cp6E,GAAI+Q,SAASqmE,EAA0Bj7E,GAEvCrH,EAAQsiF,yBAA2BA,IAGnC9kF,OAAO,wBAAyB,UAAW,UAAW,SAAW,cAAe,eAAgB,YAAa,6BAA8B,sBAAuB,SAASN,EAAS8C,EAAS7C,GAG7L,GAAI+N,GAAMhO,EAAQ,iBACdkK,EAAOlK,EAAQ,kBACf0R,EAAQ1R,EAAQ,eAAe0R,MAC/B0yE,EAAepkF,EAAQ,eAAeo2E,SACtC1tE,EAAgB1I,EAAQ,wBAAwB0I,cAEhD0tE,EAAWtzE,EAAQszE,SAAW,SAAS4Q,GACvC5C,EAAaxiF,KAAKjB,MAClBA,KAAKqmF,aAAeA,MAExBh5E,GAAI+Q,SAASq3D,EAAUgO,GAEvB,WAEIzjF,KAAKsY,cAAgB,SAAStQ,EAASy9D,EAAWj4D,GAC9C,GAAI0oE,GAAMl2E,KAAK8oF,mBAAmB9gF,EAASwF,EAE3C,OAAI0oE,GAAI8M,QACgB,gBAAbvd,EAA8B,MAAQ,IAE5CyQ,EAAI6S,SAAW/oF,KAAKqmF,aAAanQ,EAAI6S,QAAQj8E,eACvC,GAEPopE,EAAI8S,YACG,GAEP9S,EAAI5sE,MAAM5H,QAAQ,IAAMw0E,EAAI6S,YAAa,EAClC,GAEJ,SAGX/oF,KAAK8oF,mBAAqB,SAAS9gF,EAASwF,GAGxC,IAAK,GAFDsD,GAAS9I,EAAQM,UAAUkF,GAC3BlE,EAAQ,GACHnI,EAAI,EAAGA,EAAI2P,EAAOpQ,OAAQS,IAAK,CACpC,GAAIoH,GAAQuI,EAAO3P,EAEfmI,IAD0C,IAA1Cf,EAAM4I,KAAKopE,YAAY,WAAY,GAC1BhyE,EAAMe,MAENC,EAAKuoB,aAAa,IAAKvpB,EAAMe,MAAM5I,QAGpD,MAAOV,MAAKipF,UAAU3/E,IAG1BtJ,KAAKkpF,MAAQ,8CACblpF,KAAKipF,UAAY,SAAS/S,GAEtB,GAAItkE,GAAQskE,EAAItkE,MAAM5R,KAAKkpF,OACvB9/E,EAAS,CAEb,QACIE,MAAO4sE,EACPtkE,MAAOA,EAAQA,EAAM,GAAK,GAC1BoxE,UAASpxE,KAAUA,EAAM,GACzBo3E,cAAap3E,MAAUA,EAAM,IAAkB,MAAZA,EAAM,IACzCm3E,QAASn3E,EAAQA,EAAM,GAAK,GAC5BxI,OAAQwI,EAAM,GAAKxI,EAASwI,EAAM,GAAGlR,OAAS0I,IAGtDpJ,KAAKmpF,gBAAkB,SAASnxE,GAC5B,GAAIzP,GAAQyP,EAASjP,iBACrB,KAAKR,EACD,MAAO,KAEX,IACIc,GADAC,EAAQ,EAGZ,GACI,IAA8C,IAA1Cf,EAAM4I,KAAKopE,YAAY,WAAY,GAAU,CAC7C,IAAKlxE,EACD,GAAIA,IACAmE,IAAKwK,EAAShP,qBACdI,OAAQ4O,EAAS/O,wBAIzB,IADAK,GAASf,EAAMe,MACXA,EAAM5H,QAAQ,QAAS,EAAI,CAC3B,GAAIw0E,GAAMl2E,KAAKipF,UAAU3/E,EAOzB,OANA4sE,GAAI7sE,MAAQA,EACZ6sE,EAAI5qE,KACAkC,IAAKwK,EAAShP,qBACdI,OAAQ4O,EAAS/O,wBAA0BV,EAAMe,MAAM5I,QAE3DsX,EAASpP,cACFstE,SAGX3tE,EAAQyP,EAASpP,cAEzB,OAAO,OAGX5I,KAAKopF,iBAAmB,SAASpxE,GAC7B,GAAIzP,GAAQyP,EAASjP,iBACrB,KAAKR,EACD,MAAO,KAEX,IACI+C,GADAhC,EAAQ,EAGZ,GACI,IAA8C,IAA1Cf,EAAM4I,KAAKopE,YAAY,WAAY,KAC9BjvE,IACDA,GACIkC,IAAKwK,EAAShP,qBACdI,OAAQ4O,EAAS/O,wBAA0BV,EAAMe,MAAM5I,SAG/D4I,EAAQf,EAAMe,MAAQA,EAClBA,EAAM5H,QAAQ,QAAS,GAAI,CAC3B,GAAIw0E,GAAMl2E,KAAKipF,UAAU3/E,EAOzB,OANA4sE,GAAI5qE,IAAMA,EACV4qE,EAAI7sE,OACAmE,IAAKwK,EAAShP,qBACdI,OAAQ4O,EAAS/O,yBAErB+O,EAASrP,eACFutE,QAGX3tE,EAAQyP,EAASrP,eAEzB,OAAO,OAGX3I,KAAKqpF,KAAO,SAASt+E,EAAOmrE,GACxB,KAAOnrE,EAAMrK,QAAQ,CAEjB,GAAI0qC,GAAMrgC,EAAMA,EAAMrK,OAAO,EAC7B,IAAKw1E,GAAO9qC,EAAI29C,SAAW7S,EAAI6S,QAG1B,CAAA,GAAI/oF,KAAKqmF,aAAanQ,EAAI6S,SAC3B,MAEC,IAAI/oF,KAAKqmF,aAAaj7C,EAAI29C,SAAU,CACrCh+E,EAAM2K,KACN,UAEA,MAAO,MATP,MAAO3K,GAAM2K,QAczB1V,KAAKuY,mBAAqB,SAASvQ,EAASy9D,EAAWj4D,GACnD,GAAI87E,GAAWtpF,KAAK8oF,mBAAmB9gF,EAASwF,EAEhD,KAAK87E,EAAS13E,MACV,MAAO,KAEX,IAEIskE,GAFAqT,EAAaD,EAAStG,SAAWsG,EAASN,YAC1Cj+E,IAGJ,IAAKw+E,EAiCD,IANA,GAAIvxE,GAAW,GAAIjQ,GAAcC,EAASwF,EAAK87E,EAASlgF,OAASkgF,EAAS13E,MAAMlR,QAC5E4K,GACAkC,IAAKA,EACLpE,OAAQkgF,EAASlgF,QAGd8sE,EAAMl2E,KAAKopF,iBAAiBpxE,IAAW,CAC1C,GAAIk+D,EAAI8S,YAAa,CACjB,GAAKj+E,EAAMrK,OAKP,QAFA,OAFAw1E,GAAI7sE,MAAMD,QAAU8sE,EAAI6S,QAAQroF,OAAS,EACzCw1E,EAAI5qE,IAAIlC,QAAU,EACX2H,EAAMuF,WAAW4/D,EAAI7sE,MAAO6sE,EAAI5qE,KAK/C,GAAK4qE,EAAI8M,QAQLj4E,EAAMxJ,KAAK20E,OANX,IADAl2E,KAAKqpF,KAAKt+E,EAAOmrE,GACG,GAAhBnrE,EAAMrK,OAEN,MADAw1E,GAAI7sE,MAAMD,QAAU8sE,EAAI6S,QAAQroF,OAAS,EAClCqQ,EAAMuF,WAAW4/D,EAAI7sE,MAAOiC,OAzC/C,KALA,GAAI0M,GAAW,GAAIjQ,GAAcC,EAASwF,EAAK87E,EAASlgF,QACpDC,GACAmE,IAAKA,EACLpE,OAAQkgF,EAASlgF,OAASkgF,EAASP,QAAQroF,OAAS,GAEjDw1E,EAAMl2E,KAAKmpF,gBAAgBnxE,IAAW,CACzC,GAAIk+D,EAAI8S,YAAa,CACjB,GAAKj+E,EAAMrK,OAKP,QAFA,OAFAw1E,GAAI7sE,MAAMD,QAAU8sE,EAAI6S,QAAQroF,OAAS,EACzCw1E,EAAI5qE,IAAIlC,QAAU,EACX2H,EAAMuF,WAAW4/D,EAAI7sE,MAAO6sE,EAAI5qE,KAK/C,GAAI4qE,EAAI8M,SAEJ,GADAhjF,KAAKqpF,KAAKt+E,EAAOmrE,GACG,GAAhBnrE,EAAMrK,OACN,MAAOqQ,GAAMuF,WAAWjN,EAAO6sE,EAAI7sE,WAGvC0B,GAAMxJ,KAAK20E,MAoC5Bj1E,KAAKw0E,EAAS10E,aAIjBpB,OAAO,uBAAwB,UAAW,UAAW,SAAW,cAAe,gBAAiB,gBAAiB,sCAAuC,kCAAmC,YAAa,2BAA4B,4BAA6B,2BAA4B,SAASN,EAAS8C,EAAS7C,GAGxT,GAAI+N,GAAMhO,EAAQ,cACdovB,EAAWpvB,EAAQ,UAAUof,KAE7BgmE,GADYplF,EAAQ,gBAAgBqc,UACTrc,EAAQ,gCAAgColF,0BACnEpE,EAAuBhhF,EAAQ,4BAA4BghF,qBAE3DtY,GADQ1oE,EAAQ,YAAY0R,MACb1R,EAAQ,2BAA2B0oE,cAClD4Z,EAAkBtiF,EAAQ,sBAAsBsiF,gBAChDpB,EAAiBlhF,EAAQ,oBAAoBo2E,SAE7Ch3D,EAAO,WACPze,KAAKqK,eAAiBo6E,EAEtBzkF,KAAKwgF,SAAW,GAAIH,GACpBrgF,KAAK0e,WAAa,GAAIijE,GACtB3hF,KAAK21B,aAAe,GAAI4qD,GAE5BlzE,GAAI+Q,SAASK,EAAMgQ,GAEnB,WAEIzuB,KAAKgf,iBAAmB,KACxBhf,KAAKif,cAAgB5V,MAAO,KAAMiC,IAAK,MAEvCtL,KAAKuhB,kBAAoB,SAASxX,EAAO6G,EAAM4Q,GAC3C,GAAIZ,GAAS5gB,KAAKyhB,WAAW7Q,GAEzB44E,EAAgBxpF,KAAK6e,eAAehO,cAAcD,EAAM7G,GACxD+G,EAAS04E,EAAc14E,OACvB24E,EAAWD,EAAcz/E,KAE7B,IAAI+G,EAAOpQ,QAA0C,WAAhCoQ,EAAOA,EAAOpQ,OAAO,GAAGyQ,KACzC,MAAOyP,EAGX,IAAa,SAAT7W,GAA6B,YAATA,EAAqB,CACzC,GAAI6H,GAAQhB,EAAKgB,MAAM,mCACnBA,KACAgP,GAAUY,OAEX,IAAa,aAATzX,EAAsB,CAC7B,GAAgB,SAAZ0/E,GAAmC,YAAZA,EACvB,MAAO,EAEX,IAAI73E,GAAQhB,EAAKgB,MAAM,cACnBA,KACIA,EAAM,KACNgP,GAAU,KAEdA,GAAU,MAIlB,MAAOA,IAGX5gB,KAAK0hB,aAAe,SAAS3X,EAAO6G,EAAM+Q,GACtC,MAAO3hB,MAAKwgF,SAAS9+D,aAAa9Q,EAAM+Q,IAG5C3hB,KAAK4hB,YAAc,SAAS7X,EAAOrG,EAAK8J,GACpCxN,KAAKwgF,SAAS5+D,YAAYle,EAAK8J,IAGnCxN,KAAK6hB,aAAe,SAAS7Z,GACzB,GAAIy4E,GAAS,GAAI1Y,IAAc,OAAQ,6BAA8B,mBAWrE,OAVA0Y,GAAO5W,iBAAiB7hE,EAAQgG,eAEhCyyE,EAAOt8E,GAAG,SAAU,SAASulF,GACzB1hF,EAAQ8rB,eAAe41D,EAAQt7E,QAGnCqyE,EAAOt8E,GAAG,YAAa,WACnB6D,EAAQksB,qBAGLusD,GAGXzgF,KAAKgjB,IAAM,uBACZ/hB,KAAKwd,EAAK1d,WAEboB,EAAQsc,KAAOA,IAGf9e,OAAO,6BAA8B,UAAW,UAAW,SAAW,sBAAuB,SAASN,EAAS8C,EAAS7C,GAwMxH,QAAS4mF,GAAQ39E,EAAO4I,GACpB,GAAIg1E,GAAa59E,EAAM4I,KAAKvP,MAAM,IAClC,OAAOuP,GAAKvP,MAAM,KAAKu4E,MAAM,SAAShpE,GAClC,MAAQg1E,GAAWzkF,QAAQyP,MAAU,IAI7C,QAASw4E,GAAY3hF,EAASyG,GAC1B,GAAIuJ,GAAW,GAAIjQ,GAAcC,EAASyG,EAAIjB,IAAKiB,EAAIrF,QACnDb,EAAQyP,EAASjP,iBACrB,MAAKR,IAAU29E,EAAQ39E,EAAO,QAAY29E,EAAQ39E,EAAO,SAAWA,EAAMe,MAAMsI,MAAM,OAClF,EACIrJ,GAAQyP,EAASrP,qBACZJ,IAAU29E,EAAQ39E,EAAO,WAAa29E,EAAQ39E,EAAO,aAAe29E,EAAQ39E,EAAO,mBAAqB29E,EAAQ39E,EAAO,SAEpI,IAAIA,GAAS29E,EAAQ39E,EAAO,cAAgByP,EAASrP,eAAeW,MAAMsI,MAAM,KAC5E,MAAOrJ,GAAMe,MArNrB,GAAIvB,GAAgB1I,EAAQ,qBAAqB0I,cAE7C6hF,GACA,YACA,QACA,kBACA,cACA,MACA,YACA,WACA,SACA,KACA,OACA,aACA,QACA,WACA,QACA,aAGAC,GACA,UACA,SACA,WACA,YACA,mBACA,WACA,UACA,UACA,gBACA,cACA,aACA,SACA,YACA,cACA,cACA,aACA,cACA,SACA,mBACA,YACA,UACA,UACA,UACA,UACA,YACA,YACA,aACA,UACA,SACA,eACA,mBACA,cACA,cACA,cACA,aACA,cACA,YACA,eACA,UACA,SACA,YACA,aACA,eACA,UACA,WACA,WACA,YACA,WACA,SACA,YACA,WACA,YACA,eACA,iBACA,aAGAC,EAAmBF,EAAiB99E,OAAO+9E,GAE3CE,GACAv4E,MAAS,YACT+2B,QACAyhD,SACAloF,MAAS,OAAQ,UACjB80E,MAAS,OAAQ,WAAY,MAAO,QAAS,OAAQ,SACrD7zD,MAAS,aAAc,OAAQ,UAAW,WAC1CjK,OAAU,OAAQ,QAAS,UAC3BmiC,QAAW,UAAW,OAAQ,MAAO,QAAS,SAC9CgvC,UAAa,QACb5S,MAAS,eAAgB,gBAAiB,iBAAkB,eAAgB,YAAa,YAAa,aAAc,SAAU,WAAY,YAAa,SAAU,YACjK6S,WACAC,OACAC,SAAY,WACZC,SACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,UACAC,UACAC,WACAvgB,QACAlmD,KACAwiE,MACAkE,OACAC,YAAe,QACfC,IAAO,QAAS,YAChBC,MACAjE,IAAO,SACPkE,MACA77B,MACA43B,MACAkE,UACAC,cACAC,OACAz+E,GAAM,OAAQ,SAAU,OAAQ,MAAO,QAAS,WAAY,QAC5D0+E,MACAC,UACAC,SACAhjD,KACAijD,QACA5hB,GAAM,QACN6hB,OACAC,QACAx9E,QACAw1C,MAAS,YACTioC,QACAC,OACAC,QACAC,OACAC,OACAC,OACA/qF,KACA6S,KACAm4E,KACAC,QACAC,QACAlF,MACAC,MACAkF,OACAC,OACAC,QACA7F,MACAK,OACAyF,KAAQ,OAAQ,YAChBxb,KAAQ,OAAQ,YAChB4T,KAAQ,MAAO,MAAO,SAAU,QAAS,SAAU,SACnD6H,QAAW,OAAQ,MAAO,SAAU,QAAS,UAAW,YACxD9F,OAAU,MAAO,SAAU,QAAS,QACpCzO,QAAW,QAAS,OAAQ,OAAQ,SAAW,QAAS,SAAU,OAAQ,OAAQ,WAClF51D,OAAU,OAAQ,SAClBoqE,OAAU,MAAO,aAAc,WAAY,OAAQ,WAAY,QAAS,SAAU,UAClFC,OAAU,MAAO,aAAc,WAAY,OAAQ,YACnDx3B,QAAW,MAAO,OAAQ,SAC1B2xB,OAAU,OAAQ,MAAO,UAAW,QAAS,WAC7Ct8C,QAAW,QAAS,UACpBl+B,KAAQ,QACRm6E,MAAS,QAAS,SAAU,OAAQ,WAAY,MAAO,SAAU,QAAS,MAAO,OAAQ,QACzFmG,OACAC,QACA/H,OAAU,WACVgI,WACAzF,UAAa,QACbvpD,KAAQ,QACRinD,SACAgI,SACA9H,SACAE,MACAH,IAAO,UAAW,UAAW,WAC7BE,IAAO,UAAW,UAAW,UAAW,SACxCP,MAAS,iBAAkB,SAAU,eAAgB,UAAW,SAAU,OAAQ,aAAc,UAChGqI,UAAa,WAAY,OAAQ,QACjCC,UACApI,OAAU,OAAQ,OAClBnjE,OAAU,OAAQ,SAAU,MAAO,eAAgB,UAAW,WAAY,OAAQ,aAAc,cAAe,aAAc,iBAAkB,aAAc,SAAU,OAAQ,MAAO,YAAa,MAAO,WAAY,UAAW,cAAe,WAAY,WAAY,OAAQ,MAAO,OAAQ,QAAS,QAAS,SACjT4iC,QAAW,YAAa,WAAY,OAAQ,aAAc,cAAe,aAAc,iBAAkB,aAAc,OAAQ,QAAS,QACxIoK,QAAW,YAAa,WAAY,OAAQ,WAAY,OAAQ,QAChEw+B,YACA9F,UAAa,WAAY,SACzBlc,QAAW,WAAY,WAAY,QAAS,SAC5C/4B,UAAa,YAAa,WAAY,OAAQ,YAAa,OAAQ,cAAe,WAAY,WAAY,OAAQ,OAAQ,QAC1H00C,QAAW,YAAa,YAAa,WAAY,OAAQ,UAAW,QACpE1+B,QAAW,MAAO,OAAQ,QAC1BglC,UAAa,QAAS,OACtBC,OAAU,QAAS,MAAO,MAAO,MAAO,OAAQ,WAChDC,SAAY,QACZC,WACA5uD,SAAY,OAAQ,QAAS,OAAQ,WAAY,UAAW,aAAc,WAC1E6uD,MAAS,OAAQ,SACjBC,QAAW,SAGXC,EAAc5sF,OAAOuL,KAAK09E,GAqB1B3F,EAAkB,cAItB,WAEIpkF,KAAK4iB,eAAiB,SAAS7Y,EAAO/B,EAASyG,EAAK3E,GAChD,GAAIvB,GAAQP,EAAQQ,WAAWiG,EAAIjB,IAAKiB,EAAIrF,OAE5C,OAAKb,GAED29E,EAAQ39E,EAAO,aAA+B,KAAfA,EAAMe,OAAgB48E,EAAQ39E,EAAO,QAC7DvI,KAAK2tF,kBAAkB5jF,EAAO/B,EAASyG,EAAK3E,GACnDo8E,EAAQ39E,EAAO,SAAW29E,EAAQ39E,EAAO,kBAClCvI,KAAK4tF,uBAAuB7jF,EAAO/B,EAASyG,EAAK3E,UAKhE9J,KAAK2tF,kBAAoB,SAAS5jF,EAAO/B,EAASyG,EAAK3E,GACnD,GAAI+jF,GAAWH,CAMf,OALI5jF,KACA+jF,EAAWA,EAAS1oF,OAAO,SAASulC,GAChC,MAAmC,KAA5BA,EAAQhpC,QAAQoI,MAGxB+jF,EAASthF,IAAI,SAASm+B,GACzB,OACIphC,MAAOohC,EACP3nB,KAAM,UAKlB/iB,KAAK4tF,uBAAyB,SAAS7jF,EAAO/B,EAASyG,EAAK3E,GACxD,GAAIi/E,GAAUY,EAAY3hF,EAASyG,EACnC,KAAKs6E,EACD,QACJ,IAAI5tC,GAAa2uC,CASjB,OARIf,KAAWgB,KACX5uC,EAAaA,EAAWrvC,OAAOi+E,EAAahB,KAE5Cj/E,IACAqxC,EAAaA,EAAWh2C,OAAO,SAAS2oF,GACpC,MAAqC,KAA9BA,EAAUpsF,QAAQoI,MAG1BqxC,EAAW5uC,IAAI,SAASuhF,GAC3B,OACIf,QAASe,EACTC,QAASD,EAAY,QACrB/qE,KAAM,kBAKnB9hB,KAAKmjF,EAAgBrjF,WAExBoB,EAAQiiF,gBAAkBA,IAG1BzkF,OAAO,0BAA2B,UAAW,UAAW,SAAW,cAAe,qBAAsB,4BAA6B,sBAAuB,SAASN,EAAS8C,EAAS7C,GAGvL,GAAI+N,GAAMhO,EAAQ,iBAEdsiF,GADYtiF,EAAQ,gBAAgBmF,UAClBnF,EAAQ,YAAYsiF,iBACtC55E,EAAgB1I,EAAQ,wBAAwB0I,cAEhDu4E,EAAe,WAEftgF,KAAKkF,QAAQy8E,GAEb3hF,KAAK0E,IAAI,QAAS,YAAa,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACrE,GAAa,MAATA,EAAc,CACd,GAAIoT,GAAShU,EAAO68D,oBAChBtoD,EAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,QACzDb,EAAQyP,EAASjP,iBAIrB,IAHIR,GAASA,EAAMe,MAAMsI,MAAM,SAC3BrJ,EAAQyP,EAASrP,gBAEjBJ,GAAwB,iBAAfA,EAAM4I,KAAyB,CACxC,GAAIP,GAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAkB,MAAdw4E,EACA,OACGv9E,KAAM,GACNiT,WAAY,EAAG,GAGtB,KAAK1G,EAAK4C,UAAUiE,EAAOrO,QAAQwI,MAAM,SACrC,OACGvN,KAAM,KACNiT,WAAY,EAAG,QAOlCtX,KAAK0E,IAAI,QAAS,WAAY,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAASqG,GACpE,GAAIwzE,GAAW75E,EAAQtE,IAAIoU,aAAazJ,EACxC,KAAKA,EAAMwJ,eAA8B,MAAbgqE,EAAkB,CAC1C,GAAIpqE,GAAShU,EAAO68D,oBAChBtoD,EAAW,GAAIjQ,GAAcC,EAASyP,EAAOjK,IAAKiK,EAAOrO,QACzDb,EAAQyP,EAASjP,iBAIrB,IAHIR,GAASA,EAAMe,MAAMsI,MAAM,SAC3BrJ,EAAQyP,EAASrP,gBAEjBJ,GAAwB,iBAAfA,EAAM4I,KAAyB,CACxC,GAAIP,GAAO5I,EAAQtE,IAAIoL,QAAQT,EAAMhF,MAAMmE,KACvCo0E,EAAYhxE,EAAK4C,UAAUnF,EAAM/C,IAAIlC,OAAQiF,EAAM/C,IAAIlC,OAAS,EACpE,IAAkB,MAAdw4E,EAEA,MADAvzE,GAAM/C,IAAIlC,SACHiF,MAMvBrO,KAAK0E,IAAI,YAAa,YAAa,SAAUqF,EAAOnF,EAAQnB,EAAQuE,EAAS3D,GACzE,GAAa,MAATA,EAAc,CACd,GAAIoT,GAAShU,EAAO68D,oBAChB1vD,EAAO5I,EAAQtE,IAAIoL,QAAQ2I,EAAOjK,KAClCo0E,EAAYhxE,EAAK4C,UAAUiE,EAAOrO,OAAQqO,EAAOrO,OAAS,EAC9D,IAAkB,MAAdw4E,EACA,OACGv9E,KAAM,GACNiT,WAAY,EAAG,OAOlCjK,GAAI+Q,SAASkiE,EAAcqB,GAE3Bx/E,EAAQm+E,aAAeA;AC70EvB3gF,OAAO,mBAAoB,UAAW,UAAW,SAAW,eAAgB,SAASN,EAAS8C,EAAS7C,GAEvG6C,EAAQ+2C,QAAS,EACjB/2C,EAAQ42C,SAAW,YACnB52C,EAAQu2C,QAAU,6pFAqIlB,IAAIj2C,GAAMpD,EAAQ,aAClBoD,GAAImnC,gBAAgBznC,EAAQu2C,QAASv2C,EAAQ42C;AC1I7Cp5C,OAAO,wBAAyB,UAAW,UAAW,SAAW,eAAgB,SAASN,EAAS8C,EAAS7C,GAG5G6C,EAAQ+2C,QAAS,EACjB/2C,EAAQ42C,SAAW,SACnB52C,EAAQu2C,QAAU,wuFAmJlB,IAAIj2C,GAAMpD,EAAQ,aAClBoD,GAAImnC,gBAAgBznC,EAAQu2C,QAASv2C,EAAQ42C;CCvL5C,WACG,GAEI/sC,GACAtL,EACAstF,EACAC,EALAC,EAAW,EACXC,GAAW,KAAM,MAAO,SAAU,IAMtC,KAAIniF,EAAI,EAAGtL,EAASytF,EAAQztF,OAAQsL,EAAItL,IAAWL,OAAO+0E,wBAAyBppE,EAC/E3L,OAAO+0E,sBAAwB/0E,OAAO8tF,EAAQniF,GAAG,yBACjD3L,OAAO+tF,qBACL/tF,OAAO8tF,EAAQniF,GAAG,yBAA2B3L,OAAO8tF,EAAQniF,GAAG,8BAGhE3L,QAAO+0E,wBACR/0E,OAAO+0E,sBAAwB,SAAS71E,EAAUmrC,GAI9C,MAHAsjD,IAAW,GAAIx+E,OAAOitE,UACtBwR,EAAa3/E,KAAKC,IAAI,EAAG,IAAMy/E,EAAWE,IAC1CA,EAAWF,EAAWC,EACf5tF,OAAOyP,WAAW,WAAavQ,EAASyuF,EAAWC,IACxDA,KAGL5tF,OAAO+tF,uBACR/tF,OAAO+tF,qBAAuB,SAAS/rF,GACnCqO,aAAarO;ACgErBhC,SAAWA,OAAOguF,eAElBhuF,OAAOguF,aAAe,MAO1BA,cAMIC,mBACI,YAAa,cAAe,OAAQ,QAAS,UAAW,SACxD,OAAQ,QAAS,QAAS,OAAQ,QAMtCC,eACK,GAAIp2E,QAAO,SAAU,MAAuB,SAC5C,GAAIA,QAAO,YAAa,MAAoB,WAC5C,GAAIA,QAAO,WAAY,MAAqB,UAC5C,GAAIA,QAAO,SAAU,MAAuB,SAC5C,GAAIA,QAAO,eAAgB,MAAiB,SAC5C,GAAIA,QAAO,iBAAkB,MAAe,QAC5C,GAAIA,QAAO,kBAAmB,MAAc,SAC5C,GAAIA,QAAO,SAAU,MAAuB,UAC5C,GAAIA,QAAO,yBAA0B,MAAO,UAC5C,GAAIA,QAAO,YAAa,MAAoB,QAC5C,GAAIA,QAAO,OAAQ,MAAyB,QAC5C,GAAIA,QAAO,wBAAyB,MAAQ,YAC5C,GAAIA,QAAO,UAAW,MAAsB,QAC5C,GAAIA,QAAO,mBAAoB,MAAa,UAC5C,GAAIA,QAAO,gBAAiB,MAAgB,SAC5C,GAAIA,QAAO,wBAAyB,MAAQ,WAC5C,GAAIA,QAAO,eAAgB,MAAiB,UAC5C,GAAIA,QAAO,UAAW,MAAsB,UAC5C,GAAIA,QAAO,KAAM,MAA2B,MAC5C,GAAIA,QAAO,IAAK,MAA4B,MAMjDq2E,iBACK,GAAIr2E,QAAO,SAAU,MAA6D,SAClF,GAAIA,QAAO,YAAa,MAA0D,WAClF,GAAIA,QAAO,cAAe,MAAwD,OAClF,GAAIA,QAAO,WAAY,MAA2D,SAClF,GAAIA,QAAO,gEAAgE,MAAO,YAClF,GAAIA,QAAO,WAAY,MAA2D,OAClF,GAAIA,QAAO,WAAY,MAA2D,OAClF,GAAIA,QAAO,YAAa,MAA0D,OAClF,GAAIA,QAAO,aAAc,MAAyD,QAClF,GAAIA,QAAO,cAAe,MAAwD,SAClF,GAAIA,QAAO,qBAAsB,MAAiD,QAClF,GAAIA,QAAO,YAAa,MAA0D,YAClF,GAAIA,QAAO,YAAa,MAA0D,WAClF,GAAIA,QAAO,kBAAmB,MAAoD,OAClF,GAAIA,QAAO,cAAe,MAAwD,WAClF,GAAIA,QAAO,WAAY,MAA2D,OAClF,GAAIA,QAAO,SAAU,MAA6D,OAClF,GAAIA,QAAO,WAAY,MAA2D,OAClF,GAAIA,QAAO,oBAAqB,MAAkD,SAClF,GAAIA,QAAO,gBAAiB,MAAsD,SAClF,GAAIA,QAAO,oBAAqB,MAAkD,OAClF,GAAIA,QAAO,UAAW,MAA4D,OAClF,GAAIA,QAAO,kBAAmB,MAAoD,SAClF,GAAIA,QAAO,cAAe,MAAwD,SAClF,GAAIA,QAAO,aAAc,MAAyD,OAClF,GAAIA,QAAO,KAAM,MAAiE,KAMvFs2E,sBACI,MAAO,KAAM,MAAO,IAAK,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,KAC/D,KAAM,OAAQ,OAAQ,KAAM,OAAQ,MAAO,MAAO,KAAM,OACxD,OAAQ,OAMZC,UAAW,GAAIv2E,QAAO,cAAe,KACrCw2E,SAAU,GAAIx2E,QAAO,IAAK,KAC1By2E,kBAAmB,GAAIz2E,QAAO,OAAS,KACvC02E,UAAW,GAAI12E,QAAO,UAAW,KACjC22E,gBAAiB,GAAI32E,QAAO,MAgB5B42E,YAAa,SAAS17E,EAAKxJ,EAAOqxD,EAAM8zB,GAEpC,GAAIA,EAEA37E,EAAM27E,MAGV,CACI,GAAI1+D,GAAU4qC,EAAKx5D,QAAQ2R,EAAIvG,gBAAiB,CAChD,KAAKwjB,EAED,IAAK,GAAItkB,GAAI,EAAGA,EAAInC,EAAMnJ,OAAQsL,IAE9B,GAAIqH,EAAIzB,MAAM/H,EAAMmC,GAAG,IACvB,CACIqH,EAAMA,EAAInR,QAAQ2H,EAAMmC,GAAG,GAAInC,EAAMmC,GAAG,GACxC,QAKhB,MAAOqH,KAkBV5I,MAAM1J,UAAUW,UAEjB+I,MAAM1J,UAAUW,QAAU,SAASs7E,EAAMiS,EAAWC,GAE3CD,IAEDA,GAAY,EAGhB,KAAK,GADDvmF,IAAQ,EACHvH,EAAI8tF,EAAW9tF,EAAInB,KAAKU,OAAQS,IAErC,GAAInB,KAAKmB,KAAO67E,GAAQkS,GAAeA,EAAYlvF,KAAKmB,GAAI67E,GAC5D,CACIt0E,EAAQvH,CACR,OAGR,MAAOuH,KAQVyoE,OAAOpwE,UAAUouF,qBAElBhe,OAAOpwE,UAAUouF,mBAAqBd,aAAaC,mBAOlDnd,OAAOpwE,UAAUquF,gBAElBje,OAAOpwE,UAAUquF,cAAgBf,aAAaE,cAO7Cpd,OAAOpwE,UAAUsuF,kBAElBle,OAAOpwE,UAAUsuF,gBAAkBhB,aAAaG,gBAO/Crd,OAAOpwE,UAAUuuF,wBAElBne,OAAOpwE,UAAUuuF,sBAAwBjB,aAAaI,sBAiBrDtd,OAAOpwE,UAAUwuF,YAElBpe,OAAOpwE,UAAUwuF,UAAY,SAASC,GAElC,MAAOnB,cAAaU,YAChB/uF,KACAA,KAAKovF,cACLpvF,KAAKmvF,mBACLK,KAmBPre,OAAOpwE,UAAU0uF,cAElBte,OAAOpwE,UAAU0uF,YAAc,SAASC,GAEpC,MAAOrB,cAAaU,YAChB/uF,KACAA,KAAKqvF,gBACLrvF,KAAKmvF,mBACLO,KAmBPve,OAAOpwE,UAAU4uF,WAEjBxe,OAAOpwE,UAAU4uF,SAAW,SAASC,GAIlC,IAAK,GAFDv8E,GAAMrT,KAAK8M,cACX+iF,EAAWx8E,EAAIzR,MAAM,KAChBT,EAAI,EAAGA,EAAI0uF,EAASnvF,OAAQS,IACrC,CAGI,IAAK,GAFD2uF,GAAUD,EAAS1uF,GAAGS,MAAM,KAC5BmuF,EAAUH,GAAkBzuF,EAAI,IAAM0uF,EAASnvF,OAAU,EAAM,EAC1DsL,EAAI+jF,EAAO/jF,EAAI8jF,EAAQpvF,OAAQsL,IAEpC8jF,EAAQ9jF,GAAK8jF,EAAQ9jF,GAAGnK,OAAO,GAAG6rB,cAAgBoiE,EAAQ9jF,GAAGwH,UAAU,EAE3Eq8E,GAAS1uF,GAAK2uF,EAAQ9tF,KAAK,IAG/B,MADAqR,GAAMw8E,EAAS7tF,KAAK,QAkBvBmvE,OAAOpwE,UAAUivF,aAEjB7e,OAAOpwE,UAAUivF,WAAa,WAI3B,IAAK,GAFD38E,GAAMrT,KACN6vF,EAAWx8E,EAAIzR,MAAM,MAChBT,EAAI,EAAGA,EAAI0uF,EAASnvF,OAAQS,IAEjC0uF,EAAS1uF,GAAK0uF,EAAS1uF,GAAGe,QAAQmsF,aAAaQ,UAAW,OAC1DgB,EAAS1uF,GAAK0uF,EAAS1uF,GAAGe,QAAQmsF,aAAaS,gBAAiB,GAGpE,OADAz7E,GAAMw8E,EAAS7tF,KAAK,KAAK8K,gBAkB5BqkE,OAAOpwE,UAAUkvF,WAElB9e,OAAOpwE,UAAUkvF,SAAW,SAASL,GAEjC,GAAIv8E,GAAMrT,KAAK8M,aAOf,OANAuG,GAAMA,EAAInR,QAAQmsF,aAAaK,UAAW,IAC1Cr7E,EAAMA,EAAInR,QAAQmsF,aAAaM,SAAU,KACpCiB,IAEDv8E,EAAMA,EAAI68E,cAEP78E,IAgBV89D,OAAOpwE,UAAUmvF,aAElB/e,OAAOpwE,UAAUmvF,WAAa,WAE1B,GAAI78E,GAAMrT,KAAK8M,aAEf,OADAuG,GAAMA,EAAIG,UAAU,EAAG,GAAGka,cAAgBra,EAAIG,UAAU,KAiB3D29D,OAAOpwE,UAAUovF,YAElBhf,OAAOpwE,UAAUovF,UAAY,WAEzB,GAAI98E,GAAMrT,IAEV,OADAqT,GAAMA,EAAInR,QAAQmsF,aAAaO,kBAAmB,OAiBrDzd,OAAOpwE,UAAUqvF,WAElBjf,OAAOpwE,UAAUqvF,SAAW,WAExB,GAAI/8E,GAAMrT,KAAK8M,aACfuG,GAAMA,EAAInR,QAAQmsF,aAAaM,SAAU,IAEzC,KAAK,GADDmB,GAAUz8E,EAAIzR,MAAM,KACfoK,EAAI,EAAGA,EAAI8jF,EAAQpvF,OAAQsL,IACpC,CAEI,IAAK,GADDgwD,GAAI8zB,EAAQ9jF,GAAGpK,MAAM,KAChBT,EAAI,EAAGA,EAAI66D,EAAEt7D,OAAQS,IAEtBnB,KAAKsvF,sBAAsB5tF,QAAQs6D,EAAE76D,GAAG2L,eAAiB,IAEzDkvD,EAAE76D,GAAK66D,EAAE76D,GAAG+uF,aAGpBJ,GAAQ9jF,GAAKgwD,EAAEh6D,KAAK,KAIxB,MAFAqR,GAAMy8E,EAAQ9tF,KAAK,KACnBqR,EAAMA,EAAIG,UAAU,EAAG,GAAGka,cAAgBra,EAAIG,UAAU,KAgB3D29D,OAAOpwE,UAAUsvF,aAElBlf,OAAOpwE,UAAUsvF,WAAa,WAE1B,GAAIh9E,GAAMrT,KACN8vF,EAAUz8E,EAAIzR,MAAM,KAExB,OADAyR,GAAMy8E,EAAQA,EAAQpvF,OAAS,KAgBlCywE,OAAOpwE,UAAUuvF,WAElBnf,OAAOpwE,UAAUuvF,SAAW,WAExB,GAAIj9E,GAAMrT,IAEV,OADAqT,GAAMA,EAAI28E,aAAaT,cAgB1Bpe,OAAOpwE,UAAUwvF,WAElBpf,OAAOpwE,UAAUwvF,SAAW,WAExB,GAAIl9E,GAAMrT,IAEV,OADAqT,GAAMA,EAAIs8E,WAAWF,gBAkBxBte,OAAOpwE,UAAUyvF,cAElBrf,OAAOpwE,UAAUyvF,YAAc,SAASC,GAEpC,GAAIp9E,GAAMrT,IAEV,OADAqT,GAAMA,EAAIg9E,aAAaL,cAAgB,EAAe,GAAO,KAAS,OAgBzE7e,OAAOpwE,UAAU2vF,aAElBvf,OAAOpwE,UAAU2vF,WAAa,WAI1B,IAAK,GAFDr9E,GAAMrT,KACN8vF,EAAUz8E,EAAIzR,MAAM,KACfoK,EAAI,EAAGA,EAAI8jF,EAAQpvF,OAAQsL,IACpC,CACI,GAAI7K,GAAIub,SAASozE,EAAQ9jF,GACzB,IAAUw7B,MAANrmC,EACJ,CACI,GAAIwvF,GAAMb,EAAQ9jF,GAAGwH,UAAUs8E,EAAQ9jF,GAAGtL,OAAS,GAC/CkwF,EAAKd,EAAQ9jF,GAAGwH,UAAUs8E,EAAQ9jF,GAAGtL,OAAS,GAC9CmwF,EAAM,IACC,OAAPF,GAAsB,MAAPA,GAAsB,MAAPA,IAEnB,MAAPC,EAEAC,EAAM,KAEM,MAAPD,EAELC,EAAM,KAEM,MAAPD,IAELC,EAAM,OAGdf,EAAQ9jF,IAAM6kF,GAItB,MADAx9E,GAAMy8E,EAAQ9tF,KAAK;CCzoB3B,SAAW8uF,GAMV,GADAA,EAAEC,GAAGC,WAAaF,EAAEC,GAAGC,gBACnBF,EAAEC,GAAGC,WAAWC,QAApB,CAOAH,EAAEjsE,OAAOisE,EAAEC,IACVC,YACCC,QAAS,UAUX,IAAIC,YAAa,WAChBlxF,KAAKmxF,YACLnxF,KAAKmxF,SAAS,KACbC,YAAa,MACbC,UAAW,OACXC,SAAU,KAAM,KAChBC,SAAU,KAAM,KAChBC,WAAY,QACZC,WAAY,GACZC,cAAe,cACfC,SAAU,OACVC,SAAU,OACVC,WAAY,SACZC,WAAY,SACZC,aAAc,cACdC,aAAc,cACdC,aAAc,YACdC,OAAO,GAERlyF,KAAKmyF,WACJC,iBAAiB,EACjBC,UAAU,EACVC,kBAAkB,EAClBC,SAAU,KACVC,WAAY,KACZC,WAAY,KACZC,aAAc,KACdC,aAAc,KACdC,aAAc,KACdC,UAAU,EACVC,SAAU,EACVC,WAAY,EACZC,WAAY,EACZC,aAAc,EACdC,aAAc,EACdC,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRC,SAAU,EACVC,SAAU,EACVC,SAAU,KACVC,QAAS,EACTC,UAAW,EACXC,UAAW,EACXC,YAAa,EACbC,YAAa,EACbC,QAAS,GACTC,UAAW,GACXC,UAAW,GACXC,YAAa,IACbC,YAAa,IACbC,YAAa,KACbC,YAAa,KACbC,QAAS,KACTC,QAAS,KACTx/B,SAAU,KACVy/B,SAAU,EACVC,WAAY,EACZC,WAAY,EACZC,aAAc,EACdC,aAAc,EACdC,eAAe,EACfC,UAAW,IACXC,kBAAkB,EAClBC,cAAe,KACfC,aAAc,KACdC,cAAe,KACfC,iBAAkB,KAClBC,iBAAkB,KAClBC,gBAAgB,EAChBC,aAAc,KACdC,iBAAiB,EACjBC,iBAAkB,KAClBC,YAAa,SACbC,aAAc,KACdC,MAAO,UAER5E,EAAEjsE,OAAO7kB,KAAKmyF,UAAWnyF,KAAKmxF,SAAS,KAGxCL,GAAEjsE,OAAOqsE,WAAWnwF,WACnB40F,OAAQ,KACRC,UAAW,KACXC,SAAU,KACVC,KAAM,KACNC,YAAa,KACbC,cAAe,KACfC,cAAe,KACfC,gBAAiB,KACjBC,gBAAiB,KACjBC,gBAAiB,KACjB/B,QAAS,KACTC,QAAS,KACTnB,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRC,SAAU,EACVC,SAAU,EACVC,SAAU,KACV6C,gBAAiB,KACjBC,kBAAmB,KACnBC,kBAAmB,KACnBC,oBAAqB,KACrBC,oBAAqB,KACrBC,gBAAiB,KACjBC,kBAAmB,KACnBC,kBAAmB,KACnBC,oBAAqB,KACrBC,oBAAqB,KACrBC,KAAM,GACNC,cAAe,GACfC,cAAe,GACfC,kBAAmB,GACnB7B,aAAc,KACd8B,OAAQ,OAAQ,SAAU,SAAU,WAAY,YAChDC,WACAC,QAAS,KAOTC,YAAa,SAAUC,GAEtB,MADAC,cAAax3F,KAAKmyF,UAAWoF,OACtBv3F,MAMRy3F,SAAU,SAAU9B,OAAQ34C,MAC3B,GAAI06C,SAAU,GAAIxG,YACjByG,kBACAC,OACAC,UAAW12F,CAEZ,KAAK,GAAI22F,YAAY93F,MAAKmyF,UACzB,GAAInyF,KAAKmyF,UAAUr2C,eAAeg8C,UAAW,CAC5C,GAAIC,WAAYpC,OAAOv6C,KAAK,QAAU08C,SACtC,IAAIC,UACH,IACCJ,eAAeG,UAAYE,KAAKD,WAC/B,MAAOE,GACRN,eAAeG,UAAYC,WAM/BF,WACCK,WAAY,SAAUv2E,EAAOw2E,GAC5B,GAAIrH,EAAEsH,WAAWV,QAAQvF,UAAUkG,MAAMH,YACxC,MAAOR,SAAQvF,UAAUkG,MAAMH,WAAWj3F,KAAK00F,OAAO,GAAIh0E,EAAOw2E,EAAST,UAG5EY,kBAAmB,SAAUC,EAAMC,EAAOL,GAEzCT,QAAQe,gBAAgBN,GACpBrH,EAAEsH,WAAWV,QAAQvF,UAAUkG,MAAMC,oBACxCZ,QAAQvF,UAAUkG,MAAMC,kBAAkBr3F,KAAK00F,OAAO,GAAI4C,EAAMC,EAAOL,EAAST,UAGlFgB,QAAS,SAAUC,EAAUR,GACxBT,QAAQkB,eAAgB,GAAyB,KAAjBjD,OAAO/lE,OAC1C8nE,QAAQe,gBAAgBN,GAErBrH,EAAEsH,WAAWV,QAAQvF,UAAUkG,MAAMK,UACxChB,QAAQvF,UAAUkG,MAAMK,QAAQz3F,KAAK00F,OAAO,GAAIgD,EAAUR,EAAST,UAItE,KAAKv2F,IAAK02F,WACLA,UAAU/7C,eAAe36C,KAC5By2F,IAAIz2F,GAAK67C,KAAK77C,IAAM,KAItBu2F,SAAQvF,UAAYrB,EAAEjsE,UAAW7kB,KAAKmyF,UAAWwF,eAAgB36C,KAAM66C,WACtEQ,MAAOT,IACP5G,WAAY0G,UAEbA,QAAQpG,QAAUR,EAAEvkF,IAAImrF,QAAQvF,UAAUb,QAAS,SAAU1hE,GAC5D,MAAOA,GAAIlC,gBAEZgqE,QAAQnG,QAAUT,EAAEvkF,IAAImrF,QAAQvF,UAAUZ,QAAS,SAAU3hE,GAC5D,MAAOA,GAAIlC,gBAIZgqE,QAAQN,QAAUyB,cAChBnB,QAAQvF,UAAUX,YACjBkG,QAAQvF,UAAU+C,iBAAmBwC,QAAQvF,UAAU+C,iBAAmB,KAC1EwC,QAAQvF,UAAU4C,cAAgB2C,QAAQvF,UAAU4C,cAAgB,KAGzB,gBAAnC2C,SAAQvF,UAAqB,aACD,WAAlCuF,QAAQvF,UAAUqD,aAAoD,mBAAjB1E,GAAEC,GAAS,SACnE2G,QAAQvF,UAAUqD,YAAc,UAEjCkC,QAAQL,QAAUK,QAAQoB,UAAUpB,QAAQvF,UAAUqD,cAItDkC,QAAQL,QAAUK,QAAQvF,UAAUqD,WAIrC,IAAIH,gBAAgB,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,GACtG,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAChF,QAAnCqC,QAAQvF,UAAUkD,eACrBA,aAAeqC,QAAQvF,UAAUkD,aAElC,IAAI0D,KAAM1D,aAAa30F,OAAQs4F,IAAM,EAAGC,IAAM,IAC9C,IAAIF,IAAM,GAAgC,gBAApB1D,cAAa,GAClC,KAAO2D,IAAMD,IAAKC,MACjBC,IAAM5D,aAAa2D,KACnB3D,aAAa2D,MAAS1vF,MAAO2vF,IAAKnU,MAAOgM,EAAEE,WAAWkI,qBAAqBD,IAAKvB,QAAQN,QAAQ+B,SAqDlG,OAlDAzB,SAAQvF,UAAUkD,aAAeA,aAGjCqC,QAAQlE,SAA0C,OAA/BkE,QAAQvF,UAAUqB,SAAoB1C,EAAEE,WAAWoI,qBAAqB1B,QAAQvF,UAAUqB,WACxG,GAAKhkF,OAAQ6pF,qBAAsB,EACxC3B,QAAQvE,KAAOuE,QAAQvF,UAAUgB,KAAOuE,QAAQvF,UAAUsB,QAAUiE,QAAQvF,UAAUsB,QAClFiE,QAAQvF,UAAUgB,KAAOuE,QAAQvF,UAAU2B,QAAU4D,QAAQvF,UAAU2B,QAAU4D,QAAQvF,UAAUgB,KACvGuE,QAAQtE,OAASsE,QAAQvF,UAAUiB,OAASsE,QAAQvF,UAAUuB,UAAYgE,QAAQvF,UAAUuB,UACxFgE,QAAQvF,UAAUiB,OAASsE,QAAQvF,UAAU4B,UAAY2D,QAAQvF,UAAU4B,UAAY2D,QAAQvF,UAAUiB,OAC7GsE,QAAQrE,OAASqE,QAAQvF,UAAUkB,OAASqE,QAAQvF,UAAUwB,UAAY+D,QAAQvF,UAAUwB,UACxF+D,QAAQvF,UAAUkB,OAASqE,QAAQvF,UAAU6B,UAAY0D,QAAQvF,UAAU6B,UAAY0D,QAAQvF,UAAUkB,OAC7GqE,QAAQpE,SAAWoE,QAAQvF,UAAUmB,SAAWoE,QAAQvF,UAAUyB,YAAc8D,QAAQvF,UAAUyB,YAC9F8D,QAAQvF,UAAUmB,SAAWoE,QAAQvF,UAAU8B,YAAcyD,QAAQvF,UAAU8B,YAAcyD,QAAQvF,UAAUmB,SACnHoE,QAAQnE,SAAWmE,QAAQvF,UAAUoB,SAAWmE,QAAQvF,UAAU0B,YAAc6D,QAAQvF,UAAU0B,YAC9F6D,QAAQvF,UAAUoB,SAAWmE,QAAQvF,UAAU+B,YAAcwD,QAAQvF,UAAU+B,YAAcwD,QAAQvF,UAAUoB,SACnHmE,QAAQX,KAAO,GACfW,QAAQ/B,OAASA,OAEb+B,QAAQvF,UAAUmH,WACrB5B,QAAQ9B,UAAY9E,EAAE4G,QAAQvF,UAAUmH,UAAUC,KACjD9hF,OAAQ,YACNorB,MAAM,WACR8yD,OAAO6D,QAAQ,YAIiB,IAA9B9B,QAAQvF,UAAUsH,SAAmD,IAAlC/B,QAAQvF,UAAUgC,cACxDuD,QAAQvF,UAAUsH,QAAU,GAAIjqF,OAEC,IAA9BkoF,QAAQvF,UAAUuH,SAAmD,IAAlChC,QAAQvF,UAAUiC,cACxDsD,QAAQvF,UAAUuH,QAAU,GAAIlqF,OAIC3K,SAA9B6yF,QAAQvF,UAAUsH,SAAyB/B,QAAQvF,UAAUsH,kBAAmBjqF,QACnFkoF,QAAQvF,UAAUgC,YAAc,GAAI3kF,MAAKkoF,QAAQvF,UAAUsH,QAAQhd,YAE9B53E,SAAlC6yF,QAAQvF,UAAUgC,aAA6BuD,QAAQvF,UAAUgC,sBAAuB3kF,QAC3FkoF,QAAQvF,UAAUsH,QAAU,GAAIjqF,MAAKkoF,QAAQvF,UAAUgC,YAAY1X,YAElC53E,SAA9B6yF,QAAQvF,UAAUuH,SAAyBhC,QAAQvF,UAAUuH,kBAAmBlqF,QACnFkoF,QAAQvF,UAAUiC,YAAc,GAAI5kF,MAAKkoF,QAAQvF,UAAUuH,QAAQjd,YAE9B53E,SAAlC6yF,QAAQvF,UAAUiC,aAA6BsD,QAAQvF,UAAUiC,sBAAuB5kF,QAC3FkoF,QAAQvF,UAAUuH,QAAU,GAAIlqF,MAAKkoF,QAAQvF,UAAUiC,YAAY3X,YAEpEib,QAAQ/B,OAAO1xF,KAAK,QAAS,WAC5ByzF,QAAQiC,aAGFjC,SAMRkC,eAAgB,SAAUzB,GACzB,GAAI0B,GAAU75F,KAAK41F,WAAa51F,KAAKmyF,UAAU2C,iBAAoB90F,KAAK21F,OAAO/lE,MAAQ,IAAM5vB,KAAK41F,UAAUhmE,MAAQ5vB,KAAK21F,OAAO/lE,KAEhI5vB,MAAK44F,YAAc54F,KAAK85F,WAAWD,GACnC75F,KAAK+5F,qBAAqB5B,GAAS,GACnCn4F,KAAKg6F,qBAMNF,WAAY,SAAUG,EAAYC,GAKjC,GAJKl6F,KAAK81F,OACT91F,KAAK81F,KAAOhF,EAAEqJ,WAAWC,SAASp6F,KAAK21F,OAAO,KAG3CuE,IAAal6F,KAAKmyF,UAAUE,SAAU,CACzC,GAAIgI,GAAgBvJ,EAAEqJ,WAAWG,KAAKt6F,KAAK81F,KAAM,aACjD,KACC,GAAIyE,GAAWC,sBAAsBH,EAAer6F,KAAKmyF,UAAUX,WAAYyI,EAAYnJ,EAAEqJ,WAAWM,iBAAiBz6F,KAAK81F,MAAO91F,KAAKmyF,UAC1I,KAAKoI,EAASG,QACb,OAAO,CAER5J,GAAEjsE,OAAO7kB,KAAMu6F,EAASG,SACvB,MAAOzC,GAKR,MAJAnH,GAAEE,WAAW51E,IAAI,uCAAyC68E,EACtD,wBAA0BgC,EAC1B,kBAAoBj6F,KAAKmyF,UAAUX,WACnC,kBAAoB6I,IACjB,EAER,OAAO,EAEP,GAAIK,GAAU5J,EAAEqJ,WAAWQ,UAAU36F,KAAKmyF,UAAUX,WAAYyI,EAAYj6F,KAAKmyF,UACjF,SAAKuI,IAGL5J,EAAEjsE,OAAO7kB,KAAM06F,IACR,IAOTV,kBAAmB,WAClB,GAAIY,GAAM56F,KAAK81F,KAAK+E,MACnBle,EAAI38E,KAAK81F,KAAKyB,SACdG,EAAU13F,KACV86F,EAAQ,GACRC,EAAQ,GACRjqD,EAAO,KACPviC,KACAysF,KACA9hE,EAAO,KACP/3B,EAAI,EACJC,EAAI,CAGL,IAAiD,IAA7Cw5F,EAAIhuE,KAAK,yBAAyBlsB,QAAgBi8E,EAAEyY,eAAgB,CACvE,GAAI6F,GAAY,yBACfzpF,EAAO,iCAAmCmrE,EAAEuV,MAAQ,qBAAuB,IAAM,2CAAmDvV,EAAU,SAAI,GAAKse,GAAa,IAAMte,EAAEgV,SAAW,oCAClJhV,EAAU,SAAI,GAAKse,GAAa,QAGtE,KAAK95F,EAAI,EAAGC,EAAIpB,KAAKm3F,MAAMz2F,OAAQS,EAAIC,EAAGD,IAAK,CAc9C,GAbA25F,EAAQ96F,KAAKm3F,MAAMh2F,GACnB45F,EAAQD,EAAMp9E,OAAO,EAAG,GAAGgQ,cAAgBotE,EAAMp9E,OAAO,GACxDozB,EAA6B,OAAtB6rC,EAAE,OAASoe,GAAkBpe,EAAE,OAASoe,GAAS/6F,KAAKo3F,QAAQ0D,GAKrEvsF,EAAIusF,GAASp+E,SAAUigE,EAAEme,EAAQ,QAAWne,EAAEme,EAAQ,OAASne,EAAEme,EAAQ,QAAUne,EAAE,OAASoe,GAAU,IACxGC,EAASF,GAAS,EAElBtpF,GAAQ,yBAA2BspF,EAAQ,WAAahqD,EAAO,GAAKmqD,GAAa,IAAMte,EAAEme,EAAQ,QAAU,8BAC7EA,EAAQ,4BAA8BA,EAAQ,YAAchqD,EAAO,GAAKmqD,GAAa,UAE/GnqD,GAAQ6rC,EAAEme,EAAQ,QAAU,EAAG,CAGlC,GAFAtpF,GAAQ,2EAEM,SAAVspF,EACH,IAAK,GAAIt+D,GAAImgD,EAAEme,EAAQ,OAAQt+D,GAAKjuB,EAAIusF,GAAQt+D,GAAK9f,SAASigE,EAAEme,EAAQ,QAAS,IAAK,CACrFE,EAASF,IACT,IAAII,GAAOpK,EAAEqJ,WAAWgB,WAAWn7F,KAAKo3F,QAAQL,KAAO,MAAQ,MAAO5D,KAAM32D,GAAImgD,EAChFnrE,IAAQ,iBAAmBspF,EAAQ,KAAOI,EAAO,YAIlD,KAAK,GAAIn+E,GAAI4/D,EAAEme,EAAQ,OAAQ/9E,GAAKxO,EAAIusF,GAAQ/9E,GAAKL,SAASigE,EAAEme,EAAQ,QAAS,IAChFE,EAASF,KACTtpF,GAAQ,iBAAmBspF,EAAQ,MAAS/9E,EAAI,GAAM,IAAM,IAAMA,EAAI,OAIxEvL,IAAQ,sBAETA,GAAQ,QAIT,GAAI4pF,GAA4B,OAAnBze,EAAEiW,aAAwBjW,EAAEiW,aAAe5yF,KAAKo3F,QAAQ5D,QACrEhiF,IAAQ,yCAA2C4pF,EAAS,GAAKH,GAAa,IAAMte,EAAEsV,aAAe,QACrGzgF,GAAQ,oCAAsC4pF,EAAS,GAAKH,GAAa,SAGzEzpF,GAAQ,aACR,IAAI6pF,GAAMvK,EAAEt/E,EASZ,KANImrE,EAAE0V,YAAa,IAClBgJ,EAAIC,QAAQ,mGAA0G3e,EAAE+U,cAAgB,gBACxIkJ,EAAIhuE,KAAK,kDAAkD+8B,QAIvDxoD,EAAI,EAAGC,EAAIs2F,EAAQP,MAAMz2F,OAAQS,EAAIC,EAAGD,IAC5C25F,EAAQpD,EAAQP,MAAMh2F,GACtB45F,EAAQD,EAAMp9E,OAAO,EAAG,GAAGgQ,cAAgBotE,EAAMp9E,OAAO,GACxDozB,EAA6B,OAAtB6rC,EAAE,OAASoe,GAAkBpe,EAAE,OAASoe,GAAS/6F,KAAKo3F,QAAQ0D,GAGrEpD,EAAQoD,EAAQ,WAAapD,EAAQL,QAAQ1qF,OAAO+qF,EAAS2D,EAAIzuE,KAAK,eAAiBkuE,EAAQ,WAAYA,EAAOpD,EAAQoD,GAAQne,EAAEme,EAAQ,OAAQvsF,EAAIusF,GAAQne,EAAE,OAASoe,IAGvKjqD,GAAQ6rC,EAAEme,EAAQ,QAAU,IAC/B5hE,EAAO,IAAM8hE,EAASF,GAASne,EAAEme,EAAQ,SAAWvsF,EAAIusF,GAASne,EAAEme,EAAQ,QAC3EO,EAAIzuE,KAAK,eAAiBkuE,EAAQ,UAAUvB,KAC3CziE,MAAOoC,EAAO,IACdwa,WAAYipC,EAAEuV,MAAQ,IAAQh5D,IAAQ,EAAK8hE,EAASF,IAAW,IAC/DS,YAAa5e,EAAEuV,MAAUh5D,IAAQ,EAAK8hE,EAASF,IAAW,IAAO,IACjEU,eAAgB,aACd5uE,KAAK,MAAM6uE,MAAM,SAAUvtF,GAC5B,GAAIwtF,GAAK5K,EAAE9wF,MACVw8B,EAAIk/D,EAAGlqF,OACP0S,EAAIxH,SAAS8f,EAAEt6B,QAAQ,WAAY,IACnCy5F,EAAKn/D,EAAEt6B,QAAQ,YACf05F,EAAIF,EAAGttF,KAAK,MAEH,UAANwtF,IACCD,EAAGj6F,QAAQ,QAAS,GAAMwiB,EAAI,GACjCA,GAAK,GAGDy3E,EAAGj6F,QAAQ,QAAS,GAAY,KAANwiB,IAC7BA,EAAI,IAKPwzE,EAAQL,QAAQ/tF,MAAMouF,EAASA,EAAQkE,EAAI,WAAYd,EAAO52E,GAE9DwzE,EAAQmE,gBACRnE,EAAQoE,qBACNvC,KACF9hF,OAAQ,UACRqf,MAAQ,IAAMkkE,EAASF,GAAU,IACjCiB,UAAW,SACXrqC,SAAU,WAWd,IALA1xD,KAAKo2F,gBAAkBiF,EAAIzuE,KAAK,wBAAwBpiB,OAAO,qBAAqBoiB,KAAK,UACzFkkE,EAAEkL,GAAGxxF,OAAOpK,MAAMJ,KAAKo2F,gBACvBtF,EAAEvkF,IAAIowE,EAAE0Y,aAAc,SAAUzlE,EAAKrU,GACpC,MAAOu1E,GAAE,cAAclhE,IAAmB,gBAARA,GAAmBA,EAAItmB,MAAQsmB,GAAKvrB,KAAoB,gBAARurB,GAAmBA,EAAIk1D,MAAQl1D,MAEpF,mBAAnB5vB,MAAa,UAAuC,OAAlBA,KAAKwzF,UAAuC,KAAlBxzF,KAAKwzF,SAAiB,CAC5F,GAAIyI,GAAiB,GAAKzsF,MAAKxP,KAAK81F,KAAKoG,aAAcl8F,KAAK81F,KAAKqG,cAAen8F,KAAK81F,KAAKsG,YAAa,IAAK/C,qBAAsB,CAC9H4C,KAAmBj8F,KAAKwzF,SAC3B6I,oBAAoB3E,GAEpB13F,KAAKo2F,gBAAgBxmE,IAAI5vB,KAAKwzF,cAGL,mBAAfxzF,MAAS,MAAmC,OAAdA,KAAKmzF,MAA+B,KAAdnzF,KAAKmzF,KACnEnzF,KAAKo2F,gBAAgBxmE,IAAI+sD,EAAE6W,UAE3B6I,oBAAoB3E,EAGtB13F,MAAKo2F,gBAAgBzmC,OAAO,WAC3B+nC,EAAQmE,gBACRnE,EAAQoE,oBAKT,IAAIQ,GAAe1B,EAAIhuE,KAAK,4BAS5B,IARI0vE,EAAa57F,OAChB47F,EAAah8E,OAAO+6E,GAEpBT,EAAIpwF,OAAO6wF,GAGZr7F,KAAK61F,SAAWwF,EAAIzuE,KAAK,oBAEP,OAAd5sB,KAAK81F,KAAe,CACvB,GAAI8C,GAAc54F,KAAK44F,WACvB54F,MAAK67F,gBACL77F,KAAK44F,YAAcA,EAIpB,GAAI54F,KAAKmyF,UAAUmD,gBAAiB,CACnC,GAAIC,GAAmBv1F,KAAKmyF,UAAUoD,iBACrCgH,EAAMv8F,KAAKmyF,UAAUD,KACtBqD,GAAiBrD,MAAQqK,EAEzBzsF,WAAW,WACV,GAA6C,IAAzCurF,EAAIzuE,KAAK,qBAAqBlsB,OAAc,CAC/C26F,EAAIzuE,KAAK,sBAAsB4vE,aAAajH,EAG5C,IAAIkH,GAAoBpB,EAAIzuE,KAAK,2BAA2B8vE,YAAW,EACnED,IACHpB,EAAIzuE,KAAK,iBAAiB+vE,KAAK,WAC9B,GAAIC,GAAK9L,EAAE9wF,MACV68F,EAAWD,EAAGF,aACdI,EAAgBF,EAAGrD,IAAIgD,EAAM,cAAgB,cAAcv7F,WAAWkB,QAAQ,IAAK,IACnF66F,EAAWF,EAAWJ,EACtBO,EAAkBF,EAAgBC,EAAYF,EAAY,IAC1DtD,GAAQziE,MAAOimE,EAAUxB,YAAa,EAAG7nD,WAAY,EACtD6lD,GAAIgD,EAAM,cAAgB,cAAgBS,EAC1CJ,EAAGrD,IAAIA,OAIR,IAIJ7B,EAAQqC,qBAAqB/5F,KAAK81F,MAAM,KAQ1CiE,qBAAsB,SAAU5B,EAAS8E,GACxC,GAAItgB,GAAI38E,KAAKmyF,UACZ+K,EAAU,GAAI1tF,MAAK2oF,EAAQ+D,aAAc/D,EAAQgE,cAAehE,EAAQiE,YAEzE,IAAKp8F,KAAKmyF,UAAUiD,eAApB,CAIA,GAAkD,OAA9CtE,EAAEqJ,WAAWG,KAAKnC,EAAS,gBAAyEtzF,SAA9CisF,EAAEqJ,WAAWG,KAAKnC,EAAS,gBAAgC+E,EAAS,CAC7H,GAAI/I,GAAcrD,EAAEqJ,WAAWG,KAAKnC,EAAS,eAC5CgF,EAAkB,GAAI3tF,MAAK2kF,EAAYiJ,cAAejJ,EAAYkJ,WAAYlJ,EAAYmJ,UAAW,EAAG,EAAG,EAAG,EAElF,QAAzBt9F,KAAKq2F,iBAAuD,OAA3Br2F,KAAKs2F,mBAAyD,OAA3Bt2F,KAAKu2F,mBAA2D,OAA7Bv2F,KAAKw2F,qBAA6D,OAA7Bx2F,KAAKy2F,sBACpJz2F,KAAKq2F,gBAAkB1Z,EAAE8W,QACzBzzF,KAAKs2F,kBAAoB3Z,EAAE+W,UAC3B1zF,KAAKu2F,kBAAoB5Z,EAAEgX,UAC3B3zF,KAAKw2F,oBAAsB7Z,EAAEiX,YAC7B5zF,KAAKy2F,oBAAsB9Z,EAAEkX,aAG1BsE,EAAQZ,SAASlF,UAAY8K,EAAgB1gB,YAAcygB,EAAQzgB,WACtEz8E,KAAKmyF,UAAUsB,QAAUU,EAAYoJ,WACjCv9F,KAAKmzF,MAAQnzF,KAAKmyF,UAAUsB,SAC/BzzF,KAAKmzF,KAAOnzF,KAAKmyF,UAAUsB,QAC3BzzF,KAAKmyF,UAAUuB,UAAYS,EAAYqJ,aACnCx9F,KAAKozF,QAAUpzF,KAAKmyF,UAAUuB,WACjC1zF,KAAKozF,OAASpzF,KAAKmyF,UAAUuB,UAC7B1zF,KAAKmyF,UAAUwB,UAAYQ,EAAYsJ,aACnCz9F,KAAKqzF,QAAUrzF,KAAKmyF,UAAUwB,WACjC3zF,KAAKqzF,OAASrzF,KAAKmyF,UAAUwB,UAC7B3zF,KAAKmyF,UAAUyB,YAAcO,EAAYuJ,kBACrC19F,KAAKszF,UAAYtzF,KAAKmyF,UAAUyB,aACnC5zF,KAAKszF,SAAWtzF,KAAKmyF,UAAUyB,YAC/B5zF,KAAKmyF,UAAU0B,YAAcM,EAAYwJ,oBAErC39F,KAAKuzF,SAAWvzF,KAAKmyF,UAAU0B,cAClC7zF,KAAKuzF,SAAWvzF,KAAKmyF,UAAU0B,aAEhC7zF,KAAKmyF,UAAU0B,YAAc7zF,KAAKy2F,uBAGnCz2F,KAAKmyF,UAAUyB,YAAc5zF,KAAKw2F,oBAClCx2F,KAAKmyF,UAAU0B,YAAc7zF,KAAKy2F,uBAGnCz2F,KAAKmyF,UAAUwB,UAAY3zF,KAAKu2F,kBAChCv2F,KAAKmyF,UAAUyB,YAAc5zF,KAAKw2F,oBAClCx2F,KAAKmyF,UAAU0B,YAAc7zF,KAAKy2F,uBAGnCz2F,KAAKmyF,UAAUuB,UAAY1zF,KAAKs2F,kBAChCt2F,KAAKmyF,UAAUwB,UAAY3zF,KAAKu2F,kBAChCv2F,KAAKmyF,UAAUyB,YAAc5zF,KAAKw2F,oBAClCx2F,KAAKmyF,UAAU0B,YAAc7zF,KAAKy2F,uBAGnCz2F,KAAKmyF,UAAUsB,QAAUzzF,KAAKq2F,gBAC9Br2F,KAAKmyF,UAAUuB,UAAY1zF,KAAKs2F,kBAChCt2F,KAAKmyF,UAAUwB,UAAY3zF,KAAKu2F,kBAChCv2F,KAAKmyF,UAAUyB,YAAc5zF,KAAKw2F,oBAClCx2F,KAAKmyF,UAAU0B,YAAc7zF,KAAKy2F,qBAIpC,GAAkD,OAA9C3F,EAAEqJ,WAAWG,KAAKnC,EAAS,gBAAyEtzF,SAA9CisF,EAAEqJ,WAAWG,KAAKnC,EAAS,gBAAgC+E,EAAS,CAC7H,GAAI9I,GAActD,EAAEqJ,WAAWG,KAAKnC,EAAS,eAC5CyF,EAAkB,GAAIpuF,MAAK4kF,EAAYgJ,cAAehJ,EAAYiJ,WAAYjJ,EAAYkJ,UAAW,EAAG,EAAG,EAAG,EAElF,QAAzBt9F,KAAK02F,iBAAuD,OAA3B12F,KAAK22F,mBAAyD,OAA3B32F,KAAK42F,mBAA2D,OAA7B52F,KAAK62F,sBAC/G72F,KAAK02F,gBAAkB/Z,EAAEmX,QACzB9zF,KAAK22F,kBAAoBha,EAAEoX,UAC3B/zF,KAAK42F,kBAAoBja,EAAEqX,UAC3Bh0F,KAAK62F,oBAAsBla,EAAEsX,YAC7Bj0F,KAAK82F,oBAAsBna,EAAEuX,aAG1BiE,EAAQZ,SAASlF,UAAYuL,EAAgBnhB,YAAcygB,EAAQzgB,WACtEz8E,KAAKmyF,UAAU2B,QAAUM,EAAYmJ,WACjCv9F,KAAKmzF,MAAQnzF,KAAKmyF,UAAU2B,SAC/B9zF,KAAKmzF,KAAOnzF,KAAKmyF,UAAU2B,QAC3B9zF,KAAKmyF,UAAU4B,UAAYK,EAAYoJ,aACnCx9F,KAAKozF,QAAUpzF,KAAKmyF,UAAU4B,WACjC/zF,KAAKozF,OAASpzF,KAAKmyF,UAAU4B,UAC7B/zF,KAAKmyF,UAAU6B,UAAYI,EAAYqJ,aACnCz9F,KAAKqzF,QAAUrzF,KAAKmyF,UAAU6B,WACjCh0F,KAAKqzF,OAASrzF,KAAKmyF,UAAU6B,UAC7Bh0F,KAAKmyF,UAAU8B,YAAcG,EAAYsJ,kBACrC19F,KAAKszF,UAAYtzF,KAAKmyF,UAAU8B,aACnCj0F,KAAKszF,SAAWtzF,KAAKmyF,UAAU8B,YAC/Bj0F,KAAKmyF,UAAU+B,YAAcE,EAAYuJ,oBAErC39F,KAAKuzF,SAAWvzF,KAAKmyF,UAAU+B,cAClCl0F,KAAKuzF,SAAWvzF,KAAKmyF,UAAU+B,aAEhCl0F,KAAKmyF,UAAU+B,YAAcl0F,KAAK82F,uBAGnC92F,KAAKmyF,UAAU8B,YAAcj0F,KAAK62F,oBAClC72F,KAAKmyF,UAAU+B,YAAcl0F,KAAK82F,uBAGnC92F,KAAKmyF,UAAU6B,UAAYh0F,KAAK42F,kBAChC52F,KAAKmyF,UAAU8B,YAAcj0F,KAAK62F,oBAClC72F,KAAKmyF,UAAU+B,YAAcl0F,KAAK82F,uBAGnC92F,KAAKmyF,UAAU4B,UAAY/zF,KAAK22F,kBAChC32F,KAAKmyF,UAAU6B,UAAYh0F,KAAK42F,kBAChC52F,KAAKmyF,UAAU8B,YAAcj0F,KAAK62F,oBAClC72F,KAAKmyF,UAAU+B,YAAcl0F,KAAK82F,uBAGnC92F,KAAKmyF,UAAU2B,QAAU9zF,KAAK02F,gBAC9B12F,KAAKmyF,UAAU4B,UAAY/zF,KAAK22F,kBAChC32F,KAAKmyF,UAAU6B,UAAYh0F,KAAK42F,kBAChC52F,KAAKmyF,UAAU8B,YAAcj0F,KAAK62F,oBAClC72F,KAAKmyF,UAAU+B,YAAcl0F,KAAK82F,qBAIpC,GAA+B,OAA3BqB,EAAQZ,SAASjD,QAAgB,CACpC,GAAIuJ,GAAY,GAAIruF,MAAK,cAAgB2oF,EAAQZ,SAASjD,QACtDt0F,MAAKmzF,KAAK0K,EAAYN,YACzBv9F,KAAKmzF,KAAKnzF,KAAKmyF,UAAUsB,QAAQoK,EAAYN,WAC7Cv9F,KAAKozF,OAAOpzF,KAAKmyF,UAAUuB,UAAUmK,EAAYL,cACvCx9F,KAAKmzF,OAAO0K,EAAYN,YAAcv9F,KAAKozF,OAAOyK,EAAYL,aACxEx9F,KAAKozF,OAAOpzF,KAAKmyF,UAAUuB,UAAUmK,EAAYL,aAE7Cx9F,KAAKmyF,UAAUsB,QAAQoK,EAAYN,YACtCv9F,KAAKmyF,UAAUsB,QAAQoK,EAAYN,WACnCv9F,KAAKmyF,UAAUuB,UAAUmK,EAAYL,cAC3Bx9F,KAAKmyF,UAAUsB,UAAUoK,EAAYN,aAAav9F,KAAKmzF,MAAQnzF,KAAKmyF,UAAUuB,UAAUmK,EAAYL,aAC9Gx9F,KAAKmyF,UAAUuB,UAAUmK,EAAYL,aAErCx9F,KAAKmyF,UAAUuB,UAAU,EAK5B,GAA+B,OAA3ByE,EAAQZ,SAASlD,QAAgB,CACpC,GAAIyJ,GAAY,GAAItuF,MAAK,cAAgB2oF,EAAQZ,SAASlD,QACtDr0F,MAAKmzF,KAAK2K,EAAYP,YACzBv9F,KAAKmzF,KAAKnzF,KAAKmyF,UAAU2B,QAAQgK,EAAYP,WAC7Cv9F,KAAKozF,OAAOpzF,KAAKmyF,UAAU4B,UAAU+J,EAAYN,cACvCx9F,KAAKmzF,OAAO2K,EAAYP,YAAcv9F,KAAKozF,OAAO0K,EAAYN,aACxEx9F,KAAKozF,OAAOpzF,KAAKmyF,UAAU4B,UAAU+J,EAAYN,aAE7Cx9F,KAAKmyF,UAAU2B,QAAQgK,EAAYP,YACtCv9F,KAAKmyF,UAAU2B,QAAQgK,EAAYP,WACnCv9F,KAAKmyF,UAAU4B,UAAU+J,EAAYN,cAC3Bx9F,KAAKmyF,UAAU2B,UAAUgK,EAAYP,aAAav9F,KAAKmzF,MAAQnzF,KAAKmyF,UAAU4B,UAAU+J,EAAYN,aAC9Gx9F,KAAKmyF,UAAU4B,UAAU+J,EAAYN,aAErCx9F,KAAKmyF,UAAU4B,UAAU,GAK5B,GAAsBlvF,SAAlBo4F,GAA+BA,KAAkB,EAAM,CAC1D,GAAInJ,GAAUp3E,SAAU1c,KAAKmyF,UAAU2B,SAAY9zF,KAAKmyF,UAAU2B,QAAU9zF,KAAKmyF,UAAUsB,SAAWzzF,KAAKmyF,UAAUW,SAAY,IAChIiL,EAASrhF,SAAU1c,KAAKmyF,UAAU4B,WAAc/zF,KAAKmyF,UAAU4B,UAAY/zF,KAAKmyF,UAAUuB,WAAa1zF,KAAKmyF,UAAUY,WAAc,IACpIiL,EAASthF,SAAU1c,KAAKmyF,UAAU6B,WAAch0F,KAAKmyF,UAAU6B,UAAYh0F,KAAKmyF,UAAUwB,WAAa3zF,KAAKmyF,UAAUa,WAAc,IACpIiB,EAAcv3E,SAAU1c,KAAKmyF,UAAU8B,aAAgBj0F,KAAKmyF,UAAU8B,YAAcj0F,KAAKmyF,UAAUyB,aAAe5zF,KAAKmyF,UAAUc,aAAgB,IACjJiB,EAAcx3E,SAAU1c,KAAKmyF,UAAU+B,aAAgBl0F,KAAKmyF,UAAU+B,YAAcl0F,KAAKmyF,UAAU0B,aAAe7zF,KAAKmyF,UAAUe,aAAgB,GAE9IlzF,MAAK+1F,cACR/1F,KAAKq3F,QAAQ19E,QAAQ3Z,KAAMA,KAAK+1F,YAAa,QAAUhnF,IAAK/O,KAAKmyF,UAAUsB,QAASllF,IAAKulF,EAASmK,KAAMj+F,KAAKmyF,UAAUW,WACvH9yF,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAK+1F,YAAa,OAAQ/1F,KAAKmzF,KAAQnzF,KAAKmzF,KAAOnzF,KAAKmyF,UAAUW,WAExF9yF,KAAKg2F,gBACRh2F,KAAKq3F,QAAQ19E,QAAQ3Z,KAAMA,KAAKg2F,cAAe,UAAYjnF,IAAK/O,KAAKmyF,UAAUuB,UAAWnlF,IAAKwvF,EAAQE,KAAMj+F,KAAKmyF,UAAUY,aAC5H/yF,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKg2F,cAAe,SAAUh2F,KAAKozF,OAAUpzF,KAAKozF,OAASpzF,KAAKmyF,UAAUY,aAEhG/yF,KAAKi2F,gBACRj2F,KAAKq3F,QAAQ19E,QAAQ3Z,KAAMA,KAAKi2F,cAAe,UAAYlnF,IAAK/O,KAAKmyF,UAAUwB,UAAWplF,IAAKyvF,EAAQC,KAAMj+F,KAAKmyF,UAAUa,aAC5HhzF,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKi2F,cAAe,SAAUj2F,KAAKqzF,OAAUrzF,KAAKqzF,OAASrzF,KAAKmyF,UAAUa,aAEhGhzF,KAAKk2F,kBACRl2F,KAAKq3F,QAAQ19E,QAAQ3Z,KAAMA,KAAKk2F,gBAAiB,YAAcnnF,IAAK/O,KAAKmyF,UAAUyB,YAAarlF,IAAK0lF,EAAagK,KAAMj+F,KAAKmyF,UAAUc,eACvIjzF,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKk2F,gBAAiB,WAAYl2F,KAAKszF,SAAYtzF,KAAKszF,SAAWtzF,KAAKmyF,UAAUc,eAExGjzF,KAAKm2F,kBACRn2F,KAAKq3F,QAAQ19E,QAAQ3Z,KAAMA,KAAKm2F,gBAAiB,YAAcpnF,IAAK/O,KAAKmyF,UAAU0B,YAAatlF,IAAK2lF,EAAa+J,KAAMj+F,KAAKmyF,UAAUe,eACvIlzF,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKm2F,gBAAiB,WAAYn2F,KAAKuzF,SAAYvzF,KAAKuzF,SAAWvzF,KAAKmyF,UAAUe,kBAU9G2I,cAAe,WACd,GAAK77F,KAAKmyF,UAAUiD,eAApB,CAGA,GAAIjC,KAAQnzF,KAAgB,aAAIA,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAK+1F,YAAa,QAC1E3C,IAAUpzF,KAAkB,eAAIA,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKg2F,cAAe,UAC7E3C,IAAUrzF,KAAkB,eAAIA,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKi2F,cAAe,UAC7E3C,IAAYtzF,KAAoB,iBAAIA,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKk2F,gBAAiB,YACnF3C,IAAYvzF,KAAoB,iBAAIA,KAAKq3F,QAAQ/tF,MAAMtJ,KAAMA,KAAKm2F,gBAAiB,YACnF3C,IAAYxzF,KAAoB,iBAAIA,KAAKo2F,gBAAgBxmE,MACzD+sD,EAAI38E,KAAKmyF,UACT+C,EAAmBvY,EAAEuY,kBAAoBvY,EAAE6U,WAC3C2D,EAAmBxY,EAAEwY,kBAAoBxY,EAAE8U,UAEvB,iBAAX,KACT0B,GAAO,GAEe,gBAAb,KACTC,GAAS,GAEa,gBAAb,KACTC,GAAS,GAEe,gBAAf,KACTC,GAAW,GAEa,gBAAf,KACTC,GAAW,GAEa,gBAAf,KACTC,GAAW,GAGRL,KAAS,IACZA,EAAOz2E,SAASy2E,EAAM,KAEnBC,KAAW,IACdA,EAAS12E,SAAS02E,EAAQ,KAEvBC,KAAW,IACdA,EAAS32E,SAAS22E,EAAQ,KAEvBC,KAAa,IAChBA,EAAW52E,SAAS42E,EAAU,KAE3BC,KAAa,IAChBA,EAAW72E,SAAS62E,EAAU,KAE3BC,KAAa,IAChBA,EAAWA,EAASxyF,WAGrB,IAAI+1F,GAAOpa,EAAEwW,EAAO,GAAK,UAAY,WAAW,GAI5C+K,EACD/K,IAASz2E,SAAS1c,KAAKmzF,KAAK,KAC5BC,IAAW12E,SAAS1c,KAAKozF,OAAO,KAChCC,IAAW32E,SAAS1c,KAAKqzF,OAAO,KAChCC,IAAa52E,SAAS1c,KAAKszF,SAAS,KACpCC,IAAa72E,SAAS1c,KAAKuzF,SAAS,KACnCvzF,KAAK+2F,KAAKr2F,OAAS,GAAMyyF,EAAO,KAASrC,EAAEqN,QAAQn+F,KAAK+2F,KAAKrpE,cAAe1tB,KAAKsxF,YAAa,IAC5E,OAAlBtxF,KAAKwzF,UAAqBA,IAAaxzF,KAAKwzF,SAASxyF,UAGrDk9F,KAEC/K,KAAS,IACZnzF,KAAKmzF,KAAOA,GAETC,KAAW,IACdpzF,KAAKozF,OAASA,GAEXC,KAAW,IACdrzF,KAAKqzF,OAASA,GAEXC,KAAa,IAChBtzF,KAAKszF,SAAWA,GAEbC,KAAa,IAChBvzF,KAAKuzF,SAAWA,GAEbC,KAAa,IAChBxzF,KAAKwzF,SAAWA,GAGZxzF,KAAK81F,OACT91F,KAAK81F,KAAOhF,EAAEqJ,WAAWC,SAASp6F,KAAK21F,OAAO,KAG/C31F,KAAK+5F,qBAAqB/5F,KAAK81F,MAAM,IAElC91F,KAAKo3F,QAAQL,OAChB/2F,KAAK+2F,KAAOA,GAIb/2F,KAAKi3F,cAAgBnG,EAAEqJ,WAAWgB,WAAWxe,EAAE6U,WAAYxxF,KAAM28E,GAC7D38E,KAAK61F,WACJX,IAAqBvY,EAAE6U,WAC1BxxF,KAAK61F,SAASxxF,KAAKrE,KAAKi3F,cAAgB9B,GAGxCn1F,KAAK61F,SAASxxF,KAAKysF,EAAEqJ,WAAWgB,WAAWjG,EAAkBl1F,KAAM28E,GAAKwY,IAI1En1F,KAAK44F,aAAc,EACfsF,GACHl+F,KAAKy4F,oBASPqD,iBAAkB,WACjB,GAAIhnC,GAAW90D,KAAKmyF,UAAUr9B,UAAY90D,KAAK81F,KAAKyB,SAASziC,SACzDspC,EAAUp+F,KAAK21F,OAAS31F,KAAK21F,OAAO,GAAK,IACzC7gC,IAAYspC,GACftpC,EAAS10D,MAAMg+F,GAAUp+F,KAAKk3F,kBAAmBl3F,QAOnDy4F,gBAAiB,SAAUN,GAC1BA,EAAUn4F,KAAK81F,MAAQqC,CACvB,IAAIkG,GAASlG,EAAQmG,YAAc,EAC/B,GAAI9uF,MAAK2oF,EAAQmG,YAAanG,EAAQoG,aAAcpG,EAAQqG,YAC5D,GAAIhvF,MAAK2oF,EAAQ+D,aAAc/D,EAAQgE,cAAehE,EAAQiE,aACjE9sC,EAAKwhC,EAAEqJ,WAAWsE,sBAAsBJ,GAGxCK,EAAU5N,EAAEqJ,WAAWG,KAAKnC,EAAS,cACrCwG,EAAY7N,EAAEqJ,WAAWM,iBAAiBtC,GAC1CyG,EAAuB,OAAPtvC,GAAetvD,KAAK44F,WACrC54F,MAAKg3F,cAAgBlG,EAAEqJ,WAAW0E,WAAWH,EAAiB,OAAPpvC,EAAc,GAAI9/C,MAAS8/C,EAAKqvC,EACvF,IAAIzH,GAAoBl3F,KAAKg3F,aA0B7B,IAvBwB,KAApBmB,EAAQ2G,UACC3G,EAAQmG,YAAcnG,EAAQ+D,aAC9B/D,EAAQoG,aAAepG,EAAQgE,cAC/BhE,EAAQqG,WAAarG,EAAQiE,aAYtCp8F,KAAKmyF,UAAUE,YAAa,GAAQryF,KAAKmyF,UAAUG,oBAAqB,EAC3E4E,EAAoBl3F,KAAKi3F,eACdj3F,KAAKmyF,UAAUE,YAAa,IAASryF,KAAKmyF,UAAUyC,eAAiBgK,IAAoB5+F,KAAKmyF,UAAUE,YAAa,GAAQryF,KAAKmyF,UAAUG,oBAAqB,KAC5K4E,GAAqBl3F,KAAKmyF,UAAU0C,UAAY70F,KAAKi3F,cAAgBj3F,KAAKmyF,UAAUV,YAGrFzxF,KAAKk3F,kBAAoBA,EAEpBl3F,KAAKmyF,UAAUiD,eAEb,GAAIp1F,KAAK41F,WAAa51F,KAAKmyF,UAAUE,YAAa,GAASryF,KAAKmyF,UAAU2C,oBAAqB,EACrG90F,KAAK41F,UAAUhmE,IAAI5vB,KAAKi3F,eACxBj3F,KAAK21F,OAAO/lE,IAAI5vB,KAAKg3F,mBACf,IAAIh3F,KAAK41F,UAAW,CAC1B51F,KAAK21F,OAAO/lE,IAAIsnE,EAChB,IAAI6H,GAAuB,GAC1B/J,EAAeh1F,KAAKmyF,UAAU6C,aAAeh1F,KAAKmyF,UAAU6C,aAAeh1F,KAAKmyF,UAAU0C,UAC1FI,EAAgBj1F,KAAKmyF,UAAU8C,cAAgBj1F,KAAKmyF,UAAU8C,cAAgBj1F,KAAKmyF,UAAUV,UAEzFzxF,MAAKmyF,UAAUE,WAElB0M,EADG/+F,KAAKmyF,UAAU6M,UACKlO,EAAEqJ,WAAW0E,WAAW7+F,KAAKmyF,UAAU6M,UAAmB,OAAP1vC,EAAc,GAAI9/C,MAAS8/C,EAAKqvC,GAGnF3+F,KAAKg3F,cAGzB+H,IACHA,GAAwB/J,IAKzB+J,GADG/+F,KAAKmyF,UAAU4C,cACMjE,EAAEqJ,WAAWgB,WAAWn7F,KAAKmyF,UAAU4C,cAAe/0F,KAAMA,KAAKmyF,WAAa8C,EAG9Ej1F,KAAKi3F,cAAgBhC,EAE9Cj1F,KAAK41F,UAAUhmE,IAAImvE,OAEnB/+F,MAAK21F,OAAO/lE,IAAIsnE,OA/BhBl3F,MAAK21F,OAAO/lE,IAAI5vB,KAAKg3F,cAkCtBh3F,MAAK21F,OAAO6D,QAAQ,WAGrBG,SAAU,WACT,IAAK35F,KAAK21F,OAAO/lE,OAAS5vB,KAAKmyF,UAAUsD,aAAc,CACtDz1F,KAAK21F,OAAO/lE,IAAI5vB,KAAKmyF,UAAUsD,aAC/B,IAAIK,GAAOhF,EAAEqJ,WAAWC,SAASp6F,KAAK21F,OAAO33D,IAAI,IAChD05D,EAAU5G,EAAEqJ,WAAWG,KAAKxE,EAAM,aACnC,IAAI4B,GACCA,EAAQvF,UAAUE,UAAayD,EAAKn0E,MAAMiO,QAAUkmE,EAAKgJ,QAC5D,IACChO,EAAEqJ,WAAW8E,kBAAkBnJ,GAC9B,MAAOmC,GACRnH,EAAEE,WAAW51E,IAAI68E,MAWtBa,WAECoG,QACCvyF,OAAQ,SAAU+qF,EAAS56C,EAAKqiD,EAAMvvE,EAAK7gB,EAAKR,EAAK0vF,GACpD,GAAI1B,GAAM7E,EAAQvF,UAAUD,KAC5B,OAAOp1C,GAAIsiD,KAAK,QAAS,MAAMF,QAC9BG,YAAa,aACb/1F,MAAOizF,EAAM3sE,GAAM,EAAKA,EACxB7gB,IAAKwtF,EAAMhuF,GAAM,EAAKQ,EACtBR,IAAKguF,EAAMxtF,GAAM,EAAKR,EACtB0vF,KAAMA,EACNqB,MAAO,SAAU58F,EAAOquF,GACvB2G,EAAQL,QAAQ/tF,MAAMouF,EAAS5G,EAAE9wF,MAAOm/F,EAAM5C,EAAMxL,EAAGznF,OAAQ,EAAKynF,EAAGznF,OACvEouF,EAAQmE,iBAET3rF,KAAM,SAAUxN,EAAOquF,GACtB2G,EAAQoE,uBAIXniF,QAAS,SAAU+9E,EAAS56C,EAAKqiD,EAAMniD,EAAMptB,GAC5C,GAAI8nE,EAAQvF,UAAUD,MAAO,CAC5B,GAAqB,gBAAX,GACT,MAAa,QAATl1C,GAA2B,QAATA,EACTn4C,SAAR+qB,EACIktB,EAAIoiD,OAAOliD,EAAMptB,GAAM,GAExBthB,KAAKusB,IAAIiiB,EAAIoiD,OAAOliD,IAErBF,EAAIoiD,OAAOliD,EAEnB,IAAIjuC,GAAMiuC,EAAKjuC,IACdR,EAAMyuC,EAAKzuC,GAQZ,OAPAyuC,GAAKjuC,IAAMiuC,EAAKzuC,IAAM,KACV1J,SAARkK,IACHiuC,EAAKzuC,IAAMQ,GAAM,GAENlK,SAAR0J,IACHyuC,EAAKjuC,IAAMR,GAAM,GAEXuuC,EAAIoiD,OAAOliD,GAEnB,MAAqB,gBAAX,IAA+Bn4C,SAAR+qB,EACzBktB,EAAIoiD,OAAOliD,EAAMptB,GAElBktB,EAAIoiD,OAAOliD,IAEnB1zC,MAAO,SAAUouF,EAAS56C,EAAKqiD,EAAMvvE,GACpC,MAAI8nE,GAAQvF,UAAUD,MACTrtF,SAAR+qB,EACIktB,EAAIoiD,OAAO,QAAStvE,GAAM,GAE3BthB,KAAKusB,IAAIiiB,EAAIoiD,OAAO,UAEhBr6F,SAAR+qB,EACIktB,EAAIoiD,OAAO,QAAStvE,GAErBktB,EAAIoiD,OAAO,WAIpBvwC,QACChiD,OAAQ,SAAU+qF,EAAS56C,EAAKqiD,EAAMvvE,EAAK7gB,EAAKR,EAAK0vF,GAIpD,IAAK,GAHD3iC,GAAM,mDAAqD6jC,EAAO,eAAiBpwF,EAAM,eAAiBR,EAAM,gBAAkB0vF,EAAO,KAC5IsB,EAAS7H,EAAQvF,UAAU+C,kBAAoBwC,EAAQvF,UAAUX,WAEzDrwF,EAAI4N,EAAK5N,GAAKoN,EAAKpN,GAAK88F,EAChC3iC,GAAO,kBAAoBn6D,EAAI,KAAOA,IAAMyuB,EAAM,YAAc,IAAM,IAErE0rC,GADY,SAAT6jC,EACIrO,EAAEqJ,WAAWgB,WAAWrK,EAAE19E,KAAKmsF,EAAOr9F,QAAQ,WAAY,MAAOixF,KAAMhyF,GAAIu2F,EAAQvF,WAEzE,aAATgN,GAAgC,aAATA,GAAuBh+F,GAAK,GAAaA,EAC5D,IAAMA,EAAEH,WACrBs6D,GAAO,WAWR,OATAA,IAAO,YAEPxe,EAAIljC,SAAS,UAAU3U,SAEvB6rF,EAAEx1B,GAAKkkC,SAAS1iD,GAAK6S,OAAO,SAAUzhD,GACrCwpF,EAAQmE,gBACRnE,EAAQoE,qBAGFh/C,GAERnjC,QAAS,SAAU+9E,EAAS56C,EAAKqiD,EAAMniD,EAAMptB,GAC5C,GAAI+sD,MACH+e,EAAK5+C,EAAIljC,SAAS,SACnB,IAAqB,gBAAX,GAAqB,CAC9B,GAAY/U,SAAR+qB,EACH,MAAO8rE,GAAGttF,KAAK4uC,EAEhB2/B,GAAE3/B,GAAQptB,MAEJ+sD,GAAI3/B,CACX,OAAO06C,GAAQL,QAAQ1qF,OAAO+qF,EAAS56C,EAAK4+C,EAAGttF,KAAK,QAASstF,EAAG9rE,MAAO+sD,EAAE5tE,KAAO2sF,EAAGttF,KAAK,OAAQuuE,EAAEpuE,KAAOmtF,EAAGttF,KAAK,OAAQuuE,EAAEshB,MAAQvC,EAAGttF,KAAK,UAE5I9E,MAAO,SAAUouF,EAAS56C,EAAKqiD,EAAMvvE,GACpC,GAAI8rE,GAAK5+C,EAAIljC,SAAS,SACtB,OAAY/U,UAAR+qB,EACI8rE,EAAG9rE,IAAIA,GAER8rE,EAAG9rE,WAOdkhE,EAAEkL,GAAGn3E,QAIJmsE,WAAY,SAAUrU,GACrBA,EAAIA,KACJ,IAAI8iB,GAAWh1F,MAAM1J,UAAUgB,MAAMd,KAAKX,UAQ1C,OANiB,gBAANq8E,KACV8iB,EAAS,GAAK3O,EAAEjsE,OAAO83D,GACtB0V,UAAU,KAILvB,EAAE9wF,MAAM28F,KAAK,WACnB7L,EAAEkL,GAAG0D,eAAet/F,MAAM0wF,EAAE9wF,MAAOy/F,MAOrCC,eAAgB,SAAU/iB,GACzBA,EAAIA,KACJ,IAAI8iB,GAAWn/F,SAEf,OAAkB,gBAAR,GACC,YAANq8E,EACImU,EAAEkL,GAAG7B,WAAW/5F,MAAM0wF,EAAE9wF,KAAK,IAAKy/F,GAElCz/F,KAAK28F,KAAK,WAChB,GAAIjB,GAAK5K,EAAE9wF,KACX07F,GAAGvB,WAAW/5F,MAAMs7F,EAAI+D,KAInBz/F,KAAK28F,KAAK,WAChB,GAAIjB,GAAK5K,EAAE9wF,KACX07F,GAAGvB,WAAWrJ,EAAEE,WAAWyG,SAASiE,EAAI/e,GAAGwV,gBAS/CrB,EAAEqJ,WAAWwF,cAAgB,SAAUC,EAAYpO,EAAYqO,EAAgBC,EAAcC,GAC5F,GAAIxF,GAAWC,sBAAsBoF,EAAYpO,EAAYqO,EAAgBC,EAAcC,EAC3F,IAAIxF,EAASG,QAAS,CACrB,GAAIjkD,GAAI8jD,EAASG,OACjBH,GAASyF,KAAKC,SAASxpD,EAAE08C,KAAM18C,EAAE28C,OAAQ38C,EAAE48C,OAAQ58C,EAAE68C,UACrDiH,EAASyF,KAAKE,gBAAgBzpD,EAAE88C,UAGjC,MAAOgH,GAASyF,MAMjBlP,EAAEqJ,WAAWQ,UAAY,SAAUnJ,EAAYyI,EAAYtgF,GAC1D,GAAIgjE,GAAI6a,aAAaA,gBAAiB1G,EAAEE,WAAWmB,WAAYx4E,OAI3DwmF,GAHQ3O,EAAWtvF,QAAQ,WAAY,IAAIR,QAAQ,QAAS,EAG9C,SAAUk6F,EAAGnzD,EAAGk0C,GAGjC,GA+DCyjB,GA/DGC,EAAiB,SAAU/O,EAASC,GACvC,GAAI99D,KAUJ,OATI69D,IACHR,EAAE77E,MAAMwe,EAAS69D,GAEdC,GACHT,EAAE77E,MAAMwe,EAAS89D,GAElB99D,EAAUq9D,EAAEvkF,IAAIknB,EAAS,SAAU7D,GAClC,MAAOA,GAAI1tB,QAAQ,qBAAsB,UAEnC,IAAMuxB,EAAQzxB,KAAK,KAAO,MAI9Bs+F,EAAqB,SAAU9O,GAClC,GAAI+O,GAAQ/O,EAAW1kF,cAAc8E,MAAM,oDAC1C4uF,GACChkE,GAAG,EACHzf,GAAG,EACH0rB,GAAG,EACHrnC,GAAG,EACHoY,GAAG,EACHi9B,GAAG,EACHgqD,GAAG,EAGL,IAAIF,EACH,IAAK,GAAIp/F,GAAI,EAAGA,EAAIo/F,EAAM7/F,OAAQS,IAC7Bq/F,EAAOD,EAAMp/F,GAAGH,WAAWa,OAAO,OAAQ,IAC7C2+F,EAAOD,EAAMp/F,GAAGH,WAAWa,OAAO,IAAMV,EAAI,EAI/C,OAAOq/F,IAGJE,EAAS,IAAM9E,EAAE56F,WAClBkB,QAAQ,iDAAkD,SAAU0P,GACnE,GAAI+uF,GAAK/uF,EAAMlR,MACf,QAAQkR,EAAM/P,OAAO,GAAGiL,eACxB,IAAK,IACJ,MAAc,KAAP6zF,EAAW,YAAc,QAAUA,EAAK,IAChD,KAAK,IACJ,MAAc,KAAPA,EAAW,YAAc,QAAUA,EAAK,IAChD,KAAK,IACJ,MAAc,KAAPA,EAAW,YAAc,QAAUA,EAAK,IAChD,KAAK,IACJ,MAAO,eACR,KAAK,IACJ,MAAO,eACR,KAAK,IACJ,MAAO,8BACR,KAAK,IACJ,MAAON,GAAe1jB,EAAE2U,QAAS3U,EAAE4U,QACpC,SACC,MAAO,IAAM3/E,EAAM1P,QAAQ,MAAO,IAAIA,QAAQ,yCAA0C,SAAU6a,GAAK,MAAO,KAAOA,IAAQ,QAG/H7a,QAAQ,MAAO,QAChBy6E,EAAE8U,WAAa,IAChBmP,EAAQN,EAAmB1E,GAC3B7E,EAAO,EAGRqJ,GAAO33D,EAAE72B,MAAM,GAAIuG,QAAOuoF,EAAQ,KAElC,IAAIG,IACH1N,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRC,SAAU,EACVC,SAAU,EAGX,SAAI6M,IACCQ,EAAMnqD,KAAM,IACO5xC,SAAlBu7F,EAAKQ,EAAMnqD,IAA6C,IAAzB2pD,EAAKQ,EAAMnqD,GAAG/1C,QAChDq2F,EAAO,GACP8J,EAAQ9J,KAAO,KAEfA,EAAOjG,EAAEqN,QAAQiC,EAAKQ,EAAMnqD,GAAG/oB,cAAeivD,EAAE2U,YAAa,EAAK,KAAO,KACzEuP,EAAQ9J,KAAOpa,EAAW,OAAToa,EAAgB,UAAY,WAAW,KAItD6J,EAAMpkE,KAAM,IACF,OAATu6D,GAAmC,OAAlBqJ,EAAKQ,EAAMpkE,GAC/BqkE,EAAQ1N,KAAO,EAEF,OAAT4D,GAAmC,OAAlBqJ,EAAKQ,EAAMpkE,GAC/BqkE,EAAQ1N,KAAOz2E,SAAS0jF,EAAKQ,EAAMpkE,GAAI,IAAM,GAE7CqkE,EAAQ1N,KAAOtlE,OAAOuyE,EAAKQ,EAAMpkE,KAKhCokE,EAAM7jF,KAAM,IACf8jF,EAAQzN,OAASvlE,OAAOuyE,EAAKQ,EAAM7jF,KAEhC6jF,EAAMn4D,KAAM,IACfo4D,EAAQxN,OAASxlE,OAAOuyE,EAAKQ,EAAMn4D,KAEhCm4D,EAAMx/F,KAAM,IACfy/F,EAAQvN,SAAWzlE,OAAOuyE,EAAKQ,EAAMx/F,KAElCw/F,EAAMpnF,KAAM,IACfqnF,EAAQtN,SAAW1lE,OAAOuyE,EAAKQ,EAAMpnF,KAElConF,EAAMH,KAAM,GAAwB57F,SAAlBu7F,EAAKQ,EAAMH,KAChCI,EAAQrN,SAAW1C,EAAEE,WAAWoI,qBAAqBgH,EAAKQ,EAAMH,KAI1DI,KAMLC,EAAa,SAAUlF,EAAGnzD,EAAGk0C,GAChC,IACC,GAAI3gB,GAAI,GAAIxsD,MAAK,cAAgBi5B,EACjC,IAAItS,MAAM6lC,EAAEygB,aACXzgB,EAAI,GAAIxsD,MAAK,cAAgBi5B,GACzBtS,MAAM6lC,EAAEygB,aACXzgB,EAAI,GAAIxsD,MAAK,cAAgBi5B,GACzBtS,MAAM6lC,EAAEygB,aACX,KAAM,0CAA4Ch0C,CAKrD,QACC0qD,KAAMn3B,EAAEuhC,WACRnK,OAAQp3B,EAAEwhC,aACVnK,OAAQr3B,EAAEyhC,aACVnK,SAAUt3B,EAAE0hC,kBACZnK,SAAUv3B,EAAE2hC,kBACZnK,SAAUx3B,EAAEq9B,qBAAsB,GAGpC,MAAOpB,GACN,IACC,MAAOkI,GAAYvE,EAAGnzD,EAAGk0C,GAE1B,MAAOokB,GACNjQ,EAAEE,WAAW51E,IAAI,iCAAmCqtB,EAAI,iBAAmBmzD,IAG7E,OAAO,EAGR,OAAuB,kBAAZjf,GAAE+Y,MACL/Y,EAAE+Y,MAAMlE,EAAYyI,EAAYtd,GAExB,UAAZA,EAAE+Y,MACEoL,EAAWtP,EAAYyI,EAAYtd,GAEpCwjB,EAAY3O,EAAYyI,EAAYtd,IAU5CmU,EAAEqJ,WAAWgB,WAAa,SAAUoE,EAAQ37C,EAAMjqC,GACjDA,EAAUA,MACVA,EAAUm3E,EAAEjsE,UAAWisE,EAAEE,WAAWmB,UAAWx4E,GAC/CiqC,EAAOktC,EAAEjsE,QACRsuE,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRC,SAAU,EACVC,SAAU,EACVC,SAAU,MACR5vC,EAEH,IAAIo9C,GAAUzB,EACb0B,EAAWtnF,EAAQ23E,QAAQ,GAC3B6B,EAAOz2E,SAASknC,EAAKuvC,KAAM,GA6C5B,OA3CIA,GAAO,KACV8N,EAAWtnF,EAAQ43E,QAAQ,IAG5ByP,EAAUA,EAAQ9+F,QAAQ,iDAAkD,SAAU0P,GACrF,OAAQA,GACR,IAAK,KACJ,OAAQ,IAAMuhF,GAAMpxF,OAAM,EAC3B,KAAK,IACJ,MAAOoxF,EACR,KAAK,KACJ,OAAQ,IAAM+N,cAAc/N,IAAOpxF,OAAM,EAC1C,KAAK,IACJ,MAAOm/F,eAAc/N,EACtB,KAAK,KACJ,OAAQ,IAAMvvC,EAAKwvC,QAAQrxF,OAAM,EAClC,KAAK,IACJ,MAAO6hD,GAAKwvC,MACb,KAAK,KACJ,OAAQ,IAAMxvC,EAAKyvC,QAAQtxF,OAAM,EAClC,KAAK,IACJ,MAAO6hD,GAAKyvC,MACb,KAAK,IACJ,OAAQ,KAAOzvC,EAAK0vC,UAAUvxF,OAAM,EACrC,KAAK,IACJ,OAAQ,KAAO6hD,EAAK2vC,UAAUxxF,OAAM,EACrC,KAAK,IACJ,MAAO+uF,GAAEE,WAAWkI,qBAAuC,OAAlBt1C,EAAK4vC,SAAoB75E,EAAQ65E,SAAW5vC,EAAK4vC,UAAU,EACrG,KAAK,IACJ,MAAO1C,GAAEE,WAAWkI,qBAAuC,OAAlBt1C,EAAK4vC,SAAoB75E,EAAQ65E,SAAW5vC,EAAK4vC,UAAU,EACrG,KAAK,IACJ,MAAOyN,GAASp/F,OAAO,GAAG6rB,aAC3B,KAAK,KACJ,MAAOuzE,GAASvzE,aACjB,KAAK,IACJ,MAAOuzE,GAASp/F,OAAO,GAAGiL,aAC3B,KAAK,KACJ,MAAOm0F,GAASn0F,aACjB,SACC,MAAO8E,GAAM1P,QAAQ,KAAM,QAW9B4uF,EAAEqJ,WAAWgH,iBAAmBrQ,EAAEqJ,WAAWiH,YAC7CtQ,EAAEqJ,WAAWiH,YAAc,SAAU/+F,EAAIg/F,GACxC,GAAIvL,GAAO91F,KAAKo6F,SAAStJ,EAAEzuF,GAAI,IAC9Bq1F,EAAU13F,KAAKs6F,KAAKxE,EAAM,aAEvB4B,IAAW5B,EAAKyB,SAASnC,gBAC5BsC,EAAQqC,qBAAqBjE,GAAM,GACnCA,EAAKwL,OAASxL,EAAKyL,WAAY,EAE/BvhG,KAAKmhG,iBAAiB9+F,EAAIg/F,GAC1BvL,EAAKwL,OAASxL,EAAKyL,WAAY,EAC/BvhG,KAAKwhG,cAAc1L,GACnB91F,KAAKi/F,kBAAkBnJ,IAEvB91F,KAAKmhG,iBAAiB9+F,EAAIg/F,IAQ5BvQ,EAAEqJ,WAAWsH,uBAAyB3Q,EAAEqJ,WAAW8E,kBACnDnO,EAAEqJ,WAAW8E,kBAAoB,SAAUnJ,GAG1C,GAAIn0E,GAAQm0E,EAAKn0E,MAAM,EACvB,MAAImvE,EAAEqJ,WAAWuH,UAAY5Q,EAAEqJ,WAAWuH,WAAa5L,GAAQhF,EAAEqJ,WAAWwH,oBAAsB7Q,EAAEqJ,WAAWyH,aAAejgF,GAI/F,iBAApBm0E,GAAc,WAAmBA,EAAKyL,aAAc,GAAO,CAErEvhG,KAAKyhG,uBAAuB3L,EAG5B,IAAI4B,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC1B4B,IACHA,EAAQkC,eAAe9D,KAQ1BhF,EAAEqJ,WAAW0H,iBAAmB/Q,EAAEqJ,WAAW2H,YAC7ChR,EAAEqJ,WAAW2H,YAAc,SAAUp/F,GACpC,GAAIozF,GAAOhF,EAAEqJ,WAAWC,SAAS13F,EAAM0X,QACtCs9E,EAAU5G,EAAEqJ,WAAWG,KAAKxE,EAAM,aAEnC,IAAI4B,GACC5G,EAAEqJ,WAAWG,KAAKxE,EAAM,kBAAmB,CAC9C,GAAIiB,GAAOW,EAAQN,QAAQL,KAC1BgL,EAAwC,OAAnCrK,EAAQvF,UAAUS,aAAwB8E,EAAQvF,UAAUS,aAAe8E,EAAQN,QAAQ5D,SAChGwO,EAAYlR,EAAEqJ,WAAW8H,eAAenR,EAAEqJ,WAAWG,KAAKxE,EAAM,eAChEoM,EAAgBxK,EAAQvF,UAAUX,WAAWxwF,WACtCkB,QAAQ,SAAU,IAClBA,QAAQ,MAAO60F,EAAO,MAAQ,IAC9B70F,QAAQ,MAAO60F,EAAO,SAAW,IACjC70F,QAAQ,MAAO60F,EAAO,SAAW,IACjC70F,QAAQ,KAAM60F,EAAO,KAAO,IAC5B70F,QAAQ,MAAO60F,EAAO,MAAQ,IAC9B70F,QAAQ,KAAM60F,EAAO,KAAO,IAC7B,IAAMW,EAAQvF,UAAU0C,UACxB6C,EAAQvF,UAAUV,YACjBsQ,EAAKrK,EAAQvF,UAAUkD,aAAarzF,KAAK,IAAM,IAC/C01F,EAAQvF,UAAUb,QAAQtvF,KAAK,IAAQ01F,EAAQvF,UAAUZ,QAAQvvF,KAAK,IACvEggG,EACN38E,EAAM8rD,OAAOC,aAAgCvsE,SAAnBnC,EAAMy/F,SAAyBz/F,EAAM49B,QAAU59B,EAAMy/F,SAChF,OAAOz/F,GAAMqX,SAAYsL,EAAM,MAAQ28E,GAAaE,EAAcxgG,QAAQ2jB,IAAO,EAInF,MAAOyrE,GAAEqJ,WAAW0H,iBAAiBn/F,IAOtCouF,EAAEqJ,WAAWiI,sBAAwBtR,EAAEqJ,WAAWkI,iBAClDvR,EAAEqJ,WAAWkI,iBAAmB,SAAUvM,GACzC,GAAI4B,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC9B,IAAI4B,EAAS,CACZ,GAAI4B,GAAW5B,EAAQvF,UAAUmH,QACjC,IAAIA,EAAU,CACb,GACC0G,IADetI,EAAQvF,UAAU6M,WAAatH,EAAQvF,UAAUyN,WACzD5/F,KAAKsiG,SAASxM,IACrB6I,EAAY7N,EAAEqJ,WAAWM,iBAAiB3E,GAC1CiJ,EAAuB,GACvB/J,EAAe0C,EAAQvF,UAAU6C,aAAe0C,EAAQvF,UAAU6C,aAAe0C,EAAQvF,UAAU0C,UACnGI,EAAgByC,EAAQvF,UAAU8C,cAAgByC,EAAQvF,UAAU8C,cAAgByC,EAAQvF,UAAUV,WACtGsD,EAAoD,OAApC2C,EAAQvF,UAAU4C,cAAyB2C,EAAQvF,UAAU4C,cAAgB2C,EAAQvF,UAAUX,UAEhHuN,IAAwBjO,EAAEqJ,WAAWgB,WAAWpG,EAAe2C,EAASA,EAAQvF,WAAa8C,EACxFyC,EAAQvF,UAAUE,UAAaqF,EAAQvF,UAAU2C,kBAA6B,OAATkL,IAExEjB,EADGrH,EAAQvF,UAAU6M,UACElO,EAAEqJ,WAAW0E,WAAWnH,EAAQvF,UAAU6M,UAAWgB,EAAMrB,GAAa3J,EAAe+J,EAGvFrH,EAAQV,cAAgBhC,EAAe+J,GAGhEjO,EAAEwI,GAAU1pE,IAAImvE,QAIjBjO,GAAEqJ,WAAWiI,sBAAsBtM,IAOrChF,EAAEqJ,WAAWoI,cAAgBzR,EAAEqJ,WAAWqI,SAC1C1R,EAAEqJ,WAAWqI,SAAW,SAAU9/F,GACjC,GAAIozF,GAAOhF,EAAEqJ,WAAWC,SAAS13F,EAAM0X,QACtCs9E,EAAU5G,EAAEqJ,WAAWG,KAAKxE,EAAM,aAEnC,IAAI4B,GACCA,EAAQvF,UAAUE,UAAayD,EAAKn0E,MAAMiO,QAAUkmE,EAAKgJ,QAC5D,IACChO,EAAEqJ,WAAW8E,kBAAkBnJ,GAC9B,MAAOmC,GACRnH,EAAEE,WAAW51E,IAAI68E,GAKpB,MAAOnH,GAAEqJ,WAAWoI,cAAc7/F,IAMnCouF,EAAEqJ,WAAWsI,gBAAkB3R,EAAEqJ,WAAWuI,WAC5C5R,EAAEqJ,WAAWuI,WAAa,SAAUrgG,GACnC,GAAIyzF,GAAO91F,KAAKo6F,SAAStJ,EAAEzuF,GAAI,IAC9Bu4F,EAAM9E,EAAK+E,KACZ76F,MAAKyiG,gBAAgBpgG,EACrB,IAAIq1F,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC9BuG,qBAAoB3E,EACpB,IAAIx4C,GAAM,GAAI1vC,KACdxP,MAAK2iG,SAAS7M,EAAM52C,GACpB4xC,EAAE,uBAAwB8J,GAAKa,SAMhC3K,EAAEqJ,WAAWyI,6BAA+B,SAAUxoF,GACrD,GAAI07E,GAAO91F,KAAKo6F,SAAShgF,EACzB,IAAK07E,EAAL,CAIA,GAAI4B,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC9BhF,GAAE12E,GAAQ+/E,WAAW,WACjBzC,IACH5B,EAAKyB,SAASnC,gBAAiB,EAC/BsC,EAAQvF,UAAUiD,gBAAiB,EACnCsC,EAAQe,gBAAgB3C,MAI1BhF,EAAEqJ,WAAW0I,4BAA8B,SAAUzoF,GACpD,GAAI07E,GAAO91F,KAAKo6F,SAAShgF,EACzB,IAAK07E,EAAL,CAIA,GAAI4B,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC9BhF,GAAE12E,GAAQ+/E,WAAW,WACjBzC,IACH5B,EAAKyB,SAASnC,gBAAiB,EAC/BsC,EAAQvF,UAAUiD,gBAAiB,EACnCsC,EAAQkC,eAAe9D,GACvB4B,EAAQe,gBAAgB3C,MAO1BhF,EAAEqJ,WAAWwI,SAAW,SAAU7M,EAAMkK,GACvC,GAAItI,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC9B,IAAI4B,EAAS,CACZ,GAAIoL,GAAWpL,EAAQvF,SAGvBuF,GAAQvE,KAAO6M,EAAOA,EAAKzC,WAAauF,EAAS3P,KACjDuE,EAAQtE,OAAS4M,EAAOA,EAAKxC,aAAesF,EAAS1P;AACrDsE,EAAQrE,OAAS2M,EAAOA,EAAKvC,aAAeqF,EAASzP,OACrDqE,EAAQpE,SAAW0M,EAAOA,EAAKtC,kBAAoBoF,EAASxP,SAC5DoE,EAAQnE,SAAWyM,EAAOA,EAAKrC,kBAAoBmF,EAASvP,SAG5DmE,EAAQqC,qBAAqBjE,GAAM,GAEnC4B,EAAQmE,gBACRnE,EAAQe,gBAAgB3C,KAO1BhF,EAAEqJ,WAAW4I,mBAAqB,SAAU3oF,EAAQ4lF,EAAM9F,GACzD,GAAIpE,GAAO91F,KAAKo6F,SAAShgF,EACzB,IAAK07E,EAAL,CAIA,GAAI4B,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAE9B,IAAI4B,EAAS,CACZ13F,KAAKgjG,kBAAkBlN,EACvB,IAAImN,EACAjD,KACiB,gBAATA,IACVtI,EAAQoC,WAAWkG,EAAM9F,GACzB+I,EAAU,GAAIzzF,MACdyzF,EAAQhD,SAASvI,EAAQvE,KAAMuE,EAAQtE,OAAQsE,EAAQrE,OAAQqE,EAAQpE,UACvE2P,EAAQ/C,gBAAgBxI,EAAQnE,YAEhC0P,EAAU,GAAIzzF,MAAKwwF,EAAKvjB,WACxBwmB,EAAQ/C,gBAAgBF,EAAKrC,oBAEH,iBAAvBsF,EAAQjiG,aACXiiG,EAAUp+F,QAEX7E,KAAK2iG,SAAS7M,EAAMmN,OASvBnS,EAAEqJ,WAAW+I,wBAA0BpS,EAAEqJ,WAAWgJ,mBACpDrS,EAAEqJ,WAAWgJ,mBAAqB,SAAU/oF,EAAQ4lF,GACnD,GAAIlK,GAAO91F,KAAKo6F,SAAShgF,EACzB,IAAK07E,EAAL,CAIqB,gBAAX,KACTkK,EAAO,GAAIxwF,MAAKwwF,GACXA,EAAKvjB,WACTqU,EAAEE,WAAW51E,IAAI,2CAInB,IACI6nF,GADAvL,EAAU13F,KAAKs6F,KAAKxE,EAAM,aAE1BkK,aAAgBxwF,OACnByzF,EAAU,GAAIzzF,MAAKwwF,EAAKvjB,WACxBwmB,EAAQ/C,gBAAgBF,EAAKrC,oBAE7BsF,EAAUjD,EAOPtI,GAAWuL,IAETvL,EAAQN,QAAQ5D,UAA2C,OAA/BkE,EAAQvF,UAAUqB,WAClDkE,EAAQlE,SAAWyP,EAAQ5J,qBAAsB,GAElD2G,EAAOlP,EAAEE,WAAWoS,eAAepD,EAAMtI,EAAQlE,UACjDyP,EAAUnS,EAAEE,WAAWoS,eAAeH,EAASvL,EAAQlE,WAGxDxzF,KAAKi/F,kBAAkBnJ,GACvB91F,KAAKkjG,wBAAwB9iG,MAAMJ,KAAMM,WACzCN,KAAK+iG,mBAAmB3oF,EAAQ6oF,GAAS,KAM1CnS,EAAEqJ,WAAWkJ,wBAA0BvS,EAAEqJ,WAAWmJ,mBACpDxS,EAAEqJ,WAAWmJ,mBAAqB,SAAUlpF,EAAQmpF,GACnD,GAAIzN,GAAO91F,KAAKo6F,SAAShgF,EACzB,IAAK07E,EAAL,CAIA,GAAI4B,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAE9B,IAAI4B,EAAS,CAES7yF,SAAjBixF,EAAKgJ,SACR9+F,KAAKgjG,kBAAkBlN,EAAMyN,EAG9B,IAAIvD,GAAOhgG,KAAKsiG,SAASxM,EAgBzB,OAfIkK,IAAQtI,EAAQoC,WAAWhJ,EAAE12E,GAAQwV,MAAO8nE,EAAQrF,YACvD2N,EAAKC,SAASvI,EAAQvE,KAAMuE,EAAQtE,OAAQsE,EAAQrE,OAAQqE,EAAQpE,UACpE0M,EAAKE,gBAAgBxI,EAAQnE,UAKL,MAApBmE,EAAQlE,WAENkE,EAAQN,QAAQ5D,UAA2C,OAA/BkE,EAAQvF,UAAUqB,WAClDkE,EAAQlE,SAAWwM,EAAK3G,qBAAsB,GAE/C2G,EAAOlP,EAAEE,WAAWoS,eAAepD,EAAMtI,EAAQlE,YAG5CwM,EAER,MAAOhgG,MAAKqjG,wBAAwBjpF,EAAQmpF,KAO7CzS,EAAEqJ,WAAWqJ,gBAAkB1S,EAAEqJ,WAAWsJ,UAC5C3S,EAAEqJ,WAAWsJ,UAAY,SAAUlE,EAAQj2F,EAAOiuF,GACjD,GAAIyI,EACJ,KACCA,EAAOhgG,KAAKwjG,gBAAgBjE,EAAQj2F,EAAOiuF,GAC1C,MAAOU,GAIR,KAAIA,EAAIv2F,QAAQ,MAAQ,GAIvB,KAAMu2F,EAHN+H,GAAOhgG,KAAKwjG,gBAAgBjE,EAAQj2F,EAAMkK,UAAU,EAAGlK,EAAM5I,QAAUu3F,EAAIv3F,OAASu3F,EAAIv2F,QAAQ,KAAO,IAAK61F,GAC5GzG,EAAEE,WAAW51E,IAAI,kCAAoC68E,EAAM,mBAAqB3uF,EAAQ,mBAAqBi2F,GAK/G,MAAOS,IAMRlP,EAAEqJ,WAAWuJ,iBAAmB5S,EAAEqJ,WAAWwJ,YAC7C7S,EAAEqJ,WAAWwJ,YAAc,SAAU7N,EAAM8N,EAAKpL,EAAOD,GACtD,GAAIb,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC9B,OAAI4B,IACHA,EAAQe,gBAAgB3C,GACjB4B,EAAQ/B,OAAO/lE,OAEhB5vB,KAAK0jG,iBAAiB5N,IAM9BhF,EAAEqJ,WAAW0J,uBAAyB/S,EAAEqJ,WAAW2J,kBACnDhT,EAAEqJ,WAAW2J,kBAAoB,SAAU1pF,EAAQzV,EAAM2E,GACxD,GACCy6F,GADGjO,EAAO91F,KAAKo6F,SAAShgF,EAEzB,KAAK07E,EACJ,MAAO,KAGR,IAAI4B,GAAU13F,KAAKs6F,KAAKxE,EAAM,aAC9B,IAAI4B,EAAS,CACZ,GAKC0H,GALGrwF,EAAM,KACTR,EAAM,KACNy1F,EAAW,KACXnM,EAAYH,EAAQvF,UAAUkG,MAC9BT,IAED,IAAoB,gBAATjzF,IACV,GAAa,YAATA,GAA+B,gBAATA,EACzBoK,EAAMzF,MACA,IAAa,YAAT3E,GAA+B,gBAATA,EAChC4J,EAAMjF,MACA,IAAa,aAAT3E,EACVq/F,EAAW16F,MACL,IAAIuuF,EAAU/7C,eAAen3C,GAAO,CAC1C,GAAuB,mBAAZ,GACV,MAAOkzF,GAAUlzF,EAElBizF,GAAIjzF,GAAQ2E,EACZy6F,UAEK,IAAoB,gBAATp/F,GAAmB,CAChCA,EAAK80F,QACR1qF,EAAMpK,EAAK80F,QACD90F,EAAKwvF,YACfplF,EAAMpK,EAAKwvF,YACDxvF,EAAK+0F,QACfnrF,EAAM5J,EAAK+0F,QACD/0F,EAAKyvF,cACf7lF,EAAM5J,EAAKyvF,YAEZ,KAAKgL,IAAQvH,GACRA,EAAU/7C,eAAesjD,IAASz6F,EAAKy6F,KAC1CxH,EAAIwH,GAAQz6F,EAAKy6F,IAIpB,IAAKA,IAAQxH,GACRA,EAAI97C,eAAesjD,KACtBvH,EAAUuH,GAAQxH,EAAIwH,GACjB2E,IAAcA,EAAajT,EAAEjsE,UAAWlgB,UACtCo/F,GAAW3E,GAGpB,IAAI2E,GAAcE,cAAcF,GAAe,MAC3Ch1F,IAEFA,EADW,IAARA,EACG,GAAIS,MAEJ,GAAIA,MAAKT,GAEhB2oF,EAAQvF,UAAUsH,QAAU1qF,EAC5B2oF,EAAQvF,UAAUgC,YAAcplF,GACtBR,GAETA,EADW,IAARA,EACG,GAAIiB,MAEJ,GAAIA,MAAKjB,GAEhBmpF,EAAQvF,UAAUuH,QAAUnrF,EAC5BmpF,EAAQvF,UAAUiC,YAAc7lF,GACtBy1F,IACVtM,EAAQvF,UAAUr9B,SAAWkvC,GAG/B,MAAcn/F,UAAVyE,EACItJ,KAAK6jG,uBAAuB5iG,KAAK6vF,EAAEqJ,WAAY//E,EAAQzV,GAExD3E,KAAK6jG,uBAAuB5iG,KAAK6vF,EAAEqJ,WAAY//E,EAAQ2pF,GAAcp/F,EAAM2E,GAOnF,IAAI26F,eAAgB,SAAUnnD,GAC7B,GAAIsiD,EACJ,KAAKA,IAAQtiD,GACZ,GAAIA,EAAIhB,eAAesjD,GACtB,OAAO,CAGT,QAAO,GAMJ5H,aAAe,SAAUp9E,EAAQ88C,GACpC45B,EAAEjsE,OAAOzK,EAAQ88C,EACjB,KAAK,GAAIvyD,KAAQuyD,GACI,OAAhBA,EAAMvyD,IAAkCE,SAAhBqyD,EAAMvyD,KACjCyV,EAAOzV,GAAQuyD,EAAMvyD,GAGvB,OAAOyV,IAOJy+E,cAAgB,SAAUrH,GAC7B,GAAI0S,GAAK1S,EAAWtvF,QAAQ,SAAU,IAAI4K,cACzCq3F,EAAO,SAAUvI,EAAGnlD,GAClB,MAAOmlD,GAAEl6F,QAAQ+0C,MAAO,EAE3B,QACE08C,KAAMgR,EAAKD,EAAI,KACf9Q,OAAQ+Q,EAAKD,EAAI,KACjB7Q,OAAQ8Q,EAAKD,EAAI,KACjB5Q,SAAU6Q,EAAKD,EAAI,KACnB3Q,SAAU4Q,EAAKD,EAAI,KACnB1Q,SAAU2Q,EAAKD,EAAI,KACnBnN,KAAMoN,EAAKD,EAAI,MAAQC,EAAK3S,EAAY,KACxC2H,QAASgL,EAAK3S,EAAY,OAQzB0P,cAAgB,SAAU/N,GAO7B,MANAA,IAAQ,GAEK,IAATA,IACHA,EAAO,IAGDhiB,OAAOgiB,IAGXiR,wBAA0B,SAAU7M,EAAU7c,GACjD,MAAO6c,IAAYA,EAAS7c,GAAY6c,EAAS7c,GAAYoW,EAAEE,WAAWmB,UAAUzX,IAQjF2pB,cAAgB,SAAUxE,EAAgBE,GAG7C,GAAIlL,GAAYuP,wBAAwBrE,EAAc,aACrDR,EAAS6E,wBAAwBrE,EAAc,cAC/CuE,EAAY/E,EAAO39F,MAAMizF,GACzB0P,EAAeD,EAAU5jG,OACzB8jG,EAAW3E,EAAej+F,MAAMizF,GAChC4P,EAAcD,EAAS9jG,MAExB,OAAI+jG,GAAc,GAEhBC,WAAYF,EAASv4F,OAAO,EAAGw4F,EAAcF,GAAcviG,KAAK6yF,GAChEoF,WAAYuK,EAASv4F,OAAO,EAAGs4F,GAAcviG,KAAK6yF,KAKnD6P,WAAY7E,EACZ5F,WAAY,KAUVO,sBAAwB,SAAUoF,EAAYpO,EAAYqO,EAAgBC,EAAcC,GAC3F,GAAIC,GACH1xE,EACAq2E,CAKD,IAHAr2E,EAAQ+1E,cAAcxE,EAAgBE,GACtCC,EAAOlP,EAAEqJ,WAAWqJ,gBAAgB5D,EAAYtxE,EAAMo2E,WAAY5E,GAEzC,KAArBxxE,EAAM2rE,WACT,OACC+F,KAAMA,EAMR,IAFA2E,EAAa7T,EAAEqJ,WAAWQ,UAAUnJ,EAAYljE,EAAM2rE,WAAY8F,IAE7D4E,EACJ,KAAM,mBAGP,QACC3E,KAAMA,EACNtF,QAASiK,IAOPtI,oBAAsB,SAAU3E,EAASsI,GAC5C,GAAItI,GAAWA,EAAQtB,gBAAiB,CACvC,GAAIl3C,GAAM8gD,GAAQ,GAAIxwF,KACtBkoF,GAAQtB,gBAAgBxmE,KAAKsvB,EAAIm6C,sBAOnCvI,GAAEE,WAAa,GAAIE,YAQnBJ,EAAEE,WAAWkI,qBAAuB,SAAU0L,EAAWzL,GACxD,GAAIhjE,MAAMyuE,IAAcA,EAAY,KAAOA,GAAY,IACtD,MAAOA,EAGR,IAAI39D,GAAM29D,EACTC,EAAU59D,EAAM,GAChB69D,GAAS79D,EAAM49D,GAAW,GAC1BE,EAAM5L,EAAU,IAAM,GACtB4I,GAAM96D,GAAO,EAAI,IAAM,MAAQ,IAAM34B,KAAKusB,IAAIiqE,IAAQ/iG,OAAM,GAAMgjG,GAAO,IAAMz2F,KAAKusB,IAAIgqE,IAAU9iG,OAAM,EAEzG,OAAW,WAAPggG,EACI,IAEDA,GAQRjR,EAAEE,WAAWoI,qBAAuB,SAAU4L,GAC7C,GAAIC,GAAaD,EAAShkG,WAAWkB,QAAQ,IAAK,GAElD,OAAiC,MAA7B+iG,EAAWv3E,cACP,EAGH,iBAAiBzV,KAAKgtF,IAIU,MAA5BA,EAAWvnF,OAAO,EAAG,IAAa,EAAK,IACH,GAAxChB,SAASuoF,EAAWvnF,OAAO,EAAG,GAAI,IACpChB,SAASuoF,EAAWvnF,OAAO,EAAG,GAAI,KAL7BsnF,GAcTlU,EAAEE,WAAWoS,eAAiB,SAAUpD,EAAMkF,GAC7C,GAAIC,GAAOrU,EAAEE,WAAWoI,qBAAqB8L,EAI7C,OAHK/uE,OAAMgvE,IACVnF,EAAKoF,WAAWpF,EAAKxC,cAAgBwC,EAAK3G,oBAAsB8L,GAE1DnF,GAYRlP,EAAEE,WAAWqU,UAAY,SAAUC,EAAWC,EAAS5rF,GACtD,MAAOm3E,GAAEE,WAAWwU,YAAY,aAAcF,EAAWC,EAAS5rF,IAanEm3E,EAAEE,WAAWyU,cAAgB,SAAUH,EAAWC,EAAS5rF,GAC1Dm3E,EAAEE,WAAWwU,YAAY,iBAAkBF,EAAWC,EAAS5rF,IAYhEm3E,EAAEE,WAAW0U,UAAY,SAAUJ,EAAWC,EAAS5rF,GACtDm3E,EAAEE,WAAWwU,YAAY,aAAcF,EAAWC,EAAS5rF,IAa5Dm3E,EAAEE,WAAWwU,YAAc,SAAUnjF,EAAQijF,EAAWC,EAAS5rF,GAehE,QAASgsF,GAAWC,EAAS5zB,GAC5B,GAAI6zB,GAAUP,EAAUjjF,GAAQ,WAC/ByjF,EAAQP,EAAQljF,GAAQ,WACxB0jF,EAAYH,EAAQvjF,GAAQ,UAE7B,IAAgB,OAAZwjF,EAAkB,CACrB,GAAIpM,GAAU,GAAIjqF,MAAKq2F,EAAQppB,WAC9Bid,EAAU,GAAIlqF,MAAKq2F,EAAQppB,UAE5Bgd,GAAQuM,gBAAgBvM,EAAQiE,kBAAoB/jF,EAAQssF,aAC5DvM,EAAQsM,gBAAgBtM,EAAQgE,kBAAoB/jF,EAAQusF,aAExDvsF,EAAQssF,YAAc,GAAKxM,EAAUqM,EACxCP,EAAQljF,GAAQ,UAAWo3E,GAEnB9/E,EAAQusF,YAAc,GAAKxM,EAAUoM,EAC7CP,EAAQljF,GAAQ,UAAWq3E,GAEnBmM,EAAUC,GAClB9zB,EAAM3vD,GAAQ,UAAW0jF,IAK5B,QAASlkB,GAAS+jB,EAAS5zB,EAAO7G,GACjC,GAAKy6B,EAAQh2E,MAAb,CAGA,GAAIowE,GAAO4F,EAAQvjF,GAAQphB,KAAK2kG,EAAS,UAC5B,QAAT5F,GAAiBrmF,EAAQssF,YAAc,IAC3B,YAAX96B,GACH60B,EAAKgG,gBAAgBhG,EAAKtC,kBAAoB/jF,EAAQssF,aAExC,YAAX96B,GACH60B,EAAKgG,gBAAgBhG,EAAKtC,kBAAoB/jF,EAAQssF,cAGpDjG,EAAKvjB,SACRzK,EAAM3vD,GAAQphB,KAAK+wE,EAAO,SAAU7G,EAAQ60B,IApD9CrmF,EAAUm3E,EAAEjsE,WACXohF,YAAa,EACbC,YAAa,EACb78F,SACAiC,QACEqO,EAGH,IAAI04E,IAAW,CAsEf,OArEc,eAAXhwE,IACFgwE,GAAW,EACXhwE,EAAS,kBA6CVyuE,EAAEkL,GAAG35E,GAAQphB,KAAKqkG,EAAWxU,EAAEjsE,QAC9BwtE,SAAUA,EACVqG,QAAS,SAAUC,EAAU7C,GAC5B6P,EAAW7U,EAAE9wF,MAAOulG,IAErBzwC,SAAU,SAAUqxC,GACnBtkB,EAASiP,EAAE9wF,MAAOulG,EAAS,aAE1B5rF,EAASA,EAAQtQ,QACpBynF,EAAEkL,GAAG35E,GAAQphB,KAAKskG,EAASzU,EAAEjsE,QAC5BwtE,SAAUA,EACVqG,QAAS,SAAUC,EAAU7C,GAC5B6P,EAAW7U,EAAE9wF,MAAOslG,IAErBxwC,SAAU,SAAUqxC,GACnBtkB,EAASiP,EAAE9wF,MAAOslG,EAAW,aAE5B3rF,EAASA,EAAQrO,MAEpBq6F,EAAWL,EAAWC,GACtB1jB,EAASyjB,EAAWC,EAAS,WAC7B1jB,EAAS0jB,EAASD,EAAW,WACtBxU,GAAGwU,EAAUtnE,IAAI,GAAIunE,EAAQvnE,IAAI,MAQzC8yD,EAAEE,WAAW51E,IAAM,SAAU68E,GACxB53F,OAAOE,SACVF,OAAOE,QAAQ6a,IAAI68E,IAOrBnH,EAAEE,WAAWoV,OACZC,cAAe7O,aACf8O,eAAgBrC,cAChBsC,eAAgBrF,cAChBsF,eAAgB3N,cAChB4N,qBAAsBpK,oBACtBqK,yBAA0BtC,wBAC1BuC,eAAgBtC,cAChBuC,uBAAwBpM,uBAMpBhrF,KAAKzO,UAAU48F,kBACnBnuF,KAAKzO,UAAU8lG,aAAe,EAC9Br3F,KAAKzO,UAAU48F,gBAAkB,WAAc,MAAO39F,MAAK6mG,cAC3Dr3F,KAAKzO,UAAUm/F,gBAAkB,SAAUnjF,GAG1C,MAFA/c,MAAKgmG,gBAAgBhmG,KAAK09F,kBAAoBpvF,KAAKwS,MAAM/D,EAAI,MAC7D/c,KAAK6mG,aAAe9pF,EAAI,IACjB/c,OAOT8wF,EAAEE,WAAWC,QAAU,UAErB6V;CC3oEH,SAAUhW,EAAEzwF,GACV,WAyCA,SAAS0mG,GAAWC,GAClB,MAAsB,gBAARA,GAKhB,QAASC,GAAOzwD,GACd,GAAI3qC,GAAOq7F,EAAIjmG,KAAMX,UAAW,EAEhC,OAAO,YACL,MAAOk2C,GAAKp2C,MAAOJ,KAAM6L,EAAKC,OAAQo7F,EAAIjmG,KAAMX,cAMpD,QAAS6mG,GAAcr/D,GACrB,MAAOA,GAAI5lC,QAASklG,EAAa,MAKnC,QAASC,GAAiBv/D,GACxB,MAAOA,GAAI5lC,QAAS,6BAA8B,MAqGpD,QAASolG,GAAcC,EAAaC,EAAU1/D,EAAK5mC,EAAQumG,GACzD,GAAI/qD,GACFgrD,EACAn6E,EACAo6E,EACAC,CAwDF,OAtDK1mG,KAAW2D,GAMd0oB,EAAUua,EAAIl2B,MAAO21F,EAAcH,EAAc,6BAGjDQ,EAAOr6E,EAAQ,IAAM,GAED,IAAfk6E,GAAoBV,EAAW7lG,GAGlCwmG,EAAKxmG,EAAOgB,QAASqlG,EAAcM,EAAqBC,EAAuB,KAI/EH,EAAaI,EAAYx6E,EAAQ,IAEjCrsB,EAAS6lG,EAAW7lG,GAGhB6mG,EAAYR,EAAcS,EAAeC,GAAmB/mG,GAG5DA,EAEJwmG,EAAoB,IAAfD,EAAmBvmG,EACL,IAAfumG,EAAoB3W,EAAEjsE,UAAY3jB,EAAQymG,GAC1C7W,EAAEjsE,UAAY8iF,EAAYzmG,GAG9BwmG,EAAKQ,EAAiBR,GAKjBH,IACHG,EAAKA,EAAGxlG,QAASimG,EAAcC,KAOnC1rD,EAASnvB,EAAQ,IAAOg6E,EAAcc,EAAkBX,IAAOn6E,EAAQ,GAAK,IAAM,IAAOm6E,EAAKE,GAK9FlrD,EAAS8qD,EAAU1/D,IAAQjjC,EAAYijC,EAAM1xB,SAAS0gE,MAGjDp6B,EA+RT,QAAS4rD,GAAgBf,EAAagB,EAAeC,GAWnD,MAVKD,KAAkB1jG,GAAsC,iBAAlB0jG,IAEzCC,EAASD,EACTA,EAAgBE,EAAUlB,EAAcS,EAAeC,MAEvDM,EAAgBxB,EAAWwB,GACvBA,EAAcrmG,QAASqlG,EAAcM,EAAqBC,EAAuB,IACjFS,EAGCR,EAAYQ,EAAeC,GA6HpC,QAASE,GAAWpkG,EAAMqkG,EAAYznG,EAAQumG,GAQ5C,MAPMV,GAAW7lG,IAA8B,gBAAXA,KAElCumG,EAAavmG,EACbA,EAASynG,EACTA,EAAa9jG,GAGR7E,KAAK28F,KAAK,WACf,GAAInkB,GAAOsY,EAAE9wF,MAGXo7C,EAAOutD,GAAcC,KAAoB5oG,KAAK6oG,UAAY,IAAK/7F,gBAAmB,GAGlFg7B,EAAMsT,GAAQo9B,EAAKp9B,KAAMA,IAAU,EAGrCo9B,GAAKp9B,KAAMA,EAAMqtD,EAAUnkG,GAAQwjC,EAAK5mC,EAAQumG,MAxpBpD,GAAI5iG,GAMFqjG,EACAY,EACAf,EACAgB,EAEAC,EACAC,EACAL,EAaAf,EACAT,EACAe,EAEAe,EACAb,EA9BAnB,EAAMz8F,MAAM1J,UAAUgB,MACtBqmG,EAASe,mBAGTV,EAAW3X,EAAEvuE,MAKb6mF,EAAStY,EAAEuY,IAAMvY,EAAEuY,QAInBC,EAAUxY,EAAEpuF,MAAM4mG,QAGlBC,EAAiB,aACjBtB,EAAkB,cAClBD,EAAe,WACfwB,EAAkB,cAClBC,EAAW,OACXC,EAAU,MAGV5B,EAAwB,cASxB6B,IAgMFlB,GAAUR,GAAqChB,EAAOK,EAAc,EAAGD,GACvEoB,EAAUT,GAAiBc,EAAoB7B,EAAOK,EAAc,EAAGH,GA+BvEsB,EAASmB,OAAS1B,EAAkB,SAAUr7F,EAAGg9F,GAC/C,GAAIjvE,MACFkiB,IAcF,OAZAg0C,GAAE6L,KAAM8L,EAAU57F,EAAGg9F,GAAcjoG,MAAO,KAAO,SAAST,EAAEorC,GAC1D,GAAIvnC,GAAMunC,EAAErqC,QAAS,eAAgB,IACnC4nG,EAAUhtD,EAAK93C,EAEX8kG,KACJA,EAAUhtD,EAAK93C,MACf41B,EAAIr5B,KAAMyD,IAGZ8kG,EAAQvoG,KAAMgrC,KAGTukD,EAAEvkF,IAAKquB,EAAI7mB,OAAQ,SAASw4B,GACjC,MAAOuQ,GAAKvQ,KACXvqC,KAAM,MA+BX8mG,EAAkB/8F,SAAW,SAAUwf,GACrCA,EAAQA,GAAS,EACjB,IAAIqP,GAAMk2D,EAAEvkF,IAAKgf,EAAM3pB,MAAM,IAAKmoG,mBAClC5B,GAAe,GAAIhwF,QAAQyiB,EAAI54B,KAAK,KAAM,MAK5C8mG,EAAkB/8F,SAAU,MAkB5B+8F,EAAkBkB,cAAgB,SAAUjgG,GAc1C,MAbKA,KAAUlF,IACRkF,GACH89F,EAAqB,cACrBT,EAAc,yBACdiB,EAAkB,OAElBR,EAAqB,OACrBT,EAAc,kBACdiB,EAAkB,KAEpBa,IAAmBn/F,GAGdm/F,GAGTJ,EAAkBkB,cAAe,GAwBjClZ,EAAEmZ,QAAUlC,EAAa,SAAU7mG,EAAQsnG,GACzC,GAAI1rD,MACFotD,GAAiBC,MAAQ,EAAIC,OAAS,EAAIC,KAAQ,KAuFpD,OApFAvZ,GAAE6L,KAAMz7F,EAAOgB,QAAS,MAAO,KAAMN,MAAO,KAAO,SAASkQ,EAAEy6B,GAC5D,GAEE3c,GAFErN,EAAQgqB,EAAE3qC,MAAO,KACnBoD,EAAMojG,EAAQ7lF,EAAM,IAEpB+nF,EAAMxtD,EACN37C,EAAI,EAIJkL,EAAOrH,EAAIpD,MAAO,MAClB2oG,EAAYl+F,EAAK3L,OAAS,CAmB5B,IAfK,KAAKuX,KAAM5L,EAAK,KAAQ,MAAM4L,KAAM5L,EAAMk+F,KAE7Cl+F,EAAMk+F,GAAcl+F,EAAMk+F,GAAYroG,QAAS,MAAO,IAItDmK,EAAOA,EAAKnB,QAAQtJ,MAAM,KAAKkK,OAAQO,GAEvCk+F,EAAYl+F,EAAK3L,OAAS,GAG1B6pG,EAAY,EAIQ,IAAjBhoF,EAAM7hB,OAWT,GAVAkvB,EAAMw4E,EAAQ7lF,EAAM,IAGfimF,IACH54E,EAAMA,IAAQuG,MAAMvG,IAAmBA,EAC3B,cAARA,EAAkC/qB,EAClCqlG,EAAat6E,KAAS/qB,EAAYqlG,EAAat6E,GAC/CA,GAGD26E,EAUH,KAAQppG,GAAKopG,EAAWppG,IACtB6D,EAAkB,KAAZqH,EAAKlL,GAAYmpG,EAAI5pG,OAAS2L,EAAKlL,GACzCmpG,EAAMA,EAAItlG,GAAO7D,EAAIopG,EACjBD,EAAItlG,KAAUqH,EAAKlL,EAAE,IAAMg1B,MAAO9pB,EAAKlL,EAAE,WACzCyuB,MAODkhE,GAAEvlF,QAASuxC,EAAI93C,IAElB83C,EAAI93C,GAAKzD,KAAMquB,GAELktB,EAAI93C,KAASH,EAGvBi4C,EAAI93C,IAAS83C,EAAI93C,GAAM4qB,GAIvBktB,EAAI93C,GAAO4qB,MAIL5qB,KAEV83C,EAAI93C,GAAOwjG,EACP3jG,EACA,MAIDi4C,GA6DTirD,EAAYE,GAAuChB,EAAOqB,EAAgB,GAC1EP,EAAYC,GAAiBe,EAAsB9B,EAAOqB,EAAgB,GAwC1ExX,EAAG0Y,KAAsB1Y,EAAG0Y,GAAoB,SAAU1sD,GACxD,MAAOg0C,GAAEjsE,OAAQ8kF,EAAmB7sD,MAEpCjwC,EAAG48F,EACH3nG,KAAM2nG,EACN/c,OAAQgd,EACR7kB,IAAK6kB,EACL/nF,MAAO+nF,EACP9kB,KAAM,SACNhO,KAAM6yB,EACNxuD,OAAQyuD,IAGVd,EAAiB9X,EAAG0Y,GA2FpB1Y,EAAEkL,GAAIiM,GAAoBhB,EAAOyB,EAAWT,GAC5CnX,EAAEkL,GAAIgM,GAAoBf,EAAOyB,EAAWV,GA0C5CoB,EAAOv+F,UAAYm+F,EAAmB,SAAU9nG,EAAQumG,GACjDV,EAAW7lG,IAAY,KAAK+W,KAAM/W,IAAYumG,IAAe5iG,IAGhE4iG,EAAa,EAGf,IAAI+C,GAAWtpG,IAAW2D,EAExBijC,EAAMghE,EAAmB1yF,SAAS0gE,KAChC0zB,EAAWtpG,KAAaspG,EAAW/C,EAAa,EAIpDrxF,UAAS0gE,KAAOhvC,GA0BlBshE,EAAOz4F,SAAWs4F,EAAkB,SAAUjkG,EAAKwjG,GACjD,MAAOxjG,KAAQH,GAA4B,iBAARG,GAC/B+jG,EAAqB/jG,GACrB+jG,EAAqBP,GAAUxjG,IAgCrCokG,EAAOqB,YAAc,SAAU7vE,GAC7B,GAAI7wB,KAGC6wB,KAAQ/1B,IAGXkF,EAAQk/F,IAIRnY,EAAE6L,KAAM7L,EAAEvlF,QAASqvB,GAAQA,EAAMt6B,UAAW,SAASa,EAAEorC,SAC9CxiC,GAAOwiC,MAKlBy8D,EAAkBj/F,EAAO,IAmD3Bu/F,EAASC,GAAmBzY,EAAEjsE,OAAQykF,EAASC,IAK7C7kG,IAAK,SAAUgmG,GAGb,QAASC,GAAYz8F,GAGnB,GAAI05F,GAAO15F,EAAG85F,GAAiBc,GAI/B56F,GAAEyC,SAAW,SAAU3L,EAAKwjG,GAC1B,MAAOxjG,KAAQH,GAA4B,iBAARG,GAC/B+iG,EAAYH,EAAM5iG,GAClB+iG,EAAYH,EAAMY,GAAUxjG,IAGlC4lG,EAAYxqG,MAAOJ,KAAMM,WAf3B,GAAIsqG,EAoBJ,OAAK9Z,GAAEsH,WAAYsS,IAEjBE,EAAcF,EACPC,IAGPC,EAAcF,EAAUrsC,aACxBqsC,EAAUrsC,QAAUssC,QAMzB7D,OAAO9mG,MAyFV,SAAU8wF,EAAEzwF,EAAOwE,GACjB,WAkBA,SAASsiG,GAAcr/D,GAErB,MADAA,GAAMA,GAAO1xB,SAAS0gE,KACf,IAAMhvC,EAAI5lC,QAAS,gBAAiB,MAjB7C,GAIE2oG,GAJEtB,EAAiB,aAGnB7lG,EAAML,SAENimG,EAAUxY,EAAEpuF,MAAM4mG,QAKlBwB,EAAWpnG,EAAIqnG,aACfC,EAAwB,KAAOzB,IAAkBlpG,KAAYyqG,IAAajmG,GAAaimG,EAAW,EAmCpGha,GAAEkL,GAAIuN,GAAmB,SAAUvN,GACjC,MAAOA,GAAKh8F,KAAKiE,KAAMslG,EAAgBvN,GAAOh8F,KAAKw5F,QAAS+P,IAsC9DzY,EAAEkL,GAAIuN,GAAiB7xC,MAAQ,GAmD/B4xC,EAASC,GAAmBzY,EAAEjsE,OAAQykF,EAASC,IAG7Cx3B,MAAO,WAEL,OAAKi5B,OAKLla,GAAG+Z,EAAkBxhG,QAIvB4hG,SAAU,WAER,OAAKD,OAGLla,GAAG+Z,EAAkB36F,SASzB26F,EAAoB,WAyBlB,QAASK,KACP,GAAItD,GAAOT,IACTgE,EAAeC,EAAaC,EAEzBzD,KAASyD,GACZC,EAAaD,EAAYzD,EAAMuD,GAE/Bra,EAAEzwF,GAAQm5F,QAAS+P,IAET4B,IAAiBE,IAC3Bj1F,SAAS0gE,KAAO1gE,SAAS0gE,KAAK50E,QAAS,MAAO,IAAOipG,GAGvDI,EAAaz7F,WAAYo7F,EAAMpa,EAAEkL,GAAIuN,GAAiB7xC,OArCxD,GACE6zC,GADEl8F,KAIFg8F,EAAYlE,IAEZqE,EAAY,SAAS57E,GAAM,MAAOA,IAClC07E,EAAcE,EACdJ,EAAcI,CAgChB,OA7BAn8F,GAAKhG,MAAQ,WACXkiG,GAAcL,KAIhB77F,EAAKa,KAAO,WACVq7F,GAAc76F,aAAc66F,GAC5BA,EAAa1mG,GAsBRwK,MAGRy3F,OAAO9mG;ACnpCV8mG,OAAO2E,OAAe,OAAI3E,OAAO2E,OAAc,MAE/C3E,OAAOjiF,OAAQiiF,OAAO2E,QAErBC,IAAK,cACLC,MAAO,SAAU3/F,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAE5B,MAAO8qC,QAAO2E,OAAO3E,OAAO2E,OAAOC,KAAK1/F,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,IAErD4vC,WAAY,SAAU5/F,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACjC,MAAOxiD,IAAGi9B,GAAGulB,GAAGvlB,EAAIziC,GAErB63F,YAAa,SAAU7/F,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAClC,OAAQxiD,GAAIi9B,GAAGulB,IAAIvlB,EAAE,GAAKziC,GAE3B83F,cAAe,SAAU9/F,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACpC,OAAKvlB,GAAGulB,EAAE,GAAK,EAAUxiD,EAAE,EAAEi9B,EAAEA,EAAIziC,GAC3BwF,EAAE,KAAQi9B,GAAIA,EAAE,GAAK,GAAKziC,GAEnC+3F,YAAa,SAAU//F,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAClC,MAAOxiD,IAAGi9B,GAAGulB,GAAGvlB,EAAEA,EAAIziC,GAEvBg4F,aAAc,SAAUhgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACnC,MAAOxiD,KAAIi9B,EAAEA,EAAEulB,EAAE,GAAGvlB,EAAEA,EAAI,GAAKziC,GAEhCi4F,eAAgB,SAAUjgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACrC,OAAKvlB,GAAGulB,EAAE,GAAK,EAAUxiD,EAAE,EAAEi9B,EAAEA,EAAEA,EAAIziC,EAC9BwF,EAAE,IAAIi9B,GAAG,GAAGA,EAAEA,EAAI,GAAKziC,GAE/Bk4F,YAAa,SAAUlgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAClC,MAAOxiD,IAAGi9B,GAAGulB,GAAGvlB,EAAEA,EAAEA,EAAIziC,GAEzBm4F,aAAc,SAAUngG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACnC,OAAQxiD,IAAMi9B,EAAEA,EAAEulB,EAAE,GAAGvlB,EAAEA,EAAEA,EAAI,GAAKziC,GAErCo4F,eAAgB,SAAUpgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACrC,OAAKvlB,GAAGulB,EAAE,GAAK,EAAUxiD,EAAE,EAAEi9B,EAAEA,EAAEA,EAAEA,EAAIziC,GAC/BwF,EAAE,IAAMi9B,GAAG,GAAGA,EAAEA,EAAEA,EAAI,GAAKziC,GAEpCq4F,YAAa,SAAUrgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAClC,MAAOxiD,IAAGi9B,GAAGulB,GAAGvlB,EAAEA,EAAEA,EAAEA,EAAIziC,GAE3Bs4F,aAAc,SAAUtgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACnC,MAAOxiD,KAAIi9B,EAAEA,EAAEulB,EAAE,GAAGvlB,EAAEA,EAAEA,EAAEA,EAAI,GAAKziC,GAEpCu4F,eAAgB,SAAUvgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACrC,OAAKvlB,GAAGulB,EAAE,GAAK,EAAUxiD,EAAE,EAAEi9B,EAAEA,EAAEA,EAAEA,EAAEA,EAAIziC,EAClCwF,EAAE,IAAIi9B,GAAG,GAAGA,EAAEA,EAAEA,EAAEA,EAAI,GAAKziC,GAEnCw4F,WAAY,SAAUxgG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACjC,OAAQxiD,EAAIlL,KAAKm+F,IAAIh2D,EAAEulB,GAAK1tD,KAAKo+F,GAAG,IAAMlzF,EAAIxF,GAE/C24F,YAAa,SAAU3gG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAClC,MAAOxiD,GAAIlL,KAAKs+F,IAAIn2D,EAAEulB,GAAK1tD,KAAKo+F,GAAG,IAAM14F,GAE1C64F,cAAe,SAAU7gG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACpC,OAAQxiD,EAAE,GAAKlL,KAAKm+F,IAAIn+F,KAAKo+F,GAAGj2D,EAAEulB,GAAK,GAAKhoD,GAE7C84F,WAAY,SAAU9gG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACjC,MAAW,IAAHvlB,EAAQziC,EAAIwF,EAAIlL,KAAKsoC,IAAI,EAAG,IAAMH,EAAEulB,EAAI,IAAMhoD,GAEvD+4F,YAAa,SAAU/gG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAClC,MAAQvlB,IAAGulB,EAAKhoD,EAAEwF,EAAIA,IAAMlL,KAAKsoC,IAAI,GAAG,GAAMH,EAAEulB,GAAK,GAAKhoD,GAE3Dg5F,cAAe,SAAUhhG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACpC,MAAO,IAAHvlB,EAAaziC,EACbyiC,GAAGulB,EAAUhoD,EAAEwF,GACdi9B,GAAGulB,EAAE,GAAK,EAAUxiD,EAAE,EAAIlL,KAAKsoC,IAAI,EAAG,IAAMH,EAAI,IAAMziC,EACpDwF,EAAE,IAAMlL,KAAKsoC,IAAI,GAAG,KAAQH,GAAK,GAAKziC,GAE9Ci5F,WAAY,SAAUjhG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACjC,OAAQxiD,GAAKlL,KAAKk1C,KAAK,GAAK/M,GAAGulB,GAAGvlB,GAAK,GAAKziC,GAE7Ck5F,YAAa,SAAUlhG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GAClC,MAAOxiD,GAAIlL,KAAKk1C,KAAK,GAAK/M,EAAEA,EAAEulB,EAAE,GAAGvlB,GAAKziC,GAEzCm5F,cAAe,SAAUnhG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACpC,OAAKvlB,GAAGulB,EAAE,GAAK,GAAWxiD,EAAE,GAAKlL,KAAKk1C,KAAK,EAAI/M,EAAEA,GAAK,GAAKziC,EACpDwF,EAAE,GAAKlL,KAAKk1C,KAAK,GAAK/M,GAAG,GAAGA,GAAK,GAAKziC,GAE9Co5F,cAAe,SAAUphG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACpC,GAAIvzB,GAAE,QAAYpkB,EAAE,EAAMxX,EAAE2M,CAC5B,IAAO,GAAHi9B,EAAM,MAAOziC,EAAI,IAAY,IAAPyiC,GAAGulB,GAAO,MAAOhoD,GAAEwF,CAC7C,IADsD6K,IAAGA,EAAI,GAAF23C,GACvDnvD,EAAIyB,KAAKusB,IAAIrhB,GAAI,CAAE3M,EAAE2M,CAAG,IAAIivB,GAAEpkB,EAAE,MAC/B,IAAIokB,GAAIpkB,GAAG,EAAE/V,KAAKo+F,IAAMp+F,KAAK++F,KAAM7zF,EAAE3M,EAC1C,SAASA,EAAEyB,KAAKsoC,IAAI,EAAE,IAAIH,GAAG,IAAMnoC,KAAKs+F,KAAMn2D,EAAEulB,EAAEvzB,IAAI,EAAEn6B,KAAKo+F,IAAIroF,IAAOrQ,GAEzEs5F,eAAgB,SAAUthG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACrC,GAAIvzB,GAAE,QAAYpkB,EAAE,EAAMxX,EAAE2M,CAC5B,IAAO,GAAHi9B,EAAM,MAAOziC,EAAI,IAAY,IAAPyiC,GAAGulB,GAAO,MAAOhoD,GAAEwF,CAC7C,IADsD6K,IAAGA,EAAI,GAAF23C,GACvDnvD,EAAIyB,KAAKusB,IAAIrhB,GAAI,CAAE3M,EAAE2M,CAAG,IAAIivB,GAAEpkB,EAAE,MAC/B,IAAIokB,GAAIpkB,GAAG,EAAE/V,KAAKo+F,IAAMp+F,KAAK++F,KAAM7zF,EAAE3M,EAC1C,OAAOA,GAAEyB,KAAKsoC,IAAI,GAAE,GAAIH,GAAKnoC,KAAKs+F,KAAMn2D,EAAEulB,EAAEvzB,IAAI,EAAEn6B,KAAKo+F,IAAIroF,GAAM7K,EAAIxF,GAEtEu5F,iBAAkB,SAAUvhG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACvC,GAAIvzB,GAAE,QAAYpkB,EAAE,EAAMxX,EAAE2M,CAC5B,IAAO,GAAHi9B,EAAM,MAAOziC,EAAI,IAAc,IAATyiC,GAAGulB,EAAE,GAAO,MAAOhoD,GAAEwF,CAC/C,IADwD6K,IAAGA,EAAE23C,GAAG,GAAG,MAC/DnvD,EAAIyB,KAAKusB,IAAIrhB,GAAI,CAAE3M,EAAE2M,CAAG,IAAIivB,GAAEpkB,EAAE,MAC/B,IAAIokB,GAAIpkB,GAAG,EAAE/V,KAAKo+F,IAAMp+F,KAAK++F,KAAM7zF,EAAE3M,EAC1C,OAAI4pC,GAAI,GAAU,IAAK5pC,EAAEyB,KAAKsoC,IAAI,EAAE,IAAIH,GAAG,IAAMnoC,KAAKs+F,KAAMn2D,EAAEulB,EAAEvzB,IAAI,EAAEn6B,KAAKo+F,IAAIroF,IAAOrQ,EAC/EnH,EAAEyB,KAAKsoC,IAAI,GAAE,IAAKH,GAAG,IAAMnoC,KAAKs+F,KAAMn2D,EAAEulB,EAAEvzB,IAAI,EAAEn6B,KAAKo+F,IAAIroF,GAAI,GAAK7K,EAAIxF,GAE9Ew5F,WAAY,SAAUxhG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,EAAGvzB,GAEpC,MADS5jC,SAAL4jC,IAAgBA,EAAI,SACjBjvB,GAAGi9B,GAAGulB,GAAGvlB,IAAIhO,EAAE,GAAGgO,EAAIhO,GAAKz0B,GAEnCy5F,YAAa,SAAUzhG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,EAAGvzB,GAErC,MADS5jC,SAAL4jC,IAAgBA,EAAI,SACjBjvB,IAAIi9B,EAAEA,EAAEulB,EAAE,GAAGvlB,IAAIhO,EAAE,GAAGgO,EAAIhO,GAAK,GAAKz0B,GAE5C05F,cAAe,SAAU1hG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,EAAGvzB,GAEvC,MADS5jC,SAAL4jC,IAAgBA,EAAI,UACnBgO,GAAGulB,EAAE,GAAK,EAAUxiD,EAAE,GAAGi9B,EAAEA,KAAKhO,GAAG,OAAS,GAAGgO,EAAIhO,IAAMz0B,EACvDwF,EAAE,IAAIi9B,GAAG,GAAGA,KAAKhO,GAAG,OAAS,GAAGgO,EAAIhO,GAAK,GAAKz0B,GAEtD25F,aAAc,SAAU3hG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACnC,MAAOxiD,GAAIstF,OAAO2E,OAAOmC,cAAe5hG,EAAGgwD,EAAEvlB,EAAG,EAAGj9B,EAAGwiD,GAAKhoD,GAE5D45F,cAAe,SAAU5hG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACpC,OAAKvlB,GAAGulB,GAAM,EAAE,KACRxiD,GAAG,OAAOi9B,EAAEA,GAAKziC,EACdyiC,EAAK,EAAE,KACVj9B,GAAG,QAAQi9B,GAAI,IAAI,MAAOA,EAAI,KAAOziC,EAClCyiC,EAAK,IAAI,KACZj9B,GAAG,QAAQi9B,GAAI,KAAK,MAAOA,EAAI,OAASziC,EAExCwF,GAAG,QAAQi9B,GAAI,MAAM,MAAOA,EAAI,SAAWziC,GAGpD65F,gBAAiB,SAAU7hG,EAAGyqC,EAAGziC,EAAGwF,EAAGwiD,GACtC,MAAIvlB,GAAIulB,EAAE,EAAyD,GAA/C8qC,OAAO2E,OAAOkC,aAAc3hG,EAAK,EAAFyqC,EAAK,EAAGj9B,EAAGwiD,GAAUhoD,EACf,GAAlD8yF,OAAO2E,OAAOmC,cAAe5hG,EAAK,EAAFyqC,EAAIulB,EAAG,EAAGxiD,EAAGwiD,GAAY,GAAFxiD,EAAOxF;CC7JvE,SAAW88E,GAET,YAEAA,GAAEkL,GAAG8R,QAAU,SAAUn0F,GACvB,GAAI49E,IACFwW,eAAgB,KAChBz9E,OAAQ,KAGV,KAAIjtB,SAASC,eAAe,kBAAmB,CAE7C,GAAIilC,GAAOllC,SAASklC,MAAQllC,SAAS23C,qBAAqB,QAAQ,GAC9Du+C,EAAM,mOACNjO,EAAMjoF,SAASqlC,cAAc,MACjC4iD,GAAIznF,UAAY,sCAAwC01F,EAAM,WAC9DhxD,EAAKI,YAAY2iD,EAAItkC,WAAW,IAOlC,MAJKrtC,IACHm3E,EAAEjsE,OAAQ0yE,EAAU59E,GAGf3Z,KAAK28F,KAAK,WACf,GAAIqR,IACF,kCACA,6BACA,sCACA,oDACA,SACA,QAGEzW,GAASwW,gBACXC,EAAUzsG,KAAKg2F,EAASwW,eAG1B,IAAIE,GAAa,gBAEd1W,GAASjnE,SACV29E,EAAaA,EAAa,KAAO1W,EAASjnE,OAG5C,IAAI49E,GAAapd,EAAE9wF,MAAM4sB,KAAKohF,EAAUhsG,KAAK,KAC7CksG,GAAaA,EAAWC,IAAI,iBAC5BD,EAAaA,EAAWC,IAAIF,GAE5BC,EAAWvR,KAAK,WACd,GAAIyR,GAAQtd,EAAE9wF,KACd,MAAGouG,EAAMC,QAAQJ,GAAYvtG,OAAS,GAGH,UAA/BV,KAAK+oF,QAAQj8E,eAA6BshG,EAAMvhD,OAAO,UAAUnsD,QAAU0tG,EAAMvhD,OAAO,8BAA8BnsD,QAA1H,CACM0tG,EAAM7U,IAAI,WAAc6U,EAAM7U,IAAI,WAAcpjE,MAAMi4E,EAAMhzD,KAAK,aAAcjlB,MAAMi4E,EAAMhzD,KAAK,YAEpGgzD,EAAMhzD,KAAK,SAAU,GACrBgzD,EAAMhzD,KAAK,QAAS,IAEtB,IAAIzP,GAA0C,WAA/B3rC,KAAK+oF,QAAQj8E,eAA+BshG,EAAMhzD,KAAK,YAAcjlB,MAAMzZ,SAAS0xF,EAAMhzD,KAAK,UAAW,KAAU1+B,SAAS0xF,EAAMhzD,KAAK,UAAW,IAAMgzD,EAAMziE,SAC1K7U,EAASX,MAAMzZ,SAAS0xF,EAAMhzD,KAAK,SAAU,KAA2CgzD,EAAMt3E,QAA1Cpa,SAAS0xF,EAAMhzD,KAAK,SAAU,IAClFkzD,EAAc3iE,EAAS7U,CAC3B,KAAIs3E,EAAMhzD,KAAK,MAAM,CACnB,GAAImzD,GAAU,SAAWjgG,KAAKwS,MAAoB,OAAdxS,KAAKkgG,SACzCJ,GAAMhzD,KAAK,KAAMmzD,GAEnBH,EAAM5/E,KAAK,iDAAiDq+B,OAAO,8BAA8B0sC,IAAI,cAA8B,IAAd+U,EAAmB,KACxIF,EAAMK,WAAW,UAAUA,WAAW,gBAK1CpuG,OAAOymG,QAAUzmG,OAAOquG;AClF5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/FA,WAEC,GAAIC,YAAatuG,OAAO+V,SAASqzD,SAASvnE,QAAQ,mBAAoB,IACrE0sG,UAAYD,WAAWzsG,QAAQ,cAAe,OAC9CkwD,KAAO/xD,OAAO+V,SAASozD,SAAW,KAAOnpE,OAAO+V,SAASg8C,KAE1Dy8C,KACCC,aAAc,gBAAkBzuG,SAAkC,OAAxBA,OAAO0uG,cAGlD9rG,QAEC+rG,OAAS,oBAAsB3uG,SAAU4uG,iBAAmB,GAAO,cAAgB5uG,SAAU6uG,WAAW,2BAA2B3hF,QAEnIjc,OAAO,EAEPm6F,OAAQ,iBAER0D,OACCC,MAAOh9C,KAAOu8C,WACd7sG,KAAMswD,KAAOw8C,UACbS,cAAeT,UACfU,OAAO,GAGRC,mBACCC,MAAO,wBACP7iB,MAAO,yBAGR8iB,aAAc,KAEdC,UAAW,MAAM,UAAU,SAAS,OAAO,OAAO,WAAW,UAAU,QAAQ,SAE/EC,UAECC,UAAU,EAEVC,YAAa,KAEbC,YAAa,KAEbz0B,YACC00B,SAAc,cACdC,cAAkB,eAClBC,oBAAuB,QACvBC,qBAAuB,SACvBC,SACCC,eAAgB,aAQpBC,SAECC,gBAAiB,SAASj9F,GACzBA,EAAMA,EAAIvG,cAAc5K,QAAQ,YAAa,KAAKA,QAAQ,QAAS,GAEnE,I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,GAAOrP,KACV21J,GAAiB,CAElBh3C,GACE/xF,KAAK,gCACLqa,IAAI,SACJ9iC,GAAG,aAAc,WACjBwxJ,GAAiB,IAGnBh3C,EACE/xF,KAAK,kCACLqa,IAAI,SACJ9iC,GAAG,aAAc,WACbwxJ,GAAkBtmJ,EAAKqjG,UAAU2T,aAAaqoB,aAAar/H,EAAKwlG,SAASr0E,QAAQ,IAAMnxB,EAAKqjG,UAAU2T,aAAar8B,QAAU,gCAexIuwB,IAAMpG,SAEN9zG,OAAOu1J,MAAQp7C;ACzopBhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;C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","file":"console_0.22.24.min.js","sourcesContent":["/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m=\"2.1.1\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return\"object\"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,\"isPrototypeOf\")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=l.createElement(\"script\"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C=\"undefined\",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",O=N.replace(\"w\",\"w#\"),P=\"\\\\[\"+M+\"*(\"+N+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+O+\"))|)\"+M+\"*\\\\]\",Q=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+P+\")*)|.*)\\\\)|)\",R=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),S=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),T=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),U=new RegExp(\"=\"+M+\"*([^\\\\]'\\\"]*?)\"+M+\"*\\\\]\",\"g\"),V=new RegExp(Q),W=new RegExp(\"^\"+O+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N.replace(\"w\",\"w*\")+\")\"),ATTR:new RegExp(\"^\"+P),PSEUDO:new RegExp(\"^\"+Q),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+L+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,$=/^[^{]+\\{\\s*\\[native \\w/,_=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ab=/[+~]/,bb=/'|\\\\/g,cb=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+M+\"?|(\"+M+\")|.)\",\"ig\"),db=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||\"string\"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&\"object\"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(\"id\"))?s=r.replace(bb,\"\\\\$&\"):b.setAttribute(\"id\",s),s=\"[id='\"+s+\"'] \",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(\",\")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(\"id\")}}}return i(a.replace(R,\"$1\"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split(\"|\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener(\"unload\",function(){m()},!1):g.attachEvent&&g.attachEvent(\"onunload\",function(){m()})),c.attributes=ib(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML=\"<div class='a'></div><div class='a i'></div>\",a.firstChild.className=\"i\",2===a.getElementsByClassName(\"i\").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML=\"<select msallowclip=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowclip^='']\").length&&q.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+M+\"*(?:value|\"+L+\")\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\")}),ib(function(a){var b=e.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+M+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",Q)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,\"='$1']\"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||\"\").replace(cb,db),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+M+\")\"+a+\"(\"+M+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,\"$1\"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||\"\")||fb.error(\"unsupported lang: \"+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(R,\"$1\"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q=\"0\",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG(\"*\",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ib(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||jb(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||jb(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute(\"disabled\")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,w=/^.[^:#\\[\\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,\"string\"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if(\"string\"==typeof a){if(c=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?\"undefined\"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?\"string\"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return n.dir(a,\"parentNode\",c)},next:function(a){return D(a,\"nextSibling\")},prev:function(a){return D(a,\"previousSibling\")},nextAll:function(a){return n.dir(a,\"nextSibling\")},prevAll:function(a){return n.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return n.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return n.dir(a,\"previousSibling\",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);\"function\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\"string\"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler(\"ready\"),n(l).off(\"ready\"))))}});function I(){l.removeEventListener(\"DOMContentLoaded\",I,!1),a.removeEventListener(\"load\",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),\"complete\"===l.readyState?setTimeout(n.ready):(l.addEventListener(\"DOMContentLoaded\",I,!1),a.addEventListener(\"load\",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if(\"string\"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(O,\"-$1\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)\n},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf(\"-\")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){L.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=L.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,R=[\"Top\",\"Right\",\"Bottom\",\"Left\"],S=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement(\"div\")),c=l.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U=\"undefined\";k.focusinBubbles=\"onfocusin\"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,\"events\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,\"type\")?b.type:b,r=j.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(\".\")>=0&&(r=q.split(\".\"),q=r.shift(),r.sort()),k=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join(\".\"),b.namespace_re=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,\"events\")||{})[b.type]&&L.get(g,\"handle\"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\"click\"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||\"click\"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if(\"object\"==typeof a){\"string\"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\"string\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\"function\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,bb=/<([\\w:]+)/,cb=/<|&#?\\w+;/,db=/<(?:script|style|link)/i,eb=/checked\\s*(?:[^=]|=\\s*.checked.)/i,fb=/^$|\\/(?:java|ecma)script/i,gb=/^true\\/(.*)/,hb=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,ib={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function kb(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],\"globalEval\",!b||L.get(b[c],\"globalEval\"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&T.test(a.type)?b.checked=a.checked:(\"input\"===c||\"textarea\"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,\"script\"),g.length>0&&mb(g,!i&&ob(a,\"script\")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if(\"object\"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement(\"div\")),g=(bb.exec(e)||[\"\",\"\"])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,\"<$1></$2>\")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=\"\"}else l.push(b.createTextNode(e));k.textContent=\"\",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),\"script\"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||\"\")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,\"script\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=a.replace(ab,\"<$1></$2>\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&\"string\"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,\"script\"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,\"script\"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||\"\")&&!L.access(h,\"globalEval\")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,\"\")))}return this}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],\"display\");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),\"none\"!==c&&c||(qb=(qb||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp(\"^(\"+Q+\")(?!px)[a-z%]+$\",\"i\"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(\"\"!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+\"\":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement(\"div\"),f=l.createElement(\"div\");if(f.style){f.style.backgroundClip=\"content-box\",f.cloneNode(!0).style.backgroundClip=\"\",k.clearCloneStyle=\"content-box\"===f.style.backgroundClip,e.style.cssText=\"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute\",e.appendChild(f);function g(){f.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute\",f.innerHTML=\"\",d.appendChild(e);var g=a.getComputedStyle(f,null);b=\"1%\"!==g.top,c=\"4px\"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement(\"div\"));return c.style.cssText=f.style.cssText=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",f.style.width=\"1px\",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp(\"^(\"+Q+\")(.*)$\",\"i\"),Bb=new RegExp(\"^([+-])=(\"+Q+\")\",\"i\"),Cb={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Db={letterSpacing:\"0\",fontWeight:\"400\"},Eb=[\"Webkit\",\"O\",\"Moz\",\"ms\"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\"px\"):b}function Hb(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+R[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+R[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+R[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+R[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+R[f]+\"Width\",!0,e)));return g}function Ib(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&S(d)&&(f[g]=L.access(d,\"olddisplay\",tb(d.nodeName)))):(e=S(d),\"none\"===c&&e||L.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f=\"number\"),null!=c&&c===c&&(\"number\"!==f||n.cssNumber[h]||(c+=\"px\"),k.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),\"normal\"===e&&b in Db&&(e=Db[b]),\"\"===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,\"display\"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:\"inline-block\"},xb,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\"swing\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp(\"^(?:([+-])=|)(\"+Q+\")([a-z%]*)$\",\"i\"),Pb=/queueHooks$/,Qb=[Vb],Rb={\"*\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?\"\":\"px\"),g=(n.cssNumber[a]||\"px\"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\".5\",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?L.get(a,\"olddisplay\")||tb(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?tb(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=L.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.split(\" \");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=L.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb(\"show\"),slideUp:Tb(\"hide\"),slideToggle:Tb(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||\"fx\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement(\"input\"),b=l.createElement(\"select\"),c=b.appendChild(l.createElement(\"option\"));a.type=\"checkbox\",k.checkOn=\"\"!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",k.radioValue=\"t\"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&\"get\"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&\"set\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\"\"),c):void n.removeAttr(a,b))\n},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{\"for\":\"htmlFor\",\"class\":\"className\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute(\"tabindex\")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\\t\\r\\n\\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\" \")){f=0;while(e=b[f++])d.indexOf(\" \"+e+\" \")<0&&(d+=e+\" \");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\"\")){f=0;while(e=b[f++])while(d.indexOf(\" \"+e+\" \")>=0)d=d.replace(\" \"+e+\" \",\" \");g=a?n.trim(d):\"\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\"string\"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||\"boolean\"===c)&&(this.className&&L.set(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":L.get(this,\"__className__\")||\"\")})},hasClass:function(a){for(var b=\" \"+a+\" \",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\" \"+this[c].className+\" \").replace(ac,\" \").indexOf(b)>=0)return!0;return!1}});var bc=/\\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(bc,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(\"disabled\"))||c.parentNode.disabled&&n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)}});var cc=n.now(),dc=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(a){var b,c;if(!a||\"string\"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,\"text/xml\")}catch(d){b=void 0}return(!b||b.getElementsByTagName(\"parsererror\").length)&&n.error(\"Invalid XML: \"+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\\/\\//,mc=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,nc={},oc={},pc=\"*/\".concat(\"*\");try{fc=location.href}catch(qc){fc=l.createElement(\"a\"),fc.href=\"\",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:\"GET\",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":pc,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){\"object\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks(\"once memory\"),q=k.statusCode||{},r={},s={},t=0,u=\"canceled\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+\"\").replace(gc,\"\").replace(lc,ec[1]+\"//\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||\"*\").toLowerCase().match(E)||[\"\"],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||(\"http:\"===h[1]?\"80\":\"443\"))===(ec[3]||(\"http:\"===ec[1]?\"80\":\"443\")))),k.data&&k.processData&&\"string\"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger(\"ajaxStart\"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?\"&\":\"?\")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,\"$1_=\"+cc++):d+(dc.test(d)?\"&\":\"?\")+\"_=\"+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader(\"If-Modified-Since\",n.lastModified[d]),n.etag[d]&&v.setRequestHeader(\"If-None-Match\",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\"Content-Type\",k.contentType),v.setRequestHeader(\"Accept\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\"*\"!==k.dataTypes[0]?\", \"+pc+\"; q=0.01\":\"\"):k.accepts[\"*\"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\"abort\";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger(\"ajaxSend\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\"timeout\")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\"No Transport\");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||\"\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[d]=w),w=v.getResponseHeader(\"etag\"),w&&(n.etag[d]=w)),204===a||\"HEAD\"===k.type?x=\"nocontent\":304===a?x=\"notmodified\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\"error\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\"\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?\"ajaxSuccess\":\"ajaxError\",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger(\"ajaxComplete\",[v,k]),--n.active||n.event.trigger(\"ajaxStop\")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\\[\\]$/,yc=/\\r?\\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+\"[\"+(\"object\"==typeof e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Bc(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join(\"&\").replace(wc,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,\"\\r\\n\")}}):{name:b.name,value:c.replace(yc,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on(\"unload\",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&\"withCredentials\"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\"X-Requested-With\"]||(c[\"X-Requested-With\"]=\"XMLHttpRequest\");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,\"abort\"===a?f.abort():\"error\"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,\"string\"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b(\"error\"),b=Dc[g]=b(\"abort\");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/(?:java|ecma)script/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n(\"<script>\").prop({async:!0,charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&e(\"error\"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Gc.pop()||n.expando+\"_\"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?\"url\":\"string\"==typeof b.data&&!(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Hc.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,\"$1\"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e,dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,\"html\")&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(b,c){var d=\"pageYOffset\"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});","/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */\njQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn(\"JQMIGRATE: \"+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log(\"JQMIGRATE: Logging is active\"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},\"BackCompat\"===document.compatMode&&r(\"jQuery is not compatible with Quirks Mode\");var o=e(\"<input/>\",{size:1}).attr(\"size\")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,\"attrFn\",o||{},\"jQuery.attrFn is deprecated\"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r(\"jQuery.fn.attr( props, pass ) is deprecated\"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):(\"type\"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r(\"Can't change the 'type' of an input or button in IE 6/7/8\"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||\"boolean\"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r(\"jQuery.fn.attr('\"+c+\"') may use property instead of attribute\")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||\"\").toLowerCase();return\"button\"===n?u.apply(this,arguments):(\"input\"!==n&&\"option\"!==n&&r(\"jQuery.fn.attr('value') no longer gets properties\"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||\"\").toLowerCase();return\"button\"===a?c.apply(this,arguments):(\"input\"!==a&&\"option\"!==a&&r(\"jQuery.fn.attr('value', val) no longer sets properties\"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\\w\\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&\"string\"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&(\"<\"!==t.charAt(0)&&r(\"$(html) HTML strings must start with '<' character\"),i[3]&&r(\"$(html) HTML text after last tag is ignored\"),\"#\"===i[0].charAt(0)&&(r(\"HTML string cannot start with a '#' character\"),e.error(\"JQMIGRATE: Invalid selector string (XSS)\")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r(\"jQuery.parseJSON requires a valid JSON string\"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(e)||/(msie) ([\\w.]+)/.exec(e)||0>e.indexOf(\"compatible\")&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(e)||[];return{browser:t[1]||\"\",version:t[2]||\"0\"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,\"browser\",e.browser,\"jQuery.browser is deprecated\"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r(\"jQuery.sub() is deprecated\"),t},e.ajaxSetup({converters:{\"text json\":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||\"events\"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r(\"Use of jQuery.fn.data('events') is deprecated\"),i)};var j=/\\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r(\"jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r(\"jQuery.clean() is deprecated\");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,\"script\")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName(\"script\")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S=\"ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess\",C=RegExp(\"\\\\b(?:\"+S+\")\\\\b\"),H=/(?:^|\\s)hover(\\.\\S+|)\\b/,A=function(t){return\"string\"!=typeof t||e.event.special.hover?t:(H.test(t)&&r(\"'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'\"),t&&t.replace(H,\"mouseenter$1 mouseleave$1\"))};e.event.props&&\"attrChange\"!==e.event.props[0]&&e.event.props.unshift(\"attrChange\",\"attrName\",\"relatedNode\",\"srcElement\"),e.event.dispatch&&a(e.event,\"handle\",e.event.dispatch,\"jQuery.event.handle is undocumented and deprecated\"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r(\"AJAX events should be attached to document: \"+t),Q.call(this,e,A(t||\"\"),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||\"\",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r(\"jQuery.fn.error() is deprecated\"),e.splice(0,0,\"error\"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r(\"jQuery.fn.toggle(handler, handler...) is deprecated\");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,\"lastToggle\"+t.guid)||0)%o;return e._data(this,\"lastToggle\"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r(\"jQuery.fn.live() is deprecated\"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r(\"jQuery.fn.die() is deprecated\"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||\"**\",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r(\"Global events are undocumented and deprecated\"),k.call(this,e,t,n||document,a)},e.each(S.split(\"|\"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+\".\"+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+\".\"+e._data(this,n)),!1}}})}(jQuery,window);","/*! jQuery UI - v1.10.4 - 2014-06-26\n* http://jqueryui.com\n* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.autocomplete.js, jquery.ui.datepicker.js, jquery.ui.menu.js, jquery.ui.slider.js\n* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */\n\n(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return\"area\"===r?(s=t.parentNode,a=s.name,t.href&&a&&\"map\"===s.nodeName.toLowerCase()?(o=e(\"img[usemap=#\"+a+\"]\")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:\"a\"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return\"hidden\"===e.css(this,\"visibility\")}).length}var s=0,a=/^ui-id-\\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:\"1.10.4\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return\"number\"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css(\"position\"))||/absolute/.test(this.css(\"position\"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,\"position\"))&&/(auto|scroll)/.test(e.css(this,\"overflow\")+e.css(this,\"overflow-y\")+e.css(this,\"overflow-x\"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,\"overflow\")+e.css(this,\"overflow-y\")+e.css(this,\"overflow-x\"))}).eq(0),/fixed/.test(this.css(\"position\"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css(\"zIndex\",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css(\"position\"),(\"absolute\"===n||\"relative\"===n||\"fixed\"===n)&&(s=parseInt(a.css(\"zIndex\"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id=\"ui-id-\"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr(\"id\")})}}),e.extend(e.expr[\":\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,\"tabindex\")))},tabbable:function(t){var n=e.attr(t,\"tabindex\"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e(\"<a>\").outerWidth(1).jquery||e.each([\"Width\",\"Height\"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,\"padding\"+this))||0,n&&(i-=parseFloat(e.css(t,\"border\"+this+\"Width\"))||0),s&&(i-=parseFloat(e.css(t,\"margin\"+this))||0)}),i}var a=\"Width\"===n?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn[\"inner\"+n]=function(i){return i===t?r[\"inner\"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+\"px\")})},e.fn[\"outer\"+n]=function(t,i){return\"number\"!=typeof t?r[\"outer\"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+\"px\")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e(\"<a>\").data(\"a-b\",\"a\").removeData(\"a-b\").data(\"a-b\")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart=\"onselectstart\"in document.createElement(\"div\"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?\"selectstart\":\"mousedown\")+\".ui-disableSelection\",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(\".ui-disableSelection\")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if(\"hidden\"===e(t).css(\"overflow\"))return!1;var n=i&&\"left\"===i?\"scrollLeft\":\"scrollTop\",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler(\"remove\")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(\".\")[0];i=i.split(\".\")[1],o=c+\"-\"+i,n||(n=s,s=t.Widget),t.expr[\":\"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+\".\"+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r=\"string\"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&\"_\"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error(\"no such method '\"+a+\"' for \"+i+\" widget instance\"):t.error(\"cannot call methods on \"+i+\" prior to initialization; \"+\"attempted to call method '\"+a+\"'\")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace=\".\"+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger(\"create\",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(\"aria-disabled\").removeClass(this.widgetFullName+\"-disabled \"+\"ui-state-disabled\"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if(\"string\"==typeof i)if(r={},n=i.split(\".\"),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,\"disabled\"===t&&(this.widget().toggleClass(this.widgetFullName+\"-disabled ui-state-disabled\",!!e).attr(\"aria-disabled\",e),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")),this},enable:function(){return this._setOption(\"disabled\",!1)},disable:function(){return this._setOption(\"disabled\",!0)},_on:function(i,s,n){var o,a=this;\"boolean\"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass(\"ui-state-disabled\")?(\"string\"==typeof r?a[r]:r).apply(a,arguments):e}\"string\"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\\w+)\\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return(\"string\"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass(\"ui-state-hover\")},mouseleave:function(e){t(e.currentTarget).removeClass(\"ui-state-hover\")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass(\"ui-state-focus\")},focusout:function(e){t(e.currentTarget).removeClass(\"ui-state-focus\")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:\"fadeIn\",hide:\"fadeOut\"},function(e,i){t.Widget.prototype[\"_\"+e]=function(s,n,o){\"string\"==typeof n&&(n={effect:n});var a,r=n?n===!0||\"number\"==typeof n?i:n.effect||i:e;n=n||{},\"number\"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget(\"ui.mouse\",{version:\"1.10.4\",options:{cancel:\"input,textarea,button,select,option\",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind(\"mousedown.\"+this.widgetName,function(t){return e._mouseDown(t)}).bind(\"click.\"+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+\".preventClickEvent\")?(t.removeData(i.target,e.widgetName+\".preventClickEvent\"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\".\"+this.widgetName),this._mouseMoveDelegate&&t(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a=\"string\"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+\".preventClickEvent\")&&t.removeData(i.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).bind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,d=/^\\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t(\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\"),o=n.children()[0];return t(\"body\").append(n),i=o.offsetWidth,n.css(\"overflow\",\"scroll\"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-x\"),s=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-y\"),n=\"scroll\"===i||\"auto\"===i&&e.width<e.element[0].scrollWidth,a=\"scroll\"===s||\"auto\"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),w=(e.collision||\"flip\").split(\" \"),D={};return _=n(b),b[0].preventDefault&&(e.at=\"left top\"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each([\"my\",\"at\"],function(){var t,i,s=(e[this]||\"\").split(\" \");1===s.length&&(s=h.test(s[0])?s.concat([\"center\"]):c.test(s[0])?[\"center\"].concat(s):[\"center\",\"center\"]),s[0]=h.test(s[0])?s[0]:\"center\",s[1]=c.test(s[1])?s[1]:\"center\",t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),\"right\"===e.at[0]?v.left+=p:\"center\"===e.at[0]&&(v.left+=p/2),\"bottom\"===e.at[1]?v.top+=g:\"center\"===e.at[1]&&(v.top+=g/2),a=i(D.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,\"marginLeft\"),_=s(this,\"marginTop\"),x=u+f+s(this,\"marginRight\")+k.width,C=d+_+s(this,\"marginBottom\")+k.height,M=t.extend({},v),T=i(D.my,c.outerWidth(),c.outerHeight());\"right\"===e.my[0]?M.left-=u:\"center\"===e.my[0]&&(M.left-=u/2),\"bottom\"===e.my[1]?M.top-=d:\"center\"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),n={marginLeft:f,marginTop:_},t.each([\"left\",\"top\"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[a[0]+T[0],a[1]+T[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,s=i+p-u,n=m.top-M.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>s?\"left\":i>0?\"right\":\"center\",vertical:0>a?\"top\":n>0?\"bottom\":\"middle\"};u>p&&p>r(i+s)&&(l.horizontal=\"center\"),d>g&&g>r(n+a)&&(l.vertical=\"middle\"),l.important=o(r(i),r(s))>o(r(n),r(a))?\"horizontal\":\"vertical\",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d=\"left\"===e.my[0]?-e.elemWidth:\"right\"===e.my[0]?e.elemWidth:0,p=\"left\"===e.at[0]?e.targetWidth:\"right\"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d=\"top\"===e.my[1],p=d?-e.elemHeight:\"bottom\"===e.my[1]?e.elemHeight:0,f=\"top\"===e.at[1]?e.targetHeight:\"bottom\"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName(\"body\")[0],r=document.createElement(\"div\");e=document.createElement(o?\"div\":\"body\"),s={visibility:\"hidden\",width:0,height:0,border:0,margin:0,background:\"none\"},o&&t.extend(s,{position:\"absolute\",left:\"-1000px\",top:\"-1000px\"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText=\"position: absolute; left: 10.7432222px;\",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML=\"\",i.removeChild(e)}()})(jQuery);(function(t){t.widget(\"ui.draggable\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\"original\"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css(\"position\"))||(this.element[0].style.position=\"relative\"),this.options.addClasses&&this.element.addClass(\"ui-draggable\"),this.options.disabled&&this.element.addClass(\"ui-draggable-disabled\"),this._mouseInit()},_destroy:function(){this.element.removeClass(\"ui-draggable ui-draggable-dragging ui-draggable-disabled\"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(\".ui-resizable-handle\").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?\"iframe\":i.iframeFix).each(function(){t(\"<div class='ui-draggable-iframeFix' style='background: #fff;'></div>\").css({width:this.offsetWidth+\"px\",height:this.offsetHeight+\"px\",position:\"absolute\",opacity:\"0.001\",zIndex:1e3}).css(t(this).offset()).appendTo(\"body\")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass(\"ui-draggable-dragging\"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css(\"position\"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger(\"start\",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(\"fixed\"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(\"absolute\"),!i){var s=this._uiHash();if(this._trigger(\"drag\",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),\"original\"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?(\"invalid\"===this.options.revert&&!s||\"valid\"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger(\"stop\",e)!==!1&&i._clear()}):this._trigger(\"stop\",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t(\"div.ui-draggable-iframeFix\").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(\".ui-draggable-dragging\")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):\"clone\"===i.helper?this.element.clone().removeAttr(\"id\"):this.element;return s.parents(\"body\").length||s.appendTo(\"parent\"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css(\"position\"))||s.css(\"position\",\"absolute\"),s},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?\"window\"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):\"document\"===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):(\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=\"hidden\"!==i.css(\"overflow\"),this.containment=[(parseInt(i.css(\"borderLeftWidth\"),10)||0)+(parseInt(i.css(\"paddingLeft\"),10)||0),(parseInt(i.css(\"borderTopWidth\"),10)||0)+(parseInt(i.css(\"paddingTop\"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css(\"borderRightWidth\"),10)||0)-(parseInt(i.css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css(\"borderBottomWidth\"),10)||0)-(parseInt(i.css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s=\"absolute\"===e?1:-1,n=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass(\"ui-draggable-dragging\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),\"drag\"===e&&(this.positionAbs=this._convertPositionTo(\"absolute\")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(e,i){var s=t(this).data(\"ui-draggable\"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,\"ui-sortable\");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger(\"activate\",e,a))})},stop:function(e,i){var s=t(this).data(\"ui-draggable\"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,\"original\"===s.options.helper&&this.instance.currentItem.css({top:\"auto\",left:\"auto\"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger(\"deactivate\",e,n))})},drag:function(e,i){var s=t(this).data(\"ui-draggable\"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr(\"id\").appendTo(this.instance.element).data(\"ui-sortable-item\",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger(\"toSortable\",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger(\"out\",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger(\"fromSortable\",e),s.dropped=!1)})}}),t.ui.plugin.add(\"draggable\",\"cursor\",{start:function(){var e=t(\"body\"),i=t(this).data(\"ui-draggable\").options;e.css(\"cursor\")&&(i._cursor=e.css(\"cursor\")),e.css(\"cursor\",i.cursor)},stop:function(){var e=t(this).data(\"ui-draggable\").options;e._cursor&&t(\"body\").css(\"cursor\",e._cursor)}}),t.ui.plugin.add(\"draggable\",\"opacity\",{start:function(e,i){var s=t(i.helper),n=t(this).data(\"ui-draggable\").options;s.css(\"opacity\")&&(n._opacity=s.css(\"opacity\")),s.css(\"opacity\",n.opacity)},stop:function(e,i){var s=t(this).data(\"ui-draggable\").options;s._opacity&&t(i.helper).css(\"opacity\",s._opacity)}}),t.ui.plugin.add(\"draggable\",\"scroll\",{start:function(){var e=t(this).data(\"ui-draggable\");e.scrollParent[0]!==document&&\"HTML\"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data(\"ui-draggable\"),s=i.options,n=!1;i.scrollParent[0]!==document&&\"HTML\"!==i.scrollParent[0].tagName?(s.axis&&\"x\"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&\"y\"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&\"x\"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&\"y\"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add(\"draggable\",\"snap\",{start:function(){var e=t(this).data(\"ui-draggable\"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||\":data(ui-draggable)\":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data(\"ui-draggable\"),g=p.options,f=g.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-f>_||m>l+f||h-f>b||v>c+f||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):(\"inner\"!==g.snapMode&&(s=f>=Math.abs(h-b),n=f>=Math.abs(c-v),a=f>=Math.abs(r-_),o=f>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo(\"relative\",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo(\"relative\",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,\"outer\"!==g.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(c-b),a=f>=Math.abs(r-m),o=f>=Math.abs(l-_),s&&(i.position.top=p._convertPositionTo(\"relative\",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo(\"relative\",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo(\"relative\",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add(\"draggable\",\"stack\",{start:function(){var e,i=this.data(\"ui-draggable\").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css(\"zIndex\"),10)||0)-(parseInt(t(i).css(\"zIndex\"),10)||0)});s.length&&(e=parseInt(t(s[0]).css(\"zIndex\"),10)||0,t(s).each(function(i){t(this).css(\"zIndex\",e+i)}),this.css(\"zIndex\",e+s.length))}}),t.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(e,i){var s=t(i.helper),n=t(this).data(\"ui-draggable\").options;s.css(\"zIndex\")&&(n._zIndex=s.css(\"zIndex\")),s.css(\"zIndex\",n.zIndex)},stop:function(e,i){var s=t(this).data(\"ui-draggable\").options;s._zIndex&&t(i.helper).css(\"zIndex\",s._zIndex)}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}t.widget(\"ui.droppable\",{version:\"1.10.4\",widgetEventPrefix:\"drop\",options:{accept:\"*\",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:\"default\",tolerance:\"intersect\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],undefined):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass(\"ui-droppable\")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass(\"ui-droppable ui-droppable-disabled\")},_setOption:function(e,i){\"accept\"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger(\"activate\",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger(\"deactivate\",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger(\"over\",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"out\",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function(){var e=t.data(this,\"ui-droppable\");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):undefined}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"drop\",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case\"fit\":return o>=c&&d>=l&&r>=u&&p>=h;case\"intersect\":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case\"pointer\":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case\"touch\":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(\":data(ui-droppable)\").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible=\"none\"!==a[s].element.css(\"display\"),a[s].visible&&(\"mousedown\"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil(\"body\").bind(\"scroll.droppable\",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?\"isout\":o&&!this.isover?\"isover\":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(\":data(ui-droppable)\").filter(function(){return t.data(this,\"ui-droppable\").options.scope===n}),a.length&&(s=t.data(a[0],\"ui-droppable\"),s.greedyChild=\"isover\"===r)),s&&\"isover\"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this[\"isout\"===r?\"isover\":\"isout\"]=!1,this[\"isover\"===r?\"_over\":\"_out\"].call(this,i),s&&\"isout\"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil(\"body\").unbind(\"scroll.droppable\"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}})(jQuery);(function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget(\"ui.resizable\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass(\"ui-resizable\"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"ui-resizable\",this.element.data(\"ui-resizable\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\"marginLeft\"),marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css({margin:this.originalElement.css(\"margin\")}),this._proportionallyResize()),this.handles=r.handles||(t(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\"),this.handles.constructor===String)for(\"all\"===this.handles&&(this.handles=\"n,e,s,w,se,sw,ne,nw\"),e=this.handles.split(\",\"),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a=\"ui-resizable-\"+s,n=t(\"<div class='ui-resizable-handle \"+a+\"'></div>\"),n.css({zIndex:r.zIndex}),\"se\"===s&&n.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\"),this.handles[s]=\".ui-resizable-\"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\"),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(\".ui-resizable-handle\",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:\"se\")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass(\"ui-resizable-autohide\").mouseenter(function(){r.disabled||(t(this).removeClass(\"ui-resizable-autohide\"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass(\"ui-resizable-autohide\"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\").removeData(\"resizable\").removeData(\"ui-resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css(\"position\"),width:e.outerWidth(),height:e.outerHeight(),top:e.css(\"top\"),left:e.css(\"left\")}).insertAfter(e),e.remove()),this.originalElement.css(\"resize\",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css(\"position\"))?h.css({position:\"absolute\",top:h.css(\"top\"),left:h.css(\"left\")}):h.is(\".ui-draggable\")&&h.css({position:\"absolute\",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css(\"left\")),n=e(this.helper.css(\"top\")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio=\"number\"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(\".ui-resizable-\"+this.axis).css(\"cursor\"),t(\"body\").css(\"cursor\",\"auto\"===a?this.axis+\"-resize\":a),h.addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate(\"resize\",e),this.position.top!==r&&(n.top=this.position.top+\"px\"),this.position.left!==h&&(n.left=this.position.left+\"px\"),this.size.width!==l&&(n.width=this.size.width+\"px\"),this.size.height!==c&&(n.height=this.size.height+\"px\"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger(\"resize\",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],\"left\")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css(\"left\"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css(\"top\"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t(\"body\").css(\"cursor\",\"auto\"),this.element.removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),\"sw\"===n&&(t.left=e.left+(s.width-t.width),t.top=null),\"nw\"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),a&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css(\"borderTopWidth\"),n.css(\"borderRightWidth\"),n.css(\"borderBottomWidth\"),n.css(\"borderLeftWidth\")],s=[n.css(\"paddingTop\"),n.css(\"paddingRight\"),n.css(\"paddingBottom\"),n.css(\"paddingLeft\")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t(\"<div style='overflow:hidden;'></div>\"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++i.zIndex}),this.helper.appendTo(\"body\").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),\"resize\"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add(\"resizable\",\"animate\",{stop:function(e){var i=t(this).data(\"ui-resizable\"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],\"left\")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css(\"left\"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css(\"top\"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css(\"width\"),10),height:parseInt(i.element.css(\"height\"),10),top:parseInt(i.element.css(\"top\"),10),left:parseInt(i.element.css(\"left\"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate(\"resize\",e)}})}}),t.ui.plugin.add(\"resizable\",\"containment\",{start:function(){var i,s,n,a,o,r,h,l=t(this).data(\"ui-resizable\"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(t,n){s[t]=e(i.css(\"padding\"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=t.ui.hasScroll(p,\"left\")?p.scrollWidth:o,h=t.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,a,o=t(this).data(\"ui-resizable\"),r=o.options,h=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css(\"position\"))&&(u=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css(\"position\")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data(\"ui-resizable-alsoresize\",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css(\"left\"),10),top:parseInt(e.css(\"top\"),10)})})};\"object\"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data(\"ui-resizable\"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data(\"ui-resizable-alsoresize\"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};\"object\"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData(\"resizable-alsoresize\")}}),t.ui.plugin.add(\"resizable\",\"ghost\",{start:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass(\"ui-resizable-ghost\").addClass(\"string\"==typeof i.ghost?i.ghost:\"\"),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data(\"ui-resizable\");e.ghost&&e.ghost.css({position:\"relative\",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data(\"ui-resizable\");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add(\"resizable\",\"grid\",{resize:function(){var e=t(this).data(\"ui-resizable\"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r=\"number\"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-l>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=h,e.position.left=a.left+n.width-h))}})})(jQuery);(function(t){t.widget(\"ui.selectable\",t.ui.mouse,{version:\"1.10.4\",options:{appendTo:\"body\",autoRefresh:!0,distance:0,filter:\"*\",tolerance:\"touch\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass(\"ui-selectable\"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass(\"ui-selectee\"),e.each(function(){var e=t(this),i=e.offset();t.data(this,\"selectable-item\",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass(\"ui-selected\"),selecting:e.hasClass(\"ui-selecting\"),unselecting:e.hasClass(\"ui-unselecting\")})})},this.refresh(),this.selectees=e.addClass(\"ui-selectee\"),this._mouseInit(),this.helper=t(\"<div class='ui-selectable-helper'></div>\")},_destroy:function(){this.selectees.removeClass(\"ui-selectee\").removeData(\"selectable-item\"),this.element.removeClass(\"ui-selectable ui-selectable-disabled\"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger(\"start\",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(\".ui-selected\").each(function(){var s=t.data(this,\"selectable-item\");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass(\"ui-selected\"),s.selected=!1,s.$element.addClass(\"ui-unselecting\"),s.unselecting=!0,i._trigger(\"unselecting\",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,\"selectable-item\");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass(\"ui-selected\"),n.$element.removeClass(s?\"ui-unselecting\":\"ui-selected\").addClass(s?\"ui-selecting\":\"ui-unselecting\"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger(\"selecting\",e,{selecting:n.element}):i._trigger(\"unselecting\",e,{unselecting:n.element}),!1):undefined}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,\"selectable-item\"),h=!1;i&&i.element!==s.element[0]&&(\"touch\"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):\"fit\"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass(\"ui-selected\"),i.selected=!1),i.unselecting&&(i.$element.removeClass(\"ui-unselecting\"),i.unselecting=!1),i.selecting||(i.$element.addClass(\"ui-selecting\"),i.selecting=!0,s._trigger(\"selecting\",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.$element.addClass(\"ui-selected\"),i.selected=!0):(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.startselected&&(i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0),s._trigger(\"unselecting\",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass(\"ui-selected\"),i.selected=!1,i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0,s._trigger(\"unselecting\",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(\".ui-unselecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");s.$element.removeClass(\"ui-unselecting\"),s.unselecting=!1,s.startselected=!1,i._trigger(\"unselected\",e,{unselected:s.element})}),t(\".ui-selecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");s.$element.removeClass(\"ui-selecting\").addClass(\"ui-selected\"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger(\"selected\",e,{selected:s.element})}),this._trigger(\"stop\",e),this.helper.remove(),!1}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css(\"float\"))||/inline|table-cell/.test(t.css(\"display\"))}t.widget(\"ui.sortable\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"sort\",ready:!1,options:{appendTo:\"parent\",axis:!1,connectWith:!1,containment:!1,cursor:\"auto\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\"original\",items:\"> *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass(\"ui-sortable\"),this.refresh(),this.floating=this.items.length?\"x\"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass(\"ui-sortable ui-sortable-disabled\"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+\"-item\");return this},_setOption:function(e,i){\"disabled\"===e?(this.options[e]=i,this.widget().toggleClass(\"ui-sortable-disabled\",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||\"static\"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+\"-item\")===o?(s=t(this),!1):undefined}),t.data(e.target,o.widgetName+\"-item\")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find(\"*\").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&\"auto\"!==a.cursor&&(o=this.document.find(\"body\"),this.storedCursor=o.css(\"cursor\"),o.css(\"cursor\",a.cursor),this.storedStylesheet=t(\"<style>*{ cursor: \"+a.cursor+\" !important; }</style>\").appendTo(o)),a.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",a.opacity)),a.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",a.zIndex)),this.scrollParent[0]!==document&&\"HTML\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger(\"activate\",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass(\"ui-sortable-helper\"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&\"HTML\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo(\"absolute\"),this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?\"next\":\"prev\"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&(\"semi-dynamic\"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?\"down\":\"up\",\"pointer\"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger(\"change\",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger(\"sort\",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&\"x\"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&\"y\"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),\"original\"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger(\"deactivate\",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger(\"out\",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\"original\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||\"id\")||\"\").match(e.expression||/(.+)[\\-=_](.+)/);i&&s.push((e.key||i[1]+\"[]\")+\"=\"+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+\"=\"),s.join(\"&\")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||\"id\")||\"\")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u=\"x\"===this.options.axis||s+l>r&&h>s+l,d=\"y\"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return\"pointer\"===this.options.tolerance||this.options.forcePointerForContainers||\"pointer\"!==this.options.tolerance&&this.helperProportions[this.floating?\"width\":\"height\"]>t[this.floating?\"width\":\"height\"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i=\"x\"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s=\"y\"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&\"right\"===a||\"down\"===o?2:1:o&&(\"down\"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?\"right\"===o&&s||\"left\"===o&&!s:n&&(\"down\"===n&&i||\"up\"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?\"right\":\"left\")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+\"-item\",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t(\"<\"+s+\">\",e.document[0]).addClass(i||e.currentItem[0].className+\" ui-sortable-placeholder\").removeClass(\"ui-sortable-helper\");return\"tr\"===s?e.currentItem.children().each(function(){t(\"<td>&#160;</td>\",e.document[0]).attr(\"colspan\",t(this).attr(\"colspan\")||1).appendTo(n)}):\"img\"===s&&n.attr(\"src\",e.currentItem.attr(\"src\")),i||n.css(\"visibility\",\"hidden\"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css(\"paddingTop\")||0,10)-parseInt(e.currentItem.css(\"paddingBottom\")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css(\"paddingLeft\")||0,10)-parseInt(e.currentItem.css(\"paddingRight\")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger(\"out\",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger(\"over\",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?\"left\":\"top\",l=p?\"width\":\"height\",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?\"up\":\"down\"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger(\"change\",s,this._uiHash()),this.containers[g]._trigger(\"change\",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger(\"over\",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):\"clone\"===i.helper?this.currentItem.clone():this.currentItem;return s.parents(\"body\").length||t(\"parent\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),(\"document\"===n.containment||\"window\"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(\"document\"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t(\"document\"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s=\"hidden\"!==t(e).css(\"overflow\"),this.containment=[i.left+(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)+(parseInt(t(e).css(\"paddingLeft\"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css(\"borderTopWidth\"),10)||0)+(parseInt(t(e).css(\"paddingTop\"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)-(parseInt(t(e).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css(\"borderTopWidth\"),10)||0)-(parseInt(t(e).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s=\"absolute\"===e?1:-1,n=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return\"relative\"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],\"down\"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)(\"auto\"===this._storedCSS[s]||\"static\"===this._storedCSS[s])&&(this._storedCSS[s]=\"\");this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger(\"receive\",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\".ui-sortable-helper\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger(\"update\",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger(\"remove\",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger(\"receive\",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger(\"update\",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i(\"deactivate\",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i(\"out\",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find(\"body\").css(\"cursor\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",\"auto\"===this._storedZIndex?\"\":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger(\"beforeStop\",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger(\"stop\",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger(\"beforeStop\",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger(\"stop\",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);(function(e){e.widget(\"ui.autocomplete\",{version:\"1.10.4\",defaultElement:\"<input>\",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a=\"textarea\"===n,o=\"input\"===n;this.isMultiLine=a?!0:o?!1:this.element.prop(\"isContentEditable\"),this.valueMethod=this.element[a||o?\"val\":\"text\"],this.isNewMenu=!0,this.element.addClass(\"ui-autocomplete-input\").attr(\"autocomplete\",\"off\"),this._on(this.element,{keydown:function(n){if(this.element.prop(\"readOnly\"))return t=!0,s=!0,i=!0,undefined;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move(\"previousPage\",n);break;case a.PAGE_DOWN:t=!0,this._move(\"nextPage\",n);break;case a.UP:t=!0,this._keyEvent(\"previous\",n);break;case a.DOWN:t=!0,this._keyEvent(\"next\",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(\":visible\")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(\":visible\"))&&s.preventDefault(),undefined;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move(\"previousPage\",s);break;case n.PAGE_DOWN:this._move(\"nextPage\",s);break;case n.UP:this._keyEvent(\"previous\",s);break;case n.DOWN:this._keyEvent(\"next\",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=e(\"<ul>\").addClass(\"ui-autocomplete ui-front\").appendTo(this._appendTo()).menu({role:null}).hide().data(\"ui-menu\"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(\".ui-menu-item\").length||this._delay(function(){var t=this;this.document.one(\"mousedown\",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one(\"mousemove\",function(){e(t.target).trigger(t.originalEvent)}),undefined;var s=i.item.data(\"ui-autocomplete-item\");!1!==this._trigger(\"focus\",t,{item:s})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data(\"ui-autocomplete-item\"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger(\"select\",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e(\"<span>\",{role:\"status\",\"aria-live\":\"polite\"}).addClass(\"ui-helper-hidden-accessible\").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass(\"ui-autocomplete-input\").removeAttr(\"autocomplete\"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),\"source\"===e&&this._initSource(),\"appendTo\"===e&&this.menu.element.appendTo(this._appendTo()),\"disabled\"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(\".ui-front\")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):\"string\"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:\"json\",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger(\"search\",t)!==!1?this._search(e):undefined},_search:function(e){this.pending++,this.element.addClass(\"ui-autocomplete-loading\"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass(\"ui-autocomplete-loading\")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger(\"response\",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger(\"open\")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(\":visible\")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger(\"close\",e))},_change:function(e){this.previous!==this._value()&&this._trigger(\"change\",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return\"string\"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width(\"\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data(\"ui-autocomplete-item\",t)},_renderItem:function(t,i){return e(\"<li>\").append(e(\"<a>\").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(\":visible\")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[e](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(\":visible\"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),\"i\");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget(\"ui.autocomplete\",e.ui.autocomplete,{options:{messages:{noResults:\"No search results.\",results:function(e){return e+(e>1?\" results are\":\" result is\")+\" available, use up and down arrow keys to navigate.\"}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);(function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\"ui-datepicker-div\",this._inlineClass=\"ui-datepicker-inline\",this._appendClass=\"ui-datepicker-append\",this._triggerClass=\"ui-datepicker-trigger\",this._dialogClass=\"ui-datepicker-dialog\",this._disableClass=\"ui-datepicker-disabled\",this._unselectableClass=\"ui-datepicker-unselectable\",this._currentClass=\"ui-datepicker-current-day\",this._dayOverClass=\"ui-datepicker-days-cell-over\",this.regional=[],this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekHeader:\"Wk\",dateFormat:\"mm/dd/yy\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\"\"},this._defaults={showOn:\"focus\",showAnim:\"fadeIn\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\"c-10:c+10\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"fast\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[\"\"]),this.dpDiv=a(e(\"<div id='\"+this._mainDivId+\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"))}function a(t){var i=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return t.delegate(i,\"mouseout\",function(){e(this).removeClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).removeClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).removeClass(\"ui-datepicker-next-hover\")}).delegate(i,\"mouseover\",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\"),e(this).addClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).addClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).addClass(\"ui-datepicker-next-hover\"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:\"1.10.4\"}});var n,r=\"datepicker\";e.extend(i.prototype,{markerClassName:\"hasDatepicker\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s=\"div\"===a||\"span\"===a,t.id||(this.uuid+=1,t.id=\"dp\"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),\"input\"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\\-])/g,\"\\\\\\\\$1\");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e(\"<div class='\"+this._inlineClass+\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,\"appendText\"),o=this._get(i,\"isRTL\");i.append&&i.append.remove(),r&&(i.append=e(\"<span class='\"+this._appendClass+\"'>\"+r+\"</span>\"),t[o?\"before\":\"after\"](i.append)),t.unbind(\"focus\",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,\"showOn\"),(\"focus\"===a||\"both\"===a)&&t.focus(this._showDatepicker),(\"button\"===a||\"both\"===a)&&(s=this._get(i,\"buttonText\"),n=this._get(i,\"buttonImage\"),i.trigger=e(this._get(i,\"buttonImageOnly\")?e(\"<img/>\").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e(\"<button type='button'></button>\").addClass(this._triggerClass).html(n?e(\"<img/>\").attr({src:n,alt:s,title:s}):s)),t[o?\"before\":\"after\"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,\"autoSize\")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,\"dateFormat\");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?\"monthNames\":\"monthNamesShort\"))),n.setDate(t(this._get(e,r.match(/DD/)?\"dayNames\":\"dayNamesShort\"))+20-n.getDay())),e.input.attr(\"size\",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css(\"display\",\"block\"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,h,l,d,p=this._dialogInst;return p||(this.uuid+=1,u=\"dp\"+this.uuid,this._dialogInput=e(\"<input type='text' id='\"+u+\"' style='position: absolute; top: -100px; width: 0px;'/>\"),this._dialogInput.keydown(this._doKeyDown),e(\"body\").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,h/2-150+d]),this._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),\"input\"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind(\"focus\",this._showDatepicker).unbind(\"keydown\",this._doKeyDown).unbind(\"keypress\",this._doKeyPress).unbind(\"keyup\",this._doKeyUp)):(\"div\"===i||\"span\"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\"input\"===i?(t.disabled=!1,n.trigger.filter(\"button\").each(function(){this.disabled=!1}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"})):(\"div\"===i||\"span\"===i)&&(a=s.children(\".\"+this._inlineClass),a.children().removeClass(\"ui-state-disabled\"),a.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\"input\"===i?(t.disabled=!0,n.trigger.filter(\"button\").each(function(){this.disabled=!0}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"})):(\"div\"===i||\"span\"===i)&&(a=s.children(\".\"+this._inlineClass),a.children().addClass(\"ui-state-disabled\"),a.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(i,a,n){var r,o,u,c,h=this._getInst(i);return 2===arguments.length&&\"string\"==typeof a?\"defaults\"===a?e.extend({},e.datepicker._defaults):h?\"all\"===a?e.extend({},h.settings):this._get(h,a):null:(r=a||{},\"string\"==typeof a&&(r={},r[a]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(h,\"min\"),c=this._getMinMaxDate(h,\"max\"),s(h.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(h.settings.minDate=this._formatDate(h,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),\"disabled\"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(\".ui-datepicker-rtl\");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e(\"td.\"+e.datepicker._dayOverClass+\":not(.\"+e.datepicker._currentClass+\")\",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),i=e.datepicker._get(n,\"onSelect\"),i?(a=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[a,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,\"stepBigMonths\"):-e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,\"stepBigMonths\"):+e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,\"D\"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,\"stepBigMonths\"):-e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,\"D\"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,\"D\"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,\"stepBigMonths\"):+e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,\"D\"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,\"constrainInput\")?(a=e.datepicker._possibleChars(e.datepicker._get(n,\"dateFormat\")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||\" \">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,\"dateFormat\"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,\"input\"!==t.nodeName.toLowerCase()&&(t=e(\"input\",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,\"beforeShow\"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=\"\"),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|=\"fixed\"===e(this).css(\"position\"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?\"static\":r?\"fixed\":\"absolute\",display:\"none\",left:o.left+\"px\",top:o.top+\"px\"}),i.inline||(u=e.datepicker._get(i,\"showAnim\"),c=e.datepicker._get(i,\"duration\"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,\"showOptions\"),c):i.dpDiv[u||\"show\"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find(\".\"+this._dayOverClass+\" a\").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\"),s>1&&t.dpDiv.addClass(\"ui-datepicker-multi-\"+s).css(\"width\",r*s+\"em\"),t.dpDiv[(1!==a[0]||1!==a[1]?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\"),t.dpDiv[(this._get(t,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(\":visible\")&&!e.input.is(\":disabled\")&&!e.input.is(\":focus\")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,\"isRTL\")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,\"isRTL\");t&&(\"hidden\"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?\"previousSibling\":\"nextSibling\"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,\"showAnim\"),a=this._get(o,\"duration\"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,\"showOptions\"),a,s):o.dpDiv[\"slideDown\"===i?\"slideUp\":\"fadeIn\"===i?\"fadeOut\":\"hide\"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,\"onClose\"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():\"\",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"}),e.blockUI&&(e.unblockUI(),e(\"body\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(\".ui-datepicker-calendar\")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents(\"#\"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest(\".\"+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+(\"M\"===a?this._get(n,\"showCurrentAtPos\"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,\"gotoCurrent\")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n[\"selected\"+(\"M\"===a?\"Month\":\"Year\")]=n[\"draw\"+(\"M\"===a?\"Month\":\"Year\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e(\"a\",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,\"\")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,\"onSelect\"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger(\"change\"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],\"object\"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,\"altField\");n&&(i=this._get(t,\"altFormat\")||this._get(t,\"dateFormat\"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,\"\"]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw\"Invalid arguments\";if(a=\"object\"==typeof a?\"\"+a:a+\"\",\"\"===a)return null;var n,r,o,u,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,l=\"string\"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,y=!1,b=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=b(e),i=\"@\"===e?14:\"!\"===e?20:\"y\"===e&&t?4:\"o\"===e?3:2,s=RegExp(\"^\\\\d{1,\"+i+\"}\"),n=a.substring(c).match(s);if(!n)throw\"Missing number at position \"+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(b(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw\"Unknown name at position \"+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw\"Unexpected literal at position \"+c;c++};for(n=0;i.length>n;n++)if(y)\"'\"!==i.charAt(n)||b(\"'\")?M():y=!1;else switch(i.charAt(n)){case\"d\":v=D(\"d\");break;case\"D\":w(\"D\",d,p);break;case\"o\":k=D(\"o\");break;case\"m\":_=D(\"m\");break;case\"M\":_=w(\"M\",g,m);break;case\"y\":f=D(\"y\");break;case\"@\":u=new Date(D(\"@\")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case\"!\":u=new Date((D(\"!\")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case\"'\":b(\"'\")?M():y=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\\s+/.test(o)))throw\"Extra/unparsed characters found in date: \"+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=f?0:-100)),k>-1)for(_=1,v=k;;){if(r=this._getDaysInMonth(f,_-1),r>=v)break;_++,v-=r}if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw\"Invalid date\";return u},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return\"\";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=\"\"+t;if(u(e))for(;i>a.length;)a=\"0\"+a;return a},h=function(e,t,i,a){return u(e)?a[t]:i[t]},l=\"\",d=!1;if(t)for(a=0;e.length>a;a++)if(d)\"'\"!==e.charAt(a)||u(\"'\")?l+=e.charAt(a):d=!1;else switch(e.charAt(a)){case\"d\":l+=c(\"d\",t.getDate(),2);break;case\"D\":l+=h(\"D\",t.getDay(),s,n);break;case\"o\":l+=c(\"o\",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case\"m\":l+=c(\"m\",t.getMonth()+1,2);break;case\"M\":l+=h(\"M\",t.getMonth(),r,o);break;case\"y\":l+=u(\"y\")?t.getFullYear():(10>t.getYear()%100?\"0\":\"\")+t.getYear()%100;break;case\"@\":l+=t.getTime();break;case\"!\":l+=1e4*t.getTime()+this._ticksTo1970;break;case\"'\":u(\"'\")?l+=\"'\":d=!0;break;default:l+=e.charAt(a)}return l},_possibleChars:function(e){var t,i=\"\",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)\"'\"!==e.charAt(t)||s(\"'\")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case\"d\":case\"m\":case\"y\":case\"@\":i+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":s(\"'\")?i+=\"'\":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,\"dateFormat\"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?\"\":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,\"defaultDate\"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,\"dateFormat\"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||\"d\"){case\"d\":case\"D\":o+=parseInt(c[1],10);break;case\"w\":case\"W\":o+=7*parseInt(c[1],10);break;case\"m\":case\"M\":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case\"y\":case\"Y\":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||\"\"===i?a:\"string\"==typeof i?n(i):\"number\"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&\"Invalid Date\"==\"\"+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?\"\":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&\"\"===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,\"stepMonths\"),a=\"#\"+t.id.replace(/\\\\\\\\/g,\"\\\\\");t.dpDiv.find(\"[data-handler]\").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,\"M\")},next:function(){e.datepicker._adjustDate(a,+i,\"M\")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute(\"data-month\"),+this.getAttribute(\"data-year\"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,\"M\"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,\"Y\"),!1}};e(this).bind(this.getAttribute(\"data-event\"),t[this.getAttribute(\"data-handler\")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,h,l,d,p,g,m,f,_,v,k,y,b,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,\"isRTL\"),U=this._get(e,\"showButtonPanel\"),B=this._get(e,\"hideIfNoPrevNext\"),z=this._get(e,\"navigationAsDateFormat\"),q=this._getNumberOfMonths(e),G=this._get(e,\"showCurrentAtPos\"),J=this._get(e,\"stepMonths\"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,\"min\"),X=this._getMinMaxDate(e,\"max\"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,\"prevText\"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"e\":\"w\")+\"'>\"+i+\"</span></a>\":B?\"\":\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"e\":\"w\")+\"'>\"+i+\"</span></a>\",s=this._get(e,\"nextText\"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\"+s+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"w\":\"e\")+\"'>\"+s+\"</span></a>\":B?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+s+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(L?\"w\":\"e\")+\"'>\"+s+\"</span></a>\",r=this._get(e,\"currentText\"),o=this._get(e,\"gotoCurrent\")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?\"\":\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\"+this._get(e,\"closeText\")+\"</button>\",c=U?\"<div class='ui-datepicker-buttonpane ui-widget-content'>\"+(L?u:\"\")+(this._isInRange(e,o)?\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\"+r+\"</button>\":\"\")+(L?\"\":u)+\"</div>\":\"\",h=parseInt(this._get(e,\"firstDay\"),10),h=isNaN(h)?0:h,l=this._get(e,\"showWeek\"),d=this._get(e,\"dayNames\"),p=this._get(e,\"dayNamesMin\"),g=this._get(e,\"monthNames\"),m=this._get(e,\"monthNamesShort\"),f=this._get(e,\"beforeShowDay\"),_=this._get(e,\"showOtherMonths\"),v=this._get(e,\"selectOtherMonths\"),k=this._getDefaultDate(e),y=\"\",D=0;q[0]>D;D++){for(w=\"\",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=\" ui-corner-all\",I=\"\",Q){if(I+=\"<div class='ui-datepicker-group\",q[1]>1)switch(M){case 0:I+=\" ui-datepicker-group-first\",x=\" ui-corner-\"+(L?\"right\":\"left\");break;case q[1]-1:I+=\" ui-datepicker-group-last\",x=\" ui-corner-\"+(L?\"left\":\"right\");break;default:I+=\" ui-datepicker-group-middle\",x=\"\"}I+=\"'>\"}for(I+=\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\"+x+\"'>\"+(/all|left/.test(x)&&0===D?L?n:a:\"\")+(/all|right/.test(x)&&0===D?L?a:n:\"\")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+\"</div><table class='ui-datepicker-calendar'><thead>\"+\"<tr>\",N=l?\"<th class='ui-datepicker-week-col'>\"+this._get(e,\"weekHeader\")+\"</th>\":\"\",b=0;7>b;b++)T=(b+h)%7,N+=\"<th\"+((b+h+6)%7>=5?\" class='ui-datepicker-week-end'\":\"\")+\">\"+\"<span title='\"+d[T]+\"'>\"+p[T]+\"</span></th>\";for(I+=N+\"</tr></thead><tbody>\",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-h+7)%7,S=Math.ceil((E+A)/7),Y=Q?this.maxRows>S?this.maxRows:S:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+=\"<tr>\",O=l?\"<td class='ui-datepicker-week-col'>\"+this._get(e,\"calculateWeek\")(F)+\"</td>\":\"\",b=0;7>b;b++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,\"\"],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+=\"<td class='\"+((b+h+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(K?\" ui-datepicker-other-month\":\"\")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?\" \"+this._dayOverClass:\"\")+(R?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(K&&!_?\"\":\" \"+j[1]+(F.getTime()===V.getTime()?\" \"+this._currentClass:\"\")+(F.getTime()===W.getTime()?\" ui-datepicker-today\":\"\"))+\"'\"+(K&&!_||!j[2]?\"\":\" title='\"+j[2].replace(/'/g,\"&#39;\")+\"'\")+(R?\"\":\" data-handler='selectDay' data-event='click' data-month='\"+F.getMonth()+\"' data-year='\"+F.getFullYear()+\"'\")+\">\"+(K&&!_?\"&#xa0;\":R?\"<span class='ui-state-default'>\"+F.getDate()+\"</span>\":\"<a class='ui-state-default\"+(F.getTime()===W.getTime()?\" ui-state-highlight\":\"\")+(F.getTime()===V.getTime()?\" ui-state-active\":\"\")+(K?\" ui-priority-secondary\":\"\")+\"' href='#'>\"+F.getDate()+\"</a>\")+\"</td>\",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+\"</tr>\"}Z++,Z>11&&(Z=0,et++),I+=\"</tbody></table>\"+(Q?\"</div>\"+(q[0]>0&&M===q[1]-1?\"<div class='ui-datepicker-row-break'></div>\":\"\"):\"\"),w+=I}y+=w}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,h,l,d,p,g,m,f=this._get(e,\"changeMonth\"),_=this._get(e,\"changeYear\"),v=this._get(e,\"showMonthAfterYear\"),k=\"<div class='ui-datepicker-title'>\",y=\"\";if(n||!f)y+=\"<span class='ui-datepicker-month'>\"+r[t]+\"</span>\";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,y+=\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\",h=0;12>h;h++)(!u||h>=a.getMonth())&&(!c||s.getMonth()>=h)&&(y+=\"<option value='\"+h+\"'\"+(h===t?\" selected='selected'\":\"\")+\">\"+o[h]+\"</option>\");y+=\"</select>\"}if(v||(k+=y+(!n&&f&&_?\"\":\"&#xa0;\")),!e.yearshtml)if(e.yearshtml=\"\",n||!_)k+=\"<span class='ui-datepicker-year'>\"+i+\"</span>\";else{for(l=this._get(e,\"yearRange\").split(\":\"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\\-].*/)?d+parseInt(e,10):parseInt(e,10);\nreturn isNaN(t)?d:t},g=p(l[0]),m=Math.max(g,p(l[1]||\"\")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+=\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";m>=g;g++)e.yearshtml+=\"<option value='\"+g+\"'\"+(g===i?\" selected='selected'\":\"\")+\">\"+g+\"</option>\";e.yearshtml+=\"</select>\",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,\"yearSuffix\"),v&&(k+=(!n&&f&&_?\"\":\"&#xa0;\")+y),k+=\"</div>\"},_adjustInstDate:function(e,t,i){var a=e.drawYear+(\"Y\"===i?t:0),s=e.drawMonth+(\"M\"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+(\"D\"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),(\"M\"===i||\"Y\"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,\"min\"),a=this._getMinMaxDate(e,\"max\"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,\"onChangeMonthYear\");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,\"numberOfMonths\");return null==t?[1,1]:\"number\"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+\"Date\"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,\"min\"),n=this._getMinMaxDate(e,\"max\"),r=null,o=null,u=this._get(e,\"yearRange\");return u&&(i=u.split(\":\"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\\-].*/)&&(r+=a),i[1].match(/[+\\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,\"shortYearCutoff\");return t=\"string\"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,\"dayNamesShort\"),dayNames:this._get(e,\"dayNames\"),monthNamesShort:this._get(e,\"monthNamesShort\"),monthNames:this._get(e,\"monthNames\")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?\"object\"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,\"dateFormat\"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e(\"#\"+e.datepicker._mainDivId).length&&e(\"body\").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\"string\"!=typeof t||\"isDisabled\"!==t&&\"getDate\"!==t&&\"widget\"!==t?\"option\"===t&&2===arguments.length&&\"string\"==typeof arguments[1]?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){\"string\"==typeof t?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version=\"1.10.4\"})(jQuery);(function(t){t.widget(\"ui.menu\",{version:\"1.10.4\",defaultElement:\"<ul>\",delay:300,options:{icons:{submenu:\"ui-icon-carat-1-e\"},menus:\"ul\",position:{my:\"left top\",at:\"right top\"},role:\"menu\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass(\"ui-menu ui-widget ui-widget-content ui-corner-all\").toggleClass(\"ui-menu-icons\",!!this.element.find(\".ui-icon\").length).attr({role:this.options.role,tabIndex:0}).bind(\"click\"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass(\"ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this._on({\"mousedown .ui-menu-item > a\":function(t){t.preventDefault()},\"click .ui-state-disabled > a\":function(t){t.preventDefault()},\"click .ui-menu-item:has(a)\":function(e){var i=t(e.target).closest(\".ui-menu-item\");!this.mouseHandled&&i.not(\".ui-state-disabled\").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(\".ui-menu\").length?this.expand(e):!this.element.is(\":focus\")&&t(this.document[0].activeElement).closest(\".ui-menu\").length&&(this.element.trigger(\"focus\",[!0]),this.active&&1===this.active.parents(\".ui-menu\").length&&clearTimeout(this.timer)))},\"mouseenter .ui-menu-item\":function(e){var i=t(e.currentTarget);i.siblings().children(\".ui-state-active\").removeClass(\"ui-state-active\"),this.focus(e,i)},mouseleave:\"collapseAll\",\"mouseleave .ui-menu\":\"collapseAll\",focus:function(t,e){var i=this.active||this.element.children(\".ui-menu-item\").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:\"_keydown\"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(\".ui-menu\").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr(\"aria-activedescendant\").find(\".ui-menu\").addBack().removeClass(\"ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons\").removeAttr(\"role\").removeAttr(\"tabIndex\").removeAttr(\"aria-labelledby\").removeAttr(\"aria-expanded\").removeAttr(\"aria-hidden\").removeAttr(\"aria-disabled\").removeUniqueId().show(),this.element.find(\".ui-menu-item\").removeClass(\"ui-menu-item\").removeAttr(\"role\").removeAttr(\"aria-disabled\").children(\"a\").removeUniqueId().removeClass(\"ui-corner-all ui-state-hover\").removeAttr(\"tabIndex\").removeAttr(\"role\").removeAttr(\"aria-haspopup\").children().each(function(){var e=t(this);e.data(\"ui-menu-submenu-carat\")&&e.remove()}),this.element.find(\".ui-menu-divider\").removeClass(\"ui-menu-divider ui-widget-content\")},_keydown:function(e){function i(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")}var s,n,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move(\"first\",\"first\",e);break;case t.ui.keyCode.END:this._move(\"last\",\"last\",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(\".ui-state-disabled\")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,n=this.previousFilter||\"\",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp(\"^\"+i(a),\"i\"),s=this.activeMenu.children(\".ui-menu-item\").filter(function(){return r.test(t(this).children(\"a\").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(\".ui-menu-item\"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp(\"^\"+i(a),\"i\"),s=this.activeMenu.children(\".ui-menu-item\").filter(function(){return r.test(t(this).children(\"a\").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(\".ui-state-disabled\")||(this.active.children(\"a[aria-haspopup='true']\").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass(\"ui-menu-icons\",!!this.element.find(\".ui-icon\").length),s.filter(\":not(.ui-menu)\").addClass(\"ui-menu ui-widget ui-widget-content ui-corner-all\").hide().attr({role:this.options.role,\"aria-hidden\":\"true\",\"aria-expanded\":\"false\"}).each(function(){var e=t(this),s=e.prev(\"a\"),n=t(\"<span>\").addClass(\"ui-menu-icon ui-icon \"+i).data(\"ui-menu-submenu-carat\",!0);s.attr(\"aria-haspopup\",\"true\").prepend(n),e.attr(\"aria-labelledby\",s.attr(\"id\"))}),e=s.add(this.element),e.children(\":not(.ui-menu-item):has(a)\").addClass(\"ui-menu-item\").attr(\"role\",\"presentation\").children(\"a\").uniqueId().addClass(\"ui-corner-all\").attr({tabIndex:-1,role:this._itemRole()}),e.children(\":not(.ui-menu-item)\").each(function(){var e=t(this);/[^\\-\\u2014\\u2013\\s]/.test(e.text())||e.addClass(\"ui-widget-content ui-menu-divider\")}),e.children(\".ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role]},_setOption:function(t,e){\"icons\"===t&&this.element.find(\".ui-menu-icon\").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&\"focus\"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(\"a\").addClass(\"ui-state-focus\"),this.options.role&&this.element.attr(\"aria-activedescendant\",s.attr(\"id\")),this.active.parent().closest(\".ui-menu-item\").children(\"a:first\").addClass(\"ui-state-active\"),t&&\"keydown\"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(\".ui-menu\"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger(\"focus\",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],\"borderTopWidth\"))||0,s=parseFloat(t.css(this.activeMenu[0],\"paddingTop\"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children(\"a\").removeClass(\"ui-state-focus\"),this.active=null,this._trigger(\"blur\",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),\"true\"===t.attr(\"aria-hidden\")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\".ui-menu\").not(e.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\"),e.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(\".ui-menu\"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\").end().find(\"a.ui-state-active\").removeClass(\"ui-state-active\")},collapse:function(t){var e=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(\".ui-menu \").children(\".ui-menu-item\").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move(\"next\",\"first\",t)},previous:function(t){this._move(\"prev\",\"last\",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length},_move:function(t,e,i){var s;this.active&&(s=\"first\"===t||\"last\"===t?this.active[\"first\"===t?\"prevAll\":\"nextAll\"](\".ui-menu-item\").eq(-1):this.active[t+\"All\"](\".ui-menu-item\").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(\".ui-menu-item\")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(\".ui-menu-item\").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(\".ui-menu-item\")[this.active?\"last\":\"first\"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(\".ui-menu-item\").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(\".ui-menu-item\").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\")},select:function(e){this.active=this.active||t(e.target).closest(\".ui-menu-item\");var i={item:this.active};this.active.has(\".ui-menu\").length||this.collapseAll(e,!0),this._trigger(\"select\",e,i)}})})(jQuery);(function(t){var e=5;t.widget(\"ui.slider\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"slide\",options:{animate:!1,distance:0,max:100,min:0,orientation:\"horizontal\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass(\"ui-slider ui-slider-\"+this.orientation+\" ui-widget\"+\" ui-widget-content\"+\" ui-corner-all\"),this._refresh(),this._setOption(\"disabled\",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(\".ui-slider-handle\").addClass(\"ui-state-default ui-corner-all\"),a=\"<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>\",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join(\"\")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data(\"ui-slider-handle-index\",e)})},_createRange:function(){var e=this.options,i=\"\";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass(\"ui-slider-range-min ui-slider-range-max\").css({left:\"\",bottom:\"\"}):(this.range=t(\"<div></div>\").appendTo(this.element),i=\"ui-slider-range ui-widget-header ui-corner-all\"),this.range.addClass(i+(\"min\"===e.range||\"max\"===e.range?\" ui-slider-range-\"+e.range:\"\"))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter(\"a\");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass(\"ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all\"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass(\"ui-state-active\").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(\".ui-slider-handle\"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css(\"borderTopWidth\"),10)||0)-(parseInt(a.css(\"borderBottomWidth\"),10)||0)+(parseInt(a.css(\"marginTop\"),10)||0)},this.handles.hasClass(\"ui-state-hover\")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass(\"ui-state-active\"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\"vertical\"===this.options.orientation?\"vertical\":\"horizontal\"},_normValueFromMouse:function(t){var e,i,s,n,a;return\"horizontal\"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),\"vertical\"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"start\",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"stop\",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger(\"change\",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch(\"range\"===e&&this.options.range===!0&&(\"min\"===i?(this.options.value=this._values(0),this.options.values=null):\"max\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case\"orientation\":this._detectOrientation(),this.element.removeClass(\"ui-slider-horizontal ui-slider-vertical\").addClass(\"ui-slider-\"+this.orientation),this._refreshValue();break;case\"value\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\"values\":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case\"min\":case\"max\":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case\"range\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u[\"horizontal\"===l.orientation?\"left\":\"bottom\"]=i+\"%\",t(this).stop(1,1)[h?\"animate\":\"css\"](u,r.animate),l.options.range===!0&&(\"horizontal\"===l.orientation?(0===s&&l.range.stop(1,1)[h?\"animate\":\"css\"]({left:i+\"%\"},r.animate),1===s&&l.range[h?\"animate\":\"css\"]({width:i-e+\"%\"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?\"animate\":\"css\"]({bottom:i+\"%\"},r.animate),1===s&&l.range[h?\"animate\":\"css\"]({height:i-e+\"%\"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u[\"horizontal\"===this.orientation?\"left\":\"bottom\"]=i+\"%\",this.handle.stop(1,1)[h?\"animate\":\"css\"](u,r.animate),\"min\"===o&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[h?\"animate\":\"css\"]({width:i+\"%\"},r.animate),\"max\"===o&&\"horizontal\"===this.orientation&&this.range[h?\"animate\":\"css\"]({width:100-i+\"%\"},{queue:!1,duration:r.animate}),\"min\"===o&&\"vertical\"===this.orientation&&this.range.stop(1,1)[h?\"animate\":\"css\"]({height:i+\"%\"},r.animate),\"max\"===o&&\"vertical\"===this.orientation&&this.range[h?\"animate\":\"css\"]({height:100-i+\"%\"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data(\"ui-slider-handle-index\");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass(\"ui-state-active\"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data(\"ui-slider-handle-index\");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass(\"ui-state-active\"))}}})})(jQuery);","//! moment.js\n//! version : 2.7.0\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n(function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error(\"Implement me\")}}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(a,b){function c(){mb.suppressDeprecationWarnings===!1&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+a)}var d=!0;return j(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function e(a,b){return function(c){return m(a.call(this,c),b)}}function f(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function g(){}function h(a){z(a),j(this,a)}function i(a){var b=s(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function j(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty(\"toString\")&&(a.toString=b.toString),b.hasOwnProperty(\"valueOf\")&&(a.valueOf=b.valueOf),a}function k(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&Ab.hasOwnProperty(b)&&(c[b]=a[b]);return c}function l(a){return 0>a?Math.ceil(a):Math.floor(a)}function m(a,b,c){for(var d=\"\"+Math.abs(a),e=a>=0;d.length<b;)d=\"0\"+d;return(e?c?\"+\":\"\":\"-\")+d}function n(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&hb(a,\"Date\",gb(a,\"Date\")+f*c),g&&fb(a,gb(a,\"Month\")+g*c),d&&mb.updateOffset(a,f||g)}function o(a){return\"[object Array]\"===Object.prototype.toString.call(a)}function p(a){return\"[object Date]\"===Object.prototype.toString.call(a)||a instanceof Date}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function r(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,\"$1\");a=bc[a]||cc[b]||b}return a}function s(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=r(c),b&&(d[b]=a[c]));return d}function t(b){var c,d;if(0===b.indexOf(\"week\"))c=7,d=\"day\";else{if(0!==b.indexOf(\"month\"))return;c=12,d=\"month\"}mb[b]=function(e,f){var g,h,i=mb.fn._lang[b],j=[];if(\"number\"==typeof e&&(f=e,e=a),h=function(a){var b=mb().utc().set(d,a);return i.call(mb.fn._lang,b,e||\"\")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function v(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function w(a,b,c){return bb(mb([a,11,31+b-c]),b,c).week}function x(a){return y(a)?366:365}function y(a){return a%4===0&&a%100!==0||a%400===0}function z(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[tb]<0||a._a[tb]>11?tb:a._a[ub]<1||a._a[ub]>v(a._a[sb],a._a[tb])?ub:a._a[vb]<0||a._a[vb]>23?vb:a._a[wb]<0||a._a[wb]>59?wb:a._a[xb]<0||a._a[xb]>59?xb:a._a[yb]<0||a._a[yb]>999?yb:-1,a._pf._overflowDayOfYear&&(sb>b||b>ub)&&(b=ub),a._pf.overflow=b)}function A(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function B(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}function C(a,b){return b._isUTC?mb(a).zone(b._offset||0):mb(a).local()}function D(a,b){return b.abbr=a,zb[a]||(zb[a]=new g),zb[a].set(b),zb[a]}function E(a){delete zb[a]}function F(a){var b,c,d,e,f=0,g=function(a){if(!zb[a]&&Bb)try{require(\"./lang/\"+a)}catch(b){}return zb[a]};if(!a)return mb.fn._lang;if(!o(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=B(a[f]).split(\"-\"),b=e.length,d=B(a[f+1]),d=d?d.split(\"-\"):null;b>0;){if(c=g(e.slice(0,b).join(\"-\")))return c;if(d&&d.length>=b&&q(e,d,!0)>=b-1)break;b--}f++}return mb.fn._lang}function G(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function H(a){var b,c,d=a.match(Fb);for(b=0,c=d.length;c>b;b++)d[b]=hc[d[b]]?hc[d[b]]:G(d[b]);return function(e){var f=\"\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function I(a,b){return a.isValid()?(b=J(b,a.lang()),dc[b]||(dc[b]=H(b)),dc[b](a)):a.lang().invalidDate()}function J(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Gb.lastIndex=0;d>=0&&Gb.test(a);)a=a.replace(Gb,c),Gb.lastIndex=0,d-=1;return a}function K(a,b){var c,d=b._strict;switch(a){case\"Q\":return Rb;case\"DDDD\":return Tb;case\"YYYY\":case\"GGGG\":case\"gggg\":return d?Ub:Jb;case\"Y\":case\"G\":case\"g\":return Wb;case\"YYYYYY\":case\"YYYYY\":case\"GGGGG\":case\"ggggg\":return d?Vb:Kb;case\"S\":if(d)return Rb;case\"SS\":if(d)return Sb;case\"SSS\":if(d)return Tb;case\"DDD\":return Ib;case\"MMM\":case\"MMMM\":case\"dd\":case\"ddd\":case\"dddd\":return Mb;case\"a\":case\"A\":return F(b._l)._meridiemParse;case\"X\":return Pb;case\"Z\":case\"ZZ\":return Nb;case\"T\":return Ob;case\"SSSS\":return Lb;case\"MM\":case\"DD\":case\"YY\":case\"GG\":case\"gg\":case\"HH\":case\"hh\":case\"mm\":case\"ss\":case\"ww\":case\"WW\":return d?Sb:Hb;case\"M\":case\"D\":case\"d\":case\"H\":case\"h\":case\"m\":case\"s\":case\"w\":case\"W\":case\"e\":case\"E\":return Hb;case\"Do\":return Qb;default:return c=new RegExp(T(S(a.replace(\"\\\\\",\"\")),\"i\"))}}function L(a){a=a||\"\";var b=a.match(Nb)||[],c=b[b.length-1]||[],d=(c+\"\").match(_b)||[\"-\",0,0],e=+(60*d[1])+u(d[2]);return\"+\"===d[0]?-e:e}function M(a,b,c){var d,e=c._a;switch(a){case\"Q\":null!=b&&(e[tb]=3*(u(b)-1));break;case\"M\":case\"MM\":null!=b&&(e[tb]=u(b)-1);break;case\"MMM\":case\"MMMM\":d=F(c._l).monthsParse(b),null!=d?e[tb]=d:c._pf.invalidMonth=b;break;case\"D\":case\"DD\":null!=b&&(e[ub]=u(b));break;case\"Do\":null!=b&&(e[ub]=u(parseInt(b,10)));break;case\"DDD\":case\"DDDD\":null!=b&&(c._dayOfYear=u(b));break;case\"YY\":e[sb]=mb.parseTwoDigitYear(b);break;case\"YYYY\":case\"YYYYY\":case\"YYYYYY\":e[sb]=u(b);break;case\"a\":case\"A\":c._isPm=F(c._l).isPM(b);break;case\"H\":case\"HH\":case\"h\":case\"hh\":e[vb]=u(b);break;case\"m\":case\"mm\":e[wb]=u(b);break;case\"s\":case\"ss\":e[xb]=u(b);break;case\"S\":case\"SS\":case\"SSS\":case\"SSSS\":e[yb]=u(1e3*(\"0.\"+b));break;case\"X\":c._d=new Date(1e3*parseFloat(b));break;case\"Z\":case\"ZZ\":c._useUTC=!0,c._tzm=L(b);break;case\"dd\":case\"ddd\":case\"dddd\":d=F(c._l).weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case\"w\":case\"ww\":case\"W\":case\"WW\":case\"d\":case\"e\":case\"E\":a=a.substr(0,1);case\"gggg\":case\"GGGG\":case\"GGGGG\":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=u(b));break;case\"gg\":case\"GG\":c._w=c._w||{},c._w[a]=mb.parseTwoDigitYear(b)}}function N(a){var c,d,e,f,g,h,i,j;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[sb],bb(mb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(j=F(a._l),g=j._week.dow,h=j._week.doy,d=b(c.gg,a._a[sb],bb(mb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=cb(d,e,f,h,g),a._a[sb]=i.year,a._dayOfYear=i.dayOfYear}function O(a){var c,d,e,f,g=[];if(!a._d){for(e=Q(a),a._w&&null==a._a[ub]&&null==a._a[tb]&&N(a),a._dayOfYear&&(f=b(a._a[sb],e[sb]),a._dayOfYear>x(f)&&(a._pf._overflowDayOfYear=!0),d=Z(f,0,a._dayOfYear),a._a[tb]=d.getUTCMonth(),a._a[ub]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];a._d=(a._useUTC?Z:Y).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function P(a){var b;a._d||(b=s(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],O(a))}function Q(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function R(a){if(a._f===mb.ISO_8601)return void V(a);a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=F(a._l),h=\"\"+a._i,i=h.length,j=0;for(d=J(a._f,g).match(Fb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(K(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),hc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),M(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[vb]<12&&(a._a[vb]+=12),a._isPm===!1&&12===a._a[vb]&&(a._a[vb]=0),O(a),z(a)}function S(a){return a.replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function T(a){return a.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function U(a){var b,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=j({},a),b._pf=c(),b._f=a._f[f],R(b),A(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,d=b));j(a,d||b)}function V(a){var b,c,d=a._i,e=Xb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Zb.length;c>b;b++)if(Zb[b][1].exec(d)){a._f=Zb[b][0]+(e[6]||\" \");break}for(b=0,c=$b.length;c>b;b++)if($b[b][1].exec(d)){a._f+=$b[b][0];break}d.match(Nb)&&(a._f+=\"Z\"),R(a)}else a._isValid=!1}function W(a){V(a),a._isValid===!1&&(delete a._isValid,mb.createFromInputFallback(a))}function X(b){var c=b._i,d=Cb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):\"string\"==typeof c?W(b):o(c)?(b._a=c.slice(0),O(b)):p(c)?b._d=new Date(+c):\"object\"==typeof c?P(b):\"number\"==typeof c?b._d=new Date(c):mb.createFromInputFallback(b)}function Y(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function Z(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function $(a,b){if(\"string\"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),\"number\"!=typeof a)return null}else a=parseInt(a,10);return a}function _(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ab(a,b,c){var d=rb(Math.abs(a)/1e3),e=rb(d/60),f=rb(e/60),g=rb(f/24),h=rb(g/365),i=d<ec.s&&[\"s\",d]||1===e&&[\"m\"]||e<ec.m&&[\"mm\",e]||1===f&&[\"h\"]||f<ec.h&&[\"hh\",f]||1===g&&[\"d\"]||g<=ec.dd&&[\"dd\",g]||g<=ec.dm&&[\"M\"]||g<ec.dy&&[\"MM\",rb(g/30)]||1===h&&[\"y\"]||[\"yy\",h];return i[2]=b,i[3]=a>0,i[4]=c,_.apply({},i)}function bb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=mb(a).add(\"d\",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function cb(a,b,c,d,e){var f,g,h=Z(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:x(a-1)+g}}function db(b){var c=b._i,d=b._f;return null===c||d===a&&\"\"===c?mb.invalid({nullInput:!0}):(\"string\"==typeof c&&(b._i=c=F().preparse(c)),mb.isMoment(c)?(b=k(c),b._d=new Date(+c._d)):d?o(d)?U(b):R(b):X(b),new h(b))}function eb(a,b){var c,d;if(1===b.length&&o(b[0])&&(b=b[0]),!b.length)return mb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function fb(a,b){var c;return\"string\"==typeof b&&(b=a.lang().monthsParse(b),\"number\"!=typeof b)?a:(c=Math.min(a.date(),v(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a)}function gb(a,b){return a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]()}function hb(a,b,c){return\"Month\"===b?fb(a,c):a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}function ib(a,b){return function(c){return null!=c?(hb(this,a,c),mb.updateOffset(this,b),this):gb(this,a)}}function jb(a){mb.duration.fn[a]=function(){return this._data[a]}}function kb(a,b){mb.duration.fn[\"as\"+a]=function(){return+this/b}}function lb(a){\"undefined\"==typeof ender&&(nb=qb.moment,qb.moment=a?d(\"Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.\",mb):mb)}for(var mb,nb,ob,pb=\"2.7.0\",qb=\"undefined\"!=typeof global?global:this,rb=Math.round,sb=0,tb=1,ub=2,vb=3,wb=4,xb=5,yb=6,zb={},Ab={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Bb=\"undefined\"!=typeof module&&module.exports,Cb=/^\\/?Date\\((\\-?\\d+)/i,Db=/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,Eb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Fb=/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Gb=/(\\[[^\\[]*\\])|(\\\\)?(LT|LL?L?L?|l{1,4})/g,Hb=/\\d\\d?/,Ib=/\\d{1,3}/,Jb=/\\d{1,4}/,Kb=/[+\\-]?\\d{1,6}/,Lb=/\\d+/,Mb=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,Nb=/Z|[\\+\\-]\\d\\d:?\\d\\d/gi,Ob=/T/i,Pb=/[\\+\\-]?\\d+(\\.\\d{1,3})?/,Qb=/\\d{1,2}/,Rb=/\\d/,Sb=/\\d\\d/,Tb=/\\d{3}/,Ub=/\\d{4}/,Vb=/[+-]?\\d{6}/,Wb=/[+-]?\\d+/,Xb=/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Yb=\"YYYY-MM-DDTHH:mm:ssZ\",Zb=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d{2}-\\d{2}/],[\"YYYY-MM-DD\",/\\d{4}-\\d{2}-\\d{2}/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d{2}-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d{2}/],[\"YYYY-DDD\",/\\d{4}-\\d{3}/]],$b=[[\"HH:mm:ss.SSSS\",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss\",/(T| )\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/(T| )\\d\\d:\\d\\d/],[\"HH\",/(T| )\\d\\d/]],_b=/([\\+\\-]|\\d\\d)/gi,ac=(\"Date|Hours|Minutes|Seconds|Milliseconds\".split(\"|\"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),bc={ms:\"millisecond\",s:\"second\",m:\"minute\",h:\"hour\",d:\"day\",D:\"date\",w:\"week\",W:\"isoWeek\",M:\"month\",Q:\"quarter\",y:\"year\",DDD:\"dayOfYear\",e:\"weekday\",E:\"isoWeekday\",gg:\"weekYear\",GG:\"isoWeekYear\"},cc={dayofyear:\"dayOfYear\",isoweekday:\"isoWeekday\",isoweek:\"isoWeek\",weekyear:\"weekYear\",isoweekyear:\"isoWeekYear\"},dc={},ec={s:45,m:45,h:22,dd:25,dm:45,dy:345},fc=\"DDD w W M D d\".split(\" \"),gc=\"M D H h m s w W\".split(\" \"),hc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?\"+\":\"-\";return b+m(Math.abs(a),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return u(this.milliseconds()/100)},SS:function(){return m(u(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+m(u(a/60),2)+\":\"+m(u(a)%60,2)},ZZ:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+m(u(a/60),2)+m(u(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ic=[\"months\",\"monthsShort\",\"weekdays\",\"weekdaysShort\",\"weekdaysMin\"];fc.length;)ob=fc.pop(),hc[ob+\"o\"]=f(hc[ob],ob);for(;gc.length;)ob=gc.pop(),hc[ob+ob]=e(hc[ob],2);for(hc.DDDD=e(hc.DDD,3),j(g.prototype,{set:function(a){var b,c;for(c in a)b=a[c],\"function\"==typeof b?this[c]=b:this[\"_\"+c]=b},_months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),months:function(a){return this._months[a.month()]},_monthsShort:\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=mb.utc([2e3,b]),d=\"^\"+this.months(c,\"\")+\"|^\"+this.monthsShort(c,\"\"),this._monthsParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._monthsParse[b].test(a))return b},_weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=mb([2e3,1]).day(b),d=\"^\"+this.weekdays(c,\"\")+\"|^\"+this.weekdaysShort(c,\"\")+\"|^\"+this.weekdaysMin(c,\"\"),this._weekdaysParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D YYYY\",LLL:\"MMMM D YYYY LT\",LLLL:\"dddd, MMMM D YYYY LT\"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return\"p\"===(a+\"\").toLowerCase().charAt(0)},_meridiemParse:/[ap]\\.?m?\\.?/i,meridiem:function(a,b,c){return a>11?c?\"pm\":\"PM\":c?\"am\":\"AM\"},_calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},calendar:function(a,b){var c=this._calendar[a];return\"function\"==typeof c?c.apply(b):c},_relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return\"function\"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?\"future\":\"past\"];return\"function\"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace(\"%d\",a)},_ordinal:\"%d\",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return bb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:\"Invalid date\",invalidDate:function(){return this._invalidDate}}),mb=function(b,d,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=c(),db(g)},mb.suppressDeprecationWarnings=!1,mb.createFromInputFallback=d(\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\",function(a){a._d=new Date(a._i)}),mb.min=function(){var a=[].slice.call(arguments,0);return eb(\"isBefore\",a)},mb.max=function(){var a=[].slice.call(arguments,0);return eb(\"isAfter\",a)},mb.utc=function(b,d,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=d,g._strict=f,g._pf=c(),db(g).utc()},mb.unix=function(a){return mb(1e3*a)},mb.duration=function(a,b){var c,d,e,f=a,g=null;return mb.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:\"number\"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Db.exec(a))?(c=\"-\"===g[1]?-1:1,f={y:0,d:u(g[ub])*c,h:u(g[vb])*c,m:u(g[wb])*c,s:u(g[xb])*c,ms:u(g[yb])*c}):(g=Eb.exec(a))&&(c=\"-\"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(\",\",\".\"));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new i(f),mb.isDuration(a)&&a.hasOwnProperty(\"_lang\")&&(d._lang=a._lang),d},mb.version=pb,mb.defaultFormat=Yb,mb.ISO_8601=function(){},mb.momentProperties=Ab,mb.updateOffset=function(){},mb.relativeTimeThreshold=function(b,c){return ec[b]===a?!1:(ec[b]=c,!0)},mb.lang=function(a,b){var c;return a?(b?D(B(a),b):null===b?(E(a),a=\"en\"):zb[a]||F(a),c=mb.duration.fn._lang=mb.fn._lang=F(a),c._abbr):mb.fn._lang._abbr},mb.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),F(a)},mb.isMoment=function(a){return a instanceof h||null!=a&&a.hasOwnProperty(\"_isAMomentObject\")},mb.isDuration=function(a){return a instanceof i},ob=ic.length-1;ob>=0;--ob)t(ic[ob]);mb.normalizeUnits=function(a){return r(a)},mb.invalid=function(a){var b=mb.utc(0/0);return null!=a?j(b._pf,a):b._pf.userInvalidated=!0,b},mb.parseZone=function(){return mb.apply(null,arguments).parseZone()},mb.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)},j(mb.fn=h.prototype,{clone:function(){return mb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=mb(this).utc();return 0<a.year()&&a.year()<=9999?I(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):I(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&q(this._a,(this._isUTC?mb.utc(this._a):mb(this._a)).toArray())>0:!1},parsingFlags:function(){return j({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=I(this,a||mb.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c=\"string\"==typeof a&&\"string\"==typeof b?mb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):\"string\"==typeof a?mb.duration(+b,a):mb.duration(a,b),n(this,c,1),this},subtract:function(a,b){var c;return c=\"string\"==typeof a&&\"string\"==typeof b?mb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):\"string\"==typeof a?mb.duration(+b,a):mb.duration(a,b),n(this,c,-1),this},diff:function(a,b,c){var d,e,f=C(a,this),g=6e4*(this.zone()-f.zone());return b=r(b),\"year\"===b||\"month\"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-mb(this).startOf(\"month\")-(f-mb(f).startOf(\"month\")))/d,e-=6e4*(this.zone()-mb(this).startOf(\"month\").zone()-(f.zone()-mb(f).startOf(\"month\").zone()))/d,\"year\"===b&&(e/=12)):(d=this-f,e=\"second\"===b?d/1e3:\"minute\"===b?d/6e4:\"hour\"===b?d/36e5:\"day\"===b?(d-g)/864e5:\"week\"===b?(d-g)/6048e5:d),c?e:l(e)},from:function(a,b){return mb.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(mb(),a)},calendar:function(a){var b=a||mb(),c=C(b,this).startOf(\"day\"),d=this.diff(c,\"days\",!0),e=-6>d?\"sameElse\":-1>d?\"lastWeek\":0>d?\"lastDay\":1>d?\"sameDay\":2>d?\"nextDay\":7>d?\"nextWeek\":\"sameElse\";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){return y(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=$(a,this.lang()),this.add({d:a-b})):b},month:ib(\"Month\",!0),startOf:function(a){switch(a=r(a)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===a?this.weekday(0):\"isoWeek\"===a&&this.isoWeekday(1),\"quarter\"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=r(a),this.startOf(a).add(\"isoWeek\"===a?\"week\":a,1).subtract(\"ms\",1)},isAfter:function(a,b){return b=\"undefined\"!=typeof b?b:\"millisecond\",+this.clone().startOf(b)>+mb(a).startOf(b)},isBefore:function(a,b){return b=\"undefined\"!=typeof b?b:\"millisecond\",+this.clone().startOf(b)<+mb(a).startOf(b)},isSame:function(a,b){return b=b||\"ms\",+this.clone().startOf(b)===+C(a,this).startOf(b)},min:d(\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\",function(a){return a=mb.apply(null,arguments),this>a?this:a}),max:d(\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\",function(a){return a=mb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():(\"string\"==typeof a&&(a=L(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?n(this,mb.duration(c-a,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,mb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?\"UTC\":\"\"},zoneName:function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},parseZone:function(){return this._tzm?this.zone(this._tzm):\"string\"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?mb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return v(this.year(),this.month())},dayOfYear:function(a){var b=rb((mb(this).startOf(\"day\")-mb(this).startOf(\"year\"))/864e5)+1;return null==a?b:this.add(\"d\",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=bb(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add(\"y\",a-b)},isoWeekYear:function(a){var b=bb(this,1,4).year;return null==a?b:this.add(\"y\",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add(\"d\",7*(a-b))},isoWeek:function(a){var b=bb(this,1,4).week;return null==a?b:this.add(\"d\",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add(\"d\",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return w(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return w(this.year(),a.dow,a.doy)},get:function(a){return a=r(a),this[a]()},set:function(a,b){return a=r(a),\"function\"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=F(b),this)}}),mb.fn.millisecond=mb.fn.milliseconds=ib(\"Milliseconds\",!1),mb.fn.second=mb.fn.seconds=ib(\"Seconds\",!1),mb.fn.minute=mb.fn.minutes=ib(\"Minutes\",!1),mb.fn.hour=mb.fn.hours=ib(\"Hours\",!0),mb.fn.date=ib(\"Date\",!0),mb.fn.dates=d(\"dates accessor is deprecated. Use date instead.\",ib(\"Date\",!0)),mb.fn.year=ib(\"FullYear\",!0),mb.fn.years=d(\"years accessor is deprecated. Use year instead.\",ib(\"FullYear\",!0)),mb.fn.days=mb.fn.day,mb.fn.months=mb.fn.month,mb.fn.weeks=mb.fn.week,mb.fn.isoWeeks=mb.fn.isoWeek,mb.fn.quarters=mb.fn.quarter,mb.fn.toJSON=mb.fn.toISOString,j(mb.duration.fn=i.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=l(e/1e3),h.seconds=a%60,b=l(a/60),h.minutes=b%60,c=l(b/60),h.hours=c%24,f+=l(c/24),h.days=f%30,g+=l(f/30),h.months=g%12,d=l(g/12),h.years=d},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)},humanize:function(a){var b=+this,c=ab(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=mb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=mb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=r(a),this[a.toLowerCase()+\"s\"]()},as:function(a){return a=r(a),this[\"as\"+a.charAt(0).toUpperCase()+a.slice(1)+\"s\"]()},lang:mb.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?\"-\":\"\")+\"P\"+(a?a+\"Y\":\"\")+(b?b+\"M\":\"\")+(c?c+\"D\":\"\")+(d||e||f?\"T\":\"\")+(d?d+\"H\":\"\")+(e?e+\"M\":\"\")+(f?f+\"S\":\"\"):\"P0D\"}});for(ob in ac)ac.hasOwnProperty(ob)&&(kb(ob,ac[ob]),jb(ob.toLowerCase()));kb(\"Weeks\",6048e5),mb.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},mb.lang(\"en\",{ordinal:function(a){var b=a%10,c=1===u(a%100/10)?\"th\":1===b?\"st\":2===b?\"nd\":3===b?\"rd\":\"th\";return a+c}}),Bb?module.exports=mb:\"function\"==typeof define&&define.amd?(define(\"moment\",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(qb.moment=nb),mb}),lb(!0)):lb()}).call(this);","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n(function() {\n\nvar ACE_NAMESPACE = \"\";\n\nvar global = (function() {\n    return this;\n})();\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar _define = function(module, deps, payload) {\n    if (typeof module !== 'string') {\n        if (_define.original)\n            _define.original.apply(window, arguments);\n        else {\n            console.error('dropping module because define wasn\\'t a string.');\n            console.trace();\n        }\n        return;\n    }\n\n    if (arguments.length == 2)\n        payload = deps;\n\n    if (!_define.modules) {\n        _define.modules = {};\n        _define.payloads = {};\n    }\n    \n    _define.payloads[module] = payload;\n    _define.modules[module] = null;\n};\nvar _require = function(parentId, module, callback) {\n    if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (!dep && _require.original)\n                return _require.original.apply(window, arguments);\n            params.push(dep);\n        }\n        if (callback) {\n            callback.apply(null, params);\n        }\n    }\n    else if (typeof module === 'string') {\n        var payload = lookup(parentId, module);\n        if (!payload && _require.original)\n            return _require.original.apply(window, arguments);\n\n        if (callback) {\n            callback();\n        }\n\n        return payload;\n    }\n    else {\n        if (_require.original)\n            return _require.original.apply(window, arguments);\n    }\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n\n    return moduleName;\n};\nvar lookup = function(parentId, moduleName) {\n\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = _define.modules[moduleName];\n    if (!module) {\n        module = _define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            _define.modules[moduleName] = exports;\n            delete _define.payloads[moduleName];\n        }\n        module = _define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var require = function(module, callback) {\n        return _require(\"\", module, callback);\n    };    \n\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        _define.original = root.define;\n        root.define = _define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        _require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\ndefine('ace/ace', ['require', 'exports', 'module' , 'ace/lib/fixoldbrowsers', 'ace/lib/dom', 'ace/lib/event', 'ace/editor', 'ace/edit_session', 'ace/undomanager', 'ace/virtual_renderer', 'ace/multi_select', 'ace/worker/worker_client', 'ace/keyboard/hash_handler', 'ace/placeholder', 'ace/mode/folding/fold_mode', 'ace/theme/textmate', 'ace/ext/error_marker', 'ace/config'], function(require, exports, module) {\n\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar MultiSelect = require(\"./multi_select\").MultiSelect;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\nexports.edit = function(el) {\n    if (typeof(el) == \"string\") {\n        var _id = el;\n        var el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var doc = exports.createEditSession(dom.getInnerText(el));\n    el.innerHTML = '';\n\n    var editor = new Editor(new Renderer(el));\n    new MultiSelect(editor);\n    editor.setSession(doc);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n    });\n    el.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n}\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\n});\n\ndefine('ace/mode/behaviour', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    }\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    }\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    }\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    }\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {}\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    }\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\ndefine('ace/unicode', ['require', 'exports', 'module' ], function(require, exports, module) {\nexports.packages = {};\n\naddUnicodePackage({\n    L:  \"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    Ll: \"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A\",\n    Lu: \"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A\",\n    Lt: \"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC\",\n    Lm: \"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F\",\n    Lo: \"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    M:  \"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26\",\n    Mn: \"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26\",\n    Mc: \"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC\",\n    Me: \"0488048906DE20DD-20E020E2-20E4A670-A672\",\n    N:  \"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nd: \"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nl: \"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF\",\n    No: \"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835\",\n    P:  \"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65\",\n    Pd: \"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D\",\n    Ps: \"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62\",\n    Pe: \"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63\",\n    Pi: \"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20\",\n    Pf: \"00BB2019201D203A2E032E052E0A2E0D2E1D2E21\",\n    Pc: \"005F203F20402054FE33FE34FE4D-FE4FFF3F\",\n    Po: \"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65\",\n    S:  \"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD\",\n    Sm: \"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC\",\n    Sc: \"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6\",\n    Sk: \"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3\",\n    So: \"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD\",\n    Z:  \"002000A01680180E2000-200A20282029202F205F3000\",\n    Zs: \"002000A01680180E2000-200A202F205F3000\",\n    Zl: \"2028\",\n    Zp: \"2029\",\n    C:  \"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF\",\n    Cc: \"0000-001F007F-009F\",\n    Cf: \"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB\",\n    Co: \"E000-F8FF\",\n    Cs: \"D800-DFFF\",\n    Cn: \"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF\"\n});\n\nfunction addUnicodePackage (pack) {\n    var codePoint = /\\w{4}/g;\n    for (var name in pack)\n        exports.packages[name] = pack[name].replace(codePoint, \"\\\\u$&\");\n};\n\n});\n\ndefine('ace/token_iterator', ['require', 'exports', 'module' ], function(require, exports, module) {\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n            \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\ndefine('ace/mode/text_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next) {\n                    if (typeof rule.next != \"string\") {\n                        if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                            rule.nextState = prefix + rule.nextState;\n                    } else {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                if (rule.include || typeof rule == \"string\") {\n                    var includeName = rule.include || rule;\n                    var toInsert = rules[includeName];\n                } else if (Array.isArray(rule))\n                    toInsert = rule;\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                    toInsert = null\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        };\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            if (ignoreCase)\n                a = a.toLowerCase();\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; )\n                keywords[list[i]] = className;\n        });\n        if (Object.getPrototypeOf(keywords)) {\n            keywords.__proto__ = null;\n        }\n        this.$keywordList = Object.keys(keywords);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken }\n            : function(value) {return keywords[value] || defaultToken };\n    }\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\ndefine('ace/anchor', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(e) {\n        var delta = e.data;\n        var range = delta.range;\n\n        if (range.start.row == range.end.row && range.start.row != this.row)\n            return;\n\n        if (range.start.row > this.row)\n            return;\n\n        if (range.start.row == this.row && range.start.column > this.column)\n            return;\n\n        var row = this.row;\n        var column = this.column;\n        var start = range.start;\n        var end = range.end;\n\n        if (delta.action === \"insertText\") {\n            if (start.row === row && start.column <= column) {\n                if (start.column === column && this.$insertRight) {\n                } else if (start.row === end.row) {\n                    column += end.column - start.column;\n                } else {\n                    column -= start.column;\n                    row += end.row - start.row;\n                }\n            } else if (start.row !== end.row && start.row < row) {\n                row += end.row - start.row;\n            }\n        } else if (delta.action === \"insertLines\") {\n            if (start.row <= row) {\n                row += end.row - start.row;\n            }\n        } else if (delta.action === \"removeText\") {\n            if (start.row === row && start.column < column) {\n                if (end.column >= column)\n                    column = start.column;\n                else\n                    column = Math.max(0, column - (end.column - start.column));\n\n            } else if (start.row !== end.row && start.row < row) {\n                if (end.row === row)\n                    column = Math.max(0, column - end.column) + start.column;\n                row -= (end.row - start.row);\n            } else if (end.row === row) {\n                row -= end.row - start.row;\n                column = Math.max(0, column - end.column) + start.column;\n            }\n        } else if (delta.action == \"removeLines\") {\n            if (start.row <= row) {\n                if (end.row <= row)\n                    row -= end.row - start.row;\n                else {\n                    row = start.row;\n                    column = 0;\n                }\n            }\n        }\n\n        this.setPosition(row, column, true);\n    };\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.removeEventListener(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\ndefine('ace/background_tokenizer', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        while (self.lines[currentLine])\n            currentLine++;\n\n        var startLine = currentLine;\n\n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 == 0) && (new Date() - workerStart) > 20) {                \n                self.running = setTimeout(self.$worker, 20);\n                self.currentLine = currentLine;\n                return;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    }\n\n    this.$updateOnChange = function(delta) {\n        var range = delta.range;\n        var startRow = range.start.row;\n        var len = range.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\ndefine('ace/search_highlight', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/range'], function(require, exports, module) {\n\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\ndefine('ace/edit_session/folding', ['require', 'exports', 'module' , 'ace/range', 'ace/edit_session/fold_line', 'ace/edit_session/fold', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var fold = folds[i];\n            if (fold.range.contains(row, column)) {\n                if (side == 1 && fold.range.isEnd(row, column)) {\n                    continue;\n                } else if (side == -1 && fold.range.isStart(row, column)) {\n                    continue;\n                }\n                return fold;\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    }\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if(start < last) {\n                    if(start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0;//in one fold\n                }\n                break;\n            } else if(end >= first){\n                if (start >= first) //fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        if (!(startRow < endRow || \n            startRow == endRow && startColumn <= endColumn - 2))\n            throw new Error(\"The range has to be at least 2 characters width\");\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (\n            (startFold && !startFold.range.isStart(startRow, startColumn))\n            || (endFold && !endFold.range.isEnd(endRow, endColumn))\n        ) {\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + startFold.range);\n        }\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            folds.forEach(function(subFold) {\n                fold.addSubFold(subFold);\n            });\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._emit(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._emit(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner) {\n            this.removeFolds(folds);\n        } else {\n            var subFolds = folds;\n            while (subFolds.length) {\n                this.expandFolds(subFolds);\n                subFolds = this.getFoldsInRangeList(range);\n            }\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null) {\n            startRow = foldLine.start.row;\n            startColumn = 0;\n        }\n\n        if (endRow == null) {\n            endRow = foldLine.end.row;\n            endColumn = this.getLine(endRow).length;\n        }\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if(placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        if (token && /^comment|string/.test(token.type)) {\n            var range = new Range();\n            var re = new RegExp(token.type.replace(/\\..*/, \"\\\\.\"));\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while(token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                do {\n                    token = iterator.stepForward();\n                } while(token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                try {\n                    var fold = this.addFold(\"...\", range);\n                    if (fold)\n                        fold.collapseChildren = depth;\n                } catch(e) {}\n            }\n        }\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.removeListener('change', this.$updateFoldWidgets);\n        this._emit(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        \n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    }\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement)\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, range.end.row, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(e) {\n        var delta = e.data;\n        var range = delta.range;\n        var firstRow = range.start.row;\n        var len = range.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n\n}\n\nexports.Folding = Folding;\n\n});\n\ndefine('ace/edit_session/fold_line', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1]\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    }\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    }\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    }\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            comp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            comp = fold.range.compareStart(endRow, endColumn);\n            if (comp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || comp == 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    }\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp == 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                }\n            }\n        }\n        return null;\n    }\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i == 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    }\n\n    this.split = function(row, column) {\n        var fold = this.getNextFoldTo(row, column).fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n\n        if (!fold)\n            return null;\n\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    }\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    }\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\")\n        return ret.join(\"\\n\");\n    }\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n        var fold;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    }\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\ndefine('ace/tokenizer', ['require', 'exports', 'module' ], function(require, exports, module) {\nvar MAX_TOKEN_COUNT = 1000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    throw new Error(\"number of classes and regexp groups in '\" + \n                        rule.token + \"'\\n'\" + rule.regex +  \"' doesn't match\\n\"\n                        + (matchcount - 1) + \"!=\" + rule.token.length);\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n            rule.__proto__ = null;\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    },\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\[(?:\\\\.|[^\\]])*?\\]|\\\\.|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\")\n                        currentState = rule.next;\n                    else\n                        currentState = rule.next(currentState, stack);\n\n                    state = this.states[currentState];\n                    if (!state) {\n                        window.console && console.error && console.error(currentState, \"doesn't exist\");\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                break;\n            }\n\n            if (value) {\n                if (typeof type == \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (tokens.length > MAX_TOKEN_COUNT) {\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 2000),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n\n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\ndefine('ace/edit_session/fold', ['require', 'exports', 'module' , 'ace/range', 'ace/range_list', 'ace/lib/oop'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\")\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n\n        if (!this.range.containsRange(fold))\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n\n        if (cmp == 0)\n            return afterStart.addSubFold(fold);\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterEnd = this.subFolds[j];\n\n        if (cmp == 0)\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\ndefine('ace/mode/text', ['require', 'exports', 'module' , 'ace/tokenizer', 'ace/mode/text_highlight_rules', 'ace/mode/behaviour', 'ace/unicode', 'ace/lib/lang', 'ace/token_iterator', 'ace/range'], function(require, exports, module) {\n\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar Behaviour = require(\"./behaviour\").Behaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n    this.$behaviour = new Behaviour();\n};\n\n(function() {\n\n    this.tokenRe = new RegExp(\"^[\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]+\", \"g\"\n    );\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]|\\\\s])+\", \"g\"\n    );\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = new this.HighlightRules();\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === 'comment')\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n                return true;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                this.$embeds.push(i);\n                this.$modes[i] = new mapping[i]();\n            }\n        }\n\n        var delegations = ['toggleBlockComment', 'toggleCommentLines', 'getNextLineIndent', \n            'checkOutdent', 'autoOutdent', 'transformAction', 'getCompletions'];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            } (this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0];\n        if (typeof state != \"string\")\n            state = state[0];\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine('ace/range_list', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.call(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(e) {\n        var changeRange = e.data.range;\n        if (e.data.action[0] == \"i\"){\n            var start = changeRange.start;\n            var end = changeRange.end;\n        } else {\n            var end = changeRange.start;\n            var start = changeRange.end;\n        }\n        var startRow = start.row;\n        var endRow = end.row;\n        var lineDif = endRow - startRow;\n\n        var colDiff = -start.column + end.column;\n        var ranges = this.ranges;\n\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row < startRow)\n                continue;\n            if (r.start.row > startRow)\n                break;\n\n            if (r.start.row == startRow && r.start.column >= start.column ) {\n                if (r.start.column == start.column && this.$insertRight) {\n                } else {\n                    r.start.column += colDiff;\n                    r.start.row += lineDif;\n                }\n            }\n            if (r.end.row == startRow && r.end.column >= start.column) {\n                if (r.end.column == start.column && this.$insertRight) {\n                    continue;\n                }\n                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {                \n                    if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                        r.end.column -= colDiff;\n                }\n                r.end.column += colDiff;\n                r.end.row += lineDif;\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\ndefine('ace/range', ['require', 'exports', 'module' ], function(require, exports, module) {\n\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            };\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0)\n        else\n            return new Range(this.start.row, 0, this.end.row, 0)\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\ndefine('ace/edit_session/bracket_match', ['require', 'exports', 'module' , 'ace/token_iterator', 'ace/range'], function(require, exports, module) {\n\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column-1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\ndefine('ace/selection', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/lib/event_emitter', 'ace/range'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);\n    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);\n\n    var self = this;\n    this.lead.on(\"change\", function(e) {\n        self._emit(\"changeCursor\");\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.selectionAnchor.on(\"change\", function() {\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return (this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        ));\n    };\n    this.isMultiLine = function() {\n        if (this.isEmpty()) {\n            return false;\n        }\n\n        return this.getRange().isMultiLine();\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.anchor.setPosition(row, column);\n\n        if (this.$isEmpty) {\n            this.$isEmpty = false;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead()\n        else\n            return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.shiftSelection = function(columns) {\n        if (this.$isEmpty) {\n            this.moveCursorTo(this.lead.row, this.lead.column + columns);\n            return;\n        };\n\n        var anchor = this.getSelectionAnchor();\n        var lead = this.getSelectionLead();\n\n        var isBackwards = this.isBackwards();\n\n        if (!isBackwards || anchor.column !== 0)\n            this.setSelectionAnchor(anchor.row, anchor.column + columns);\n\n        if (isBackwards || lead.column !== 0) {\n            this.$moveSelection(function() {\n                this.moveCursorTo(lead.row, lead.column + columns);\n            });\n        }\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.isEmpty())\n            return Range.fromPoints(lead, lead);\n\n        if (this.isBackwards()) {\n            return Range.fromPoints(lead, anchor);\n        }\n        else {\n            return Range.fromPoints(anchor, lead);\n        }\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        var lastRow = this.doc.getLength() - 1;\n        this.setSelectionAnchor(0, 0);\n        this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        if (reverse) {\n            this.setSelectionAnchor(range.end.row, range.end.column);\n            this.selectTo(range.start.row, range.start.column);\n        } else {\n            this.setSelectionAnchor(range.start.row, range.start.column);\n            this.selectTo(range.end.row, range.end.column);\n        }\n        if (this.getRange().isEmpty())\n            this.$isEmpty = true;\n        this.$desiredColumn = null;\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column == 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column-tabSize, cursor.column).split(\" \").length-1 == tabSize)\n                this.moveCursorBy(0, -tabSize);\n            else\n                this.moveCursorBy(0, -1);\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column, cursor.column+tabSize).split(\" \").length-1 == tabSize)\n                this.moveCursorBy(0, tabSize);\n            else\n                this.moveCursorBy(0, 1);\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (match = this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column)\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (match = this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var match, index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row)\n            } while (row < l && /^\\s*$/.test(rightOfCursor))\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\"\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column == 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line))\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\"\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        if (chars === 0) {\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            if (this.session.lineWidgets && this.session.lineWidgets[docPos.row])\n                docPos.row++;\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    }\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    }\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    }\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data.isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else\n                data = data[0];\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false\n        }\n        return true;\n    }\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\ndefine('ace/search', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/range'], function(require, exports, module) {\n\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var iterator = this.$matchIterator(session, this.$options);\n\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(range, row, offset) {\n            if (!range.start) {\n                var column = range.offset + (offset || 0);\n                firstRange = new Range(row, column, row, column+range.length);\n            } else\n                firstRange = range;\n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n\n        var self = this, callback, backwards = options.backwards;\n\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var matchIterator = function(line, row, offset) {\n                var startIndex = line.search(re[0]);\n                if (startIndex == -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(row + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n\n                var endIndex = line.match(re[len - 1])[0].length;\n\n                var range = new Range(row, startIndex, row + len - 1, endIndex);\n                if (re.offset == 1) {\n                    range.start.row--;\n                    range.start.column = Number.MAX_VALUE;\n                } else if (offset)\n                    range.start.column += offset;\n\n                if (callback(range))\n                    return true;\n            };\n        } else if (backwards) {\n            var matchIterator = function(line, row, startIndex) {\n                var matches = lang.getMatchOffsets(line, re);\n                for (var i = matches.length-1; i >= 0; i--)\n                    if (callback(matches[i], row, startIndex))\n                        return true;\n            };\n        } else {\n            var matchIterator = function(line, row, startIndex) {\n                var matches = lang.getMatchOffsets(line, re);\n                for (var i = 0; i < matches.length; i++)\n                    if (callback(matches[i], row, startIndex))\n                        return true;\n            };\n        }\n\n        return {\n            forEach: function(_callback) {\n                callback = _callback;\n                self.$lineIterator(session, options).forEach(matchIterator);\n            }\n        };\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = \"\\\\b\" + needle + \"\\\\b\";\n\n        var modifier = options.caseSensitive ? \"g\" : \"gi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        if (parts[0] == \"\") {\n            re.shift();\n            re.offset = 1;\n        } else {\n            re.offset = 0;\n        }\n        return re;\n    };\n\n    this.$lineIterator = function(session, options) {\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n\n        var forEach = backwards ? function(callback) {\n                var row = start.row;\n\n                var line = session.getLine(row).substring(0, start.column);\n                if (callback(line, row))\n                    return;\n\n                for (row--; row >= firstRow; row--)\n                    if (callback(session.getLine(row), row))\n                        return;\n\n                if (options.wrap == false)\n                    return;\n\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (callback(session.getLine(row), row))\n                        return;\n            } : function(callback) {\n                var row = start.row;\n\n                var line = session.getLine(row).substr(start.column);\n                if (callback(line, row, start.column))\n                    return;\n\n                for (row = row+1; row <= lastRow; row++)\n                    if (callback(session.getLine(row), row))\n                        return;\n\n                if (options.wrap == false)\n                    return;\n\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (callback(session.getLine(row), row))\n                        return;\n            };\n        \n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nexports.Search = Search;\n});\n\ndefine('ace/edit_session', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/config', 'ace/lib/event_emitter', 'ace/selection', 'ace/mode/text', 'ace/range', 'ace/document', 'ace/background_tokenizer', 'ace/search_highlight', 'ace/edit_session/folding', 'ace/edit_session/bracket_match'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    }\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(e) {\n        var delta = e.data;\n        this.$modified = true;\n\n        this.$resetRowCache(delta.range.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(e);\n        if (!this.$fromUndo && this.$undoManager && !delta.ignore) {\n            this.$deltasDoc.push(delta);\n            if (removedFolds && removedFolds.length != 0) {\n                this.$deltasFold.push({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                });\n            }\n\n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", e);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n\n        if (undoManager) {\n            var self = this;\n\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n\n                if (self.$deltasFold.length) {\n                    self.$deltas.push({\n                        group: \"fold\",\n                        deltas: self.$deltasFold\n                    });\n                    self.$deltasFold = [];\n                }\n\n                if (self.$deltasDoc.length) {\n                    self.$deltas.push({\n                        group: \"doc\",\n                        deltas: self.$deltasDoc\n                    });\n                    self.$deltasDoc = [];\n                }\n\n                if (self.$deltas.length > 0) {\n                    undoManager.execute({\n                        action: \"aceupdate\",\n                        args: [self.$deltas, self],\n                        merge: self.mergeUndoDeltas\n                    });\n                }\n                self.mergeUndoDeltas = false;\n                self.$deltas = [];\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        reset: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        if (marker) {\n            delete (markers[markerId]);\n            this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n        }\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = {};\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options)\n                return this.$onChangeMode(this.$modes[path]);\n            if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n                cb && cb();\n            }\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.addEventListener !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.addEventListener(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.addEventListener(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\");\n        }\n    };\n\n\n    this.$stopWorker = function() {\n        if (this.$worker)\n            this.$worker.terminate();\n\n        this.$worker = null;\n    };\n\n    this.$startWorker = function() {\n        if (typeof Worker !== \"undefined\" && !require.noWorker) {\n            try {\n                this.$worker = this.$mode.createWorker(this);\n            } catch (e) {\n                console.log(\"Could not load worker\");\n                console.log(e);\n                this.$worker = null;\n            }\n        }\n        else\n            this.$worker = null;\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.revertDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, true, lastUndoRange);\n            } else {\n                delta.deltas.forEach(function(foldDelta) {\n                    this.addFolds(foldDelta.folds);\n                }, this);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.applyDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, false, lastUndoRange);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo, lastUndoRange) {\n        function isInsert(delta) {\n            var insert =\n                delta.action === \"insertText\" || delta.action === \"insertLines\";\n            return isUndo ? !insert : insert;\n        }\n\n        var delta = deltas[0];\n        var range, point;\n        var lastDeltaIsInsert = false;\n        if (isInsert(delta)) {\n            range = Range.fromPoints(delta.range.start, delta.range.end);\n            lastDeltaIsInsert = true;\n        } else {\n            range = Range.fromPoints(delta.range.start, delta.range.start);\n            lastDeltaIsInsert = false;\n        }\n\n        for (var i = 1; i < deltas.length; i++) {\n            delta = deltas[i];\n            if (isInsert(delta)) {\n                point = delta.range.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(delta.range.start);\n                }\n                point = delta.range.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(delta.range.end);\n                }\n                lastDeltaIsInsert = true;\n            } else {\n                point = delta.range.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range =\n                        Range.fromPoints(delta.range.start, delta.range.start);\n                }\n                lastDeltaIsInsert = false;\n            }\n        }\n        if (lastUndoRange != null) {\n            if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {\n                lastUndoRange.start.column += range.end.column - range.start.column;\n                lastUndoRange.end.column += range.end.column - range.start.column;\n            }\n\n            var cmp = lastUndoRange.compareRange(range);\n            if (cmp == 1) {\n                range.setStart(lastUndoRange.start);\n            } else if (cmp == -1) {\n                range.setEnd(lastUndoRange.end);\n            }\n        }\n\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.insert({row: row, column:0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n\n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeLines(firstRow, lastRow);\n        this.doc.insertLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = {\n                min: min,\n                max: max\n            };\n            this.$modified = true;\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(e) {\n        var useWrapMode = this.$useWrapMode;\n        var len;\n        var action = e.data.action;\n        var firstRow = e.data.range.start.row;\n        var lastRow = e.data.range.end.row;\n        var start = e.data.range.start;\n        var end = e.data.range.end;\n        var removedFolds = null;\n\n        if (action.indexOf(\"Lines\") != -1) {\n            if (action == \"insertLines\") {\n                lastRow = firstRow + (e.data.lines.length);\n            } else {\n                lastRow = firstRow;\n            }\n            len = e.data.lines ? e.data.lines.length : lastRow - firstRow;\n        } else {\n            len = lastRow - firstRow;\n        }\n\n        this.$updating = true;\n        if (len != 0) {\n            if (action.indexOf(\"remove\") != -1) {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(e.data.range);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column)\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        foldLine.shiftRow(len);\n                        foldLine.addRemoveChars(\n                            lastRow, 0, end.column - start.column);\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(e.data.range.start.column - e.data.range.end.column);\n            if (action.indexOf(\"remove\") != -1) {\n                removedFolds = this.getFoldsInRange(e.data.range);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        function addSplit(screenPos) {\n            var displayed = tokens.slice(lastSplit, screenPos);\n            var len = displayed.length;\n            displayed.join(\"\").\n                replace(/12/g, function() {\n                    len -= 1;\n                }).\n                replace(/2/g, function() {\n                    len -= 1;\n                });\n\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n\n        while (displayLength - lastSplit > wrapLimit) {\n            var split = lastSplit + wrapLimit;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (isCode ? 10 : wrapLimit-(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            addSplit(split);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        if (this.lineWidgets)\n            var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - screenColumn % this.$tabSize;\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            }\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                var splitIndex = Math.floor(screenRow - row);\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n            }\n        }\n\n        return {\n            row: screenRow,\n            column: this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n    }\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    };\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n            this.$wrap = value;\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$modified = true;\n                    this.$resetRowCache(0);\n                    this.$updateWrapData(0, this.getLength() - 1);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            if (isNaN(tabSize) || this.$tabSize === tabSize) return;\n\n            this.$modified = true;\n            this.$rowLengthCache = [];\n            this.$tabSize = tabSize;\n            this._signal(\"changeTabSize\");\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val)},\n        get: function() {return this.doc.getNewLineMode()},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val) },\n        get: function() { return this.$modeId }\n    }\n});\n\nexports.EditSession = EditSession;\n});\ndefine('ace/commands/command_manager', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/keyboard/hash_handler', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    HashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, HashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (typeof command === 'string')\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        var retvalue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return retvalue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.removeEventListener(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\ndefine('ace/keyboard/keybinding', ['require', 'exports', 'module' , 'ace/lib/keys', 'ace/lib/event'], function(require, exports, module) {\n\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n        this.$data = {editor: this.$editor};\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);                \n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        var success = this.$callKeyboardHandlers(-1, text);\n        if (!success)\n            this.$editor.commands.exec(\"insertstring\", this.$editor, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\ndefine('ace/keyboard/hash_handler', ['require', 'exports', 'module' , 'ace/lib/keys', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    if (this.__defineGetter__ && this.__defineSetter__ && typeof console != \"undefined\" && console.error) {\n        var warned = false;\n        var warn = function() {\n            if (!warned) {\n                warned = true;\n                console.error(\"commmandKeyBinding has too many m's. use commandKeyBinding\");\n            }\n        };\n        this.__defineGetter__(\"commmandKeyBinding\", function() {\n            warn();\n            return this.commandKeyBinding;\n        });\n        this.__defineSetter__(\"commmandKeyBinding\", function(val) {\n            warn();\n            return this.commandKeyBinding = val;\n        });\n    } else {\n        this.commmandKeyBinding = this.commandKeyBinding;\n    }\n\n    this.addCommands(config);\n};\n\n(function() {\n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command) {\n        var name = (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var hashId in ckb) {\n            for (var key in ckb[hashId]) {\n                if (ckb[hashId][key] == command)\n                    delete ckb[hashId][key];\n            }\n        }\n    };\n\n    this.bindKey = function(key, command) {\n        if(!key)\n            return;\n        if (typeof command == \"function\") {\n            this.addCommand({exec: command, bindKey: key, name: command.name || key});\n            return;\n        }\n\n        var ckb = this.commandKeyBinding;\n        key.split(\"|\").forEach(function(keyPart) {\n            var binding = this.parseKeys(keyPart, command);\n            var hashId = binding.hashId;\n            (ckb[hashId] || (ckb[hashId] = {}))[binding.key] = command;\n        }, this);\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        var binding = command.bindKey;\n        if (!binding)\n            return;\n\n        var key = typeof binding == \"string\" ? binding: binding[this.platform];\n        this.bindKey(key, command);\n    };\n    this.parseKeys = function(keys) {\n        if (keys.indexOf(\" \") != -1)\n            keys = keys.split(/\\s+/).pop();\n\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var ckbr = this.commandKeyBinding;\n        return ckbr[hashId] && ckbr[hashId][keyString];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        return {\n            command: this.findKeyCommand(hashId, keyString)\n        };\n    };\n\n}).call(HashHandler.prototype)\n\nexports.HashHandler = HashHandler;\n});\n\ndefine('ace/mouse/fold_handler', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\ndefine('ace/commands/default_commands', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/config'], function(require, exports, module) {\n\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"Ctrl-E\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Ctrl-Shift-E\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor) {\n        var line = parseInt(prompt(\"Enter line number:\"), 10);\n        if (!isNaN(line)) {\n            editor.gotoLine(line);\n        }\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    bindKey: bindKey(\"Ctrl-Alt-0\", \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    bindKey: bindKey(\"ALt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor)});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    bindKey: bindKey(\"Ctrl-P\", \"Ctrl-Shift-P\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    bindKey: bindKey(\"Ctrl-Shift-P\", null),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, \n{\n    name: \"cut\",\n    exec: function(editor) {\n        var range = editor.getSelectionRange();\n        editor._emit(\"cut\", range);\n\n        if (!editor.selection.isEmpty()) {\n            editor.session.remove(range);\n            editor.clearSelection();\n        }\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"removeline\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true)});\n    }\n}, {\n    name: \"undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    bindKey: bindKey(\"Ctrl-T\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}];\n\n});\n\ndefine('ace/lib/event_emitter', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    callback && this.addEventListener(eventName, function newCallback() {\n        _self.removeEventListener(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        var old = handlers[eventName];\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (this._eventRegistry) this._eventRegistry[eventName] = [];\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\ndefine('ace/undomanager', ['require', 'exports', 'module' ], function(require, exports, module) {\nvar UndoManager = function() {\n    this.reset();\n};\n\n(function() {\n    this.execute = function(options) {\n        var deltas = options.args[0];\n        this.$doc  = options.args[1];\n        if (options.merge && this.hasUndo()){\n            this.dirtyCounter--;\n            deltas = this.$undoStack.pop().concat(deltas);\n        }\n        this.$undoStack.push(deltas);\n        this.$redoStack = [];\n\n        if (this.dirtyCounter < 0) {\n            this.dirtyCounter = NaN;\n        }\n        this.dirtyCounter++;\n    };\n    this.undo = function(dontSelect) {\n        var deltas = this.$undoStack.pop();\n        var undoSelectionRange = null;\n        if (deltas) {\n            undoSelectionRange =\n                this.$doc.undoChanges(deltas, dontSelect);\n            this.$redoStack.push(deltas);\n            this.dirtyCounter--;\n        }\n\n        return undoSelectionRange;\n    };\n    this.redo = function(dontSelect) {\n        var deltas = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltas) {\n            redoSelectionRange =\n                this.$doc.redoChanges(deltas, dontSelect);\n            this.$undoStack.push(deltas);\n            this.dirtyCounter++;\n        }\n\n        return redoSelectionRange;\n    };\n    this.reset = function() {\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.dirtyCounter = 0;\n    };\n    this.hasUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.hasRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.markClean = function() {\n        this.dirtyCounter = 0;\n    };\n    this.isClean = function() {\n        return this.dirtyCounter === 0;\n    };\n\n}).call(UndoManager.prototype);\n\nexports.UndoManager = UndoManager;\n});\ndefine('ace/lib/net', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\n\n});\n\ndefine('ace/virtual_renderer', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/config', 'ace/layer/gutter', 'ace/layer/marker', 'ace/layer/text', 'ace/layer/cursor', 'ace/scrollbar', 'ace/renderloop', 'ace/layer/font_metrics', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \".ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\nfont-size: 12px;\\\nline-height: normal;\\\ndirection: ltr;\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: text;\\\nmin-width: 100%;\\\n}\\\n.ace_dragging, .ace_dragging * {\\\ncursor: move !important;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ntext-indent: -1em;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: #f8f8f8;\\\ncolor: #111;\\\nz-index: 1000;\\\nopacity: 1;\\\ntext-indent: 0;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n/* setting pointer-events: auto; on node under the mouse, which changes\\\nduring scroll, will break mouse wheel scrolling in Safari */\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0px;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\n-moz-transition: opacity 0.18s;\\\n-webkit-transition: opacity 0.18s;\\\n-o-transition: opacity 0.18s;\\\n-ms-transition: opacity 0.18s;\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_editor.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\n-moz-border-radius: 2px;\\\n-webkit-border-radius: 2px;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\ndisplay: block;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\n-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\n-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n/**\\\n* Dark version for fold widgets\\\n*/\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\n-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\n-moz-transition: opacity 0.4s ease 0.05s;\\\n-webkit-transition: opacity 0.4s ease 0.05s;\\\n-o-transition: opacity 0.4s ease 0.05s;\\\n-ms-transition: opacity 0.4s ease 0.05s;\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\n-moz-transition: opacity 0.05s ease 0.05s;\\\n-webkit-transition: opacity 0.05s ease 0.05s;\\\n-o-transition: opacity 0.05s ease 0.05s;\\\n-ms-transition: opacity 0.05s ease 0.05s;\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n\";\n\ndom.importCssString(editorCss, \"ace_editor\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n    this.$keepTextAreaAtCursor = true;\n\n    dom.addCssClass(this.container, \"ace_editor\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container, 500);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.addEventListener(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._emit(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (!session)\n            return;\n            \n        if (this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode()\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow ||\n            this.$changedLines.lastRow < this.layerConfig.firstRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            this.scrollBarH.element.style.left = \n            this.scroller.style.left = gutterWidth + \"px\";\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());           \n            \n            this.scrollBarH.element.style.right = \n            this.scroller.style.right = this.scrollBarV.getWidth() + \"px\";\n            this.scroller.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force)\n                changes |= this.CHANGE_FULL;\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function() {\n        var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n            this.$loop.schedule(this.CHANGE_MARKER);\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\")\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updateGutterLineHighlight = function() {\n        var pos = this.$cursorLayer.$pixelPos;\n        var height = this.layerConfig.lineHeight;\n        if (this.session.getUseWrapMode()) {\n            var cursor = this.session.selection.getCursor();\n            cursor.column = 0;\n            pos = this.$cursorLayer.getPixelPosition(cursor, true);\n            height *= this.session.getRowLength(cursor.row);\n        }\n        this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + \"px\";\n        this.$gutterLineHighlight.style.height = height + \"px\";\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = ((this.characterWidth * this.$printMarginColumn) + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.content;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (!this.$keepTextAreaAtCursor)\n            return;\n        var config = this.layerConfig;\n        var posTop = this.$cursorLayer.$pixelPos.top;\n        var posLeft = this.$cursorLayer.$pixelPos.left;\n        posTop -= config.offset;\n\n        var h = this.lineHeight;\n        if (posTop < 0 || posTop > config.height - h)\n            return;\n\n        var w = this.characterWidth;\n        if (this.$composition) {\n            var val = this.textarea.value.replace(/^\\x01+/, \"\");\n            w *= (this.session.$getStringScreenWidth(val)[0]+2);\n            h += 2;\n            posTop -= 1;\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft -= this.scrollBar.width;\n\n        this.textarea.style.height = h + \"px\";\n        this.textarea.style.width = w + \"px\";\n        this.textarea.style.right = Math.max(0, this.$size.scrollerWidth - posLeft - w) + \"px\";\n        this.textarea.style.bottom = Math.max(0, this.$size.height - posTop - h) + \"px\";\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var flint = Math.floor((this.layerConfig.height + this.layerConfig.offset) / this.layerConfig.lineHeight);\n        return this.layerConfig.firstRow - 1 + flint;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        this.scrollBarV.setScrollHeight(this.layerConfig.maxHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\");\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig();\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            this.$gutterLayer.element.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.width = config.width + 2 * this.$padding + \"px\";\n            this.content.style.height = config.minHeight + \"px\";\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            this.content.style.marginLeft = -this.scrollLeft + \"px\";\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this._signal(\"afterRender\");\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\");\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\");\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.max(\n            (this.$minLines||1) * this.lineHeight,\n            Math.min(maxHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        var vScroll = height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var offset = this.scrollTop % this.lineHeight;\n        var minHeight = size.scrollerHeight + this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        \n        if (!this.$maxLines && this.$scrollPastEnd) {\n            if (this.scrollTop > maxHeight - size.scrollerHeight)\n                maxHeight += Math.min(\n                    (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd,\n                    this.scrollTop - maxHeight + size.scrollerHeight\n                );\n        }\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight < 0);\n        var vScrollChanged = this.$vScroll !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n        \n        this.session.setScrollTop(Math.max(-this.scrollMargin.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + this.scrollMargin.bottom)));\n\n        this.session.setScrollLeft(Math.max(-this.scrollMargin.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + this.scrollMargin.right)));\n\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)),\n            height : this.$size.scrollerHeight\n        };\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight - (this.$size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n\n        var offset = (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n\n        var col = Math.round(\n            (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth\n        );\n\n        var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0));\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + Math.round(pos.column * this.characterWidth);\n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(position) {\n        if (!this.$composition)\n            this.$composition = {\n                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,\n                cssText: this.textarea.style.cssText\n            };\n\n        this.$keepTextAreaAtCursor = true;\n        dom.addCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = \"\";\n        this.$moveTextAreaToCursor();\n    };\n    this.setCompositionText = function(text) {\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;\n        this.textarea.style.cssText = this.$composition.cssText;\n        this.$composition = null;\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module.cssClass)\n                return;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container.ownerDocument\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        if (this.content.style.cursor != style)\n            this.content.style.cursor = style;\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        this.content.style.cursor = cursorStyle;\n    };\n    this.destroy = function() {\n        this.$textLayer.destroy();\n        this.$cursorLayer.destroy();\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {this.$gutterLayer.setShowFoldWidgets(show)},\n        initialValue: true\n    },\n    showLineNumbers: {\n        set: function(show) {\n            this.$gutterLayer.setShowLineNumbers(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            if (!this.$gutterLineHighlight) {\n                this.$gutterLineHighlight = dom.createElement(\"div\");\n                this.$gutterLineHighlight.className = \"ace_gutter-active-line\";\n                this.$gutter.appendChild(this.$gutterLineHighlight);\n                return;\n            }\n\n            this.$gutterLineHighlight.style.display = shouldHighlight ? \"\" : \"none\";\n            if (this.$cursorLayer.$pixelPos)\n                this.$updateGutterLineHighlight();\n        },\n        initialValue: false,\n        value: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize:  {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val) },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\ndefine('ace/config', ['require', 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/lib/net', 'ace/lib/event_emitter'], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar global = (function() {\n    return this;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {}\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    options[key] = value;\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\noop.implement(exports, EventEmitter);\n\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];    \n    if (sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n};\ninit(true);function init(packaged) {\n\n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    if (!global.document)\n        return \"\";\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n\n    var scripts = document.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n};\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            optionNames = Object.keys(this.$options);\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            if (typeof console != \"undefined\" && console.warn)\n                console.warn('misspelled option \"' + name + '\"');\n            return undefined;\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            if (typeof console != \"undefined\" && console.warn)\n                console.warn('misspelled option \"' + name + '\"');\n            return undefined;\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nvar defaultOptions = {};\nexports.defineOptions = function(obj, path, options) {\n    if (!obj.$options)\n        defaultOptions[path] = obj.$options = {};\n\n    Object.keys(options).forEach(function(key) {\n        var opt = options[key];\n        if (typeof opt == \"string\")\n            opt = {forwardTo: opt};\n\n        opt.name || (opt.name = key);\n        obj.$options[opt.name] = opt;\n        if (\"initialValue\" in opt)\n            obj[\"$\" + opt.name] = opt.initialValue;\n    });\n    oop.implement(obj, optionsProvider);\n\n    return this;\n};\n\nexports.resetOptions = function(obj) {\n    Object.keys(obj.$options).forEach(function(key) {\n        var opt = obj.$options[key];\n        if (\"value\" in opt)\n            obj.setOption(key, opt.value);\n    });\n};\n\nexports.setDefaultValue = function(path, name, value) {\n    var opts = defaultOptions[path] || (defaultOptions[path] = {});\n    if (opts[name]) {\n        if (opts.forwardTo)\n            exports.setDefaultValue(opts.forwardTo, name, value);\n        else\n            opts[name].value = value;\n    }\n};\n\nexports.setDefaultValues = function(path, optionHash) {\n    Object.keys(optionHash).forEach(function(key) {\n        exports.setDefaultValue(path, key, optionHash[key]);\n    });\n};\n\n});\n\ndefine('ace/layer/gutter', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/oop', 'ace/lib/lang', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n\n    this.$cells = [];\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.removeEventListener(\"change\", this.$updateAnnotations);\n        this.session = session;\n        session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (e) {\n        if (!this.$annotations.length)\n            return;\n        var delta = e.data;\n        var range = delta.range;\n        var firstRow = range.start.row;\n        var len = range.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineNumber = 0;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$cells.length > index + 1) {\n                    cell = this.$cells.pop();\n                    this.element.removeChild(cell.element);\n                }\n                break;\n            }\n\n            cell = this.$cells[++index];\n            if (!cell) {\n                cell = {element: null, textNode: null, foldWidget: null};\n                cell.element = dom.createElement(\"div\");\n                cell.textNode = document.createTextNode('');\n                cell.element.appendChild(cell.textNode);\n                this.element.appendChild(cell.element);\n                this.$cells[index] = cell;\n            }\n\n            var className = \"ace_gutter-cell \";\n            if (breakpoints[row])\n                className += breakpoints[row];\n            if (decorations[row])\n                className += decorations[row];\n            if (this.$annotations[row])\n                className += this.$annotations[row].className;\n            if (cell.element.className != className)\n                cell.element.className = className;\n\n            var height = session.getRowLength(row) * config.lineHeight + \"px\";\n            if (height != cell.element.style.height)\n                cell.element.style.height = height;\n\n            if (foldWidgets) {\n                var c = foldWidgets[row];\n                if (c == null)\n                    c = foldWidgets[row] = session.getFoldWidget(row);\n            }\n\n            if (c) {\n                if (!cell.foldWidget) {\n                    cell.foldWidget = dom.createElement(\"span\");\n                    cell.element.appendChild(cell.foldWidget);\n                }\n                var className = \"ace_fold-widget ace_\" + c;\n                if (c == \"start\" && row == foldStart && row < fold.end.row)\n                    className += \" ace_closed\";\n                else\n                    className += \" ace_open\";\n                if (cell.foldWidget.className != className)\n                    cell.foldWidget.className = className;\n\n                var height = config.lineHeight + \"px\";\n                if (cell.foldWidget.style.height != height)\n                    cell.foldWidget.style.height = height;\n            } else {\n                if (cell.foldWidget) {\n                    cell.element.removeChild(cell.foldWidget);\n                    cell.foldWidget = null;\n                }\n            }\n            \n            var text = lastLineNumber = gutterRenderer\n                ? gutterRenderer.getText(session, row)\n                : row + firstLineNumber;\n            if (text != cell.textNode.data)\n                cell.textNode.data = text;\n\n            row++;\n        }\n\n        this.element.style.height = config.minHeight + \"px\";\n\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineNumber = session.getLength() + firstLineNumber;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineNumber, config)\n            : lastLineNumber.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._emit(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return \"\"},\n            getText: function() {return \"\"}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;\n        this.$padding.right = parseInt(style.paddingRight) || 0;\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nexports.Gutter = Gutter;\n\n});\n\ndefine('ace/mouse/dragdrop_handler', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/event', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage._top = blankImage.offsetTop;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.renderer.$cursorLayer.setBlinking(true);\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n        x = e.clientX;\n        y = e.clientY;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragSelectionMarker)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.$blockScrolling += 1;\n            editor.moveCursorToPosition(cursor);\n            editor.$blockScrolling -= 1;\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.$blockScrolling += 1;\n        editor.selection.fromOrientedRange(range);\n        editor.$blockScrolling -= 1;\n        if (editor.isFocused() && !isInternal)\n            editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());\n        range = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var target = this.editor.container;\n        target.draggable = true;\n        this.editor.renderer.$cursorLayer.setBlinking(false);\n        this.editor.setStyle(\"ace_dragging\");\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\ndefine('ace/layer/marker', ['require', 'exports', 'module' , 'ace/range', 'ace/lib/dom'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n\n    this.update = function(config) {\n        var config = config || this.config;\n        if (!config)\n            return;\n\n        this.config = config;\n\n\n        var html = [];\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\", config);\n            }\n        }\n        this.element = dom.setInnerHtml(this.element, html.join(\"\"));\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var row = range.start.row;\n\n        var lineRange = new Range(\n            row, range.start.column,\n            row, this.session.getScreenLastRowColumn(row)\n        );\n        this.drawSingleLineMarker(stringBuilder, lineRange, clazz + \" ace_start\", layerConfig, 1, extraStyle);\n        row = range.end.row;\n        lineRange = new Range(row, 0, row, range.end.column);\n        this.drawSingleLineMarker(stringBuilder, lineRange, clazz, layerConfig, 0, extraStyle);\n\n        for (row = range.start.row + 1; row < range.end.row; row++) {\n            lineRange.start.row = row;\n            lineRange.end.row = row;\n            lineRange.end.column = this.session.getScreenLastRowColumn(row);\n            this.drawSingleLineMarker(stringBuilder, lineRange, clazz, layerConfig, 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \" ace_start' style='\",\n            \"height:\", height, \"px;\",\n            \"right:0;\",\n            \"top:\", top, \"px;\",\n            \"left:\", left, \"px;\", extraStyle, \"'></div>\"\n        );\n        top = this.$getTop(range.end.row, config);\n        var width = range.end.column * config.characterWidth;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"width:\", width, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n        );\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height < 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"right:0;\",\n            \"top:\", top, \"px;\",\n            \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"width:\", width, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:\", left, \"px;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\ndefine('ace/mouse/mouse_event', ['require', 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\ndefine('ace/layer/text', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/useragent', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2192\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n\n    this.$updateEolChar = function() {\n        var EOL_CHAR = this.session.doc.getNewLineCharacter() == \"\\n\"\n           ? this.EOL_CHAR_LF\n           : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    }\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.padding = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    }\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showInvisibles) {\n                tabStr.push(\"<span class='ace_invisible'>\"\n                    + this.TAB_CHAR\n                    + lang.stringRepeat(\"\\xa0\", i - 1)\n                    + \"</span>\");\n            } else {\n                tabStr.push(lang.stringRepeat(\"\\xa0\", i));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            if (this.showInvisibles) {\n                className += \" ace_invisible\";\n                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n                var tabContent = this.TAB_CHAR + lang.stringRepeat(\"\\xa0\", this.tabSize - 1);\n            } else{\n                var spaceContent = lang.stringRepeat(\"\\xa0\", this.tabSize);\n                var tabContent = spaceContent;\n            }\n\n            this.$tabStrings[\" \"] = \"<span class='\" + className + \"'>\" + spaceContent + \"</span>\";\n            this.$tabStrings[\"\\t\"] = \"<span class='\" + className + \"'>\" + tabContent + \"</span>\";\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            this.scrollLines(config);\n        }\n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                var html = [];\n                this.$renderLine(\n                    html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false\n                );\n                lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n                dom.setInnerHtml(lineElement, html.join(\"\"));\n            }\n            row++;\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        var el = this.element;\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                el.removeChild(el.firstChild);\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                el.removeChild(el.lastChild);\n\n        if (config.firstRow < oldConfig.firstRow) {\n            var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);\n            if (el.firstChild)\n                el.insertBefore(fragment, el.firstChild);\n            else\n                el.appendChild(fragment);\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);\n            el.appendChild(fragment);\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = this.element.ownerDocument.createDocumentFragment();\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var container = dom.createElement(\"div\");\n\n            var html = [];\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n            container.innerHTML = html.join(\"\");\n            if (this.$useLineGroups()) {\n                container.className = 'ace_line_group';\n                fragment.appendChild(container);\n                container.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n\n            } else {\n                while(container.firstChild)\n                    fragment.appendChild(container.firstChild);\n            }\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var html = [];\n        var firstRow = config.firstRow, lastRow = config.lastRow;\n\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            if (this.$useLineGroups())\n                html.push(\"<div class='ace_line_group' style='height:\", config.lineHeight*this.session.getRowLength(row), \"px'>\")\n\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups())\n                html.push(\"</div>\"); // end the line group\n\n            row++;\n        }\n        this.element = dom.setInnerHtml(this.element, html.join(\"\"));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(stringBuilder, screenColumn, token, value) {\n        var self = this;\n        var replaceReg = /\\t|&|<|( +)|([\\x00-\\x1f\\x80-\\xa0\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])|[\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3000-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]/g;\n        var replaceFunc = function(c, a, b, tabIdx, idx4) {\n            if (a) {\n                return self.showInvisibles ?\n                    \"<span class='ace_invisible'>\" + lang.stringRepeat(self.SPACE_CHAR, c.length) + \"</span>\" :\n                    lang.stringRepeat(\"\\xa0\", c.length);\n            } else if (c == \"&\") {\n                return \"&#38;\";\n            } else if (c == \"<\") {\n                return \"&#60;\";\n            } else if (c == \"\\t\") {\n                var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);\n                screenColumn += tabSize - 1;\n                return self.$tabStrings[tabSize];\n            } else if (c == \"\\u3000\") {\n                var classToUse = self.showInvisibles ? \"ace_cjk ace_invisible\" : \"ace_cjk\";\n                var space = self.showInvisibles ? self.SPACE_CHAR : \"\";\n                screenColumn += 1;\n                return \"<span class='\" + classToUse + \"' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + space + \"</span>\";\n            } else if (b) {\n                return \"<span class='ace_invisible ace_invalid'>\" + self.SPACE_CHAR + \"</span>\";\n            } else {\n                screenColumn += 1;\n                return \"<span class='ace_cjk' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + c + \"</span>\";\n            }\n        };\n\n        var output = value.replace(replaceReg, replaceFunc);\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var style = \"\";\n            if (token.type == \"fold\")\n                style = \" style='width:\" + (token.value.length * this.config.characterWidth) + \"px;' \";\n            stringBuilder.push(\"<span class='\", classes, \"'\", style, \">\", output, \"</span>\");\n        }\n        else {\n            stringBuilder.push(output);\n        }\n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(stringBuilder, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\" \"], cols/this.tabSize));\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\"\\t\"], cols));\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$renderWrappedLine = function(stringBuilder, tokens, splits, onlyContents) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(stringBuilder, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    if (!onlyContents) {\n                        stringBuilder.push(\"</div>\",\n                            \"<div class='ace_line' style='height:\",\n                            this.config.lineHeight, \"px'>\"\n                        );\n                    }\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn, token, value\n                    );\n                }\n            }\n        }\n    };\n\n    this.$renderSimpleLine = function(stringBuilder, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(stringBuilder, value);\n        if (value)\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        }\n    };\n    this.$renderLine = function(stringBuilder, row, onlyContents, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n\n        if (!onlyContents) {\n            stringBuilder.push(\n                \"<div class='ace_line' style='height:\", \n                    this.config.lineHeight * (\n                        this.$useLineGroups() ? 1 :this.session.getRowLength(row)\n                    ), \"px'>\"\n            );\n        }\n\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length)\n                this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);\n            else\n                this.$renderSimpleLine(stringBuilder, tokens);\n        }\n\n        if (this.showInvisibles) {\n            if (foldLine)\n                row = foldLine.end.row\n\n            stringBuilder.push(\n                \"<span class='ace_invisible'>\",\n                row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,\n                \"</span>\"\n            );\n        }\n        if (!onlyContents)\n            stringBuilder.push(\"</div>\");\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$measureNode)\n            this.$measureNode.parentNode.removeChild(this.$measureNode);\n        delete this.$measureNode;\n    };\n\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\ndefine('ace/tooltip', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        dom.setInnerText(this.getElement(), text);\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\ndefine('ace/layer/cursor', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar IE8;\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    if (IE8 === undefined)\n        IE8 = \"opacity\" in this.element;\n\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateVisibility.bind(this);\n};\n\n(function() {\n    \n    this.$updateVisibility = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.visibility = val ? \"\" : \"hidden\";\n    };\n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.opacity = val ? \"\" : \"0\";\n    };\n    \n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking){\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval){\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking && !IE8) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.$updateCursors = (smoothBlinking \n                ? this.$updateOpacity\n                : this.$updateVisibility).bind(this);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible)\n            return;\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        var blink = function(){\n            this.timeoutId = setTimeout(function() {\n                update(false);\n            }, 0.6 * this.blinkInterval);\n        }.bind(this);\n\n        this.intervalId = setInterval(function() {\n            update(true);\n            blink();\n        }, this.blinkInterval);\n\n        blink();\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + pos.column * this.config.characterWidth;\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var style = (this.cursors[cursorIndex++] || this.addCursor()).style;\n\n            style.left = pixelPos.left + \"px\";\n            style.top = pixelPos.top + \"px\";\n            style.width = config.characterWidth + \"px\";\n            style.height = config.lineHeight + \"px\";\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\ndefine('ace/mouse/default_gutter_handler', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/oop', 'ace/lib/event', 'ace/tooltip'], function(require, exports, module) {\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = gutter.$cells[row].element;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor.removeEventListener(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    });\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\ndefine('ace/scrollbar', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/event', 'ace/lib/event_emitter'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return this.isVisible ? this.width : 0;\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = function(height) {\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollHeight = function(height) {\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = this.element.scrollTop = scrollTop;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\ndefine('ace/mouse/default_handlers', ['require', 'exports', 'module' , 'ace/lib/dom', 'ace/lib/event', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n\n            if (selectionEmpty) {\n                editor.selection.moveToPosition(pos);\n            }\n            editor.textInput.onContextMenu(ev.domEvent);\n            return; // stopping event here breaks contextmenu on ff mac\n        }\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.mousedownEvent.time = Date.now();\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        if (!inSelection || this.$clickSelection || ev.getShiftKey() || editor.inMultiSelectMode) {\n            this.startSelect(pos);\n        } else if (inSelection) {\n            this.mousedownEvent.time = Date.now();\n            this.startSelect(pos);\n        }\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        var shiftPressed = this.mousedownEvent.getShiftKey();\n        if (shiftPressed) {\n            editor.selection.selectToPosition(pos);\n        }\n        else if (!this.$clickSelection) {\n            editor.selection.moveToPosition(pos);\n        }\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this[this.state] && this[this.state](ev);\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        this.$clickSelection = editor.selection.getLineRange(pos.row);\n        this[this.state] && this[this.state](ev);\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n\n        var t = ev.domEvent.timeStamp;\n        var dt = t - (this.$lastScrollTime||0);\n        \n        var editor = this.editor;\n        var isScrolable = editor.renderer.isScrollableBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n        if (isScrolable || dt < 200) {\n            this.$lastScrollTime = t;\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\ndefine('ace/renderloop', ['require', 'exports', 'module' , 'ace/lib/event'], function(require, exports, module) {\n\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.window = win || window;\n};\n\n(function() {\n\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (!this.pending && this.changes) {\n            this.pending = true;\n            var _self = this;\n            event.nextFrame(function() {\n                _self.pending = false;\n                var changes;\n                while (changes = _self.changes) {\n                    _self.changes = 0;\n                    _self.onRender(changes);\n                }\n            }, this.window);\n        }\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\ndefine('ace/mouse/mouse_handler', ['require', 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent', 'ace/mouse/default_handlers', 'ace/mouse/default_gutter_handler', 'ace/mouse/mouse_event', 'ace/mouse/dragdrop_handler', 'ace/config'], function(require, exports, module) {\n\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n    event.addMultiMouseDownListener(mouseTarget, [300, 300, 250], this, \"onMouseEvent\");\n    if (editor.renderer.scrollBarV) {\n        event.addMultiMouseDownListener(editor.renderer.scrollBarV.inner, [300, 300, 250], this, \"onMouseEvent\");\n        event.addMultiMouseDownListener(editor.renderer.scrollBarH.inner, [300, 300, 250], this, \"onMouseEvent\");\n    }\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n\n    event.addListener(mouseTarget, \"mousedown\", function(e) {\n        editor.focus();\n    });\n\n    event.addListener(gutterEl, \"mousedown\", function(e) {\n        editor.focus();\n        return event.preventDefault(e);\n    });\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n\n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var renderer = this.editor.renderer;\n        if (renderer.$keepTextAreaAtCursor)\n            renderer.$keepTextAreaAtCursor = null;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.$clickSelection = null;\n            if (renderer.$keepTextAreaAtCursor == null) {\n                renderer.$keepTextAreaAtCursor = true;\n                renderer.$moveTextAreaToCursor();\n            }\n            self.isMousePressed = false;\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            self.onMouseEvent(\"mouseup\", e);\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: 150},\n    dragEnabled: {initialValue: true},\n    focusTimout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\ndefine('ace/layer/font_metrics', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/event_emitter'], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 0;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl, interval) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    if (!CHAR_COUNT)\n        this.$testFractionalRect();\n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$testFractionalRect = function() {\n        var el = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(el.style);\n        el.style.width = \"0.2px\";\n        document.documentElement.appendChild(el);\n        var w = el.getBoundingClientRect().width;\n        if (w > 0 && w < 1)\n            CHAR_COUNT = 1;\n        else\n            CHAR_COUNT = 100;\n        el.parentNode.removeChild(el);\n    };\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"-100px\";\n        style.visibility = \"hidden\";\n        style.position = \"fixed\";\n        style.whiteSpace = \"pre\";\n        style.font = \"inherit\";\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function() {\n        var size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = setInterval(function() {\n            self.checkForSizeChanges();\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else {\n            if (this.$pollSizeChangesTimer)\n                this.$pollSizeChangesTimer;\n        }\n    };\n\n    this.$measureSizes = function() {\n        var rect = this.$measureNode.getBoundingClientRect();\n        var size = {\n            height: rect.height,\n            width: rect.width / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n}).call(FontMetrics.prototype);\n\n});\n\ndefine('ace/keyboard/textinput', ['require', 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent', 'ace/lib/dom', 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    if (useragent.isTouchPad)\n        text.setAttribute(\"x-palm-disable-auto-cap\", true);\n\n    text.wrap = \"off\";\n    text.autocorrect = \"off\";\n    text.autocapitalize = \"off\";\n    text.spellcheck = false;\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var PLACEHOLDER = \"\\x01\\x01\";\n\n    var cut = false;\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var tempStyle = '';\n    var isSelectionEmpty = true;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function() {\n        host.onBlur();\n        isFocused = false;\n    });\n    event.addListener(text, \"focus\", function() {\n        isFocused = true;\n        host.onFocus();\n        resetSelection();\n    });\n    this.focus = function() { text.focus(); };\n    this.blur = function() { text.blur(); };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    var syncSelection = lang.delayedCall(function() {\n        isFocused && resetSelection(isSelectionEmpty);\n    });\n    var syncValue = lang.delayedCall(function() {\n         if (!inComposition) {\n            text.value = PLACEHOLDER;\n            isFocused && resetSelection();\n         }\n    });\n\n    function resetSelection(isEmpty) {\n        if (inComposition)\n            return;\n        if (inputHandler) {\n            selectionStart = 0;\n            selectionEnd = isEmpty ? 0 : text.value.length - 1;\n        } else {\n            var selectionStart = isEmpty ? 2 : 1;\n            var selectionEnd = 2;\n        }\n        try {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        } catch(e){}\n    }\n\n    function resetValue() {\n        if (inComposition)\n            return;\n        text.value = PLACEHOLDER;\n        if (useragent.isWebKit)\n            syncValue.schedule();\n    }\n\n    useragent.isWebKit || host.addEventListener('changeSelection', function() {\n        if (host.selection.isEmpty() != isSelectionEmpty) {\n            isSelectionEmpty = !isSelectionEmpty;\n            syncSelection.schedule();\n        }\n    });\n\n    resetValue();\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n    };\n    if (!text.setSelectionRange && text.createTextRange) {\n        text.setSelectionRange = function(selectionStart, selectionEnd) {\n            var range = this.createTextRange();\n            range.collapse(true);\n            range.moveStart('character', selectionStart);\n            range.moveEnd('character', selectionEnd);\n            range.select();\n        };\n        isAllSelected = function(text) {\n            try {\n                var range = text.ownerDocument.selection.createRange();\n            }catch(e) {}\n            if (!range || range.parentElement() != text) return false;\n                return range.text == text.value;\n        }\n    }\n    if (useragent.isOldIE) {\n        var inPropertyChange = false;\n        var onPropertyChange = function(e){\n            if (inPropertyChange)\n                return;\n            var data = text.value;\n            if (inComposition || !data || data == PLACEHOLDER)\n                return;\n            if (e && data == PLACEHOLDER[0])\n                return syncProperty.schedule();\n\n            sendText(data);\n            inPropertyChange = true;\n            resetValue();\n            inPropertyChange = false;\n        };\n        var syncProperty = lang.delayedCall(onPropertyChange);\n        event.addListener(text, \"propertychange\", onPropertyChange);\n\n        var keytable = { 13:1, 27:1 };\n        event.addListener(text, \"keyup\", function (e) {\n            if (inComposition && (!text.value || keytable[e.keyCode]))\n                setTimeout(onCompositionEnd, 0);\n            if ((text.value.charCodeAt(0)||0) < 129) {\n                return syncProperty.call();\n            }\n            inComposition ? onCompositionUpdate() : onCompositionStart();\n        });\n        event.addListener(text, \"keydown\", function (e) {\n            syncProperty.schedule(50);\n        });\n    }\n\n    var onSelect = function(e) {\n        if (cut) {\n            cut = false;\n        } else if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (inputHandler) {\n            resetSelection(host.selection.isEmpty());\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb};\n    this.getInputHandler = function() {return inputHandler};\n    var afterContextMenu = false;\n    \n    var sendText = function(data) {\n        if (inputHandler) {\n            data = inputHandler(data);\n            inputHandler = null;\n        }\n        if (pasted) {\n            resetSelection();\n            if (data)\n                host.onPaste(data);\n            pasted = false;\n        } else if (data == PLACEHOLDER.charAt(0)) {\n            if (afterContextMenu)\n                host.execCommand(\"del\", {source: \"ace\"});\n            else // some versions of android do not fire keydown when pressing backspace\n                host.execCommand(\"backspace\", {source: \"ace\"});\n        } else {\n            if (data.substring(0, 2) == PLACEHOLDER)\n                data = data.substr(2);\n            else if (data.charAt(0) == PLACEHOLDER.charAt(0))\n                data = data.substr(1);\n            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            \n            if (data)\n                host.onTextInput(data);\n        }\n        if (afterContextMenu)\n            afterContextMenu = false;\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return;\n        var data = text.value;\n        sendText(data);\n        resetValue();\n    };\n\n    var onCut = function(e) {\n        var data = host.getCopyText();\n        if (!data) {\n            event.preventDefault(e);\n            return;\n        }\n\n        var clipboardData = e.clipboardData || window.clipboardData;\n\n        if (clipboardData && !BROKEN_SETDATA) {\n            var supported = clipboardData.setData(\"Text\", data);\n            if (supported) {\n                host.onCut();\n                event.preventDefault(e);\n            }\n        }\n\n        if (!supported) {\n            cut = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                cut = false;\n                resetValue();\n                resetSelection();\n                host.onCut();\n            });\n        }\n    };\n\n    var onCopy = function(e) {\n        var data = host.getCopyText();\n        if (!data) {\n            event.preventDefault(e);\n            return;\n        }\n\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (clipboardData && !BROKEN_SETDATA) {\n            var supported = clipboardData.setData(\"Text\", data);\n            if (supported) {\n                host.onCopy();\n                event.preventDefault(e);\n            }\n        }\n        if (!supported) {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetValue();\n                resetSelection();\n                host.onCopy();\n            });\n        }\n    };\n\n    var onPaste = function(e) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n\n        if (clipboardData) {\n            var data = clipboardData.getData(\"Text\");\n            if (data)\n                host.onPaste(data);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n    event.addListener(text, \"select\", onSelect);\n\n    event.addListener(text, \"input\", onInput);\n\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)){\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n            return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        });\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart) return;\n        inComposition = {};\n        host.onCompositionStart();\n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", onCompositionEnd);\n        if (!host.selection.isEmpty()) {\n            host.insert(\"\");\n            host.session.markUndoGroup();\n            host.selection.clearSelection();\n        }\n        host.session.markUndoGroup();\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate) return;\n        var val = text.value.replace(/\\x01/g, \"\");\n        if (inComposition.lastValue === val) return;\n        \n        host.onCompositionUpdate(val);\n        if (inComposition.lastValue)\n            host.undo();\n        inComposition.lastValue = val;\n        if (inComposition.lastValue) {\n            var r = host.selection.getRange();\n            host.insert(inComposition.lastValue);\n            host.session.markUndoGroup();\n            inComposition.range = host.selection.getRange();\n            host.selection.setRange(r);\n            host.selection.clearSelection();\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd) return;\n        var c = inComposition;\n        inComposition = false;\n        var timer = setTimeout(function() {\n            timer = null;\n            var str = text.value.replace(/\\x01/g, \"\");\n            if (inComposition)\n                return\n            else if (str == c.lastValue)\n                resetValue();\n            else if (!c.lastValue && str) {\n                resetValue();\n                sendText(str);\n            }\n        });\n        inputHandler = function compositionInputHandler(str) {\n            if (timer)\n                clearTimeout(timer);\n            str = str.replace(/\\x01/g, \"\");\n            if (str == c.lastValue)\n                return \"\";\n            if (c.lastValue && timer)\n                host.undo();\n            return str;\n        };\n        host.onCompositionEnd();\n        host.removeListener(\"mousedown\", onCompositionEnd);\n        if (e.type == \"compositionend\" && c.range) {\n            host.selection.setRange(c.range);\n        }\n    };\n    \n    \n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n    if (useragent.isGecko) {\n        event.addListener(text, \"text\", function(){syncComposition.schedule()});\n    } else {\n        event.addListener(text, \"keyup\", function(){syncComposition.schedule()});\n        event.addListener(text, \"keydown\", function(){syncComposition.schedule()});\n    }\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function() {\n        return text;\n    };\n\n    this.setReadOnly = function(readOnly) {\n       text.readOnly = readOnly;\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n\n        text.style.cssText = \"z-index:100000;\" + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n        resetSelection(host.selection.isEmpty());\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight;\n        var move = function(e) {\n            text.style.left = e.clientX - left - 2 + \"px\";\n            text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        if (host.renderer.$keepTextAreaAtCursor)\n            host.renderer.$keepTextAreaAtCursor = null;\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    function onContextMenuClose() {\n        setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            if (host.renderer.$keepTextAreaAtCursor == null) {\n                host.renderer.$keepTextAreaAtCursor = true;\n                host.renderer.$moveTextAreaToCursor();\n            }\n        }, 0);\n    }\n    if (!useragent.isGecko || useragent.isMac) {\n        var onContextMenu = function(e) {\n            host.textInput.onContextMenu(e);\n            onContextMenuClose();\n        };\n        event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n        event.addListener(text, \"contextmenu\", onContextMenu);\n    }\n};\n\nexports.TextInput = TextInput;\n});\n\ndefine('ace/lib/lang', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject( array[i] );\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function (obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var cons = obj.constructor;\n    if (cons === RegExp)\n        return obj;\n    \n    var copy = cons();\n    for (var key in obj) {\n        if (typeof obj[key] === \"object\") {\n            copy[key] = exports.deepCopy(obj[key]);\n        } else {\n            copy[key] = obj[key];\n        }\n    }\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return str.replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\ndefine('ace/multi_select', ['require', 'exports', 'module' , 'ace/range_list', 'ace/range', 'ace/selection', 'ace/mouse/multi_select_handler', 'ace/lib/event', 'ace/lib/lang', 'ace/commands/multi_select_commands', 'ace/search', 'ace/edit_session', 'ace/editor', 'ace/config'], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount == 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        else if(this.ranges[0])\n            this.fromOrientedRange(this.ranges[0]);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount == 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n\n    this.splitIntoLines = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var range = this.getRange();\n            var isBackwards = this.isBackwards();\n            var startRow = range.start.row;\n            var endRow = range.end.row;\n            if (startRow == endRow) {\n                if (isBackwards)\n                    var start = range.end, end = range.start;\n                else\n                    var start = range.start, end = range.end;\n                \n                this.addRange(Range.fromPoints(end, end));\n                this.addRange(Range.fromPoints(start, start));\n                return;\n            }\n\n            var rectSel = [];\n            var r = this.getLineRange(startRow, true);\n            r.start.column = range.start.column;\n            rectSel.push(r);\n\n            for (var i = startRow + 1; i < endRow; i++)\n                rectSel.push(this.getLineRange(i, true));\n\n            r = this.getLineRange(endRow, true);\n            r.end.column = range.end.column;\n            rectSel.push(r);\n\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.selectionLead);\n            var anchor = this.session.documentToScreenPosition(this.selectionAnchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn),\n                this.session.screenToDocumentPosition(row, endColumn)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                var docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, $byLines) {\n        if (this.inVirtualSelectionMode)\n            return;\n\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var result;\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = rangeList.ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && rangeList.ranges[i].start.row == rangeList.ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(rangeList.ranges[i]);\n            tmpSel.id = rangeList.ranges[i].marker;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec(this, args || {});\n            if (result !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(rangeList.ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    this.onPaste = function(text) {\n        if (this.$readOnly)\n            return;\n\n\n        var e = {text: text};\n        this._signal(\"paste\", e);\n        text = e.text;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return this.insert(text);\n\n        var lines = text.split(/\\r\\n|\\r|\\n/);\n        var ranges = this.selection.rangeList.ranges;\n\n        if (lines.length > ranges.length || lines.length < 2 || !lines[1])\n            return this.commands.exec(\"insertstring\", this, text);\n\n        for (var i = ranges.length; i--;) {\n            var range = ranges[i];\n            if (!range.isEmpty())\n                this.session.remove(range);\n\n            this.session.insert(range.start, lines[i]);\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        this.$search.set(options);\n\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        this.$blockScrolling += 1;\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n\n        this.$blockScrolling -= 1;\n\n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n    };\n    this.selectMore = function(dir, skip) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.$blockScrolling += 1;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.$blockScrolling -= 1;\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n\n        if (!ranges.length) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.doc.removeLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.doc.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            var row = -1;\n            var sameRowRanges = ranges.filter(function(r) {\n                if (r.cursor.row == row)\n                    return true;\n                row = r.cursor.row;\n            });\n            sel.$onRemoveRange(sameRowRanges);\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \")\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW, \" \")\n                + m[4].replace(/^([=:])\\s+/, \"$1 \")\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \")\n        }\n    }\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (!session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.removeEventListener(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.removeEventListener(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.removeEventListener(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.removeEventListener(\"singleSelect\", this.$onSingleSelect);\n    }\n\n    session.multiSelect.on(\"addRange\", this.$onAddRange);\n    session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n    session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n    session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n\n    if (this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        if (e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey)) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    });\n\n    event.addListener(el, \"keyup\", reset);\n    event.addListener(el, \"blur\", reset);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    }\n})\n\n\n\n});\n\ndefine('ace/editor', ['require', 'exports', 'module' , 'ace/lib/fixoldbrowsers', 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/useragent', 'ace/keyboard/textinput', 'ace/mouse/mouse_handler', 'ace/mouse/fold_handler', 'ace/keyboard/keybinding', 'ace/edit_session', 'ace/search', 'ace/range', 'ace/lib/event_emitter', 'ace/commands/command_manager', 'ace/commands/default_commands', 'ace/config'], function(require, exports, module) {\n\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar Editor = function(renderer, session) {\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    this.textInput  = new TextInput(renderer.getTextAreaContainer(), this);\n    this.renderer.textarea = this.textInput.getElement();\n    this.keyBinding = new KeyBinding(this);\n    this.$mouseHandler = new MouseHandler(this);\n    new FoldHandler(this);\n\n    this.$blockScrolling = 0;\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || new EditSession(\"\"));\n    config.resetOptions(this);\n    config._signal(\"editor\", this);\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        function last(a) {return a[a.length - 1]}\n\n        this.selections = [];\n        this.commands.on(\"exec\", function(e) {\n            this.startOperation(e);\n\n            var command = e.command;\n            if (command.aceCommandGroup == \"fileJump\") {\n                var prev = this.prevOp;\n                if (!prev || prev.command.aceCommandGroup != \"fileJump\") {\n                    this.lastFileJumpPos = last(this.selections);\n                }\n            } else {\n                this.lastFileJumpPos = null;\n            }\n        }.bind(this), true);\n\n        this.commands.on(\"afterExec\", function(e) {\n            var command = e.command;\n\n            if (command.aceCommandGroup == \"fileJump\") {\n                if (this.lastFileJumpPos && !this.curOp.selectionChanged) {\n                    this.selection.fromJSON(this.lastFileJumpPos);\n                }\n            }\n            this.endOperation(e);\n        }.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));\n\n        this.on(\"change\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n\n        this.on(\"changeSelection\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commadEvent) {\n        if (this.curOp) {\n            if (!commadEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commadEvent) {\n            this.previousCommand = null;\n            commadEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = {\n            command: commadEvent.command || {},\n            args: commadEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        \n        var command = this.curOp.command;\n        if (command && command.scrollIntoView)\n            this.$blockScrolling++;\n\n        this.selections.push(this.selection.toJSON());\n    };\n\n    this.endOperation = function() {\n        if (this.curOp) {\n            var command = this.curOp.command;\n            if (command && command.scrollIntoView) {\n                this.$blockScrolling--;\n                switch (command.scrollIntoView) {\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (command.scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            \n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n\n        var prev = this.prevOp;\n        var mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler) {\n        if (!keyboardHandler) {\n            this.keyBinding.setKeyboardHandler(null);\n        } else if (typeof keyboardHandler === \"string\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.removeEventListener(\"change\", this.$onDocumentChange);\n            this.session.removeEventListener(\"changeMode\", this.$onChangeMode);\n            this.session.removeEventListener(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.removeEventListener(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.removeEventListener(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.removeEventListener(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.removeEventListener(\"onChangeFold\", this.$onChangeFold);\n            this.session.removeEventListener(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.removeEventListener(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.removeEventListener(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.removeEventListener(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.removeEventListener(\"changeOverwrite\", this.$onCursorChange);\n            this.session.removeEventListener(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.removeEventListener(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n            selection.removeEventListener(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.addEventListener(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.addEventListener(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.addEventListener(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.addEventListener(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.addEventListener(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.addEventListener(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.addEventListener(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.addEventListener(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.addEventListener(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.addEventListener(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.addEventListener(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.addEventListener(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.addEventListener(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.addEventListener(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.addEventListener(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.addEventListener(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.$blockScrolling += 1;\n            this.onCursorChange();\n            this.$blockScrolling -= 1;\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container, \"fontSize\");\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.session.$bracketHighlight) {\n            this.session.removeMarker(this.session.$bracketHighlight);\n            this.session.$bracketHighlight = null;\n        }\n\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function() {\n            self.$highlightPending = false;\n\n            var pos = self.session.findMatchingBracket(self.getCursorPosition());\n            if (pos) {\n                var range = new Range(pos.row, pos.column, pos.row, pos.column+1);\n            } else if (self.session.$mode.getMatching) {\n                var range = self.session.$mode.getMatching(self.session);\n            }\n            if (range)\n                self.session.$bracketHighlight = self.session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function() {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\");\n    };\n    this.onBlur = function() {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\");\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n    };\n    this.onDocumentChange = function(e) {\n        var delta = e.data;\n        var range = delta.range;\n        var lastRow;\n\n        if (range.start.row == range.end.row && delta.action != \"insertLines\" && delta.action != \"removeLines\")\n            lastRow = range.end.row;\n        else\n            lastRow = Infinity;\n        this.renderer.updateLines(range.start.row, lastRow);\n\n        this._signal(\"change\", e);\n        this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n\n        if (!this.$blockScrolling) {\n            this.renderer.scrollCursorIntoView();\n        }\n\n        this.$highlightBrackets();\n        this.$updateHighlightActiveLine();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if ((this.$selectionStyle != \"line\" || !this.selection.isMultiLine()))\n                highlight = this.getCursorPosition();\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startOuter = selection.start.column - 1;\n        var endOuter = selection.end.column + 1;\n        var line = session.getLine(selection.start.row);\n        var lineCols = line.length;\n        var needle = line.substring(Math.max(startOuter, 0),\n                                    Math.min(endOuter, lineCols));\n        if ((startOuter >= 0 && /^[\\w\\d]/.test(needle)) ||\n            (endOuter <= lineCols && /[\\w\\d]$/.test(needle)))\n            return;\n\n        needle = line.substring(selection.start.column, selection.end.column);\n        if (!/^[\\w\\d]+$/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n\n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        this._signal(\"copy\", text);\n        return text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text) {\n        if (this.$readOnly)\n            return;\n        var e = {text: text};\n        this._signal(\"paste\", e);\n        this.insert(e.text, true);\n    };\n\n\n    this.execCommand = function(command, args) {\n        this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    this.session.mergeUndoDeltas = false;\n                    this.$mergeNextCommand = false;\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite()) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        var end = session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n\n        if (session.getDocument().isNewLine(text)) {\n            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n            session.insert({row: cursor.row+1, column: 0}, lineIndent);\n        }\n        if (shouldOutdent)\n            mode.autoOutdent(lineState, session, cursor.row);\n    };\n\n    this.onTextInput = function(text) {\n        this.keyBinding.onTextInput(text);\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        var range;\n        if (rows.first === 0 || rows.last+1 < this.session.getLength())\n            range = new Range(rows.first, 0, rows.last+1, 0);\n        else\n            range = new Range(\n                rows.first-1, this.session.getLine(rows.first-1).length,\n                rows.last, this.session.getLine(rows.last).length\n            );\n        this.session.remove(range);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            return this.session.moveLinesDown(firstRow, lastRow);\n        });\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            return this.session.moveLinesUp(firstRow, lastRow);\n        });\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            this.session.duplicateLines(firstRow, lastRow);\n            return 0;\n        });\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(function(firstRow, lastRow) {\n            return this.session.duplicateLines(firstRow, lastRow);\n        });\n    };\n    this.$moveLines = function(mover) {\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            var rows = this.$getSelectedRows(range);\n            var linesMoved = mover.call(this, rows.first, rows.last);\n            range.moveBy(linesMoved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n\n            for (var i = ranges.length; i--; ) {\n                var rangeIndex = i;\n                var rows = ranges[i].collapseRows();\n                var last = rows.end.row;\n                var first = rows.start.row;\n                while (i--) {\n                    rows = ranges[i].collapseRows();\n                    if (first - rows.end.row <= 1)\n                        first = rows.end.row;\n                    else\n                        break;\n                }\n                i++;\n\n                var linesMoved = mover.call(this, first, last);\n                while (rangeIndex >= i) {\n                    ranges[rangeIndex].moveBy(linesMoved, 0);\n                    rangeIndex--;\n                }\n            }\n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n        }\n    };\n    this.$getSelectedRows = function() {\n        var range = this.getSelectionRange().collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(text) {\n        this.renderer.showComposition(this.getCursorPosition());\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        this.$blockScrolling++;\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        this.$blockScrolling--;\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.$blockScrolling += 1;\n        this.selection.selectAll();\n        this.$blockScrolling -= 1;\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select) {\n        var cursor = this.getCursorPosition();\n\n        var range = this.session.getBracketRange(cursor);\n        if (!range) {\n            range = this.find({\n                needle: /[{}()\\[\\]]/g,\n                preventScroll:true,\n                start: {row: cursor.row, column: cursor.column - 1}\n            });\n            if (!range)\n                return;\n            var pos = range.start;\n            if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                range = this.session.getBracketRange(pos);\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && range.isEqual(this.getSelectionRange()))\n                    this.clearSelection();\n                else\n                    this.selection.selectTo(pos.row, pos.column);\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n\n        this.$blockScrolling += 1;\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        this.$blockScrolling -= 1;\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        if (range !== null) {\n            this.selection.setSelectionRange(range);\n            this.renderer.scrollSelectionIntoView(range.start, range.end);\n        }\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        this.$blockScrolling += 1;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n        this.$blockScrolling -= 1;\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.$blockScrolling += 1;\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        this.$blockScrolling -= 1;\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().undo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().redo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && self.isFocused()) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.removeEventListener(\"changeSelection\", onChangeSelection);\n            this.renderer.removeEventListener(\"afterRender\", onAfterRender);\n            this.renderer.removeEventListener(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(style == \"smooth\");\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly); \n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val)}\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    showLineNumbers: \"renderer\",\n    showGutter: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\nexports.Editor = Editor;\n});\n\ndefine('ace/mouse/multi_select_handler', ['require', 'exports', 'module' , 'ace/lib/event'], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = e.getAccelKey();\n    var button = e.getButton();\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n\n    var blockSelect = function() {\n        var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n        var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column);\n\n        if (isSamePoint(screenCursor, newCursor)\n            && isSamePoint(cursor, selection.selectionLead))\n            return;\n        screenCursor = newCursor;\n\n        editor.selection.moveToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n\n        editor.removeSelectionMarkers(rectSel);\n        rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n        rectSel.forEach(editor.addSelectionMarker, editor);\n        editor.updateSelectionMarkers();\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n\n    \n\n    if (ctrl && !alt && !shift && button === 0) {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.$blockScrolling++;\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.$blockScrolling--;\n        });\n\n    } else if (alt && button === 0) {\n        e.stop();\n\n        if (isMultiSelect && !ctrl)\n            selection.toSingleRange();\n        else if (!isMultiSelect && ctrl)\n            selection.addRange();\n\n        var rectSel = [];\n        if (shift) {\n            screenAnchor = session.documentToScreenPosition(selection.lead);\n            blockSelect();\n        } else {\n            selection.moveToPosition(pos);\n        }\n\n\n        var onMouseSelectionEnd = function(e) {\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\ndefine('ace/lib/useragent', ['require', 'exports', 'module' ], function(require, exports, module) {\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nif (typeof navigator != \"object\")\n    return;\n\nvar os = (navigator.platform.match(/mac|win|linux/i) || [\"other\"])[0].toLowerCase();\nvar ua = navigator.userAgent;\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (navigator.appName == \"Microsoft Internet Explorer\" || navigator.appName.indexOf(\"MSAppHost\") >= 0)\n    && parseFloat(navigator.userAgent.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:|MSIE )([0-9]+[\\.0-9]+)/)[1]);\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = window.controllers && window.navigator.product === \"Gecko\";\nexports.isOldGecko = exports.isGecko && parseInt((navigator.userAgent.match(/rv\\:(\\d+)/)||[])[1], 10) < 4;\nexports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isIPad = ua.indexOf(\"iPad\") >= 0;\n\nexports.isTouchPad = ua.indexOf(\"TouchPad\") >= 0;\n\n});\n\ndefine('ace/commands/multi_select_commands', ['require', 'exports', 'module' , 'ace/keyboard/hash_handler'], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    readonly: true\n}, {\n    name: \"addCursorBelow\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    readonly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    readonly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    readonly: true\n}, {\n    name: \"selectMoreBefore\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    readonly: true\n}, {\n    name: \"selectMoreAfter\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    readonly: true\n}, {\n    name: \"selectNextBefore\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    readonly: true\n}, {\n    name: \"selectNextAfter\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    readonly: true\n}, {\n    name: \"splitIntoLines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readonly: true\n}, {\n    name: \"alignCursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"}\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    readonly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\ndefine('ace/lib/oop', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\ndefine('ace/worker/worker_client', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter', 'ace/config'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nvar WorkerClient = function(topLevelNamespaces, mod, classname, workerUrl) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n    if (require.nameToUrl && !require.toUrl)\n        require.toUrl = require.nameToUrl;\n    \n    if (config.get(\"packaged\") || !require.toUrl) {\n        workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n    } else {\n        var normalizePath = this.$normalizePath;\n        workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n        var tlns = {};\n        topLevelNamespaces.forEach(function(ns) {\n            tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n        });\n    }\n\n    try {\n        this.$worker = new Worker(workerUrl);\n    } catch(e) {\n        if (e instanceof window.DOMException) {\n            var blob = this.$workerBlob(workerUrl);\n            var URL = window.URL || window.webkitURL;\n            var blobURL = URL.createObjectURL(blob);\n\n            this.$worker = new Worker(blobURL);\n            URL.revokeObjectURL(blobURL);\n        } else {\n            throw e;\n        }\n    }\n    this.$worker.postMessage({\n        init : true,\n        tlns : tlns,\n        module : mod,\n        classname : classname\n    });\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch(msg.type) {\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n        }\n    };\n\n    this.$normalizePath = function(path) {\n        if (!location.host) // needed for file:// protocol\n            return path;\n        path = path.replace(/^[a-z]+:\\/\\/[^\\/]+/, \"\"); // Remove domain name and rebuild it\n        path = location.protocol + \"//\" + location.host\n            + (path.charAt(0) == \"/\" ? \"\" : location.pathname.replace(/\\/[^\\/]*$/, \"\"))\n            + \"/\" + path.replace(/^[\\/]+/, \"\");\n        return path;\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        this.$doc.removeEventListener(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {}\n    };\n\n    this.attachToDocument = function(doc) {\n        if(this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(e) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [e.data];\n            setTimeout(this.$sendDeltaQueue, 0);\n        } else\n            this.deltaQueue.push(e.data);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 20 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n    this.$workerBlob = function(workerUrl) {\n        var script = \"importScripts('\" + workerUrl + \"');\";\n        try {\n            return new Blob([script], {\"type\": \"application/javascript\"});\n        } catch (e) { // Backwards-compatibility\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n            var blobBuilder = new BlobBuilder();\n            blobBuilder.append(script);\n            return blobBuilder.getBlob(\"application/javascript\");\n        }\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.callbackId = 1;\n    this.callbacks = {};\n    this.messageBuffer = [];\n\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n    var _self = this;\n\n    this.$worker = {};\n    this.$worker.terminate = function() {};\n    this.$worker.postMessage = function(e) {\n        _self.messageBuffer.push(e);\n        if (main) {\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    };\n    this.setEmitSync = function(val) { emitSync = val };\n\n    var processNext = function() {\n        var msg = _self.messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        _self.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (_self.messageBuffer.length)\n            processNext();\n    });\n};\n\nUIWorkerClient.prototype = WorkerClient.prototype;\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\n\n});\n\ndefine('ace/lib/keys', ['require', 'exports', 'module' , 'ace/lib/oop'], function(require, exports, module) {\n\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          188: ',', 190: '.', 191: '/', 192: '`', 219: '[', 220: '\\\\',\n          221: ']', 222: '\\''\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {\n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    return (Keys[keyCode] || String.fromCharCode(keyCode)).toLowerCase();\n};\n\n});\ndefine('ace/placeholder', ['require', 'exports', 'module' , 'ace/range', 'ace/lib/event_emitter', 'ace/lib/oop'], function(require, exports, module) {\n\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth =  undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        var pos = this.$pos;\n\n        this.pos = doc.createAnchor(pos.row, pos.column);\n        this.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.pos.on(\"change\", function(event) {\n            session.removeMarker(_self.markerId);\n            _self.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.mainClass, null, false);\n        });\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if(this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n            anchor.on(\"change\", function(event) {\n                session.removeMarker(anchor.markerId);\n                anchor.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.othersClass, null, false);\n            });\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if(!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(event) {\n        var delta = event.data;\n        var range = delta.range;\n        if(range.start.row !== range.end.row) return;\n        if(range.start.row !== this.pos.row) return;\n        if (this.$updating) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insertText\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        \n        if(range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1) {\n            var distanceFromStart = range.start.column - this.pos.column;\n            this.length += lengthDiff;\n            if(!this.session.$fromUndo) {\n                if(delta.action === \"insertText\") {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)\n                            newPos.column += lengthDiff;\n                        this.doc.insert(newPos, delta.text);\n                    }\n                } else if(delta.action === \"removeText\") {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)\n                            newPos.column += lengthDiff;\n                        this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                    }\n                }\n                if(range.start.column === this.pos.column && delta.action === \"insertText\") {\n                    setTimeout(function() {\n                        this.pos.setPosition(this.pos.row, this.pos.column - lengthDiff);\n                        for (var i = 0; i < this.others.length; i++) {\n                            var other = this.others[i];\n                            var newPos = {row: other.row, column: other.column - lengthDiff};\n                            if(other.row === range.start.row && range.start.column < other.column)\n                                newPos.column += lengthDiff;\n                            other.setPosition(newPos.row, newPos.column);\n                        }\n                    }.bind(this), 0);\n                }\n                else if(range.start.column === this.pos.column && delta.action === \"removeText\") {\n                    setTimeout(function() {\n                        for (var i = 0; i < this.others.length; i++) {\n                            var other = this.others[i];\n                            if(other.row === range.start.row && range.start.column < other.column) {\n                                other.setPosition(other.row, other.column - lengthDiff);\n                            }\n                        }\n                    }.bind(this), 0);\n                }\n            }\n            this.pos._emit(\"change\", {value: this.pos});\n            for (var i = 0; i < this.others.length; i++) {\n                this.others[i]._emit(\"change\", {value: this.others[i]});\n            }\n        }\n        this.$updating = false;\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating) return;\n        var pos = this.session.selection.getCursor();\n        if(pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.markerId);\n        this.hideOtherMarkers();\n        this.doc.removeEventListener(\"change\", this.$onUpdate);\n        this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n        this.pos.detach();\n        for (var i = 0; i < this.others.length; i++) {\n            this.others[i].detach();\n        }\n        this.session.setUndoSelect(true);\n    };\n    this.cancel = function() {\n        if(this.$undoStackDepth === -1)\n            throw Error(\"Canceling placeholders only supported with undo manager attached to session.\");\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(true);\n        }\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\ndefine('ace/lib/event', ['require', 'exports', 'module' , 'ace/lib/keys', 'ace/lib/useragent'], function(require, exports, module) {\n\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nexports.addListener = function(elem, type, callback) {\n    if (elem.addEventListener) {\n        return elem.addEventListener(type, callback, false);\n    }\n    if (elem.attachEvent) {\n        var wrapper = function() {\n            callback.call(elem, window.event);\n        };\n        callback._wrapper = wrapper;\n        elem.attachEvent(\"on\" + type, wrapper);\n    }\n};\n\nexports.removeListener = function(elem, type, callback) {\n    if (elem.removeEventListener) {\n        return elem.removeEventListener(type, callback, false);\n    }\n    if (elem.detachEvent) {\n        elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n    }\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n    else\n        e.cancelBubble = true;\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n    else\n        e.returnValue = false;\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (e.ctrlKey && useragent.isMac))\n        return 2;\n    if (e.preventDefault) {\n        return e.button;\n    }\n    else {\n        return {1:0, 2:2, 4:1}[e.button];\n    }\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        exports.removeListener(document, \"mousemove\", eventHandler, true);\n        exports.removeListener(document, \"mouseup\", onMouseUp, true);\n        exports.removeListener(document, \"dragstart\", onMouseUp, true);\n    }\n\n    exports.addListener(document, \"mousemove\", eventHandler, true);\n    exports.addListener(document, \"mouseup\", onMouseUp, true);\n    exports.addListener(document, \"dragstart\", onMouseUp, true);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback) {\n    if (\"onmousewheel\" in el) {\n        exports.addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        });\n    } else if (\"onwheel\" in el) {\n        exports.addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        });\n    } else {\n        exports.addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        });\n    }\n};\n\nexports.addMultiMouseDownListener = function(el, timeouts, eventHandler, callbackName) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    exports.addListener(el, \"mousedown\", function(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (isNewClick) {\n                clicks = 1;\n            }\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    });\n\n    if (useragent.isOldIE) {\n        exports.addListener(el, \"dblclick\", function(e) {\n            clicks = 2;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);\n            eventHandler[callbackName](\"mousedown\", e);\n            eventHandler[callbackName](eventNames[clicks], e);\n        });\n    }\n};\n\nvar getModifierHash = useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window)\n    ? function(e) {\n        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);\n    }\n    : function(e) {\n        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n    };\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (pressedKeys[91] || pressedKeys[92])\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = e.location || e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = -ts;\n                ts = e.timeStamp;\n                dt += ts;\n                if (dt < 3)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        switch (keys.MODIFIER_KEYS[keyCode]) {\n            case \"Alt\":\n                hashId = 2;\n                break;\n            case \"Shift\":\n                hashId = 4;\n                break;\n            case \"Ctrl\":\n                hashId = 1;\n                break;\n            default:\n                hashId = 8;\n                break;\n        }\n        keyCode = -1;\n    }\n\n    if (hashId & 8 && (keyCode === 91 || keyCode === 93)) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        if (e.location || e.keyLocation === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\nvar pressedKeys = null;\nvar ts = 0;\nexports.addCommandKeyListener = function(el, callback) {\n    var addListener = exports.addListener;\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        });\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        });\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = true;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        });\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        });\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        });\n\n        if (!pressedKeys) {\n            pressedKeys = Object.create(null);\n            addListener(window, \"focus\", function(e) {\n                pressedKeys = Object.create(null);\n            });\n        }\n    }\n};\n\nif (window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + postMessageId;\n        exports.addListener(win, \"message\", function listener(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                exports.removeListener(win, \"message\", listener);\n                callback();\n            }\n        });\n        win.postMessage(messageName, \"*\");\n    };\n}\n\n\nexports.nextFrame = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    window.oRequestAnimationFrame;\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\ndefine('ace/mode/folding/fold_mode', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel)\n                break;\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/lib/dom', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nif (typeof document == \"undefined\")\n    return;\n\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n}\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if(add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n\n    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {\n        while (index < sheets.length)\n            if (sheets[index++].owningElement.id === id) return true;\n    } else if ((sheets = doc.getElementsByTagName(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id) return true;\n    }\n\n    return false;\n};\n\nexports.importCssString = function importCssString(cssText, id, doc) {\n    doc = doc || document;\n    if (id && exports.hasCssString(id, doc))\n        return null;\n    \n    var style;\n    \n    if (doc.createStyleSheet) {\n        style = doc.createStyleSheet();\n        style.cssText = cssText;\n        if (id)\n            style.owningElement.id = id;\n    } else {\n        style = doc.createElementNS\n            ? doc.createElementNS(XHTML_NS, \"style\")\n            : doc.createElement(\"style\");\n\n        style.appendChild(doc.createTextNode(cssText));\n        if (id)\n            style.id = id;\n\n        exports.getDocumentHead(doc).appendChild(style);\n    }\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    if (doc.createStyleSheet) {\n        doc.createStyleSheet(uri);\n    } else {\n        var link = exports.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = uri;\n\n        exports.getDocumentHead(doc).appendChild(link);\n    }\n};\n\nexports.getInnerWidth = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingLeft\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingRight\"), 10) + \n        element.clientWidth\n    );\n};\n\nexports.getInnerHeight = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingTop\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingBottom\"), 10) +\n        element.clientHeight\n    );\n};\n\nif (window.pageYOffset !== undefined) {\n    exports.getPageScrollTop = function() {\n        return window.pageYOffset;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return window.pageXOffset;\n    };\n}\nelse {\n    exports.getPageScrollTop = function() {\n        return document.body.scrollTop;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return document.body.scrollLeft;\n    };\n}\n\nif (window.getComputedStyle)\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return (window.getComputedStyle(element, \"\") || {})[style] || \"\";\n        return window.getComputedStyle(element, \"\") || {};\n    };\nelse\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return element.currentStyle[style];\n        return element.currentStyle;\n    };\n\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\nexports.setInnerHtml = function(el, innerHtml) {\n    var element = el.cloneNode(false);//document.createElement(\"div\");\n    element.innerHTML = innerHtml;\n    el.parentNode.replaceChild(element, el);\n    return element;\n};\n\nif (\"textContent\" in document.documentElement) {\n    exports.setInnerText = function(el, innerText) {\n        el.textContent = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.textContent;\n    };\n}\nelse {\n    exports.setInnerText = function(el, innerText) {\n        el.innerText = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.innerText;\n    };\n}\n\nexports.getParentWindow = function(document) {\n    return document.defaultView || document.parentWindow;\n};\n\n});\n\ndefine('ace/theme/textmate', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\nborder-radius: 2px;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\ndefine('ace/lib/es5-shim', ['require', 'exports', 'module' ], function(require, exports, module) {\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        var target = this;\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        var args = slice.call(arguments, 1); // for normal call\n        var bound = function () {\n\n            if (this instanceof bound) {\n\n                var result = target.apply(\n                    this,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n            }\n\n        };\n        if(target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            Empty.prototype = null;\n        }\n        return bound;\n    };\n}\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar slice = prototypeOfArray.slice;\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\nif ([1,2].splice(0).length != 2) {\n    if(function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = new Array(l+2);\n            a[0] = a[1] = 0;\n            return a;\n        }\n        var array = [], lengthBefore;\n        \n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n    }()) {//IE 6/7\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(slice.call(arguments, 2)))\n            }\n        };\n    } else {//IE8\n        Array.prototype.splice = function(pos, removeCount){\n            var length = this.length;\n            if (pos > 0) {\n                if (pos > length)\n                    pos = length;\n            } else if (pos == void 0) {\n                pos = 0;\n            } else if (pos < 0) {\n                pos = Math.max(length + pos, 0);\n            }\n\n            if (!(pos+removeCount < length))\n                removeCount = length - pos;\n\n            var removed = this.slice(pos, pos+removeCount);\n            var insert = slice.call(arguments, 2);\n            var add = insert.length;            \n            if (pos === length) {\n                if (add) {\n                    this.push.apply(this, insert);\n                }\n            } else {\n                var remove = Math.min(removeCount, length - pos);\n                var tailOldPos = pos + remove;\n                var tailNewPos = tailOldPos + add - remove;\n                var tailCount = length - tailOldPos;\n                var lengthAfterRemove = length - remove;\n\n                if (tailNewPos < tailOldPos) { // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } else if (tailNewPos > tailOldPos) { // case B\n                    for (i = tailCount; i--; ) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } // else, add == remove (nothing to do)\n\n                if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n                    this.push.apply(this, insert);\n                } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n                    for (i = 0; i < add; ++i) {\n                        this[pos+i] = insert[i];\n                    }\n                }\n            }\n            return removed;\n        };\n    }\n}\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor ?\n            object.constructor.prototype :\n            prototypeOfObject\n        );\n    };\n}\nif (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\n                         \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT + object);\n        if (!owns(object, property))\n            return;\n\n        var descriptor, getter, setter;\n        descriptor =  { enumerable: true, configurable: true };\n        if (supportsAccessors) {\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) descriptor.get = getter;\n                if (setter) descriptor.set = setter;\n                return descriptor;\n            }\n        }\n        descriptor.value = object[property];\n        return descriptor;\n    };\n}\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\nif (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        createEmpty = function () {\n            var empty = {};\n            for (var i in empty)\n                empty[i] = null;\n            empty.constructor =\n            empty.hasOwnProperty =\n            empty.propertyIsEnumerable =\n            empty.isPrototypeOf =\n            empty.toLocaleString =\n            empty.toString =\n            empty.valueOf =\n            empty.__proto__ = null;\n            return empty;\n        }\n    }\n\n    Object.create = function create(prototype, properties) {\n        var object;\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype != \"object\")\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\n            var Type = function () {};\n            Type.prototype = prototype;\n            object = new Type();\n            object.__proto__ = prototype;\n        }\n        if (properties !== void 0)\n            Object.defineProperties(object, properties);\n        return object;\n    };\n}\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n    }\n}\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n            }\n        }\n        if (owns(descriptor, \"value\")) {\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                delete object[property];\n                object[property] = descriptor.value;\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors)\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            if (owns(descriptor, \"get\"))\n                defineGetter(object, property, descriptor.get);\n            if (owns(descriptor, \"set\"))\n                defineSetter(object, property, descriptor.set);\n        }\n\n        return object;\n    };\n}\nif (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        for (var property in properties) {\n            if (owns(properties, property))\n                Object.defineProperty(object, property, properties[property]);\n        }\n        return object;\n    };\n}\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        return object;\n    };\n}\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        return object;\n    };\n}\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        return object;\n    };\n}\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        if (Object(object) === object) {\n            throw new TypeError(); // TODO message\n        }\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\nif (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim || ws.trim()) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n}\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n \ndefine('ace/lib/regexp', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n    var real = {\n            exec: RegExp.prototype.exec,\n            test: RegExp.prototype.test,\n            match: String.prototype.match,\n            replace: String.prototype.replace,\n            split: String.prototype.split\n        },\n        compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined, // check `exec` handling of nonparticipating capturing groups\n        compliantLastIndexIncrement = function () {\n            var x = /^/g;\n            real.test.call(x, \"\");\n            return !x.lastIndex;\n        }();\n\n    if (compliantLastIndexIncrement && compliantExecNpcg)\n        return;\n    RegExp.prototype.exec = function (str) {\n        var match = real.exec.apply(this, arguments),\n            name, r2;\n        if ( typeof(str) == 'string' && match) {\n            if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n                real.replace.call(str.slice(match.index), r2, function () {\n                    for (var i = 1; i < arguments.length - 2; i++) {\n                        if (arguments[i] === undefined)\n                            match[i] = undefined;\n                    }\n                });\n            }\n            if (this._xregexp && this._xregexp.captureNames) {\n                for (var i = 1; i < match.length; i++) {\n                    name = this._xregexp.captureNames[i - 1];\n                    if (name)\n                       match[name] = match[i];\n                }\n            }\n            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n        }\n        return match;\n    };\n    if (!compliantLastIndexIncrement) {\n        RegExp.prototype.test = function (str) {\n            var match = real.exec.call(this, str);\n            if (match && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n            return !!match;\n        };\n    }\n\n    function getNativeFlags (regex) {\n        return (regex.global     ? \"g\" : \"\") +\n               (regex.ignoreCase ? \"i\" : \"\") +\n               (regex.multiline  ? \"m\" : \"\") +\n               (regex.extended   ? \"x\" : \"\") + // Proposed for ES4; included in AS3\n               (regex.sticky     ? \"y\" : \"\");\n    }\n\n    function indexOf (array, item, from) {\n        if (Array.prototype.indexOf) // Use the native array method if available\n            return array.indexOf(item, from);\n        for (var i = from || 0; i < array.length; i++) {\n            if (array[i] === item)\n                return i;\n        }\n        return -1;\n    }\n\n});\n\ndefine('ace/ext/error_marker', ['require', 'exports', 'module' , 'ace/line_widgets', 'ace/lib/dom', 'ace/range'], function(require, exports, module) {\n\nvar LineWidgets = require(\"ace/line_widgets\").LineWidgets;\nvar dom = require(\"ace/lib/dom\");\nvar Range = require(\"ace/range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length - 1)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.lineWidgets && session.lineWidgets[row];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\")\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});// vim:set ts=4 sts=4 sw=4 st:\n\ndefine('ace/lib/fixoldbrowsers', ['require', 'exports', 'module' , 'ace/lib/regexp', 'ace/lib/es5-shim'], function(require, exports, module) {\n\n\nrequire(\"./regexp\");\nrequire(\"./es5-shim\");\n\n});\n\ndefine('ace/line_widgets', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/range'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar Range = require(\"./range\").Range;\n\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.detach = this.detach.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount)\n                screenRows +=w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.attach = function(editor) {\n        if (editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        this.editor.on(\"changeSession\", this.detach);\n        \n        editor.widgetManager = this;\n\n        editor.setOption(\"enableLineWidgets\", true);\n        editor.renderer.on(\"beforeRender\", this.measureWidgets);\n        editor.renderer.on(\"afterRender\", this.renderWidgets);\n    };\n    this.detach = function(e) {\n        if (e && e.session == this.session)\n            return; // sometimes attach can be called before setSession\n        var editor = this.editor;\n        if (!editor)\n            return;\n\n        editor.off(\"changeSession\", this.detach);\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnChange = function(e) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n            \n        var delta = e.data;\n        var range = delta.range;\n        var startRow = range.start.row;\n        var len = range.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"removeText\" || delta.action == \"removeLines\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.addLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        this.session.lineWidgets[w.row] = w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n        }\n        \n        if (!w.coverGutter) {\n            w.el.style.zIndex = 3;\n        }\n        if (!w.pixelHeight) {\n            w.pixelHeight = w.el.offsetHeight;\n        }\n        if (w.rowCount == null)\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets)\n            this.session.lineWidgets[w.row] = undefined;\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\ndefine('ace/document', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter', 'ace/range', 'ace/anchor'], function(require, exports, module) {\n\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(text) {\n    this.$lines = [];\n    if (text.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(text)) {\n        this._insertLines(0, text);\n    } else {\n        this.insert({row: 0, column:0}, text);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength();\n        this.remove(new Range(0, 0, len, this.getLine(len-1).length));\n        this.insert({row: 0, column:0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0)\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    else\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        if (range.start.row == range.end.row) {\n            return this.getLine(range.start.row)\n                .substring(range.start.column, range.end.column);\n        }\n        var lines = this.getLines(range.start.row, range.end.row);\n        lines[0] = (lines[0] || \"\").substring(range.start.column);\n        var l = lines.length - 1;\n        if (range.end.row - range.start.row == l)\n            lines[l] = lines[l].substring(0, range.end.column);\n        return lines.join(this.getNewLineCharacter());\n    };\n\n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length-1).length;\n        } else if (position.row < 0)\n            position.row = 0;\n        return position;\n    };\n    this.insert = function(position, text) {\n        if (!text || text.length === 0)\n            return position;\n\n        position = this.$clipPosition(position);\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n\n        var lines = this.$split(text);\n        var firstLine = lines.splice(0, 1)[0];\n        var lastLine = lines.length == 0 ? null : lines.splice(lines.length - 1, 1)[0];\n\n        position = this.insertInLine(position, firstLine);\n        if (lastLine !== null) {\n            position = this.insertNewLine(position); // terminate first line\n            position = this._insertLines(position.row, lines);\n            position = this.insertInLine(position, lastLine || \"\");\n        }\n        return position;\n    };\n    this.insertLines = function(row, lines) {\n        if (row >= this.getLength())\n            return this.insert({row: row, column: 0}, \"\\n\" + lines.join(\"\\n\"));\n        return this._insertLines(Math.max(row, 0), lines);\n    };\n    this._insertLines = function(row, lines) {\n        if (lines.length == 0)\n            return {row: row, column: 0};\n        while (lines.length > 0xF000) {\n            var end = this._insertLines(row, lines.slice(0, 0xF000));\n            lines = lines.slice(0xF000);\n            row = end.row;\n        }\n\n        var args = [row, 0];\n        args.push.apply(args, lines);\n        this.$lines.splice.apply(this.$lines, args);\n\n        var range = new Range(row, 0, row + lines.length, 0);\n        var delta = {\n            action: \"insertLines\",\n            range: range,\n            lines: lines\n        };\n        this._signal(\"change\", { data: delta });\n        return range.end;\n    };\n    this.insertNewLine = function(position) {\n        position = this.$clipPosition(position);\n        var line = this.$lines[position.row] || \"\";\n\n        this.$lines[position.row] = line.substring(0, position.column);\n        this.$lines.splice(position.row + 1, 0, line.substring(position.column, line.length));\n\n        var end = {\n            row : position.row + 1,\n            column : 0\n        };\n\n        var delta = {\n            action: \"insertText\",\n            range: Range.fromPoints(position, end),\n            text: this.getNewLineCharacter()\n        };\n        this._signal(\"change\", { data: delta });\n\n        return end;\n    };\n    this.insertInLine = function(position, text) {\n        if (text.length == 0)\n            return position;\n\n        var line = this.$lines[position.row] || \"\";\n\n        this.$lines[position.row] = line.substring(0, position.column) + text\n                + line.substring(position.column);\n\n        var end = {\n            row : position.row,\n            column : position.column + text.length\n        };\n\n        var delta = {\n            action: \"insertText\",\n            range: Range.fromPoints(position, end),\n            text: text\n        };\n        this._signal(\"change\", { data: delta });\n\n        return end;\n    };\n    this.remove = function(range) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        range.start = this.$clipPosition(range.start);\n        range.end = this.$clipPosition(range.end);\n\n        if (range.isEmpty())\n            return range.start;\n\n        var firstRow = range.start.row;\n        var lastRow = range.end.row;\n\n        if (range.isMultiLine()) {\n            var firstFullRow = range.start.column == 0 ? firstRow : firstRow + 1;\n            var lastFullRow = lastRow - 1;\n\n            if (range.end.column > 0)\n                this.removeInLine(lastRow, 0, range.end.column);\n\n            if (lastFullRow >= firstFullRow)\n                this._removeLines(firstFullRow, lastFullRow);\n\n            if (firstFullRow != firstRow) {\n                this.removeInLine(firstRow, range.start.column, this.getLine(firstRow).length);\n                this.removeNewLine(range.start.row);\n            }\n        }\n        else {\n            this.removeInLine(firstRow, range.start.column, range.end.column);\n        }\n        return range.start;\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        if (startColumn == endColumn)\n            return;\n\n        var range = new Range(row, startColumn, row, endColumn);\n        var line = this.getLine(row);\n        var removed = line.substring(startColumn, endColumn);\n        var newLine = line.substring(0, startColumn) + line.substring(endColumn, line.length);\n        this.$lines.splice(row, 1, newLine);\n\n        var delta = {\n            action: \"removeText\",\n            range: range,\n            text: removed\n        };\n        this._signal(\"change\", { data: delta });\n        return range.start;\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        if (firstRow < 0 || lastRow >= this.getLength())\n            return this.remove(new Range(firstRow, 0, lastRow + 1, 0));\n        return this._removeLines(firstRow, lastRow);\n    };\n\n    this._removeLines = function(firstRow, lastRow) {\n        var range = new Range(firstRow, 0, lastRow + 1, 0);\n        var removed = this.$lines.splice(firstRow, lastRow - firstRow + 1);\n\n        var delta = {\n            action: \"removeLines\",\n            range: range,\n            nl: this.getNewLineCharacter(),\n            lines: removed\n        };\n        this._signal(\"change\", { data: delta });\n        return removed;\n    };\n    this.removeNewLine = function(row) {\n        var firstLine = this.getLine(row);\n        var secondLine = this.getLine(row+1);\n\n        var range = new Range(row, firstLine.length, row+1, 0);\n        var line = firstLine + secondLine;\n\n        this.$lines.splice(row, 2, line);\n\n        var delta = {\n            action: \"removeText\",\n            range: range,\n            text: this.getNewLineCharacter()\n        };\n        this._signal(\"change\", { data: delta });\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length == 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        if (text) {\n            var end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n\n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            var delta = deltas[i];\n            var range = Range.fromPoints(delta.range.start, delta.range.end);\n\n            if (delta.action == \"insertLines\")\n                this.insertLines(range.start.row, delta.lines);\n            else if (delta.action == \"insertText\")\n                this.insert(range.start, delta.text);\n            else if (delta.action == \"removeLines\")\n                this._removeLines(range.start.row, range.end.row - 1);\n            else if (delta.action == \"removeText\")\n                this.remove(range);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            var delta = deltas[i];\n\n            var range = Range.fromPoints(delta.range.start, delta.range.end);\n\n            if (delta.action == \"insertLines\")\n                this._removeLines(range.start.row, range.end.row - 1);\n            else if (delta.action == \"insertText\")\n                this.remove(range);\n            else if (delta.action == \"removeLines\")\n                this._insertLines(range.start.row, delta.lines);\n            else if (delta.action == \"removeText\")\n                this.insert(range.start, delta.text);\n        }\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: lines[l-1].length};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n;\n            (function() {\n                window.require([\"ace/ace\"], function(a) {\n                    a && a.config.init(true);\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        ace[key] = a[key];\n                });\n            })();\n        ","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/mode/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/css_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/worker/worker_client', 'ace/mode/behaviour/css', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CssBehaviour = require(\"./behaviour/css\").CssBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = CssHighlightRules;\n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CssBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.foldingRules = \"cStyle\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n        var tokens = this.getTokenizer().getLineTokens(line, state).tokens;\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        var match = line.match(/^.*\\{\\s*$/);\n        if (match) {\n            indent += tab;\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/css_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"csslint\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/css\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n\n});\n\ndefine('ace/mode/css_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar supportType = exports.supportType = \"animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index\";\nvar supportFunction = exports.supportFunction = \"rgb|rgba|url|attr|counter|counters\";\nvar supportConstant = exports.supportConstant = \"absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero\";\nvar supportConstantColor = exports.supportConstantColor = \"aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow\";\nvar supportConstantFonts = exports.supportConstantFonts = \"arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace\";\n\nvar numRe = exports.numRe = \"\\\\-?(?:(?:[0-9]+)|(?:[0-9]*\\\\.[0-9]+))\";\nvar pseudoElements = exports.pseudoElements = \"(\\\\:+)\\\\b(after|before|first-letter|first-line|moz-selection|selection)\\\\b\";\nvar pseudoClasses  = exports.pseudoClasses =  \"(:)\\\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\\\b\";\n\nvar CssHighlightRules = function() {\n\n    var keywordMapper = this.createKeywordMapper({\n        \"support.function\": supportFunction,\n        \"support.constant\": supportConstant,\n        \"support.type\": supportType,\n        \"support.constant.color\": supportConstantColor,\n        \"support.constant.fonts\": supportConstantFonts\n    }, \"text\", true);\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"@.*?{\",\n            push:  \"media\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"media\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"\\\\}\",\n            next:  \"pop\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"comment\" : [{\n            token : \"comment\",\n            regex : \"\\\\*\\\\/\",\n            next : \"pop\"\n        }, {\n            defaultToken : \"comment\"\n        }],\n\n        \"ruleset\" : [\n        {\n            token : \"paren.rparen\",\n            regex : \"\\\\}\",\n            next:   \"pop\"\n        }, {\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token : \"string\", // single line\n            regex : '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]'\n        }, {\n            token : \"string\", // single line\n            regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n        }, {\n            token : [\"constant.numeric\", \"keyword\"],\n            regex : \"(\" + numRe + \")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)\"\n        }, {\n            token : \"constant.numeric\",\n            regex : numRe\n        }, {\n            token : \"constant.numeric\",  // hex6 color\n            regex : \"#[a-f0-9]{6}\"\n        }, {\n            token : \"constant.numeric\", // hex3 color\n            regex : \"#[a-f0-9]{3}\"\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-element.css\"],\n            regex : pseudoElements\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-class.css\"],\n            regex : pseudoClasses\n        }, {\n            token : [\"support.function\", \"string\", \"support.function\"],\n            regex : \"(url\\\\()(.*)(\\\\))\"\n        }, {\n            token : keywordMapper,\n            regex : \"\\\\-?[a-zA-Z_][a-zA-Z0-9_\\\\-]*\"\n        }, {\n            caseInsensitive: true\n        }]\n    };\n\n    this.normalizeRules();\n};\n\noop.inherits(CssHighlightRules, TextHighlightRules);\n\nexports.CssHighlightRules = CssHighlightRules;\n\n});\n\ndefine('ace/mode/matching_brace_outdent', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\n\nvar MatchingBraceOutdent = function() {};\n\n(function() {\n\n    this.checkOutdent = function(line, input) {\n        if (! /^\\s+$/.test(line))\n            return false;\n\n        return /^\\s*\\}/.test(input);\n    };\n\n    this.autoOutdent = function(doc, row) {\n        var line = doc.getLine(row);\n        var match = line.match(/^(\\s*\\})/);\n\n        if (!match) return 0;\n\n        var column = match[1].length;\n        var openBracePos = doc.findMatchingBracket({row: row, column: column});\n\n        if (!openBracePos || openBracePos.row == row) return 0;\n\n        var indent = this.$getIndent(doc.getLine(openBracePos.row));\n        doc.replace(new Range(row, 0, row, column-1), indent);\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n}).call(MatchingBraceOutdent.prototype);\n\nexports.MatchingBraceOutdent = MatchingBraceOutdent;\n});\n\ndefine('ace/mode/behaviour/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar CssBehaviour = function () {\n\n    this.inherit(CstyleBehaviour);\n\n    this.add(\"colon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar === ':') {\n                    return {\n                       text: '',\n                       selection: [1, 1]\n                    }\n                }\n                if (!line.substring(cursor.column).match(/^\\s*;/)) {\n                    return {\n                       text: ':;',\n                       selection: [1, 1]\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"colon\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n                if (rightChar === ';') {\n                    range.end.column ++;\n                    return range;\n                }\n            }\n        }\n    });\n\n    this.add(\"semicolon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ';') {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === ';') {\n                return {\n                   text: '',\n                   selection: [1, 1]\n                }\n            }\n        }\n    });\n\n}\noop.inherits(CssBehaviour, CstyleBehaviour);\n\nexports.CssBehaviour = CssBehaviour;\n});\n\ndefine('ace/mode/behaviour/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/token_iterator', 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {}\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.id;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar CstyleBehaviour = function() {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '{' + selected + '}',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '(' + selected + ')',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '[' + selected + ']',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '\"' || text == \"'\") {\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"'\" && selected != '\"' && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: quote + selected + quote,\n                    selection: false\n                };\n            } else {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                if (leftChar == '\\\\') {\n                    return null;\n                }\n                var tokens = session.getTokens(selection.start.row);\n                var col = 0, token;\n                var quotepos = -1; // Track whether we're inside an open quote.\n\n                for (var x = 0; x < tokens.length; x++) {\n                    token = tokens[x];\n                    if (token.type == \"string\") {\n                      quotepos = -1;\n                    } else if (quotepos < 0) {\n                      quotepos = token.value.indexOf(quote);\n                    }\n                    if ((token.value.length + col) > selection.start.column) {\n                        break;\n                    }\n                    col += tokens[x].value.length;\n                }\n                if (!token || (quotepos < 0 && token.type !== \"comment\" && (token.type !== \"string\" || ((selection.start.column !== token.value.length+col-1) && token.value.lastIndexOf(quote) === token.value.length-1)))) {\n                    if (!CstyleBehaviour.isSaneInsertion(editor, session))\n                        return;\n                    return {\n                        text: quote + quote,\n                        selection: [1,1]\n                    };\n                } else if (token && token.type === \"string\") {\n                    var rightChar = line.substring(cursor.column, cursor.column + 1);\n                    if (rightChar == quote) {\n                        return {\n                            text: '',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\ndefine('ace/mode/folding/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/range', 'ace/mode/folding/fold_mode'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(commentRegex) {\n    if (commentRegex) {\n        this.foldingStartMarker = new RegExp(\n            this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start)\n        );\n        this.foldingStopMarker = new RegExp(\n            this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end)\n        );\n    }\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n    this.foldingStartMarker = /(\\{|\\[)[^\\}\\]]*$|^\\s*(\\/\\*)/;\n    this.foldingStopMarker = /^[^\\[\\{]*(\\}|\\])|^[\\s\\*]*(\\*\\/)/;\n\n    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {\n        var line = session.getLine(row);\n        var match = line.match(this.foldingStartMarker);\n        if (match) {\n            var i = match.index;\n\n            if (match[1])\n                return this.openingBracketBlock(session, match[1], row, i);\n                \n            var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n            \n            if (range && !range.isMultiLine()) {\n                if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                } else if (foldStyle != \"all\")\n                    range = null;\n            }\n            \n            return range;\n        }\n\n        if (foldStyle === \"markbegin\")\n            return;\n\n        var match = line.match(this.foldingStopMarker);\n        if (match) {\n            var i = match.index + match[0].length;\n\n            if (match[1])\n                return this.closingBracketBlock(session, match[1], row, i);\n\n            return session.getCommentFoldRange(row, i, -1);\n        }\n    };\n    \n    this.getSectionRange = function(session, row) {\n        var line = session.getLine(row);\n        var startIndent = line.search(/\\S/);\n        var startRow = row;\n        var startColumn = line.length;\n        row = row + 1;\n        var endRow = row;\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var indent = line.search(/\\S/);\n            if (indent === -1)\n                continue;\n            if  (startIndent > indent)\n                break;\n            var subRange = this.getFoldWidgetRange(session, \"all\", row);\n            \n            if (subRange) {\n                if (subRange.start.row <= startRow) {\n                    break;\n                } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                } else if (startIndent == indent) {\n                    break;\n                }\n            }\n            endRow = row;\n        }\n        \n        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n    };\n\n}).call(FoldMode.prototype);\n\n});\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/mode/html', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/mode/javascript', 'ace/mode/css', 'ace/tokenizer', 'ace/mode/html_highlight_rules', 'ace/mode/behaviour/html', 'ace/mode/folding/html', 'ace/mode/html_completions', 'ace/worker/worker_client'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar JavaScriptMode = require(\"./javascript\").Mode;\nvar CssMode = require(\"./css\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar HtmlHighlightRules = require(\"./html_highlight_rules\").HtmlHighlightRules;\nvar HtmlBehaviour = require(\"./behaviour/html\").HtmlBehaviour;\nvar HtmlFoldMode = require(\"./folding/html\").FoldMode;\nvar HtmlCompletions = require(\"./html_completions\").HtmlCompletions;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\n\nvar Mode = function(options) {\n    this.fragmentContext = options && options.fragmentContext;\n    this.HighlightRules = HtmlHighlightRules;\n    this.$behaviour = new HtmlBehaviour();\n    this.$completer = new HtmlCompletions();\n    \n    this.createModeDelegates({\n        \"js-\": JavaScriptMode,\n        \"css-\": CssMode\n    });\n    \n    this.foldingRules = new HtmlFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.blockComment = {start: \"<!--\", end: \"-->\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        return this.$completer.getCompletions(state, session, pos, prefix);\n    };\n\n    this.createWorker = function(session) {\n        if (this.constructor != Mode)\n            return;\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/html_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        if (this.fragmentContext)\n            worker.call(\"setOptions\", [{context: this.fragmentContext}]);\n\n        worker.on(\"error\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/html\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine('ace/mode/folding/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/range', 'ace/mode/folding/fold_mode'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(commentRegex) {\n    if (commentRegex) {\n        this.foldingStartMarker = new RegExp(\n            this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start)\n        );\n        this.foldingStopMarker = new RegExp(\n            this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end)\n        );\n    }\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n    this.foldingStartMarker = /(\\{|\\[)[^\\}\\]]*$|^\\s*(\\/\\*)/;\n    this.foldingStopMarker = /^[^\\[\\{]*(\\}|\\])|^[\\s\\*]*(\\*\\/)/;\n\n    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {\n        var line = session.getLine(row);\n        var match = line.match(this.foldingStartMarker);\n        if (match) {\n            var i = match.index;\n\n            if (match[1])\n                return this.openingBracketBlock(session, match[1], row, i);\n                \n            var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n            \n            if (range && !range.isMultiLine()) {\n                if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                } else if (foldStyle != \"all\")\n                    range = null;\n            }\n            \n            return range;\n        }\n\n        if (foldStyle === \"markbegin\")\n            return;\n\n        var match = line.match(this.foldingStopMarker);\n        if (match) {\n            var i = match.index + match[0].length;\n\n            if (match[1])\n                return this.closingBracketBlock(session, match[1], row, i);\n\n            return session.getCommentFoldRange(row, i, -1);\n        }\n    };\n    \n    this.getSectionRange = function(session, row) {\n        var line = session.getLine(row);\n        var startIndent = line.search(/\\S/);\n        var startRow = row;\n        var startColumn = line.length;\n        row = row + 1;\n        var endRow = row;\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var indent = line.search(/\\S/);\n            if (indent === -1)\n                continue;\n            if  (startIndent > indent)\n                break;\n            var subRange = this.getFoldWidgetRange(session, \"all\", row);\n            \n            if (subRange) {\n                if (subRange.start.row <= startRow) {\n                    break;\n                } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                } else if (startIndent == indent) {\n                    break;\n                }\n            }\n            endRow = row;\n        }\n        \n        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/mode/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/css_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/worker/worker_client', 'ace/mode/behaviour/css', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CssBehaviour = require(\"./behaviour/css\").CssBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = CssHighlightRules;\n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CssBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.foldingRules = \"cStyle\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n        var tokens = this.getTokenizer().getLineTokens(line, state).tokens;\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        var match = line.match(/^.*\\{\\s*$/);\n        if (match) {\n            indent += tab;\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/css_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"csslint\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/css\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n\n});\n\ndefine('ace/mode/css_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar supportType = exports.supportType = \"animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index\";\nvar supportFunction = exports.supportFunction = \"rgb|rgba|url|attr|counter|counters\";\nvar supportConstant = exports.supportConstant = \"absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero\";\nvar supportConstantColor = exports.supportConstantColor = \"aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow\";\nvar supportConstantFonts = exports.supportConstantFonts = \"arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace\";\n\nvar numRe = exports.numRe = \"\\\\-?(?:(?:[0-9]+)|(?:[0-9]*\\\\.[0-9]+))\";\nvar pseudoElements = exports.pseudoElements = \"(\\\\:+)\\\\b(after|before|first-letter|first-line|moz-selection|selection)\\\\b\";\nvar pseudoClasses  = exports.pseudoClasses =  \"(:)\\\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\\\b\";\n\nvar CssHighlightRules = function() {\n\n    var keywordMapper = this.createKeywordMapper({\n        \"support.function\": supportFunction,\n        \"support.constant\": supportConstant,\n        \"support.type\": supportType,\n        \"support.constant.color\": supportConstantColor,\n        \"support.constant.fonts\": supportConstantFonts\n    }, \"text\", true);\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"@.*?{\",\n            push:  \"media\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"media\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"\\\\}\",\n            next:  \"pop\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"comment\" : [{\n            token : \"comment\",\n            regex : \"\\\\*\\\\/\",\n            next : \"pop\"\n        }, {\n            defaultToken : \"comment\"\n        }],\n\n        \"ruleset\" : [\n        {\n            token : \"paren.rparen\",\n            regex : \"\\\\}\",\n            next:   \"pop\"\n        }, {\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token : \"string\", // single line\n            regex : '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]'\n        }, {\n            token : \"string\", // single line\n            regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n        }, {\n            token : [\"constant.numeric\", \"keyword\"],\n            regex : \"(\" + numRe + \")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)\"\n        }, {\n            token : \"constant.numeric\",\n            regex : numRe\n        }, {\n            token : \"constant.numeric\",  // hex6 color\n            regex : \"#[a-f0-9]{6}\"\n        }, {\n            token : \"constant.numeric\", // hex3 color\n            regex : \"#[a-f0-9]{3}\"\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-element.css\"],\n            regex : pseudoElements\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-class.css\"],\n            regex : pseudoClasses\n        }, {\n            token : [\"support.function\", \"string\", \"support.function\"],\n            regex : \"(url\\\\()(.*)(\\\\))\"\n        }, {\n            token : keywordMapper,\n            regex : \"\\\\-?[a-zA-Z_][a-zA-Z0-9_\\\\-]*\"\n        }, {\n            caseInsensitive: true\n        }]\n    };\n\n    this.normalizeRules();\n};\n\noop.inherits(CssHighlightRules, TextHighlightRules);\n\nexports.CssHighlightRules = CssHighlightRules;\n\n});\n\ndefine('ace/mode/behaviour/cstyle', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/token_iterator', 'ace/lib/lang'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {}\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.id;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar CstyleBehaviour = function() {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '{' + selected + '}',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '(' + selected + ')',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: '[' + selected + ']',\n                    selection: false\n                };\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '\"' || text == \"'\") {\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"'\" && selected != '\"' && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: quote + selected + quote,\n                    selection: false\n                };\n            } else {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                if (leftChar == '\\\\') {\n                    return null;\n                }\n                var tokens = session.getTokens(selection.start.row);\n                var col = 0, token;\n                var quotepos = -1; // Track whether we're inside an open quote.\n\n                for (var x = 0; x < tokens.length; x++) {\n                    token = tokens[x];\n                    if (token.type == \"string\") {\n                      quotepos = -1;\n                    } else if (quotepos < 0) {\n                      quotepos = token.value.indexOf(quote);\n                    }\n                    if ((token.value.length + col) > selection.start.column) {\n                        break;\n                    }\n                    col += tokens[x].value.length;\n                }\n                if (!token || (quotepos < 0 && token.type !== \"comment\" && (token.type !== \"string\" || ((selection.start.column !== token.value.length+col-1) && token.value.lastIndexOf(quote) === token.value.length-1)))) {\n                    if (!CstyleBehaviour.isSaneInsertion(editor, session))\n                        return;\n                    return {\n                        text: quote + quote,\n                        selection: [1,1]\n                    };\n                } else if (token && token.type === \"string\") {\n                    var rightChar = line.substring(cursor.column, cursor.column + 1);\n                    if (rightChar == quote) {\n                        return {\n                            text: '',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\ndefine('ace/mode/html_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/mode/css_highlight_rules', 'ace/mode/javascript_highlight_rules', 'ace/mode/xml_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\nvar XmlHighlightRules = require(\"./xml_highlight_rules\").XmlHighlightRules;\n\nvar tagMap = lang.createMap({\n    a           : 'anchor',\n    button \t    : 'form',\n    form        : 'form',\n    img         : 'image',\n    input       : 'form',\n    label       : 'form',\n    option      : 'form',\n    script      : 'script',\n    select      : 'form',\n    textarea    : 'form',\n    style       : 'style',\n    table       : 'table',\n    tbody       : 'table',\n    td          : 'table',\n    tfoot       : 'table',\n    th          : 'table',\n    tr          : 'table'\n});\n\nvar HtmlHighlightRules = function() {\n    XmlHighlightRules.call(this);\n\n    this.addRules({\n        attributes: [{\n            include : \"space\"\n        }, {\n            token : \"entity.other.attribute-name\",\n            regex : \"[-_a-zA-Z0-9:]+\"\n        }, {\n            token : \"keyword.operator.separator\",\n            regex : \"=\",\n            push : [{\n                include: \"space\"\n            }, {\n                token : \"string\",\n                regex : \"[^<>='\\\"`\\\\s]+\",\n                next : \"pop\"\n            }, {\n                token : \"empty\",\n                regex : \"\",\n                next : \"pop\"\n            }]\n        }, {\n            include : \"string\"\n        }],\n        tag: [{\n            token : function(start, tag) {\n                var group = tagMap[tag];\n                return [\"meta.tag.punctuation.begin\",\n                    \"meta.tag.name\" + (group ? \".\" + group : \"\")];\n            },\n            regex : \"(<)([-_a-zA-Z0-9:]+)\",\n            next: \"start_tag_stuff\"\n        }, {\n            token : function(start, tag) {\n                var group = tagMap[tag];\n                return [\"meta.tag.punctuation.begin\",\n                    \"meta.tag.name\" + (group ? \".\" + group : \"\")];\n            },\n            regex : \"(</)([-_a-zA-Z0-9:]+)\",\n            next: \"end_tag_stuff\"\n        }],\n        start_tag_stuff: [\n            {include : \"attributes\"},\n            {token : \"meta.tag.punctuation.end\", regex : \"/?>\", next : \"start\"}\n        ],\n        end_tag_stuff: [\n            {include : \"space\"},\n            {token : \"meta.tag.punctuation.end\", regex : \">\", next : \"start\"}\n        ]\n    });\n\n    this.embedTagRules(CssHighlightRules, \"css-\", \"style\");\n    this.embedTagRules(JavaScriptHighlightRules, \"js-\", \"script\");\n\n    if (this.constructor === HtmlHighlightRules)\n        this.normalizeRules();\n};\n\noop.inherits(HtmlHighlightRules, XmlHighlightRules);\n\nexports.HtmlHighlightRules = HtmlHighlightRules;\n});\n\ndefine('ace/mode/xml_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/xml_util', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar xmlUtil = require(\"./xml_util\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar XmlHighlightRules = function(normalize) {\n    this.$rules = {\n        start : [\n            {token : \"punctuation.string.begin\", regex : \"<\\\\!\\\\[CDATA\\\\[\", next : \"cdata\"},\n            {\n                token : [\"punctuation.instruction.begin\", \"keyword.instruction\"],\n                regex : \"(<\\\\?)(xml)(?=[\\\\s])\", next : \"xml_declaration\"\n            },\n            {\n                token : [\"punctuation.instruction.begin\", \"keyword.instruction\"],\n                regex : \"(<\\\\?)([-_a-zA-Z0-9]+)\", next : \"instruction\"\n            },\n            {token : \"comment\", regex : \"<\\\\!--\", next : \"comment\"},\n            {\n                token : [\"punctuation.doctype.begin\", \"meta.tag.doctype\"],\n                regex : \"(<\\\\!)(DOCTYPE)(?=[\\\\s])\", next : \"doctype\"\n            },\n            {include : \"tag\"},\n            {include : \"reference\"}\n        ],\n\n        xml_declaration : [\n            {include : \"attributes\"},\n            {include : \"instruction\"}\n        ],\n\n        instruction : [\n            {token : \"punctuation.instruction.end\", regex : \"\\\\?>\", next : \"start\"}\n        ],\n\n        doctype : [\n            {include : \"space\"},\n            {include : \"string\"},\n            {token : \"punctuation.doctype.end\", regex : \">\", next : \"start\"},\n            {token : \"xml-pe\", regex : \"[-_a-zA-Z0-9:]+\"},\n            {token : \"punctuation.begin\", regex : \"\\\\[\", push : \"declarations\"}\n        ],\n\n        declarations : [{\n            token : \"text\",\n            regex : \"\\\\s+\"\n        }, {\n            token: \"punctuation.end\",\n            regex: \"]\",\n            next: \"pop\"\n        }, {\n            token : [\"punctuation.begin\", \"keyword\"],\n            regex : \"(<\\\\!)([-_a-zA-Z0-9]+)\",\n            push : [{\n                token : \"text\",\n                regex : \"\\\\s+\"\n            },\n            {\n                token : \"punctuation.end\",\n                regex : \">\",\n                next : \"pop\"\n            },\n            {include : \"string\"}]\n        }],\n\n        cdata : [\n            {token : \"string.end\", regex : \"\\\\]\\\\]>\", next : \"start\"},\n            {token : \"text\", regex : \"\\\\s+\"},\n            {token : \"text\", regex : \"(?:[^\\\\]]|\\\\](?!\\\\]>))+\"}\n        ],\n\n        comment : [\n            {token : \"comment\", regex : \"-->\", next : \"start\"},\n            {defaultToken : \"comment\"}\n        ],\n\n        tag : [{\n            token : [\"meta.tag.punctuation.begin\", \"meta.tag.name\"],\n            regex : \"(<)((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)\",\n            next: [\n                {include : \"attributes\"},\n                {token : \"meta.tag.punctuation.end\", regex : \"/?>\", next : \"start\"}\n            ]\n        }, {\n            token : [\"meta.tag.punctuation.begin\", \"meta.tag.name\"],\n            regex : \"(</)((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)\",\n            next: [\n                {include : \"space\"},\n                {token : \"meta.tag.punctuation.end\", regex : \">\", next : \"start\"}\n            ]\n        }],\n\n        space : [\n            {token : \"text\", regex : \"\\\\s+\"}\n        ],\n\n        reference : [{\n            token : \"constant.language.escape\",\n            regex : \"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\"\n        }, {\n            token : \"text\", regex : \"&\"\n        }],\n\n        string: [{\n            token : \"string\",\n            regex : \"'\",\n            push : \"qstring_inner\"\n        }, {\n            token : \"string\",\n            regex : '\"',\n            push : \"qqstring_inner\"\n        }],\n\n        qstring_inner: [\n            {token : \"string\", regex: \"'\", next: \"pop\"},\n            {include : \"reference\"},\n            {defaultToken : \"string\"}\n        ],\n\n        qqstring_inner: [\n            {token : \"string\", regex: '\"', next: \"pop\"},\n            {include : \"reference\"},\n            {defaultToken : \"string\"}\n        ],\n\n        attributes: [{\n            token : \"entity.other.attribute-name\",\n            regex : \"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+\"\n        }, {\n            token : \"keyword.operator.separator\",\n            regex : \"=\"\n        }, {\n            include : \"space\"\n        }, {\n            include : \"string\"\n        }]\n    };\n\n    if (this.constructor === XmlHighlightRules)\n        this.normalizeRules();\n};\n\n\n(function() {\n\n    this.embedTagRules = function(HighlightRules, prefix, tag){\n        this.$rules.tag.unshift({\n            token : [\"meta.tag.punctuation.begin\", \"meta.tag.name.\" + tag],\n            regex : \"(<)(\" + tag + \")\",\n            next: [\n                {include : \"space\"},\n                {include : \"attributes\"},\n                {token : \"meta.tag.punctuation.end\", regex : \"/?>\", next : prefix + \"start\"}\n            ]\n        });\n\n        this.$rules[tag + \"-end\"] = [\n            {include : \"space\"},\n            {token : \"meta.tag.punctuation.end\", regex : \">\",  next: \"start\",\n                onMatch : function(value, currentState, stack) {\n                    stack.splice(0);\n                    return this.token;\n            }}\n        ]\n\n        this.embedRules(HighlightRules, prefix, [{\n            token: [\"meta.tag.punctuation.begin\", \"meta.tag.name.\" + tag],\n            regex : \"(</)(\" + tag + \")\",\n            next: tag + \"-end\"\n        }, {\n            token: \"string.begin\",\n            regex : \"<\\\\!\\\\[CDATA\\\\[\"\n        }, {\n            token: \"string.end\",\n            regex : \"\\\\]\\\\]>\"\n        }]);\n    };\n\n}).call(TextHighlightRules.prototype);\n\noop.inherits(XmlHighlightRules, TextHighlightRules);\n\nexports.XmlHighlightRules = XmlHighlightRules;\n});\n\ndefine('ace/mode/xml_util', ['require', 'exports', 'module' ], function(require, exports, module) {\n\n\nfunction string(state) {\n    return [{\n        token : \"string\",\n        regex : '\"',\n        next : state + \"_qqstring\"\n    }, {\n        token : \"string\",\n        regex : \"'\",\n        next : state + \"_qstring\"\n    }];\n}\n\nfunction multiLineString(quote, state) {\n    return [\n        {token : \"string\", regex : quote, next : state},\n        {\n            token : \"constant.language.escape\",\n            regex : \"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\" \n        },\n        {defaultToken : \"string\"}\n    ];\n}\n\nexports.tag = function(states, name, nextState, tagMap) {\n    states[name] = [{\n        token : \"text\",\n        regex : \"\\\\s+\"\n    }, {\n        \n    token : !tagMap ? \"meta.tag.tag-name\" : function(value) {\n            if (tagMap[value])\n                return \"meta.tag.tag-name.\" + tagMap[value];\n            else\n                return \"meta.tag.tag-name\";\n        },\n        regex : \"[-_a-zA-Z0-9:]+\",\n        next : name + \"_embed_attribute_list\" \n    }, {\n        token: \"empty\",\n        regex: \"\",\n        next : name + \"_embed_attribute_list\"\n    }];\n\n    states[name + \"_qstring\"] = multiLineString(\"'\", name + \"_embed_attribute_list\");\n    states[name + \"_qqstring\"] = multiLineString(\"\\\"\", name + \"_embed_attribute_list\");\n    \n    states[name + \"_embed_attribute_list\"] = [{\n        token : \"meta.tag.r\",\n        regex : \"/?>\",\n        next : nextState\n    }, {\n        token : \"keyword.operator\",\n        regex : \"=\"\n    }, {\n        token : \"entity.other.attribute-name\",\n        regex : \"[-_a-zA-Z0-9:]+\"\n    }, {\n        token : \"constant.numeric\", // float\n        regex : \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n    }, {\n        token : \"text\",\n        regex : \"\\\\s+\"\n    }].concat(string(name));\n};\n\n});\n\ndefine('ace/mode/behaviour/html', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour/xml', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar XmlBehaviour = require(\"../behaviour/xml\").XmlBehaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar voidElements = ['area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'];\n\nfunction hasType(token, type) {\n    var tokenTypes = token.type.split('.');\n    return type.split('.').every(function(type){\n        return (tokenTypes.indexOf(type) !== -1);\n    });\n    return hasType;\n}\n\nvar HtmlBehaviour = function () {\n\n    this.inherit(XmlBehaviour); // Get xml behaviour\n    \n    this.add(\"autoclosing\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '>') {\n            var position = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, position.row, position.column);\n            var token = iterator.getCurrentToken();\n\n            if (token && hasType(token, 'string') && iterator.getCurrentTokenColumn() + token.value.length > position.column)\n                return;\n            var atCursor = false;\n            if (!token || !hasType(token, 'meta.tag') && !(hasType(token, 'text') && token.value.match('/'))){\n                do {\n                    token = iterator.stepBackward();\n                } while (token && (hasType(token, 'string') || hasType(token, 'keyword.operator') || hasType(token, 'entity.attribute-name') || hasType(token, 'text')));\n            } else {\n                atCursor = true;\n            }\n            if (!token || !hasType(token, 'meta.tag.name') || iterator.stepBackward().value.match('/')) {\n                return;\n            }\n            var element = token.value;\n            if (atCursor){\n                var element = element.substring(0, position.column - token.start);\n            }\n            if (voidElements.indexOf(element) !== -1){\n                return;\n            }\n            return {\n               text: '>' + '</' + element + '>',\n               selection: [1, 1]\n            }\n        }\n    });\n}\noop.inherits(HtmlBehaviour, XmlBehaviour);\n\nexports.HtmlBehaviour = HtmlBehaviour;\n});\n\ndefine('ace/mode/behaviour/xml', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nfunction hasType(token, type) {\n    var tokenTypes = token.type.split('.');\n    return type.split('.').every(function(type){\n        return (tokenTypes.indexOf(type) !== -1);\n    });\n    return hasType;\n}\n\nvar XmlBehaviour = function () {\n    \n    this.inherit(CstyleBehaviour, [\"string_dquotes\"]); // Get string behaviour\n    \n    this.add(\"autoclosing\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '>') {\n            var position = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, position.row, position.column);\n            var token = iterator.getCurrentToken();\n\n            if (token && hasType(token, 'string') && iterator.getCurrentTokenColumn() + token.value.length > position.column)\n                return;\n            var atCursor = false;\n            if (!token || !hasType(token, 'meta.tag') && !(hasType(token, 'text') && token.value.match('/'))){\n                do {\n                    token = iterator.stepBackward();\n                } while (token && (hasType(token, 'string') || hasType(token, 'keyword.operator') || hasType(token, 'entity.attribute-name') || hasType(token, 'text')));\n            } else {\n                atCursor = true;\n            }\n            if (!token || !hasType(token, 'meta.tag.name') || iterator.stepBackward().value.match('/')) {\n                return;\n            }\n            var tag = token.value;\n            if (atCursor){\n                var tag = tag.substring(0, position.column - token.start);\n            }\n\n            return {\n               text: '>' + '</' + tag + '>',\n               selection: [1, 1]\n            }\n        }\n    });\n\n    this.add('autoindent', 'insertion', function (state, action, editor, session, text) {\n        if (text == \"\\n\") {\n            var cursor = editor.getCursorPosition();\n            var line = session.getLine(cursor.row);\n            var rightChars = line.substring(cursor.column, cursor.column + 2);\n            if (rightChars == '</') {\n                var next_indent = this.$getIndent(line);\n                var indent = next_indent + session.getTabString();\n\n                return {\n                    text: '\\n' + indent + '\\n' + next_indent,\n                    selection: [1, indent.length, 1, indent.length]\n                }\n            }\n        }\n    });\n    \n}\noop.inherits(XmlBehaviour, Behaviour);\n\nexports.XmlBehaviour = XmlBehaviour;\n});\n\ndefine('ace/mode/matching_brace_outdent', ['require', 'exports', 'module' , 'ace/range'], function(require, exports, module) {\n\n\nvar Range = require(\"../range\").Range;\n\nvar MatchingBraceOutdent = function() {};\n\n(function() {\n\n    this.checkOutdent = function(line, input) {\n        if (! /^\\s+$/.test(line))\n            return false;\n\n        return /^\\s*\\}/.test(input);\n    };\n\n    this.autoOutdent = function(doc, row) {\n        var line = doc.getLine(row);\n        var match = line.match(/^(\\s*\\})/);\n\n        if (!match) return 0;\n\n        var column = match[1].length;\n        var openBracePos = doc.findMatchingBracket({row: row, column: column});\n\n        if (!openBracePos || openBracePos.row == row) return 0;\n\n        var indent = this.$getIndent(doc.getLine(openBracePos.row));\n        doc.replace(new Range(row, 0, row, column-1), indent);\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n}).call(MatchingBraceOutdent.prototype);\n\nexports.MatchingBraceOutdent = MatchingBraceOutdent;\n});\n\ndefine('ace/mode/folding/html', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/folding/mixed', 'ace/mode/folding/xml', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar MixedFoldMode = require(\"./mixed\").FoldMode;\nvar XmlFoldMode = require(\"./xml\").FoldMode;\nvar CStyleFoldMode = require(\"./cstyle\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function() {\n    MixedFoldMode.call(this, new XmlFoldMode({\n        \"area\": 1,\n        \"base\": 1,\n        \"br\": 1,\n        \"col\": 1,\n        \"command\": 1,\n        \"embed\": 1,\n        \"hr\": 1,\n        \"img\": 1,\n        \"input\": 1,\n        \"keygen\": 1,\n        \"link\": 1,\n        \"meta\": 1,\n        \"param\": 1,\n        \"source\": 1,\n        \"track\": 1,\n        \"wbr\": 1,\n        \"li\": 1,\n        \"dt\": 1,\n        \"dd\": 1,\n        \"p\": 1,\n        \"rt\": 1,\n        \"rp\": 1,\n        \"optgroup\": 1,\n        \"option\": 1,\n        \"colgroup\": 1,\n        \"td\": 1,\n        \"th\": 1\n    }), {\n        \"js-\": new CStyleFoldMode(),\n        \"css-\": new CStyleFoldMode()\n    });\n};\n\noop.inherits(FoldMode, MixedFoldMode);\n\n});\n\ndefine('ace/mode/doc_comment_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar DocCommentHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [ {\n            token : \"comment.doc.tag\",\n            regex : \"@[\\\\w\\\\d_]+\" // TODO: fix email addresses\n        }, {\n            token : \"comment.doc.tag\",\n            regex : \"\\\\bTODO\\\\b\"\n        }, {\n            defaultToken : \"comment.doc\"\n        }]\n    };\n};\n\noop.inherits(DocCommentHighlightRules, TextHighlightRules);\n\nDocCommentHighlightRules.getStartRule = function(start) {\n    return {\n        token : \"comment.doc\", // doc comment\n        regex : \"\\\\/\\\\*(?=\\\\*)\",\n        next  : start\n    };\n};\n\nDocCommentHighlightRules.getEndRule = function (start) {\n    return {\n        token : \"comment.doc\", // closing comment\n        regex : \"\\\\*\\\\/\",\n        next  : start\n    };\n};\n\n\nexports.DocCommentHighlightRules = DocCommentHighlightRules;\n\n});\n\ndefine('ace/mode/folding/mixed', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/folding/fold_mode'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(defaultMode, subModes) {\n    this.defaultMode = defaultMode;\n    this.subModes = subModes;\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n\n    this.$getMode = function(state) {\n        if (typeof state != \"string\") \n            state = state[0];\n        for (var key in this.subModes) {\n            if (state.indexOf(key) === 0)\n                return this.subModes[key];\n        }\n        return null;\n    };\n    \n    this.$tryMode = function(state, session, foldStyle, row) {\n        var mode = this.$getMode(state);\n        return (mode ? mode.getFoldWidget(session, foldStyle, row) : \"\");\n    };\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        return (\n            this.$tryMode(session.getState(row-1), session, foldStyle, row) ||\n            this.$tryMode(session.getState(row), session, foldStyle, row) ||\n            this.defaultMode.getFoldWidget(session, foldStyle, row)\n        );\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var mode = this.$getMode(session.getState(row-1));\n        \n        if (!mode || !mode.getFoldWidget(session, foldStyle, row))\n            mode = this.$getMode(session.getState(row));\n        \n        if (!mode || !mode.getFoldWidget(session, foldStyle, row))\n            mode = this.defaultMode;\n        \n        return mode.getFoldWidgetRange(session, foldStyle, row);\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/mode/javascript_highlight_rules', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/doc_comment_highlight_rules', 'ace/mode/text_highlight_rules'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar DocCommentHighlightRules = require(\"./doc_comment_highlight_rules\").DocCommentHighlightRules;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar JavaScriptHighlightRules = function() {\n    var keywordMapper = this.createKeywordMapper({\n        \"variable.language\":\n            \"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|\"  + // Constructors\n            \"Namespace|QName|XML|XMLList|\"                                             + // E4X\n            \"ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|\"   +\n            \"Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|\"                    +\n            \"Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|\"   + // Errors\n            \"SyntaxError|TypeError|URIError|\"                                          +\n            \"decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|\" + // Non-constructor functions\n            \"isNaN|parseFloat|parseInt|\"                                               +\n            \"JSON|Math|\"                                                               + // Other\n            \"this|arguments|prototype|window|document\"                                 , // Pseudo\n        \"keyword\":\n            \"const|yield|import|get|set|\" +\n            \"break|case|catch|continue|default|delete|do|else|finally|for|function|\" +\n            \"if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|\" +\n            \"__parent__|__count__|escape|unescape|with|__proto__|\" +\n            \"class|enum|extends|super|export|implements|private|public|interface|package|protected|static\",\n        \"storage.type\":\n            \"const|let|var|function\",\n        \"constant.language\":\n            \"null|Infinity|NaN|undefined\",\n        \"support.function\":\n            \"alert\",\n        \"constant.language.boolean\": \"true|false\"\n    }, \"identifier\");\n    var kwBeforeRe = \"case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void\";\n    var identifierRe = \"[a-zA-Z\\\\$_\\u00a1-\\uffff][a-zA-Z\\\\d\\\\$_\\u00a1-\\uffff]*\\\\b\";\n\n    var escapedRe = \"\\\\\\\\(?:x[0-9a-fA-F]{2}|\" + // hex\n        \"u[0-9a-fA-F]{4}|\" + // unicode\n        \"[0-2][0-7]{0,2}|\" + // oct\n        \"3[0-6][0-7]?|\" + // oct\n        \"37[0-7]?|\" + // oct\n        \"[4-7][0-7]?|\" + //oct\n        \".)\";\n\n    this.$rules = {\n        \"no_regex\" : [\n            {\n                token : \"comment\",\n                regex : \"\\\\/\\\\/\",\n                next : \"line_comment\"\n            },\n            DocCommentHighlightRules.getStartRule(\"doc-start\"),\n            {\n                token : \"comment\", // multi line comment\n                regex : /\\/\\*/,\n                next : \"comment\"\n            }, {\n                token : \"string\",\n                regex : \"'(?=.)\",\n                next  : \"qstring\"\n            }, {\n                token : \"string\",\n                regex : '\"(?=.)',\n                next  : \"qqstring\"\n            }, {\n                token : \"constant.numeric\", // hex\n                regex : /0[xX][0-9a-fA-F]+\\b/\n            }, {\n                token : \"constant.numeric\", // float\n                regex : /[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b/\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"support.function\",\n                    \"punctuation.operator\", \"entity.name.function\", \"text\",\"keyword.operator\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(prototype)(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                    \"keyword.operator\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"entity.name.function\", \"text\", \"keyword.operator\", \"text\", \"storage.type\",\n                    \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                    \"keyword.operator\", \"text\",\n                    \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s+)(\\\\w+)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(function)(\\\\s+)(\" + identifierRe + \")(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"entity.name.function\", \"text\", \"punctuation.operator\",\n                    \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\s*)(:)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"text\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(:)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : \"keyword\",\n                regex : \"(?:\" + kwBeforeRe + \")\\\\b\",\n                next : \"start\"\n            }, {\n                token : [\"punctuation.operator\", \"support.function\"],\n                regex : /(\\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\\b(?=\\()/\n            }, {\n                token : [\"punctuation.operator\", \"support.function.dom\"],\n                regex : /(\\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\\b(?=\\()/\n            }, {\n                token : [\"punctuation.operator\", \"support.constant\"],\n                regex : /(\\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\\b/\n            }, {\n                token : [\"storage.type\", \"punctuation.operator\", \"support.function.firebug\"],\n                regex : /(console)(\\.)(warn|info|log|error|time|timeEnd|assert)\\b/\n            }, {\n                token : keywordMapper,\n                regex : identifierRe\n            }, {\n                token : \"keyword.operator\",\n                regex : /--|\\+\\+|[!$%&*+\\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=/,\n                next  : \"start\"\n            }, {\n                token : \"punctuation.operator\",\n                regex : /\\?|\\:|\\,|\\;|\\./,\n                next  : \"start\"\n            }, {\n                token : \"paren.lparen\",\n                regex : /[\\[({]/,\n                next  : \"start\"\n            }, {\n                token : \"paren.rparen\",\n                regex : /[\\])}]/\n            }, {\n                token : \"keyword.operator\",\n                regex : /\\/=?/,\n                next  : \"start\"\n            }, {\n                token: \"comment\",\n                regex: /^#!.*$/\n            }\n        ],\n        \"start\": [\n            DocCommentHighlightRules.getStartRule(\"doc-start\"),\n            {\n                token : \"comment\", // multi line comment\n                regex : \"\\\\/\\\\*\",\n                next : \"comment_regex_allowed\"\n            }, {\n                token : \"comment\",\n                regex : \"\\\\/\\\\/\",\n                next : \"line_comment_regex_allowed\"\n            }, {\n                token: \"string.regexp\",\n                regex: \"\\\\/\",\n                next: \"regex\"\n            }, {\n                token : \"text\",\n                regex : \"\\\\s+|^$\",\n                next : \"start\"\n            }, {\n                token: \"empty\",\n                regex: \"\",\n                next: \"no_regex\"\n            }\n        ],\n        \"regex\": [\n            {\n                token: \"regexp.keyword.operator\",\n                regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n            }, {\n                token: \"string.regexp\",\n                regex: \"/[sxngimy]*\",\n                next: \"no_regex\"\n            }, {\n                token : \"invalid\",\n                regex: /\\{\\d+\\b,?\\d*\\}[+*]|[+*$^?][+*]|[$^][?]|\\?{3,}/\n            }, {\n                token : \"constant.language.escape\",\n                regex: /\\(\\?[:=!]|\\)|\\{\\d+\\b,?\\d*\\}|[+*]\\?|[()$^+*?.]/\n            }, {\n                token : \"constant.language.delimiter\",\n                regex: /\\|/\n            }, {\n                token: \"constant.language.escape\",\n                regex: /\\[\\^?/,\n                next: \"regex_character_class\"\n            }, {\n                token: \"empty\",\n                regex: \"$\",\n                next: \"no_regex\"\n            }, {\n                defaultToken: \"string.regexp\"\n            }\n        ],\n        \"regex_character_class\": [\n            {\n                token: \"regexp.keyword.operator\",\n                regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n            }, {\n                token: \"constant.language.escape\",\n                regex: \"]\",\n                next: \"regex\"\n            }, {\n                token: \"constant.language.escape\",\n                regex: \"-\"\n            }, {\n                token: \"empty\",\n                regex: \"$\",\n                next: \"no_regex\"\n            }, {\n                defaultToken: \"string.regexp.charachterclass\"\n            }\n        ],\n        \"function_arguments\": [\n            {\n                token: \"variable.parameter\",\n                regex: identifierRe\n            }, {\n                token: \"punctuation.operator\",\n                regex: \"[, ]+\"\n            }, {\n                token: \"punctuation.operator\",\n                regex: \"$\"\n            }, {\n                token: \"empty\",\n                regex: \"\",\n                next: \"no_regex\"\n            }\n        ],\n        \"comment_regex_allowed\" : [\n            {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"start\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"comment\" : [\n            {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"no_regex\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"line_comment_regex_allowed\" : [\n            {token : \"comment\", regex : \"$|^\", next : \"start\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"line_comment\" : [\n            {token : \"comment\", regex : \"$|^\", next : \"no_regex\"},\n            {defaultToken : \"comment\"}\n        ],\n        \"qqstring\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : escapedRe\n            }, {\n                token : \"string\",\n                regex : \"\\\\\\\\$\",\n                next  : \"qqstring\"\n            }, {\n                token : \"string\",\n                regex : '\"|$',\n                next  : \"no_regex\"\n            }, {\n                defaultToken: \"string\"\n            }\n        ],\n        \"qstring\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : escapedRe\n            }, {\n                token : \"string\",\n                regex : \"\\\\\\\\$\",\n                next  : \"qstring\"\n            }, {\n                token : \"string\",\n                regex : \"'|$\",\n                next  : \"no_regex\"\n            }, {\n                defaultToken: \"string\"\n            }\n        ]\n    };\n\n    this.embedRules(DocCommentHighlightRules, \"doc-\",\n        [ DocCommentHighlightRules.getEndRule(\"no_regex\") ]);\n};\n\noop.inherits(JavaScriptHighlightRules, TextHighlightRules);\n\nexports.JavaScriptHighlightRules = JavaScriptHighlightRules;\n});\n\ndefine('ace/mode/folding/xml', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/range', 'ace/mode/folding/fold_mode', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar lang = require(\"../../lib/lang\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar FoldMode = exports.FoldMode = function(voidElements) {\n    BaseFoldMode.call(this);\n    this.voidElements = voidElements || {};\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var tag = this._getFirstTagInLine(session, row);\n\n        if (tag.closing)\n            return foldStyle == \"markbeginend\" ? \"end\" : \"\";\n\n        if (!tag.tagName || this.voidElements[tag.tagName.toLowerCase()])\n            return \"\";\n\n        if (tag.selfClosing)\n            return \"\";\n\n        if (tag.value.indexOf(\"/\" + tag.tagName) !== -1)\n            return \"\";\n\n        return \"start\";\n    };\n    \n    this._getFirstTagInLine = function(session, row) {\n        var tokens = session.getTokens(row);\n        var value = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (token.type.lastIndexOf(\"meta.tag\", 0) === 0)\n                value += token.value;\n            else\n                value += lang.stringRepeat(\" \", token.value.length);\n        }\n        \n        return this._parseTag(value);\n    };\n\n    this.tagRe = /^(\\s*)(<?(\\/?)([-_a-zA-Z0-9:!]*)\\s*(\\/?)>?)/;\n    this._parseTag = function(tag) {\n        \n        var match = tag.match(this.tagRe);\n        var column = 0;\n\n        return {\n            value: tag,\n            match: match ? match[2] : \"\",\n            closing: match ? !!match[3] : false,\n            selfClosing: match ? !!match[5] || match[2] == \"/>\" : false,\n            tagName: match ? match[4] : \"\",\n            column: match[1] ? column + match[1].length : column\n        };\n    };\n    this._readTagForward = function(iterator) {\n        var token = iterator.getCurrentToken();\n        if (!token)\n            return null;\n            \n        var value = \"\";\n        var start;\n        \n        do {\n            if (token.type.lastIndexOf(\"meta.tag\", 0) === 0) {\n                if (!start) {\n                    var start = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn()\n                    };\n                }\n                value += token.value;\n                if (value.indexOf(\">\") !== -1) {\n                    var tag = this._parseTag(value);\n                    tag.start = start;\n                    tag.end = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn() + token.value.length\n                    };\n                    iterator.stepForward();\n                    return tag;\n                }\n            }\n        } while(token = iterator.stepForward());\n        \n        return null;\n    };\n    \n    this._readTagBackward = function(iterator) {\n        var token = iterator.getCurrentToken();\n        if (!token)\n            return null;\n            \n        var value = \"\";\n        var end;\n\n        do {\n            if (token.type.lastIndexOf(\"meta.tag\", 0) === 0) {\n                if (!end) {\n                    end = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn() + token.value.length\n                    };\n                }\n                value = token.value + value;\n                if (value.indexOf(\"<\") !== -1) {\n                    var tag = this._parseTag(value);\n                    tag.end = end;\n                    tag.start = {\n                        row: iterator.getCurrentTokenRow(),\n                        column: iterator.getCurrentTokenColumn()\n                    };\n                    iterator.stepBackward();\n                    return tag;\n                }\n            }\n        } while(token = iterator.stepBackward());\n        \n        return null;\n    };\n    \n    this._pop = function(stack, tag) {\n        while (stack.length) {\n            \n            var top = stack[stack.length-1];\n            if (!tag || top.tagName == tag.tagName) {\n                return stack.pop();\n            }\n            else if (this.voidElements[tag.tagName]) {\n                return;\n            }\n            else if (this.voidElements[top.tagName]) {\n                stack.pop();\n                continue;\n            } else {\n                return null;\n            }\n        }\n    };\n    \n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var firstTag = this._getFirstTagInLine(session, row);\n        \n        if (!firstTag.match)\n            return null;\n        \n        var isBackward = firstTag.closing || firstTag.selfClosing;\n        var stack = [];\n        var tag;\n        \n        if (!isBackward) {\n            var iterator = new TokenIterator(session, row, firstTag.column);\n            var start = {\n                row: row,\n                column: firstTag.column + firstTag.tagName.length + 2\n            };\n            while (tag = this._readTagForward(iterator)) {\n                if (tag.selfClosing) {\n                    if (!stack.length) {\n                        tag.start.column += tag.tagName.length + 2;\n                        tag.end.column -= 2;\n                        return Range.fromPoints(tag.start, tag.end);\n                    } else\n                        continue;\n                }\n                \n                if (tag.closing) {\n                    this._pop(stack, tag);\n                    if (stack.length == 0)\n                        return Range.fromPoints(start, tag.start);\n                }\n                else {\n                    stack.push(tag)\n                }\n            }\n        }\n        else {\n            var iterator = new TokenIterator(session, row, firstTag.column + firstTag.match.length);\n            var end = {\n                row: row,\n                column: firstTag.column\n            };\n            \n            while (tag = this._readTagBackward(iterator)) {\n                if (tag.selfClosing) {\n                    if (!stack.length) {\n                        tag.start.column += tag.tagName.length + 2;\n                        tag.end.column -= 2;\n                        return Range.fromPoints(tag.start, tag.end);\n                    } else\n                        continue;\n                }\n                \n                if (!tag.closing) {\n                    this._pop(stack, tag);\n                    if (stack.length == 0) {\n                        tag.start.column += tag.tagName.length + 2;\n                        return Range.fromPoints(tag.start, end);\n                    }\n                }\n                else {\n                    stack.push(tag)\n                }\n            }\n        }\n        \n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine('ace/mode/javascript', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/javascript_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/range', 'ace/worker/worker_client', 'ace/mode/behaviour/cstyle', 'ace/mode/folding/cstyle'], function(require, exports, module) {\n\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar Range = require(\"../range\").Range;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = JavaScriptHighlightRules;\n    \n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CstyleBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.lineCommentStart = \"//\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n\n        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);\n        var tokens = tokenizedLine.tokens;\n        var endState = tokenizedLine.state;\n\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        if (state == \"start\" || state == \"no_regex\") {\n            var match = line.match(/^.*(?:\\bcase\\b.*\\:|[\\{\\(\\[])\\s*$/);\n            if (match) {\n                indent += tab;\n            }\n        } else if (state == \"doc-start\") {\n            if (endState == \"start\" || endState == \"no_regex\") {\n                return \"\";\n            }\n            var match = line.match(/^\\s*(\\/?)\\*/);\n            if (match) {\n                if (match[1]) {\n                    indent += \" \";\n                }\n                indent += \"* \";\n            }\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/javascript_worker\", \"JavaScriptWorker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"jslint\", function(results) {\n            session.setAnnotations(results.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/javascript\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine('ace/mode/html_completions', ['require', 'exports', 'module' , 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nvar commonAttributes = [\n    \"accesskey\",\n    \"class\",\n    \"contenteditable\",\n    \"contextmenu\",\n    \"dir\",\n    \"draggable\",\n    \"dropzone\",\n    \"hidden\",\n    \"id\",\n    \"lang\",\n    \"spellcheck\",\n    \"style\",\n    \"tabindex\",\n    \"title\",\n    \"translate\"\n];\n\nvar eventAttributes = [\n    \"onabort\",\n    \"onblur\",\n    \"oncancel\",\n    \"oncanplay\",\n    \"oncanplaythrough\",\n    \"onchange\",\n    \"onclick\",\n    \"onclose\",\n    \"oncontextmenu\",\n    \"oncuechange\",\n    \"ondblclick\",\n    \"ondrag\",\n    \"ondragend\",\n    \"ondragenter\",\n    \"ondragleave\",\n    \"ondragover\",\n    \"ondragstart\",\n    \"ondrop\",\n    \"ondurationchange\",\n    \"onemptied\",\n    \"onended\",\n    \"onerror\",\n    \"onfocus\",\n    \"oninput\",\n    \"oninvalid\",\n    \"onkeydown\",\n    \"onkeypress\",\n    \"onkeyup\",\n    \"onload\",\n    \"onloadeddata\",\n    \"onloadedmetadata\",\n    \"onloadstart\",\n    \"onmousedown\",\n    \"onmousemove\",\n    \"onmouseout\",\n    \"onmouseover\",\n    \"onmouseup\",\n    \"onmousewheel\",\n    \"onpause\",\n    \"onplay\",\n    \"onplaying\",\n    \"onprogress\",\n    \"onratechange\",\n    \"onreset\",\n    \"onscroll\",\n    \"onseeked\",\n    \"onseeking\",\n    \"onselect\",\n    \"onshow\",\n    \"onstalled\",\n    \"onsubmit\",\n    \"onsuspend\",\n    \"ontimeupdate\",\n    \"onvolumechange\",\n    \"onwaiting\"\n];\n\nvar globalAttributes = commonAttributes.concat(eventAttributes);\n\nvar attributeMap = {\n    \"html\": [\"manifest\"],\n    \"head\": [],\n    \"title\": [],\n    \"base\": [\"href\", \"target\"],\n    \"link\": [\"href\", \"hreflang\", \"rel\", \"media\", \"type\", \"sizes\"],\n    \"meta\": [\"http-equiv\", \"name\", \"content\", \"charset\"],\n    \"style\": [\"type\", \"media\", \"scoped\"],\n    \"script\": [\"charset\", \"type\", \"src\", \"defer\", \"async\"],\n    \"noscript\": [\"href\"],\n    \"body\": [\"onafterprint\", \"onbeforeprint\", \"onbeforeunload\", \"onhashchange\", \"onmessage\", \"onoffline\", \"onpopstate\", \"onredo\", \"onresize\", \"onstorage\", \"onundo\", \"onunload\"],\n    \"section\": [],\n    \"nav\": [],\n    \"article\": [\"pubdate\"],\n    \"aside\": [],\n    \"h1\": [],\n    \"h2\": [],\n    \"h3\": [],\n    \"h4\": [],\n    \"h5\": [],\n    \"h6\": [],\n    \"header\": [],\n    \"footer\": [],\n    \"address\": [],\n    \"main\": [],\n    \"p\": [],\n    \"hr\": [],\n    \"pre\": [],\n    \"blockquote\": [\"cite\"],\n    \"ol\": [\"start\", \"reversed\"],\n    \"ul\": [],\n    \"li\": [\"value\"],\n    \"dl\": [],\n    \"dt\": [],\n    \"dd\": [],\n    \"figure\": [],\n    \"figcaption\": [],\n    \"div\": [],\n    \"a\": [\"href\", \"target\", \"ping\", \"rel\", \"media\", \"hreflang\", \"type\"],\n    \"em\": [],\n    \"strong\": [],\n    \"small\": [],\n    \"s\": [],\n    \"cite\": [],\n    \"q\": [\"cite\"],\n    \"dfn\": [],\n    \"abbr\": [],\n    \"data\": [],\n    \"time\": [\"datetime\"],\n    \"code\": [],\n    \"var\": [],\n    \"samp\": [],\n    \"kbd\": [],\n    \"sub\": [],\n    \"sup\": [],\n    \"i\": [],\n    \"b\": [],\n    \"u\": [],\n    \"mark\": [],\n    \"ruby\": [],\n    \"rt\": [],\n    \"rp\": [],\n    \"bdi\": [],\n    \"bdo\": [],\n    \"span\": [],\n    \"br\": [],\n    \"wbr\": [],\n    \"ins\": [\"cite\", \"datetime\"],\n    \"del\": [\"cite\", \"datetime\"],\n    \"img\": [\"alt\", \"src\", \"height\", \"width\", \"usemap\", \"ismap\"],\n    \"iframe\": [\"name\", \"src\", \"height\", \"width\", \"sandbox\", \"seamless\"],\n    \"embed\": [\"src\", \"height\", \"width\", \"type\"],\n    \"object\": [\"param\", \"data\", \"type\", \"height\" , \"width\", \"usemap\", \"name\", \"form\", \"classid\"],\n    \"param\": [\"name\", \"value\"],\n    \"video\": [\"src\", \"autobuffer\", \"autoplay\", \"loop\", \"controls\", \"width\", \"height\", \"poster\"],\n    \"audio\": [\"src\", \"autobuffer\", \"autoplay\", \"loop\", \"controls\"],\n    \"source\": [\"src\", \"type\", \"media\"],\n    \"track\": [\"kind\", \"src\", \"srclang\", \"label\", \"default\"],\n    \"canvas\": [\"width\", \"height\"],\n    \"map\": [\"name\"],\n    \"area\": [\"shape\", \"coords\", \"href\", \"hreflang\", \"alt\", \"target\", \"media\", \"rel\", \"ping\", \"type\"],\n    \"svg\": [],\n    \"math\": [],\n    \"table\": [\"summary\"],\n    \"caption\": [],\n    \"colgroup\": [\"span\"],\n    \"col\": [\"span\"],\n    \"tbody\": [],\n    \"thead\": [],\n    \"tfoot\": [],\n    \"tr\": [],\n    \"td\": [\"headers\", \"rowspan\", \"colspan\"],\n    \"th\": [\"headers\", \"rowspan\", \"colspan\", \"scope\"],\n    \"form\": [\"accept-charset\", \"action\", \"autocomplete\", \"enctype\", \"method\", \"name\", \"novalidate\", \"target\"],\n    \"fieldset\": [\"disabled\", \"form\", \"name\"],\n    \"legend\": [],\n    \"label\": [\"form\", \"for\"],\n    \"input\": [\"type\", \"accept\", \"alt\", \"autocomplete\", \"checked\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"height\", \"list\", \"max\", \"maxlength\", \"min\", \"multiple\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"size\", \"src\", \"step\", \"width\", \"files\", \"value\"],\n    \"button\": [\"autofocus\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"name\", \"value\", \"type\"],\n    \"select\": [\"autofocus\", \"disabled\", \"form\", \"multiple\", \"name\", \"size\"],\n    \"datalist\": [],\n    \"optgroup\": [\"disabled\", \"label\"],\n    \"option\": [\"disabled\", \"selected\", \"label\", \"value\"],\n    \"textarea\": [\"autofocus\", \"disabled\", \"form\", \"maxlength\", \"name\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"cols\", \"wrap\"],\n    \"keygen\": [\"autofocus\", \"challenge\", \"disabled\", \"form\", \"keytype\", \"name\"],\n    \"output\": [\"for\", \"form\", \"name\"],\n    \"progress\": [\"value\", \"max\"],\n    \"meter\": [\"value\", \"min\", \"max\", \"low\", \"high\", \"optimum\"],\n    \"details\": [\"open\"],\n    \"summary\": [],\n    \"command\": [\"type\", \"label\", \"icon\", \"disabled\", \"checked\", \"radiogroup\", \"command\"],\n    \"menu\": [\"type\", \"label\"],\n    \"dialog\": [\"open\"]\n};\n\nvar allElements = Object.keys(attributeMap);\n\nfunction hasType(token, type) {\n    var tokenTypes = token.type.split('.');\n    return type.split('.').every(function(type){\n        return (tokenTypes.indexOf(type) !== -1);\n    });\n}\n\nfunction findTagName(session, pos) {\n    var iterator = new TokenIterator(session, pos.row, pos.column);\n    var token = iterator.getCurrentToken();\n    if (!token || !hasType(token, 'tag') && !(hasType(token, 'text') && token.value.match('/'))){\n        do {\n            token = iterator.stepBackward();\n        } while (token && (hasType(token, 'string') || hasType(token, 'operator') || hasType(token, 'attribute-name') || hasType(token, 'text')));\n    }\n    if (token && hasType(token, 'tag-name') && !iterator.stepBackward().value.match('/'))\n        return token.value;\n}\n\nvar HtmlCompletions = function() {\n\n};\n\n(function() {\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var token = session.getTokenAt(pos.row, pos.column);\n\n        if (!token)\n            return [];\n        if (hasType(token, \"tag-name\") || (token.value == '<' && hasType(token, \"text\")))\n            return this.getTagCompletions(state, session, pos, prefix);\n        if (hasType(token, 'text') || hasType(token, 'attribute-name'))\n            return this.getAttributeCompetions(state, session, pos, prefix);\n\n        return [];\n    };\n\n    this.getTagCompletions = function(state, session, pos, prefix) {\n        var elements = allElements;\n        if (prefix) {\n            elements = elements.filter(function(element){\n                return element.indexOf(prefix) === 0;\n            });\n        }\n        return elements.map(function(element){\n            return {\n                value: element,\n                meta: \"tag\"\n            };\n        });\n    };\n\n    this.getAttributeCompetions = function(state, session, pos, prefix) {\n        var tagName = findTagName(session, pos);\n        if (!tagName)\n            return [];\n        var attributes = globalAttributes;\n        if (tagName in attributeMap) {\n            attributes = attributes.concat(attributeMap[tagName]);\n        }\n        if (prefix) {\n            attributes = attributes.filter(function(attribute){\n                return attribute.indexOf(prefix) === 0;\n            });\n        }\n        return attributes.map(function(attribute){\n            return {\n                caption: attribute,\n                snippet: attribute + '=\"$0\"',\n                meta: \"attribute\"\n            };\n        });\n    };\n\n}).call(HtmlCompletions.prototype);\n\nexports.HtmlCompletions = HtmlCompletions;\n});\n\ndefine('ace/mode/behaviour/css', ['require', 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/mode/behaviour/cstyle', 'ace/token_iterator'], function(require, exports, module) {\n\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar CssBehaviour = function () {\n\n    this.inherit(CstyleBehaviour);\n\n    this.add(\"colon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar === ':') {\n                    return {\n                       text: '',\n                       selection: [1, 1]\n                    }\n                }\n                if (!line.substring(cursor.column).match(/^\\s*;/)) {\n                    return {\n                       text: ':;',\n                       selection: [1, 1]\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"colon\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n                if (rightChar === ';') {\n                    range.end.column ++;\n                    return range;\n                }\n            }\n        }\n    });\n\n    this.add(\"semicolon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ';') {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === ';') {\n                return {\n                   text: '',\n                   selection: [1, 1]\n                }\n            }\n        }\n    });\n\n}\noop.inherits(CssBehaviour, CstyleBehaviour);\n\nexports.CssBehaviour = CssBehaviour;\n});\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/theme/koken', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\nexports.isDark = true;\nexports.cssClass = \"ace-koken\";\nexports.cssText = \".ace-koken .ace_gutter {\\\nbackground: #1a1a1a;\\\ncolor: #707070\\\n}\\\n.ace-koken .ace_fold-widget:hover {\\\nborder-color:#080808;\\\nbox-shadow:0 1px 0 rgba(255,255,255,0.1)\\\n}\\\n.ace-koken {\\\nfont-size:12px !important;\\\n}\\\n.ace-koken .ace_print-margin {\\\ndisplay:none;\\\nwidth: 1px;\\\nbackground: #232323\\\n}\\\n.ace_scrollbar {\\\nbackground:#141414;\\\n}\\\n.ace-koken .ace_scroller {\\\nbackground-color: #141414\\\n}\\\n.ace-koken .ace_text-layer {\\\ncolor: #bbb\\\n}\\\n.ace-koken .ace_cursor {\\\nborder-left: 2px solid #A7A7A7\\\n}\\\n.ace-koken .ace_overwrite-cursors .ace_cursor {\\\nborder-left: 0px;\\\nborder-bottom: 1px solid #A7A7A7\\\n}\\\n.ace-koken .ace_marker-layer .ace_selection {\\\nbackground: rgba(80, 80, 80, 0.3)\\\n}\\\n.ace-koken.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px #141414\\\nborder-radius: 2px\\\n}\\\n.ace-koken .ace_marker-layer .ace_step {\\\nbackground: rgb(102, 82, 0)\\\n}\\\n.ace-koken .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgba(255, 255, 255, 0.25)\\\n}\\\n.ace-koken .ace_marker-layer .ace_active-line {\\\nbackground: rgba(255, 255, 255, 0.001)\\\n}\\\n.ace-koken .ace_gutter-active-line {\\\nbackground-color: rgba(255, 255, 255, 0.05)\\\n}\\\n.ace-koken .ace_marker-layer .ace_selected-word {\\\nborder: 1px solid rgba(255, 255, 255, 0.20)\\\n}\\\n.ace-koken .ace_invisible {\\\ncolor: rgba(255, 255, 255, 0.25)\\\n}\\\n.ace-koken .ace_keyword,\\\n.ace-koken .ace_meta {\\\ncolor: #CDA869\\\n}\\\n.ace-koken .ace_constant,\\\n.ace-koken .ace_constant.ace_character,\\\n.ace-koken .ace_constant.ace_character.ace_escape,\\\n.ace-koken .ace_constant.ace_other,\\\n.ace-koken .ace_markup.ace_heading,\\\n.ace-koken .ace_support.ace_constant,\\\n.ace-koken .ace_shortcode {\\\ncolor: #ff6e00\\\n}\\\n.ace-koken .ace_invalid.ace_illegal {\\\ncolor: #aaa;\\\nbackground-color: rgba(86, 45, 86, 0.75)\\\n}\\\n.ace-koken .ace_invalid.ace_deprecated {\\\ntext-decoration: underline;\\\nfont-style: italic;\\\ncolor: #D2A8A1\\\n}\\\n.ace-koken .ace_support {\\\ncolor: #9B859D\\\n}\\\n.ace-koken .ace_fold {\\\nbackground-color: #AC885B;\\\nborder-color: #aaa\\\n}\\\n.ace-koken .ace_support.ace_function {\\\ncolor: #DAD085\\\n}\\\n.ace-koken .ace_markup.ace_list,\\\n.ace-koken .ace_storage {\\\ncolor: #F9EE98\\\n}\\\n.ace-koken .ace_entity.ace_name.ace_function,\\\n.ace-koken .ace_variable {\\\ncolor: #ff6e00\\\n}\\\n.ace-koken .ace_string {\\\ncolor: #7faace\\\n}\\\n.ace-koken .ace_string.ace_regexp {\\\ncolor: #E9C062\\\n}\\\n.ace-koken .ace_comment {\\\nfont-style: italic;\\\ncolor: #5F5A60\\\n}\\\n.ace-koken .ace_variable {\\\ncolor: #7587A6\\\n}\\\n.ace-koken .ace_xml-pe {\\\ncolor: #494949\\\n}\\\n.ace-koken .ace_markup.ace_underline {\\\ntext-decoration: underline\\\n}\\\n.ace-koken .ace_attribute-name {\\\ncolor:#ff6600\\\n}\\\n.ace-koken .ace_meta.ace_tag {\\\ncolor:#cc5200\\\n}\\\n.ace-koken .ace_shortcode {\\\ncolor:#fff\\\n}\\\n.ace-koken .ace_meta.ace_tag-name {\\\ncolor:#ff6600\\\n}\\\n.ace-koken .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERH5zzBz5sz/AA5EBAYqeZXWAAAAAElFTkSuQmCC) right repeat-y\\\n}\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine('ace/theme/kokenlight', ['require', 'exports', 'module' , 'ace/lib/dom'], function(require, exports, module) {\n\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #fafafa;\\\ncolor: #999;\\\n}\\\n.ace-tm {\\\ntext-shadow:none;\\\nfont-size:12px !important;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace_scrollbar {\\\nbackground:#FFFFFF;\\\n}\\\n.ace-tm .ace_scroller {\\\nbackground-color: #FFFFFF;\\\n}\\\n.ace-tm .ace_cursor {\\\nborder-left: 2px solid black;\\\n}\\\n.ace-tm .ace_text-layer {\\\ncolor: #303030\\\n}\\\n.ace-tm .ace_overwrite-cursors .ace_cursor {\\\nborder-left: 0px;\\\nborder-bottom: 1px solid black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: #2f85ce\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_markup.ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_markup.ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(240, 240, 240);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: none;\\\nborder-radius: 2px\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(255, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #ededed\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 250);\\\nborder: 1px solid rgb(200, 200, 200);\\\n}\\\n.ace-tm .ace_attribute-name {\\\ncolor:#ff6600\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:#cc5200\\\n}\\\n.ace-tm .ace_shortcode {\\\ncolor:#111\\\n}\\\n.ace-tm .ace_meta.ace_tag-name {\\\ncolor:#ff6600\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n","(function() {\n    var lastTime = 0,\n        vendors = ['ms', 'moz', 'webkit', 'o'],\n        x,\n        length,\n        currTime,\n        timeToCall;\n\n    for(x = 0, length = vendors.length; x < length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = \n          window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            currTime = new Date().getTime();\n            timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            lastTime = currTime + timeToCall;\n            return window.setTimeout(function() { callback(currTime + timeToCall); }, \n              timeToCall);\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());","/*\nCopyright (c) 2010 Ryan Schuft (ryan.schuft@gmail.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\n/*\n  This code is based in part on the work done in Ruby to support\n  infection as part of Ruby on Rails in the ActiveSupport's Inflector\n  and Inflections classes.  It was initally ported to Javascript by\n  Ryan Schuft (ryan.schuft@gmail.com) in 2007.\n\n  The code is available at http://code.google.com/p/inflection-js/\n\n  The basic usage is:\n    1. Include this script on your web page.\n    2. Call functions on any String object in Javascript\n\n  Currently implemented functions:\n\n    String.pluralize(plural) == String\n      renders a singular English language noun into its plural form\n      normal results can be overridden by passing in an alternative\n\n    String.singularize(singular) == String\n      renders a plural English language noun into its singular form\n      normal results can be overridden by passing in an alterative\n\n    String.camelize(lowFirstLetter) == String\n      renders a lower case underscored word into camel case\n      the first letter of the result will be upper case unless you pass true\n      also translates \"/\" into \"::\" (underscore does the opposite)\n\n    String.underscore() == String\n      renders a camel cased word into words seperated by underscores\n      also translates \"::\" back into \"/\" (camelize does the opposite)\n\n    String.humanize(lowFirstLetter) == String\n      renders a lower case and underscored word into human readable form\n      defaults to making the first letter capitalized unless you pass true\n\n    String.capitalize() == String\n      renders all characters to lower case and then makes the first upper\n\n    String.dasherize() == String\n      renders all underbars and spaces as dashes\n\n    String.titleize() == String\n      renders words into title casing (as for book titles)\n\n    String.demodulize() == String\n      renders class names that are prepended by modules into just the class\n\n    String.tableize() == String\n      renders camel cased singular words into their underscored plural form\n\n    String.classify() == String\n      renders an underscored plural word into its camel cased singular form\n\n    String.foreign_key(dropIdUbar) == String\n      renders a class name (camel cased singular noun) into a foreign key\n      defaults to seperating the class from the id with an underbar unless\n      you pass true\n\n    String.ordinalize() == String\n      renders all numbers found in the string into their sequence like \"22nd\"\n*/\n\n/*\n  This sets up a container for some constants in its own namespace\n  We use the window (if available) to enable dynamic loading of this script\n  Window won't necessarily exist for non-browsers.\n*/\nif (window && !window.InflectionJS)\n{\n    window.InflectionJS = null;\n}\n\n/*\n  This sets up some constants for later use\n  This should use the window namespace variable if available\n*/\nInflectionJS =\n{\n    /*\n      This is a list of nouns that use the same form for both singular and plural.\n      This list should remain entirely in lower case to correctly match Strings.\n    */\n    uncountable_words: [\n        'equipment', 'information', 'rice', 'money', 'species', 'series',\n        'fish', 'sheep', 'moose', 'deer', 'news'\n    ],\n\n    /*\n      These rules translate from the singular form of a noun to its plural form.\n    */\n    plural_rules: [\n        [new RegExp('(m)an$', 'gi'),                 '$1en'],\n        [new RegExp('(pe)rson$', 'gi'),              '$1ople'],\n        [new RegExp('(child)$', 'gi'),               '$1ren'],\n        [new RegExp('^(ox)$', 'gi'),                 '$1en'],\n        [new RegExp('(ax|test)is$', 'gi'),           '$1es'],\n        [new RegExp('(octop|vir)us$', 'gi'),         '$1i'],\n        [new RegExp('(alias|status)$', 'gi'),        '$1es'],\n        [new RegExp('(bu)s$', 'gi'),                 '$1ses'],\n        [new RegExp('(buffal|tomat|potat)o$', 'gi'), '$1oes'],\n        [new RegExp('([ti])um$', 'gi'),              '$1a'],\n        [new RegExp('sis$', 'gi'),                   'ses'],\n        [new RegExp('(?:([^f])fe|([lr])f)$', 'gi'),  '$1$2ves'],\n        [new RegExp('(hive)$', 'gi'),                '$1s'],\n        [new RegExp('([^aeiouy]|qu)y$', 'gi'),       '$1ies'],\n        [new RegExp('(x|ch|ss|sh)$', 'gi'),          '$1es'],\n        [new RegExp('(matr|vert|ind)ix|ex$', 'gi'),  '$1ices'],\n        [new RegExp('([m|l])ouse$', 'gi'),           '$1ice'],\n        [new RegExp('(quiz)$', 'gi'),                '$1zes'],\n        [new RegExp('s$', 'gi'),                     's'],\n        [new RegExp('$', 'gi'),                      's']\n    ],\n\n    /*\n      These rules translate from the plural form of a noun to its singular form.\n    */\n    singular_rules: [\n        [new RegExp('(m)en$', 'gi'),                                                       '$1an'],\n        [new RegExp('(pe)ople$', 'gi'),                                                    '$1rson'],\n        [new RegExp('(child)ren$', 'gi'),                                                  '$1'],\n        [new RegExp('([ti])a$', 'gi'),                                                     '$1um'],\n        [new RegExp('((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$','gi'), '$1$2sis'],\n        [new RegExp('(hive)s$', 'gi'),                                                     '$1'],\n        [new RegExp('(tive)s$', 'gi'),                                                     '$1'],\n        [new RegExp('(curve)s$', 'gi'),                                                    '$1'],\n        [new RegExp('([lr])ves$', 'gi'),                                                   '$1f'],\n        [new RegExp('([^fo])ves$', 'gi'),                                                  '$1fe'],\n        [new RegExp('([^aeiouy]|qu)ies$', 'gi'),                                           '$1y'],\n        [new RegExp('(s)eries$', 'gi'),                                                    '$1eries'],\n        [new RegExp('(m)ovies$', 'gi'),                                                    '$1ovie'],\n        [new RegExp('(x|ch|ss|sh)es$', 'gi'),                                              '$1'],\n        [new RegExp('([m|l])ice$', 'gi'),                                                  '$1ouse'],\n        [new RegExp('(bus)es$', 'gi'),                                                     '$1'],\n        [new RegExp('(o)es$', 'gi'),                                                       '$1'],\n        [new RegExp('(shoe)s$', 'gi'),                                                     '$1'],\n        [new RegExp('(cris|ax|test)es$', 'gi'),                                            '$1is'],\n        [new RegExp('(octop|vir)i$', 'gi'),                                                '$1us'],\n        [new RegExp('(alias|status)es$', 'gi'),                                            '$1'],\n        [new RegExp('^(ox)en', 'gi'),                                                      '$1'],\n        [new RegExp('(vert|ind)ices$', 'gi'),                                              '$1ex'],\n        [new RegExp('(matr)ices$', 'gi'),                                                  '$1ix'],\n        [new RegExp('(quiz)zes$', 'gi'),                                                   '$1'],\n        [new RegExp('s$', 'gi'),                                                           '']\n    ],\n\n    /*\n      This is a list of words that should not be capitalized for title case\n    */\n    non_titlecased_words: [\n        'and', 'or', 'nor', 'a', 'an', 'the', 'so', 'but', 'to', 'of', 'at',\n        'by', 'from', 'into', 'on', 'onto', 'off', 'out', 'in', 'over',\n        'with', 'for'\n    ],\n\n    /*\n      These are regular expressions used for converting between String formats\n    */\n    id_suffix: new RegExp('(_ids|_id)$', 'g'),\n    underbar: new RegExp('_', 'g'),\n    space_or_underbar: new RegExp('[\\ _]', 'g'),\n    uppercase: new RegExp('([A-Z])', 'g'),\n    underbar_prefix: new RegExp('^_'),\n\n    /*\n      This is a helper method that applies rules based replacement to a String\n      Signature:\n        InflectionJS.apply_rules(str, rules, skip, override) == String\n      Arguments:\n        str - String - String to modify and return based on the passed rules\n        rules - Array: [RegExp, String] - Regexp to match paired with String to use for replacement\n        skip - Array: [String] - Strings to skip if they match\n        override - String (optional) - String to return as though this method succeeded (used to conform to APIs)\n      Returns:\n        String - passed String modified by passed rules\n      Examples:\n        InflectionJS.apply_rules(\"cows\", InflectionJs.singular_rules) === 'cow'\n    */\n    apply_rules: function(str, rules, skip, override)\n    {\n        if (override)\n        {\n            str = override;\n        }\n        else\n        {\n            var ignore = (skip.indexOf(str.toLowerCase()) > -1);\n            if (!ignore)\n            {\n                for (var x = 0; x < rules.length; x++)\n                {\n                    if (str.match(rules[x][0]))\n                    {\n                        str = str.replace(rules[x][0], rules[x][1]);\n                        break;\n                    }\n                }\n            }\n        }\n        return str;\n    }\n};\n\n/*\n  This lets us detect if an Array contains a given element\n  Signature:\n    Array.indexOf(item, fromIndex, compareFunc) == Integer\n  Arguments:\n    item - Object - object to locate in the Array\n    fromIndex - Integer (optional) - starts checking from this position in the Array\n    compareFunc - Function (optional) - function used to compare Array item vs passed item\n  Returns:\n    Integer - index position in the Array of the passed item\n  Examples:\n    ['hi','there'].indexOf(\"guys\") === -1\n    ['hi','there'].indexOf(\"hi\") === 0\n*/\nif (!Array.prototype.indexOf)\n{\n    Array.prototype.indexOf = function(item, fromIndex, compareFunc)\n    {\n        if (!fromIndex)\n        {\n            fromIndex = -1;\n        }\n        var index = -1;\n        for (var i = fromIndex; i < this.length; i++)\n        {\n            if (this[i] === item || compareFunc && compareFunc(this[i], item))\n            {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._uncountable_words)\n{\n    String.prototype._uncountable_words = InflectionJS.uncountable_words;\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._plural_rules)\n{\n    String.prototype._plural_rules = InflectionJS.plural_rules;\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._singular_rules)\n{\n    String.prototype._singular_rules = InflectionJS.singular_rules;\n}\n\n/*\n  You can override this list for all Strings or just one depending on if you\n  set the new values on prototype or on a given String instance.\n*/\nif (!String.prototype._non_titlecased_words)\n{\n    String.prototype._non_titlecased_words = InflectionJS.non_titlecased_words;\n}\n\n/*\n  This function adds plurilization support to every String object\n    Signature:\n      String.pluralize(plural) == String\n    Arguments:\n      plural - String (optional) - overrides normal output with said String\n    Returns:\n      String - singular English language nouns are returned in plural form\n    Examples:\n      \"person\".pluralize() == \"people\"\n      \"octopus\".pluralize() == \"octopi\"\n      \"Hat\".pluralize() == \"Hats\"\n      \"person\".pluralize(\"guys\") == \"guys\"\n*/\nif (!String.prototype.pluralize)\n{\n    String.prototype.pluralize = function(plural)\n    {\n        return InflectionJS.apply_rules(\n            this,\n            this._plural_rules,\n            this._uncountable_words,\n            plural\n        );\n    };\n}\n\n/*\n  This function adds singularization support to every String object\n    Signature:\n      String.singularize(singular) == String\n    Arguments:\n      singular - String (optional) - overrides normal output with said String\n    Returns:\n      String - plural English language nouns are returned in singular form\n    Examples:\n      \"people\".singularize() == \"person\"\n      \"octopi\".singularize() == \"octopus\"\n      \"Hats\".singularize() == \"Hat\"\n      \"guys\".singularize(\"person\") == \"person\"\n*/\nif (!String.prototype.singularize)\n{\n    String.prototype.singularize = function(singular)\n    {\n        return InflectionJS.apply_rules(\n            this,\n            this._singular_rules,\n            this._uncountable_words,\n            singular\n        );\n    };\n}\n\n/*\n  This function adds camelization support to every String object\n    Signature:\n      String.camelize(lowFirstLetter) == String\n    Arguments:\n      lowFirstLetter - boolean (optional) - default is to capitalize the first\n        letter of the results... passing true will lowercase it\n    Returns:\n      String - lower case underscored words will be returned in camel case\n        additionally '/' is translated to '::'\n    Examples:\n      \"message_properties\".camelize() == \"MessageProperties\"\n      \"message_properties\".camelize(true) == \"messageProperties\"\n*/\nif (!String.prototype.camelize)\n{\n     String.prototype.camelize = function(lowFirstLetter)\n     {\n        var str = this.toLowerCase();\n        var str_path = str.split('/');\n        for (var i = 0; i < str_path.length; i++)\n        {\n            var str_arr = str_path[i].split('_');\n            var initX = ((lowFirstLetter && i + 1 === str_path.length) ? (1) : (0));\n            for (var x = initX; x < str_arr.length; x++)\n            {\n                str_arr[x] = str_arr[x].charAt(0).toUpperCase() + str_arr[x].substring(1);\n            }\n            str_path[i] = str_arr.join('');\n        }\n        str = str_path.join('::');\n        return str;\n    };\n}\n\n/*\n  This function adds underscore support to every String object\n    Signature:\n      String.underscore() == String\n    Arguments:\n      N/A\n    Returns:\n      String - camel cased words are returned as lower cased and underscored\n        additionally '::' is translated to '/'\n    Examples:\n      \"MessageProperties\".camelize() == \"message_properties\"\n      \"messageProperties\".underscore() == \"message_properties\"\n*/\nif (!String.prototype.underscore)\n{\n     String.prototype.underscore = function()\n     {\n        var str = this;\n        var str_path = str.split('::');\n        for (var i = 0; i < str_path.length; i++)\n        {\n            str_path[i] = str_path[i].replace(InflectionJS.uppercase, '_$1');\n            str_path[i] = str_path[i].replace(InflectionJS.underbar_prefix, '');\n        }\n        str = str_path.join('/').toLowerCase();\n        return str;\n    };\n}\n\n/*\n  This function adds humanize support to every String object\n    Signature:\n      String.humanize(lowFirstLetter) == String\n    Arguments:\n      lowFirstLetter - boolean (optional) - default is to capitalize the first\n        letter of the results... passing true will lowercase it\n    Returns:\n      String - lower case underscored words will be returned in humanized form\n    Examples:\n      \"message_properties\".humanize() == \"Message properties\"\n      \"message_properties\".humanize(true) == \"message properties\"\n*/\nif (!String.prototype.humanize)\n{\n    String.prototype.humanize = function(lowFirstLetter)\n    {\n        var str = this.toLowerCase();\n        str = str.replace(InflectionJS.id_suffix, '');\n        str = str.replace(InflectionJS.underbar, ' ');\n        if (!lowFirstLetter)\n        {\n            str = str.capitalize();\n        }\n        return str;\n    };\n}\n\n/*\n  This function adds capitalization support to every String object\n    Signature:\n      String.capitalize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - all characters will be lower case and the first will be upper\n    Examples:\n      \"message_properties\".capitalize() == \"Message_properties\"\n      \"message properties\".capitalize() == \"Message properties\"\n*/\nif (!String.prototype.capitalize)\n{\n    String.prototype.capitalize = function()\n    {\n        var str = this.toLowerCase();\n        str = str.substring(0, 1).toUpperCase() + str.substring(1);\n        return str;\n    };\n}\n\n/*\n  This function adds dasherization support to every String object\n    Signature:\n      String.dasherize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - replaces all spaces or underbars with dashes\n    Examples:\n      \"message_properties\".capitalize() == \"message-properties\"\n      \"Message Properties\".capitalize() == \"Message-Properties\"\n*/\nif (!String.prototype.dasherize)\n{\n    String.prototype.dasherize = function()\n    {\n        var str = this;\n        str = str.replace(InflectionJS.space_or_underbar, '-');\n        return str;\n    };\n}\n\n/*\n  This function adds titleize support to every String object\n    Signature:\n      String.titleize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - capitalizes words as you would for a book title\n    Examples:\n      \"message_properties\".titleize() == \"Message Properties\"\n      \"message properties to keep\".titleize() == \"Message Properties to Keep\"\n*/\nif (!String.prototype.titleize)\n{\n    String.prototype.titleize = function()\n    {\n        var str = this.toLowerCase();\n        str = str.replace(InflectionJS.underbar, ' ');\n        var str_arr = str.split(' ');\n        for (var x = 0; x < str_arr.length; x++)\n        {\n            var d = str_arr[x].split('-');\n            for (var i = 0; i < d.length; i++)\n            {\n                if (this._non_titlecased_words.indexOf(d[i].toLowerCase()) < 0)\n                {\n                    d[i] = d[i].capitalize();\n                }\n            }\n            str_arr[x] = d.join('-');\n        }\n        str = str_arr.join(' ');\n        str = str.substring(0, 1).toUpperCase() + str.substring(1);\n        return str;\n    };\n}\n\n/*\n  This function adds demodulize support to every String object\n    Signature:\n      String.demodulize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - removes module names leaving only class names (Ruby style)\n    Examples:\n      \"Message::Bus::Properties\".demodulize() == \"Properties\"\n*/\nif (!String.prototype.demodulize)\n{\n    String.prototype.demodulize = function()\n    {\n        var str = this;\n        var str_arr = str.split('::');\n        str = str_arr[str_arr.length - 1];\n        return str;\n    };\n}\n\n/*\n  This function adds tableize support to every String object\n    Signature:\n      String.tableize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - renders camel cased words into their underscored plural form\n    Examples:\n      \"MessageBusProperty\".tableize() == \"message_bus_properties\"\n*/\nif (!String.prototype.tableize)\n{\n    String.prototype.tableize = function()\n    {\n        var str = this;\n        str = str.underscore().pluralize();\n        return str;\n    };\n}\n\n/*\n  This function adds classification support to every String object\n    Signature:\n      String.classify() == String\n    Arguments:\n      N/A\n    Returns:\n      String - underscored plural nouns become the camel cased singular form\n    Examples:\n      \"message_bus_properties\".classify() == \"MessageBusProperty\"\n*/\nif (!String.prototype.classify)\n{\n    String.prototype.classify = function()\n    {\n        var str = this;\n        str = str.camelize().singularize();\n        return str;\n    };\n}\n\n/*\n  This function adds foreign key support to every String object\n    Signature:\n      String.foreign_key(dropIdUbar) == String\n    Arguments:\n      dropIdUbar - boolean (optional) - default is to seperate id with an\n        underbar at the end of the class name, you can pass true to skip it\n    Returns:\n      String - camel cased singular class names become underscored with id\n    Examples:\n      \"MessageBusProperty\".foreign_key() == \"message_bus_property_id\"\n      \"MessageBusProperty\".foreign_key(true) == \"message_bus_propertyid\"\n*/\nif (!String.prototype.foreign_key)\n{\n    String.prototype.foreign_key = function(dropIdUbar)\n    {\n        var str = this;\n        str = str.demodulize().underscore() + ((dropIdUbar) ? ('') : ('_')) + 'id';\n        return str;\n    };\n}\n\n/*\n  This function adds ordinalize support to every String object\n    Signature:\n      String.ordinalize() == String\n    Arguments:\n      N/A\n    Returns:\n      String - renders all found numbers their sequence like \"22nd\"\n    Examples:\n      \"the 1 pitch\".ordinalize() == \"the 1st pitch\"\n*/\nif (!String.prototype.ordinalize)\n{\n    String.prototype.ordinalize = function()\n    {\n        var str = this;\n        var str_arr = str.split(' ');\n        for (var x = 0; x < str_arr.length; x++)\n        {\n            var i = parseInt(str_arr[x]);\n            if (i === NaN)\n            {\n                var ltd = str_arr[x].substring(str_arr[x].length - 2);\n                var ld = str_arr[x].substring(str_arr[x].length - 1);\n                var suf = \"th\";\n                if (ltd != \"11\" && ltd != \"12\" && ltd != \"13\")\n                {\n                    if (ld === \"1\")\n                    {\n                        suf = \"st\";\n                    }\n                    else if (ld === \"2\")\n                    {\n                        suf = \"nd\";\n                    }\n                    else if (ld === \"3\")\n                    {\n                        suf = \"rd\";\n                    }\n                }\n                str_arr[x] += suf;\n            }\n        }\n        str = str_arr.join(' ');\n        return str;\n    };\n}","/*! jQuery Timepicker Addon - v1.4.4 - 2014-03-29\n* http://trentrichardson.com/examples/timepicker\n* Copyright (c) 2014 Trent Richardson; Licensed MIT */\n(function ($) {\n\n\t/*\n\t* Lets not redefine timepicker, Prevent \"Uncaught RangeError: Maximum call stack size exceeded\"\n\t*/\n\t$.ui.timepicker = $.ui.timepicker || {};\n\tif ($.ui.timepicker.version) {\n\t\treturn;\n\t}\n\n\t/*\n\t* Extend jQueryUI, get it started with our version number\n\t*/\n\t$.extend($.ui, {\n\t\ttimepicker: {\n\t\t\tversion: \"1.4.4\"\n\t\t}\n\t});\n\n\t/*\n\t* Timepicker manager.\n\t* Use the singleton instance of this class, $.timepicker, to interact with the time picker.\n\t* Settings for (groups of) time pickers are maintained in an instance object,\n\t* allowing multiple different settings on the same page.\n\t*/\n\tvar Timepicker = function () {\n\t\tthis.regional = []; // Available regional settings, indexed by language code\n\t\tthis.regional[''] = { // Default regional settings\n\t\t\tcurrentText: 'Now',\n\t\t\tcloseText: 'Done',\n\t\t\tamNames: ['AM', 'A'],\n\t\t\tpmNames: ['PM', 'P'],\n\t\t\ttimeFormat: 'HH:mm',\n\t\t\ttimeSuffix: '',\n\t\t\ttimeOnlyTitle: 'Choose Time',\n\t\t\ttimeText: 'Time',\n\t\t\thourText: 'Hour',\n\t\t\tminuteText: 'Minute',\n\t\t\tsecondText: 'Second',\n\t\t\tmillisecText: 'Millisecond',\n\t\t\tmicrosecText: 'Microsecond',\n\t\t\ttimezoneText: 'Time Zone',\n\t\t\tisRTL: false\n\t\t};\n\t\tthis._defaults = { // Global defaults for all the datetime picker instances\n\t\t\tshowButtonPanel: true,\n\t\t\ttimeOnly: false,\n\t\t\ttimeOnlyShowDate: false,\n\t\t\tshowHour: null,\n\t\t\tshowMinute: null,\n\t\t\tshowSecond: null,\n\t\t\tshowMillisec: null,\n\t\t\tshowMicrosec: null,\n\t\t\tshowTimezone: null,\n\t\t\tshowTime: true,\n\t\t\tstepHour: 1,\n\t\t\tstepMinute: 1,\n\t\t\tstepSecond: 1,\n\t\t\tstepMillisec: 1,\n\t\t\tstepMicrosec: 1,\n\t\t\thour: 0,\n\t\t\tminute: 0,\n\t\t\tsecond: 0,\n\t\t\tmillisec: 0,\n\t\t\tmicrosec: 0,\n\t\t\ttimezone: null,\n\t\t\thourMin: 0,\n\t\t\tminuteMin: 0,\n\t\t\tsecondMin: 0,\n\t\t\tmillisecMin: 0,\n\t\t\tmicrosecMin: 0,\n\t\t\thourMax: 23,\n\t\t\tminuteMax: 59,\n\t\t\tsecondMax: 59,\n\t\t\tmillisecMax: 999,\n\t\t\tmicrosecMax: 999,\n\t\t\tminDateTime: null,\n\t\t\tmaxDateTime: null,\n\t\t\tmaxTime: null,\n\t\t\tminTime: null,\n\t\t\tonSelect: null,\n\t\t\thourGrid: 0,\n\t\t\tminuteGrid: 0,\n\t\t\tsecondGrid: 0,\n\t\t\tmillisecGrid: 0,\n\t\t\tmicrosecGrid: 0,\n\t\t\talwaysSetTime: true,\n\t\t\tseparator: ' ',\n\t\t\taltFieldTimeOnly: true,\n\t\t\taltTimeFormat: null,\n\t\t\taltSeparator: null,\n\t\t\taltTimeSuffix: null,\n\t\t\tpickerTimeFormat: null,\n\t\t\tpickerTimeSuffix: null,\n\t\t\tshowTimepicker: true,\n\t\t\ttimezoneList: null,\n\t\t\taddSliderAccess: false,\n\t\t\tsliderAccessArgs: null,\n\t\t\tcontrolType: 'slider',\n\t\t\tdefaultValue: null,\n\t\t\tparse: 'strict'\n\t\t};\n\t\t$.extend(this._defaults, this.regional['']);\n\t};\n\n\t$.extend(Timepicker.prototype, {\n\t\t$input: null,\n\t\t$altInput: null,\n\t\t$timeObj: null,\n\t\tinst: null,\n\t\thour_slider: null,\n\t\tminute_slider: null,\n\t\tsecond_slider: null,\n\t\tmillisec_slider: null,\n\t\tmicrosec_slider: null,\n\t\ttimezone_select: null,\n\t\tmaxTime: null,\n\t\tminTime: null,\n\t\thour: 0,\n\t\tminute: 0,\n\t\tsecond: 0,\n\t\tmillisec: 0,\n\t\tmicrosec: 0,\n\t\ttimezone: null,\n\t\thourMinOriginal: null,\n\t\tminuteMinOriginal: null,\n\t\tsecondMinOriginal: null,\n\t\tmillisecMinOriginal: null,\n\t\tmicrosecMinOriginal: null,\n\t\thourMaxOriginal: null,\n\t\tminuteMaxOriginal: null,\n\t\tsecondMaxOriginal: null,\n\t\tmillisecMaxOriginal: null,\n\t\tmicrosecMaxOriginal: null,\n\t\tampm: '',\n\t\tformattedDate: '',\n\t\tformattedTime: '',\n\t\tformattedDateTime: '',\n\t\ttimezoneList: null,\n\t\tunits: ['hour', 'minute', 'second', 'millisec', 'microsec'],\n\t\tsupport: {},\n\t\tcontrol: null,\n\n\t\t/*\n\t\t* Override the default settings for all instances of the time picker.\n\t\t* @param  {Object} settings  object - the new settings to use as defaults (anonymous object)\n\t\t* @return {Object} the manager object\n\t\t*/\n\t\tsetDefaults: function (settings) {\n\t\t\textendRemove(this._defaults, settings || {});\n\t\t\treturn this;\n\t\t},\n\n\t\t/*\n\t\t* Create a new Timepicker instance\n\t\t*/\n\t\t_newInst: function ($input, opts) {\n\t\t\tvar tp_inst = new Timepicker(),\n\t\t\t\tinlineSettings = {},\n\t\t\t\tfns = {},\n\t\t\t\toverrides, i;\n\n\t\t\tfor (var attrName in this._defaults) {\n\t\t\t\tif (this._defaults.hasOwnProperty(attrName)) {\n\t\t\t\t\tvar attrValue = $input.attr('time:' + attrName);\n\t\t\t\t\tif (attrValue) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tinlineSettings[attrName] = eval(attrValue);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tinlineSettings[attrName] = attrValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toverrides = {\n\t\t\t\tbeforeShow: function (input, dp_inst) {\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.beforeShow)) {\n\t\t\t\t\t\treturn tp_inst._defaults.evnts.beforeShow.call($input[0], input, dp_inst, tp_inst);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonChangeMonthYear: function (year, month, dp_inst) {\n\t\t\t\t\t// Update the time as well : this prevents the time from disappearing from the $input field.\n\t\t\t\t\ttp_inst._updateDateTime(dp_inst);\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)) {\n\t\t\t\t\t\ttp_inst._defaults.evnts.onChangeMonthYear.call($input[0], year, month, dp_inst, tp_inst);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonClose: function (dateText, dp_inst) {\n\t\t\t\t\tif (tp_inst.timeDefined === true && $input.val() !== '') {\n\t\t\t\t\t\ttp_inst._updateDateTime(dp_inst);\n\t\t\t\t\t}\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.onClose)) {\n\t\t\t\t\t\ttp_inst._defaults.evnts.onClose.call($input[0], dateText, dp_inst, tp_inst);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tfor (i in overrides) {\n\t\t\t\tif (overrides.hasOwnProperty(i)) {\n\t\t\t\t\tfns[i] = opts[i] || null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttp_inst._defaults = $.extend({}, this._defaults, inlineSettings, opts, overrides, {\n\t\t\t\tevnts: fns,\n\t\t\t\ttimepicker: tp_inst // add timepicker as a property of datepicker: $.datepicker._get(dp_inst, 'timepicker');\n\t\t\t});\n\t\t\ttp_inst.amNames = $.map(tp_inst._defaults.amNames, function (val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\t\t\ttp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function (val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\n\t\t\t// detect which units are supported\n\t\t\ttp_inst.support = detectSupport(\n\t\t\t\t\ttp_inst._defaults.timeFormat +\n\t\t\t\t\t(tp_inst._defaults.pickerTimeFormat ? tp_inst._defaults.pickerTimeFormat : '') +\n\t\t\t\t\t(tp_inst._defaults.altTimeFormat ? tp_inst._defaults.altTimeFormat : ''));\n\n\t\t\t// controlType is string - key to our this._controls\n\t\t\tif (typeof(tp_inst._defaults.controlType) === 'string') {\n\t\t\t\tif (tp_inst._defaults.controlType === 'slider' && typeof($.ui.slider) === 'undefined') {\n\t\t\t\t\ttp_inst._defaults.controlType = 'select';\n\t\t\t\t}\n\t\t\t\ttp_inst.control = tp_inst._controls[tp_inst._defaults.controlType];\n\t\t\t}\n\t\t\t// controlType is an object and must implement create, options, value methods\n\t\t\telse {\n\t\t\t\ttp_inst.control = tp_inst._defaults.controlType;\n\t\t\t}\n\n\t\t\t// prep the timezone options\n\t\t\tvar timezoneList = [-720, -660, -600, -570, -540, -480, -420, -360, -300, -270, -240, -210, -180, -120, -60,\n\t\t\t\t\t0, 60, 120, 180, 210, 240, 270, 300, 330, 345, 360, 390, 420, 480, 525, 540, 570, 600, 630, 660, 690, 720, 765, 780, 840];\n\t\t\tif (tp_inst._defaults.timezoneList !== null) {\n\t\t\t\ttimezoneList = tp_inst._defaults.timezoneList;\n\t\t\t}\n\t\t\tvar tzl = timezoneList.length, tzi = 0, tzv = null;\n\t\t\tif (tzl > 0 && typeof timezoneList[0] !== 'object') {\n\t\t\t\tfor (; tzi < tzl; tzi++) {\n\t\t\t\t\ttzv = timezoneList[tzi];\n\t\t\t\t\ttimezoneList[tzi] = { value: tzv, label: $.timepicker.timezoneOffsetString(tzv, tp_inst.support.iso8601) };\n\t\t\t\t}\n\t\t\t}\n\t\t\ttp_inst._defaults.timezoneList = timezoneList;\n\n\t\t\t// set the default units\n\t\t\ttp_inst.timezone = tp_inst._defaults.timezone !== null ? $.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone) :\n\t\t\t\t\t\t\t((new Date()).getTimezoneOffset() * -1);\n\t\t\ttp_inst.hour = tp_inst._defaults.hour < tp_inst._defaults.hourMin ? tp_inst._defaults.hourMin :\n\t\t\t\t\t\t\ttp_inst._defaults.hour > tp_inst._defaults.hourMax ? tp_inst._defaults.hourMax : tp_inst._defaults.hour;\n\t\t\ttp_inst.minute = tp_inst._defaults.minute < tp_inst._defaults.minuteMin ? tp_inst._defaults.minuteMin :\n\t\t\t\t\t\t\ttp_inst._defaults.minute > tp_inst._defaults.minuteMax ? tp_inst._defaults.minuteMax : tp_inst._defaults.minute;\n\t\t\ttp_inst.second = tp_inst._defaults.second < tp_inst._defaults.secondMin ? tp_inst._defaults.secondMin :\n\t\t\t\t\t\t\ttp_inst._defaults.second > tp_inst._defaults.secondMax ? tp_inst._defaults.secondMax : tp_inst._defaults.second;\n\t\t\ttp_inst.millisec = tp_inst._defaults.millisec < tp_inst._defaults.millisecMin ? tp_inst._defaults.millisecMin :\n\t\t\t\t\t\t\ttp_inst._defaults.millisec > tp_inst._defaults.millisecMax ? tp_inst._defaults.millisecMax : tp_inst._defaults.millisec;\n\t\t\ttp_inst.microsec = tp_inst._defaults.microsec < tp_inst._defaults.microsecMin ? tp_inst._defaults.microsecMin :\n\t\t\t\t\t\t\ttp_inst._defaults.microsec > tp_inst._defaults.microsecMax ? tp_inst._defaults.microsecMax : tp_inst._defaults.microsec;\n\t\t\ttp_inst.ampm = '';\n\t\t\ttp_inst.$input = $input;\n\n\t\t\tif (tp_inst._defaults.altField) {\n\t\t\t\ttp_inst.$altInput = $(tp_inst._defaults.altField).css({\n\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t}).focus(function () {\n\t\t\t\t\t$input.trigger(\"focus\");\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tp_inst._defaults.minDate === 0 || tp_inst._defaults.minDateTime === 0) {\n\t\t\t\ttp_inst._defaults.minDate = new Date();\n\t\t\t}\n\t\t\tif (tp_inst._defaults.maxDate === 0 || tp_inst._defaults.maxDateTime === 0) {\n\t\t\t\ttp_inst._defaults.maxDate = new Date();\n\t\t\t}\n\n\t\t\t// datepicker needs minDate/maxDate, timepicker needs minDateTime/maxDateTime..\n\t\t\tif (tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date) {\n\t\t\t\ttp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime());\n\t\t\t}\n\t\t\tif (tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date) {\n\t\t\t\ttp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime());\n\t\t\t}\n\t\t\tif (tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date) {\n\t\t\t\ttp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime());\n\t\t\t}\n\t\t\tif (tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date) {\n\t\t\t\ttp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime());\n\t\t\t}\n\t\t\ttp_inst.$input.bind('focus', function () {\n\t\t\t\ttp_inst._onFocus();\n\t\t\t});\n\n\t\t\treturn tp_inst;\n\t\t},\n\n\t\t/*\n\t\t* add our sliders to the calendar\n\t\t*/\n\t\t_addTimePicker: function (dp_inst) {\n\t\t\tvar currDT = (this.$altInput && this._defaults.altFieldTimeOnly) ? this.$input.val() + ' ' + this.$altInput.val() : this.$input.val();\n\n\t\t\tthis.timeDefined = this._parseTime(currDT);\n\t\t\tthis._limitMinMaxDateTime(dp_inst, false);\n\t\t\tthis._injectTimePicker();\n\t\t},\n\n\t\t/*\n\t\t* parse the time string from input value or _setTime\n\t\t*/\n\t\t_parseTime: function (timeString, withDate) {\n\t\t\tif (!this.inst) {\n\t\t\t\tthis.inst = $.datepicker._getInst(this.$input[0]);\n\t\t\t}\n\n\t\t\tif (withDate || !this._defaults.timeOnly) {\n\t\t\t\tvar dp_dateFormat = $.datepicker._get(this.inst, 'dateFormat');\n\t\t\t\ttry {\n\t\t\t\t\tvar parseRes = parseDateTimeInternal(dp_dateFormat, this._defaults.timeFormat, timeString, $.datepicker._getFormatConfig(this.inst), this._defaults);\n\t\t\t\t\tif (!parseRes.timeObj) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$.extend(this, parseRes.timeObj);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t$.timepicker.log(\"Error parsing the date/time string: \" + err +\n\t\t\t\t\t\t\t\t\t\"\\ndate/time string = \" + timeString +\n\t\t\t\t\t\t\t\t\t\"\\ntimeFormat = \" + this._defaults.timeFormat +\n\t\t\t\t\t\t\t\t\t\"\\ndateFormat = \" + dp_dateFormat);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tvar timeObj = $.datepicker.parseTime(this._defaults.timeFormat, timeString, this._defaults);\n\t\t\t\tif (!timeObj) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$.extend(this, timeObj);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* generate and inject html for timepicker into ui datepicker\n\t\t*/\n\t\t_injectTimePicker: function () {\n\t\t\tvar $dp = this.inst.dpDiv,\n\t\t\t\to = this.inst.settings,\n\t\t\t\ttp_inst = this,\n\t\t\t\tlitem = '',\n\t\t\t\tuitem = '',\n\t\t\t\tshow = null,\n\t\t\t\tmax = {},\n\t\t\t\tgridSize = {},\n\t\t\t\tsize = null,\n\t\t\t\ti = 0,\n\t\t\t\tl = 0;\n\n\t\t\t// Prevent displaying twice\n\t\t\tif ($dp.find(\"div.ui-timepicker-div\").length === 0 && o.showTimepicker) {\n\t\t\t\tvar noDisplay = ' style=\"display:none;\"',\n\t\t\t\t\thtml = '<div class=\"ui-timepicker-div' + (o.isRTL ? ' ui-timepicker-rtl' : '') + '\"><dl>' + '<dt class=\"ui_tpicker_time_label\"' + ((o.showTime) ? '' : noDisplay) + '>' + o.timeText + '</dt>' +\n\t\t\t\t\t\t\t\t'<dd class=\"ui_tpicker_time\"' + ((o.showTime) ? '' : noDisplay) + '></dd>';\n\n\t\t\t\t// Create the markup\n\t\t\t\tfor (i = 0, l = this.units.length; i < l; i++) {\n\t\t\t\t\tlitem = this.units[i];\n\t\t\t\t\tuitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n\t\t\t\t\tshow = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n\t\t\t\t\t// Added by Peter Medeiros:\n\t\t\t\t\t// - Figure out what the hour/minute/second max should be based on the step values.\n\t\t\t\t\t// - Example: if stepMinute is 15, then minMax is 45.\n\t\t\t\t\tmax[litem] = parseInt((o[litem + 'Max'] - ((o[litem + 'Max'] - o[litem + 'Min']) % o['step' + uitem])), 10);\n\t\t\t\t\tgridSize[litem] = 0;\n\n\t\t\t\t\thtml += '<dt class=\"ui_tpicker_' + litem + '_label\"' + (show ? '' : noDisplay) + '>' + o[litem + 'Text'] + '</dt>' +\n\t\t\t\t\t\t\t\t'<dd class=\"ui_tpicker_' + litem + '\"><div class=\"ui_tpicker_' + litem + '_slider\"' + (show ? '' : noDisplay) + '></div>';\n\n\t\t\t\t\tif (show && o[litem + 'Grid'] > 0) {\n\t\t\t\t\t\thtml += '<div style=\"padding-left: 1px\"><table class=\"ui-tpicker-grid-label\"><tr>';\n\n\t\t\t\t\t\tif (litem === 'hour') {\n\t\t\t\t\t\t\tfor (var h = o[litem + 'Min']; h <= max[litem]; h += parseInt(o[litem + 'Grid'], 10)) {\n\t\t\t\t\t\t\t\tgridSize[litem]++;\n\t\t\t\t\t\t\t\tvar tmph = $.datepicker.formatTime(this.support.ampm ? 'hht' : 'HH', {hour: h}, o);\n\t\t\t\t\t\t\t\thtml += '<td data-for=\"' + litem + '\">' + tmph + '</td>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tfor (var m = o[litem + 'Min']; m <= max[litem]; m += parseInt(o[litem + 'Grid'], 10)) {\n\t\t\t\t\t\t\t\tgridSize[litem]++;\n\t\t\t\t\t\t\t\thtml += '<td data-for=\"' + litem + '\">' + ((m < 10) ? '0' : '') + m + '</td>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thtml += '</tr></table></div>';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '</dd>';\n\t\t\t\t}\n\n\t\t\t\t// Timezone\n\t\t\t\tvar showTz = o.showTimezone !== null ? o.showTimezone : this.support.timezone;\n\t\t\t\thtml += '<dt class=\"ui_tpicker_timezone_label\"' + (showTz ? '' : noDisplay) + '>' + o.timezoneText + '</dt>';\n\t\t\t\thtml += '<dd class=\"ui_tpicker_timezone\" ' + (showTz ? '' : noDisplay) + '></dd>';\n\n\t\t\t\t// Create the elements from string\n\t\t\t\thtml += '</dl></div>';\n\t\t\t\tvar $tp = $(html);\n\n\t\t\t\t// if we only want time picker...\n\t\t\t\tif (o.timeOnly === true) {\n\t\t\t\t\t$tp.prepend('<div class=\"ui-widget-header ui-helper-clearfix ui-corner-all\">' + '<div class=\"ui-datepicker-title\">' + o.timeOnlyTitle + '</div>' + '</div>');\n\t\t\t\t\t$dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();\n\t\t\t\t}\n\n\t\t\t\t// add sliders, adjust grids, add events\n\t\t\t\tfor (i = 0, l = tp_inst.units.length; i < l; i++) {\n\t\t\t\t\tlitem = tp_inst.units[i];\n\t\t\t\t\tuitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n\t\t\t\t\tshow = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n\t\t\t\t\t// add the slider\n\t\t\t\t\ttp_inst[litem + '_slider'] = tp_inst.control.create(tp_inst, $tp.find('.ui_tpicker_' + litem + '_slider'), litem, tp_inst[litem], o[litem + 'Min'], max[litem], o['step' + uitem]);\n\n\t\t\t\t\t// adjust the grid and add click event\n\t\t\t\t\tif (show && o[litem + 'Grid'] > 0) {\n\t\t\t\t\t\tsize = 100 * gridSize[litem] * o[litem + 'Grid'] / (max[litem] - o[litem + 'Min']);\n\t\t\t\t\t\t$tp.find('.ui_tpicker_' + litem + ' table').css({\n\t\t\t\t\t\t\twidth: size + \"%\",\n\t\t\t\t\t\t\tmarginLeft: o.isRTL ? '0' : ((size / (-2 * gridSize[litem])) + \"%\"),\n\t\t\t\t\t\t\tmarginRight: o.isRTL ? ((size / (-2 * gridSize[litem])) + \"%\") : '0',\n\t\t\t\t\t\t\tborderCollapse: 'collapse'\n\t\t\t\t\t\t}).find(\"td\").click(function (e) {\n\t\t\t\t\t\t\t\tvar $t = $(this),\n\t\t\t\t\t\t\t\t\th = $t.html(),\n\t\t\t\t\t\t\t\t\tn = parseInt(h.replace(/[^0-9]/g), 10),\n\t\t\t\t\t\t\t\t\tap = h.replace(/[^apm]/ig),\n\t\t\t\t\t\t\t\t\tf = $t.data('for'); // loses scope, so we use data-for\n\n\t\t\t\t\t\t\t\tif (f === 'hour') {\n\t\t\t\t\t\t\t\t\tif (ap.indexOf('p') !== -1 && n < 12) {\n\t\t\t\t\t\t\t\t\t\tn += 12;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tif (ap.indexOf('a') !== -1 && n === 12) {\n\t\t\t\t\t\t\t\t\t\t\tn = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttp_inst.control.value(tp_inst, tp_inst[f + '_slider'], litem, n);\n\n\t\t\t\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t\t\t\t}).css({\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\twidth: (100 / gridSize[litem]) + '%',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} // end if grid > 0\n\t\t\t\t} // end for loop\n\n\t\t\t\t// Add timezone options\n\t\t\t\tthis.timezone_select = $tp.find('.ui_tpicker_timezone').append('<select></select>').find(\"select\");\n\t\t\t\t$.fn.append.apply(this.timezone_select,\n\t\t\t\t$.map(o.timezoneList, function (val, idx) {\n\t\t\t\t\treturn $(\"<option />\").val(typeof val === \"object\" ? val.value : val).text(typeof val === \"object\" ? val.label : val);\n\t\t\t\t}));\n\t\t\t\tif (typeof(this.timezone) !== \"undefined\" && this.timezone !== null && this.timezone !== \"\") {\n\t\t\t\t\tvar local_timezone = (new Date(this.inst.selectedYear, this.inst.selectedMonth, this.inst.selectedDay, 12)).getTimezoneOffset() * -1;\n\t\t\t\t\tif (local_timezone === this.timezone) {\n\t\t\t\t\t\tselectLocalTimezone(tp_inst);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.timezone_select.val(this.timezone);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (typeof(this.hour) !== \"undefined\" && this.hour !== null && this.hour !== \"\") {\n\t\t\t\t\t\tthis.timezone_select.val(o.timezone);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectLocalTimezone(tp_inst);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.timezone_select.change(function () {\n\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t});\n\t\t\t\t// End timezone options\n\n\t\t\t\t// inject timepicker into datepicker\n\t\t\t\tvar $buttonPanel = $dp.find('.ui-datepicker-buttonpane');\n\t\t\t\tif ($buttonPanel.length) {\n\t\t\t\t\t$buttonPanel.before($tp);\n\t\t\t\t} else {\n\t\t\t\t\t$dp.append($tp);\n\t\t\t\t}\n\n\t\t\t\tthis.$timeObj = $tp.find('.ui_tpicker_time');\n\n\t\t\t\tif (this.inst !== null) {\n\t\t\t\t\tvar timeDefined = this.timeDefined;\n\t\t\t\t\tthis._onTimeChange();\n\t\t\t\t\tthis.timeDefined = timeDefined;\n\t\t\t\t}\n\n\t\t\t\t// slideAccess integration: http://trentrichardson.com/2011/11/11/jquery-ui-sliders-and-touch-accessibility/\n\t\t\t\tif (this._defaults.addSliderAccess) {\n\t\t\t\t\tvar sliderAccessArgs = this._defaults.sliderAccessArgs,\n\t\t\t\t\t\trtl = this._defaults.isRTL;\n\t\t\t\t\tsliderAccessArgs.isRTL = rtl;\n\n\t\t\t\t\tsetTimeout(function () { // fix for inline mode\n\t\t\t\t\t\tif ($tp.find('.ui-slider-access').length === 0) {\n\t\t\t\t\t\t\t$tp.find('.ui-slider:visible').sliderAccess(sliderAccessArgs);\n\n\t\t\t\t\t\t\t// fix any grids since sliders are shorter\n\t\t\t\t\t\t\tvar sliderAccessWidth = $tp.find('.ui-slider-access:eq(0)').outerWidth(true);\n\t\t\t\t\t\t\tif (sliderAccessWidth) {\n\t\t\t\t\t\t\t\t$tp.find('table:visible').each(function () {\n\t\t\t\t\t\t\t\t\tvar $g = $(this),\n\t\t\t\t\t\t\t\t\t\toldWidth = $g.outerWidth(),\n\t\t\t\t\t\t\t\t\t\toldMarginLeft = $g.css(rtl ? 'marginRight' : 'marginLeft').toString().replace('%', ''),\n\t\t\t\t\t\t\t\t\t\tnewWidth = oldWidth - sliderAccessWidth,\n\t\t\t\t\t\t\t\t\t\tnewMarginLeft = ((oldMarginLeft * newWidth) / oldWidth) + '%',\n\t\t\t\t\t\t\t\t\t\tcss = { width: newWidth, marginRight: 0, marginLeft: 0 };\n\t\t\t\t\t\t\t\t\tcss[rtl ? 'marginRight' : 'marginLeft'] = newMarginLeft;\n\t\t\t\t\t\t\t\t\t$g.css(css);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t\t// end slideAccess integration\n\n\t\t\t\ttp_inst._limitMinMaxDateTime(this.inst, true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* This function tries to limit the ability to go outside the\n\t\t* min/max date range\n\t\t*/\n\t\t_limitMinMaxDateTime: function (dp_inst, adjustSliders) {\n\t\t\tvar o = this._defaults,\n\t\t\t\tdp_date = new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay);\n\n\t\t\tif (!this._defaults.showTimepicker) {\n\t\t\t\treturn;\n\t\t\t} // No time so nothing to check here\n\n\t\t\tif ($.datepicker._get(dp_inst, 'minDateTime') !== null && $.datepicker._get(dp_inst, 'minDateTime') !== undefined && dp_date) {\n\t\t\t\tvar minDateTime = $.datepicker._get(dp_inst, 'minDateTime'),\n\t\t\t\t\tminDateTimeDate = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), 0, 0, 0, 0);\n\n\t\t\t\tif (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null || this.microsecMinOriginal === null) {\n\t\t\t\t\tthis.hourMinOriginal = o.hourMin;\n\t\t\t\t\tthis.minuteMinOriginal = o.minuteMin;\n\t\t\t\t\tthis.secondMinOriginal = o.secondMin;\n\t\t\t\t\tthis.millisecMinOriginal = o.millisecMin;\n\t\t\t\t\tthis.microsecMinOriginal = o.microsecMin;\n\t\t\t\t}\n\n\t\t\t\tif (dp_inst.settings.timeOnly || minDateTimeDate.getTime() === dp_date.getTime()) {\n\t\t\t\t\tthis._defaults.hourMin = minDateTime.getHours();\n\t\t\t\t\tif (this.hour <= this._defaults.hourMin) {\n\t\t\t\t\t\tthis.hour = this._defaults.hourMin;\n\t\t\t\t\t\tthis._defaults.minuteMin = minDateTime.getMinutes();\n\t\t\t\t\t\tif (this.minute <= this._defaults.minuteMin) {\n\t\t\t\t\t\t\tthis.minute = this._defaults.minuteMin;\n\t\t\t\t\t\t\tthis._defaults.secondMin = minDateTime.getSeconds();\n\t\t\t\t\t\t\tif (this.second <= this._defaults.secondMin) {\n\t\t\t\t\t\t\t\tthis.second = this._defaults.secondMin;\n\t\t\t\t\t\t\t\tthis._defaults.millisecMin = minDateTime.getMilliseconds();\n\t\t\t\t\t\t\t\tif (this.millisec <= this._defaults.millisecMin) {\n\t\t\t\t\t\t\t\t\tthis.millisec = this._defaults.millisecMin;\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMin = minDateTime.getMicroseconds();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (this.microsec < this._defaults.microsecMin) {\n\t\t\t\t\t\t\t\t\t\tthis.microsec = this._defaults.microsecMin;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\n\t\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMin = this.minuteMinOriginal;\n\t\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\n\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._defaults.hourMin = this.hourMinOriginal;\n\t\t\t\t\tthis._defaults.minuteMin = this.minuteMinOriginal;\n\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\n\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\n\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($.datepicker._get(dp_inst, 'maxDateTime') !== null && $.datepicker._get(dp_inst, 'maxDateTime') !== undefined && dp_date) {\n\t\t\t\tvar maxDateTime = $.datepicker._get(dp_inst, 'maxDateTime'),\n\t\t\t\t\tmaxDateTimeDate = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), 0, 0, 0, 0);\n\n\t\t\t\tif (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null || this.millisecMaxOriginal === null) {\n\t\t\t\t\tthis.hourMaxOriginal = o.hourMax;\n\t\t\t\t\tthis.minuteMaxOriginal = o.minuteMax;\n\t\t\t\t\tthis.secondMaxOriginal = o.secondMax;\n\t\t\t\t\tthis.millisecMaxOriginal = o.millisecMax;\n\t\t\t\t\tthis.microsecMaxOriginal = o.microsecMax;\n\t\t\t\t}\n\n\t\t\t\tif (dp_inst.settings.timeOnly || maxDateTimeDate.getTime() === dp_date.getTime()) {\n\t\t\t\t\tthis._defaults.hourMax = maxDateTime.getHours();\n\t\t\t\t\tif (this.hour >= this._defaults.hourMax) {\n\t\t\t\t\t\tthis.hour = this._defaults.hourMax;\n\t\t\t\t\t\tthis._defaults.minuteMax = maxDateTime.getMinutes();\n\t\t\t\t\t\tif (this.minute >= this._defaults.minuteMax) {\n\t\t\t\t\t\t\tthis.minute = this._defaults.minuteMax;\n\t\t\t\t\t\t\tthis._defaults.secondMax = maxDateTime.getSeconds();\n\t\t\t\t\t\t\tif (this.second >= this._defaults.secondMax) {\n\t\t\t\t\t\t\t\tthis.second = this._defaults.secondMax;\n\t\t\t\t\t\t\t\tthis._defaults.millisecMax = maxDateTime.getMilliseconds();\n\t\t\t\t\t\t\t\tif (this.millisec >= this._defaults.millisecMax) {\n\t\t\t\t\t\t\t\t\tthis.millisec = this._defaults.millisecMax;\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMax = maxDateTime.getMicroseconds();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (this.microsec > this._defaults.microsecMax) {\n\t\t\t\t\t\t\t\t\t\tthis.microsec = this._defaults.microsecMax;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\n\t\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMax = this.minuteMaxOriginal;\n\t\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\n\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._defaults.hourMax = this.hourMaxOriginal;\n\t\t\t\t\tthis._defaults.minuteMax = this.minuteMaxOriginal;\n\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\n\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\n\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dp_inst.settings.minTime!==null) {\n\t\t\t\tvar tempMinTime=new Date(\"01/01/1970 \" + dp_inst.settings.minTime);\n\t\t\t\tif (this.hour<tempMinTime.getHours()) {\n\t\t\t\t\tthis.hour=this._defaults.hourMin=tempMinTime.getHours();\n\t\t\t\t\tthis.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t} else if (this.hour===tempMinTime.getHours() && this.minute<tempMinTime.getMinutes()) {\n\t\t\t\t\tthis.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t} else {\n\t\t\t\t\tif (this._defaults.hourMin<tempMinTime.getHours()) {\n\t\t\t\t\t\tthis._defaults.hourMin=tempMinTime.getHours();\n\t\t\t\t\t\tthis._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t\t} else if (this._defaults.hourMin===tempMinTime.getHours()===this.hour && this._defaults.minuteMin<tempMinTime.getMinutes()) {\n\t\t\t\t\t\tthis._defaults.minuteMin=tempMinTime.getMinutes();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMin=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dp_inst.settings.maxTime!==null) {\n\t\t\t\tvar tempMaxTime=new Date(\"01/01/1970 \" + dp_inst.settings.maxTime);\n\t\t\t\tif (this.hour>tempMaxTime.getHours()) {\n\t\t\t\t\tthis.hour=this._defaults.hourMax=tempMaxTime.getHours();\n\t\t\t\t\tthis.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t} else if (this.hour===tempMaxTime.getHours() && this.minute>tempMaxTime.getMinutes()) {\n\t\t\t\t\tthis.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t} else {\n\t\t\t\t\tif (this._defaults.hourMax>tempMaxTime.getHours()) {\n\t\t\t\t\t\tthis._defaults.hourMax=tempMaxTime.getHours();\n\t\t\t\t\t\tthis._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t\t} else if (this._defaults.hourMax===tempMaxTime.getHours()===this.hour && this._defaults.minuteMax>tempMaxTime.getMinutes()) {\n\t\t\t\t\t\tthis._defaults.minuteMax=tempMaxTime.getMinutes();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._defaults.minuteMax=59;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (adjustSliders !== undefined && adjustSliders === true) {\n\t\t\t\tvar hourMax = parseInt((this._defaults.hourMax - ((this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour)), 10),\n\t\t\t\t\tminMax = parseInt((this._defaults.minuteMax - ((this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute)), 10),\n\t\t\t\t\tsecMax = parseInt((this._defaults.secondMax - ((this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond)), 10),\n\t\t\t\t\tmillisecMax = parseInt((this._defaults.millisecMax - ((this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec)), 10),\n\t\t\t\t\tmicrosecMax = parseInt((this._defaults.microsecMax - ((this._defaults.microsecMax - this._defaults.microsecMin) % this._defaults.stepMicrosec)), 10);\n\n\t\t\t\tif (this.hour_slider) {\n\t\t\t\t\tthis.control.options(this, this.hour_slider, 'hour', { min: this._defaults.hourMin, max: hourMax, step: this._defaults.stepHour });\n\t\t\t\t\tthis.control.value(this, this.hour_slider, 'hour', this.hour - (this.hour % this._defaults.stepHour));\n\t\t\t\t}\n\t\t\t\tif (this.minute_slider) {\n\t\t\t\t\tthis.control.options(this, this.minute_slider, 'minute', { min: this._defaults.minuteMin, max: minMax, step: this._defaults.stepMinute });\n\t\t\t\t\tthis.control.value(this, this.minute_slider, 'minute', this.minute - (this.minute % this._defaults.stepMinute));\n\t\t\t\t}\n\t\t\t\tif (this.second_slider) {\n\t\t\t\t\tthis.control.options(this, this.second_slider, 'second', { min: this._defaults.secondMin, max: secMax, step: this._defaults.stepSecond });\n\t\t\t\t\tthis.control.value(this, this.second_slider, 'second', this.second - (this.second % this._defaults.stepSecond));\n\t\t\t\t}\n\t\t\t\tif (this.millisec_slider) {\n\t\t\t\t\tthis.control.options(this, this.millisec_slider, 'millisec', { min: this._defaults.millisecMin, max: millisecMax, step: this._defaults.stepMillisec });\n\t\t\t\t\tthis.control.value(this, this.millisec_slider, 'millisec', this.millisec - (this.millisec % this._defaults.stepMillisec));\n\t\t\t\t}\n\t\t\t\tif (this.microsec_slider) {\n\t\t\t\t\tthis.control.options(this, this.microsec_slider, 'microsec', { min: this._defaults.microsecMin, max: microsecMax, step: this._defaults.stepMicrosec });\n\t\t\t\t\tthis.control.value(this, this.microsec_slider, 'microsec', this.microsec - (this.microsec % this._defaults.stepMicrosec));\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t* when a slider moves, set the internal time...\n\t\t* on time change is also called when the time is updated in the text field\n\t\t*/\n\t\t_onTimeChange: function () {\n\t\t\tif (!this._defaults.showTimepicker) {\n                                return;\n\t\t\t}\n\t\t\tvar hour = (this.hour_slider) ? this.control.value(this, this.hour_slider, 'hour') : false,\n\t\t\t\tminute = (this.minute_slider) ? this.control.value(this, this.minute_slider, 'minute') : false,\n\t\t\t\tsecond = (this.second_slider) ? this.control.value(this, this.second_slider, 'second') : false,\n\t\t\t\tmillisec = (this.millisec_slider) ? this.control.value(this, this.millisec_slider, 'millisec') : false,\n\t\t\t\tmicrosec = (this.microsec_slider) ? this.control.value(this, this.microsec_slider, 'microsec') : false,\n\t\t\t\ttimezone = (this.timezone_select) ? this.timezone_select.val() : false,\n\t\t\t\to = this._defaults,\n\t\t\t\tpickerTimeFormat = o.pickerTimeFormat || o.timeFormat,\n\t\t\t\tpickerTimeSuffix = o.pickerTimeSuffix || o.timeSuffix;\n\n\t\t\tif (typeof(hour) === 'object') {\n\t\t\t\thour = false;\n\t\t\t}\n\t\t\tif (typeof(minute) === 'object') {\n\t\t\t\tminute = false;\n\t\t\t}\n\t\t\tif (typeof(second) === 'object') {\n\t\t\t\tsecond = false;\n\t\t\t}\n\t\t\tif (typeof(millisec) === 'object') {\n\t\t\t\tmillisec = false;\n\t\t\t}\n\t\t\tif (typeof(microsec) === 'object') {\n\t\t\t\tmicrosec = false;\n\t\t\t}\n\t\t\tif (typeof(timezone) === 'object') {\n\t\t\t\ttimezone = false;\n\t\t\t}\n\n\t\t\tif (hour !== false) {\n\t\t\t\thour = parseInt(hour, 10);\n\t\t\t}\n\t\t\tif (minute !== false) {\n\t\t\t\tminute = parseInt(minute, 10);\n\t\t\t}\n\t\t\tif (second !== false) {\n\t\t\t\tsecond = parseInt(second, 10);\n\t\t\t}\n\t\t\tif (millisec !== false) {\n\t\t\t\tmillisec = parseInt(millisec, 10);\n\t\t\t}\n\t\t\tif (microsec !== false) {\n\t\t\t\tmicrosec = parseInt(microsec, 10);\n\t\t\t}\n\t\t\tif (timezone !== false) {\n\t\t\t\ttimezone = timezone.toString();\n\t\t\t}\n\n\t\t\tvar ampm = o[hour < 12 ? 'amNames' : 'pmNames'][0];\n\n\t\t\t// If the update was done in the input field, the input field should not be updated.\n\t\t\t// If the update was done using the sliders, update the input field.\n\t\t\tvar hasChanged = (\n\t\t\t\t\t\thour !== parseInt(this.hour,10) || // sliders should all be numeric\n\t\t\t\t\t\tminute !== parseInt(this.minute,10) ||\n\t\t\t\t\t\tsecond !== parseInt(this.second,10) ||\n\t\t\t\t\t\tmillisec !== parseInt(this.millisec,10) ||\n\t\t\t\t\t\tmicrosec !== parseInt(this.microsec,10) ||\n\t\t\t\t\t\t(this.ampm.length > 0 && (hour < 12) !== ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1)) ||\n\t\t\t\t\t\t(this.timezone !== null && timezone !== this.timezone.toString()) // could be numeric or \"EST\" format, so use toString()\n\t\t\t\t\t);\n\n\t\t\tif (hasChanged) {\n\n\t\t\t\tif (hour !== false) {\n\t\t\t\t\tthis.hour = hour;\n\t\t\t\t}\n\t\t\t\tif (minute !== false) {\n\t\t\t\t\tthis.minute = minute;\n\t\t\t\t}\n\t\t\t\tif (second !== false) {\n\t\t\t\t\tthis.second = second;\n\t\t\t\t}\n\t\t\t\tif (millisec !== false) {\n\t\t\t\t\tthis.millisec = millisec;\n\t\t\t\t}\n\t\t\t\tif (microsec !== false) {\n\t\t\t\t\tthis.microsec = microsec;\n\t\t\t\t}\n\t\t\t\tif (timezone !== false) {\n\t\t\t\t\tthis.timezone = timezone;\n\t\t\t\t}\n\n\t\t\t\tif (!this.inst) {\n\t\t\t\t\tthis.inst = $.datepicker._getInst(this.$input[0]);\n\t\t\t\t}\n\n\t\t\t\tthis._limitMinMaxDateTime(this.inst, true);\n\t\t\t}\n\t\t\tif (this.support.ampm) {\n\t\t\t\tthis.ampm = ampm;\n\t\t\t}\n\n\t\t\t// Updates the time within the timepicker\n\t\t\tthis.formattedTime = $.datepicker.formatTime(o.timeFormat, this, o);\n\t\t\tif (this.$timeObj) {\n\t\t\t\tif (pickerTimeFormat === o.timeFormat) {\n\t\t\t\t\tthis.$timeObj.text(this.formattedTime + pickerTimeSuffix);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.$timeObj.text($.datepicker.formatTime(pickerTimeFormat, this, o) + pickerTimeSuffix);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.timeDefined = true;\n\t\t\tif (hasChanged) {\n\t\t\t\tthis._updateDateTime();\n\t\t\t\t//this.$input.focus(); // may automatically open the picker on setDate\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* call custom onSelect.\n\t\t* bind to sliders slidestop, and grid click.\n\t\t*/\n\t\t_onSelectHandler: function () {\n\t\t\tvar onSelect = this._defaults.onSelect || this.inst.settings.onSelect;\n\t\t\tvar inputEl = this.$input ? this.$input[0] : null;\n\t\t\tif (onSelect && inputEl) {\n\t\t\t\tonSelect.apply(inputEl, [this.formattedDateTime, this]);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* update our input with the new date time..\n\t\t*/\n\t\t_updateDateTime: function (dp_inst) {\n\t\t\tdp_inst = this.inst || dp_inst;\n\t\t\tvar dtTmp = (dp_inst.currentYear > 0?\n\t\t\t\t\t\t\tnew Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay) :\n\t\t\t\t\t\t\tnew Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n\t\t\t\tdt = $.datepicker._daylightSavingAdjust(dtTmp),\n\t\t\t\t//dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n\t\t\t\t//dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay)),\n\t\t\t\tdateFmt = $.datepicker._get(dp_inst, 'dateFormat'),\n\t\t\t\tformatCfg = $.datepicker._getFormatConfig(dp_inst),\n\t\t\t\ttimeAvailable = dt !== null && this.timeDefined;\n\t\t\tthis.formattedDate = $.datepicker.formatDate(dateFmt, (dt === null ? new Date() : dt), formatCfg);\n\t\t\tvar formattedDateTime = this.formattedDate;\n\n\t\t\t// if a slider was changed but datepicker doesn't have a value yet, set it\n\t\t\tif (dp_inst.lastVal === \"\") {\n                dp_inst.currentYear = dp_inst.selectedYear;\n                dp_inst.currentMonth = dp_inst.selectedMonth;\n                dp_inst.currentDay = dp_inst.selectedDay;\n            }\n\n\t\t\t/*\n\t\t\t* remove following lines to force every changes in date picker to change the input value\n\t\t\t* Bug descriptions: when an input field has a default value, and click on the field to pop up the date picker.\n\t\t\t* If the user manually empty the value in the input field, the date picker will never change selected value.\n\t\t\t*/\n\t\t\t//if (dp_inst.lastVal !== undefined && (dp_inst.lastVal.length > 0 && this.$input.val().length === 0)) {\n\t\t\t//\treturn;\n\t\t\t//}\n\n\t\t\tif (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === false) {\n\t\t\t\tformattedDateTime = this.formattedTime;\n\t\t\t} else if ((this._defaults.timeOnly !== true && (this._defaults.alwaysSetTime || timeAvailable)) || (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === true)) {\n\t\t\t\tformattedDateTime += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix;\n\t\t\t}\n\n\t\t\tthis.formattedDateTime = formattedDateTime;\n\n\t\t\tif (!this._defaults.showTimepicker) {\n\t\t\t\tthis.$input.val(this.formattedDate);\n\t\t\t} else if (this.$altInput && this._defaults.timeOnly === false && this._defaults.altFieldTimeOnly === true) {\n\t\t\t\tthis.$altInput.val(this.formattedTime);\n\t\t\t\tthis.$input.val(this.formattedDate);\n\t\t\t} else if (this.$altInput) {\n\t\t\t\tthis.$input.val(formattedDateTime);\n\t\t\t\tvar altFormattedDateTime = '',\n\t\t\t\t\taltSeparator = this._defaults.altSeparator ? this._defaults.altSeparator : this._defaults.separator,\n\t\t\t\t\taltTimeSuffix = this._defaults.altTimeSuffix ? this._defaults.altTimeSuffix : this._defaults.timeSuffix;\n\n\t\t\t\tif (!this._defaults.timeOnly) {\n\t\t\t\t\tif (this._defaults.altFormat) {\n\t\t\t\t\t\taltFormattedDateTime = $.datepicker.formatDate(this._defaults.altFormat, (dt === null ? new Date() : dt), formatCfg);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\taltFormattedDateTime = this.formattedDate;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (altFormattedDateTime) {\n\t\t\t\t\t\taltFormattedDateTime += altSeparator;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this._defaults.altTimeFormat) {\n\t\t\t\t\taltFormattedDateTime += $.datepicker.formatTime(this._defaults.altTimeFormat, this, this._defaults) + altTimeSuffix;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\taltFormattedDateTime += this.formattedTime + altTimeSuffix;\n\t\t\t\t}\n\t\t\t\tthis.$altInput.val(altFormattedDateTime);\n\t\t\t} else {\n\t\t\t\tthis.$input.val(formattedDateTime);\n\t\t\t}\n\n\t\t\tthis.$input.trigger(\"change\");\n\t\t},\n\n\t\t_onFocus: function () {\n\t\t\tif (!this.$input.val() && this._defaults.defaultValue) {\n\t\t\t\tthis.$input.val(this._defaults.defaultValue);\n\t\t\t\tvar inst = $.datepicker._getInst(this.$input.get(0)),\n\t\t\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\n\t\t\t\tif (tp_inst) {\n\t\t\t\t\tif (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$.datepicker._updateDatepicker(inst);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t$.timepicker.log(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t* Small abstraction to control types\n\t\t* We can add more, just be sure to follow the pattern: create, options, value\n\t\t*/\n\t\t_controls: {\n\t\t\t// slider methods\n\t\t\tslider: {\n\t\t\t\tcreate: function (tp_inst, obj, unit, val, min, max, step) {\n\t\t\t\t\tvar rtl = tp_inst._defaults.isRTL; // if rtl go -60->0 instead of 0->60\n\t\t\t\t\treturn obj.prop('slide', null).slider({\n\t\t\t\t\t\torientation: \"horizontal\",\n\t\t\t\t\t\tvalue: rtl ? val * -1 : val,\n\t\t\t\t\t\tmin: rtl ? max * -1 : min,\n\t\t\t\t\t\tmax: rtl ? min * -1 : max,\n\t\t\t\t\t\tstep: step,\n\t\t\t\t\t\tslide: function (event, ui) {\n\t\t\t\t\t\t\ttp_inst.control.value(tp_inst, $(this), unit, rtl ? ui.value * -1 : ui.value);\n\t\t\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function (event, ui) {\n\t\t\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\toptions: function (tp_inst, obj, unit, opts, val) {\n\t\t\t\t\tif (tp_inst._defaults.isRTL) {\n\t\t\t\t\t\tif (typeof(opts) === 'string') {\n\t\t\t\t\t\t\tif (opts === 'min' || opts === 'max') {\n\t\t\t\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\t\t\t\treturn obj.slider(opts, val * -1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn Math.abs(obj.slider(opts));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn obj.slider(opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar min = opts.min,\n\t\t\t\t\t\t\tmax = opts.max;\n\t\t\t\t\t\topts.min = opts.max = null;\n\t\t\t\t\t\tif (min !== undefined) {\n\t\t\t\t\t\t\topts.max = min * -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (max !== undefined) {\n\t\t\t\t\t\t\topts.min = max * -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn obj.slider(opts);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof(opts) === 'string' && val !== undefined) {\n\t\t\t\t\t\treturn obj.slider(opts, val);\n\t\t\t\t\t}\n\t\t\t\t\treturn obj.slider(opts);\n\t\t\t\t},\n\t\t\t\tvalue: function (tp_inst, obj, unit, val) {\n\t\t\t\t\tif (tp_inst._defaults.isRTL) {\n\t\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\t\treturn obj.slider('value', val * -1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Math.abs(obj.slider('value'));\n\t\t\t\t\t}\n\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\treturn obj.slider('value', val);\n\t\t\t\t\t}\n\t\t\t\t\treturn obj.slider('value');\n\t\t\t\t}\n\t\t\t},\n\t\t\t// select methods\n\t\t\tselect: {\n\t\t\t\tcreate: function (tp_inst, obj, unit, val, min, max, step) {\n\t\t\t\t\tvar sel = '<select class=\"ui-timepicker-select\" data-unit=\"' + unit + '\" data-min=\"' + min + '\" data-max=\"' + max + '\" data-step=\"' + step + '\">',\n\t\t\t\t\t\tformat = tp_inst._defaults.pickerTimeFormat || tp_inst._defaults.timeFormat;\n\n\t\t\t\t\tfor (var i = min; i <= max; i += step) {\n\t\t\t\t\t\tsel += '<option value=\"' + i + '\"' + (i === val ? ' selected' : '') + '>';\n\t\t\t\t\t\tif (unit === 'hour') {\n\t\t\t\t\t\t\tsel += $.datepicker.formatTime($.trim(format.replace(/[^ht ]/ig, '')), {hour: i}, tp_inst._defaults);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (unit === 'millisec' || unit === 'microsec' || i >= 10) { sel += i; }\n\t\t\t\t\t\telse {sel += '0' + i.toString(); }\n\t\t\t\t\t\tsel += '</option>';\n\t\t\t\t\t}\n\t\t\t\t\tsel += '</select>';\n\n\t\t\t\t\tobj.children('select').remove();\n\n\t\t\t\t\t$(sel).appendTo(obj).change(function (e) {\n\t\t\t\t\t\ttp_inst._onTimeChange();\n\t\t\t\t\t\ttp_inst._onSelectHandler();\n\t\t\t\t\t});\n\n\t\t\t\t\treturn obj;\n\t\t\t\t},\n\t\t\t\toptions: function (tp_inst, obj, unit, opts, val) {\n\t\t\t\t\tvar o = {},\n\t\t\t\t\t\t$t = obj.children('select');\n\t\t\t\t\tif (typeof(opts) === 'string') {\n\t\t\t\t\t\tif (val === undefined) {\n\t\t\t\t\t\t\treturn $t.data(opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\to[opts] = val;\n\t\t\t\t\t}\n\t\t\t\t\telse { o = opts; }\n\t\t\t\t\treturn tp_inst.control.create(tp_inst, obj, $t.data('unit'), $t.val(), o.min || $t.data('min'), o.max || $t.data('max'), o.step || $t.data('step'));\n\t\t\t\t},\n\t\t\t\tvalue: function (tp_inst, obj, unit, val) {\n\t\t\t\t\tvar $t = obj.children('select');\n\t\t\t\t\tif (val !== undefined) {\n\t\t\t\t\t\treturn $t.val(val);\n\t\t\t\t\t}\n\t\t\t\t\treturn $t.val();\n\t\t\t\t}\n\t\t\t}\n\t\t} // end _controls\n\n\t});\n\n\t$.fn.extend({\n\t\t/*\n\t\t* shorthand just to use timepicker.\n\t\t*/\n\t\ttimepicker: function (o) {\n\t\t\to = o || {};\n\t\t\tvar tmp_args = Array.prototype.slice.call(arguments);\n\n\t\t\tif (typeof o === 'object') {\n\t\t\t\ttmp_args[0] = $.extend(o, {\n\t\t\t\t\ttimeOnly: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn $(this).each(function () {\n\t\t\t\t$.fn.datetimepicker.apply($(this), tmp_args);\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t* extend timepicker to datepicker\n\t\t*/\n\t\tdatetimepicker: function (o) {\n\t\t\to = o || {};\n\t\t\tvar tmp_args = arguments;\n\n\t\t\tif (typeof(o) === 'string') {\n\t\t\t\tif (o === 'getDate') {\n\t\t\t\t\treturn $.fn.datepicker.apply($(this[0]), tmp_args);\n\t\t\t\t} else {\n\t\t\t\t\treturn this.each(function () {\n\t\t\t\t\t\tvar $t = $(this);\n\t\t\t\t\t\t$t.datepicker.apply($t, tmp_args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn this.each(function () {\n\t\t\t\t\tvar $t = $(this);\n\t\t\t\t\t$t.datepicker($.timepicker._newInst($t, o)._defaults);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\t/*\n\t* Public Utility to parse date and time\n\t*/\n\t$.datepicker.parseDateTime = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n\t\tvar parseRes = parseDateTimeInternal(dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings);\n\t\tif (parseRes.timeObj) {\n\t\t\tvar t = parseRes.timeObj;\n\t\t\tparseRes.date.setHours(t.hour, t.minute, t.second, t.millisec);\n\t\t\tparseRes.date.setMicroseconds(t.microsec);\n\t\t}\n\n\t\treturn parseRes.date;\n\t};\n\n\t/*\n\t* Public utility to parse time\n\t*/\n\t$.datepicker.parseTime = function (timeFormat, timeString, options) {\n\t\tvar o = extendRemove(extendRemove({}, $.timepicker._defaults), options || {}),\n\t\t\tiso8601 = (timeFormat.replace(/\\'.*?\\'/g, '').indexOf('Z') !== -1);\n\n\t\t// Strict parse requires the timeString to match the timeFormat exactly\n\t\tvar strictParse = function (f, s, o) {\n\n\t\t\t// pattern for standard and localized AM/PM markers\n\t\t\tvar getPatternAmpm = function (amNames, pmNames) {\n\t\t\t\tvar markers = [];\n\t\t\t\tif (amNames) {\n\t\t\t\t\t$.merge(markers, amNames);\n\t\t\t\t}\n\t\t\t\tif (pmNames) {\n\t\t\t\t\t$.merge(markers, pmNames);\n\t\t\t\t}\n\t\t\t\tmarkers = $.map(markers, function (val) {\n\t\t\t\t\treturn val.replace(/[.*+?|()\\[\\]{}\\\\]/g, '\\\\$&');\n\t\t\t\t});\n\t\t\t\treturn '(' + markers.join('|') + ')?';\n\t\t\t};\n\n\t\t\t// figure out position of time elements.. cause js cant do named captures\n\t\t\tvar getFormatPositions = function (timeFormat) {\n\t\t\t\tvar finds = timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),\n\t\t\t\t\torders = {\n\t\t\t\t\t\th: -1,\n\t\t\t\t\t\tm: -1,\n\t\t\t\t\t\ts: -1,\n\t\t\t\t\t\tl: -1,\n\t\t\t\t\t\tc: -1,\n\t\t\t\t\t\tt: -1,\n\t\t\t\t\t\tz: -1\n\t\t\t\t\t};\n\n\t\t\t\tif (finds) {\n\t\t\t\t\tfor (var i = 0; i < finds.length; i++) {\n\t\t\t\t\t\tif (orders[finds[i].toString().charAt(0)] === -1) {\n\t\t\t\t\t\t\torders[finds[i].toString().charAt(0)] = i + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn orders;\n\t\t\t};\n\n\t\t\tvar regstr = '^' + f.toString()\n\t\t\t\t\t.replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n\t\t\t\t\t\t\tvar ml = match.length;\n\t\t\t\t\t\t\tswitch (match.charAt(0).toLowerCase()) {\n\t\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n\t\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n\t\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\t\treturn '(\\\\d?\\\\d?\\\\d)';\n\t\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\t\treturn '(\\\\d?\\\\d?\\\\d)';\n\t\t\t\t\t\t\tcase 'z':\n\t\t\t\t\t\t\t\treturn '(z|[-+]\\\\d\\\\d:?\\\\d\\\\d|\\\\S+)?';\n\t\t\t\t\t\t\tcase 't':\n\t\t\t\t\t\t\t\treturn getPatternAmpm(o.amNames, o.pmNames);\n\t\t\t\t\t\t\tdefault:    // literal escaped in quotes\n\t\t\t\t\t\t\t\treturn '(' + match.replace(/\\'/g, \"\").replace(/(\\.|\\$|\\^|\\\\|\\/|\\(|\\)|\\[|\\]|\\?|\\+|\\*)/g, function (m) { return \"\\\\\" + m; }) + ')?';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t.replace(/\\s/g, '\\\\s?') +\n\t\t\t\t\to.timeSuffix + '$',\n\t\t\t\torder = getFormatPositions(f),\n\t\t\t\tampm = '',\n\t\t\t\ttreg;\n\n\t\t\ttreg = s.match(new RegExp(regstr, 'i'));\n\n\t\t\tvar resTime = {\n\t\t\t\thour: 0,\n\t\t\t\tminute: 0,\n\t\t\t\tsecond: 0,\n\t\t\t\tmillisec: 0,\n\t\t\t\tmicrosec: 0\n\t\t\t};\n\n\t\t\tif (treg) {\n\t\t\t\tif (order.t !== -1) {\n\t\t\t\t\tif (treg[order.t] === undefined || treg[order.t].length === 0) {\n\t\t\t\t\t\tampm = '';\n\t\t\t\t\t\tresTime.ampm = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tampm = $.inArray(treg[order.t].toUpperCase(), o.amNames) !== -1 ? 'AM' : 'PM';\n\t\t\t\t\t\tresTime.ampm = o[ampm === 'AM' ? 'amNames' : 'pmNames'][0];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (order.h !== -1) {\n\t\t\t\t\tif (ampm === 'AM' && treg[order.h] === '12') {\n\t\t\t\t\t\tresTime.hour = 0; // 12am = 0 hour\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (ampm === 'PM' && treg[order.h] !== '12') {\n\t\t\t\t\t\t\tresTime.hour = parseInt(treg[order.h], 10) + 12; // 12pm = 12 hour, any other pm = hour + 12\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresTime.hour = Number(treg[order.h]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (order.m !== -1) {\n\t\t\t\t\tresTime.minute = Number(treg[order.m]);\n\t\t\t\t}\n\t\t\t\tif (order.s !== -1) {\n\t\t\t\t\tresTime.second = Number(treg[order.s]);\n\t\t\t\t}\n\t\t\t\tif (order.l !== -1) {\n\t\t\t\t\tresTime.millisec = Number(treg[order.l]);\n\t\t\t\t}\n\t\t\t\tif (order.c !== -1) {\n\t\t\t\t\tresTime.microsec = Number(treg[order.c]);\n\t\t\t\t}\n\t\t\t\tif (order.z !== -1 && treg[order.z] !== undefined) {\n\t\t\t\t\tresTime.timezone = $.timepicker.timezoneOffsetNumber(treg[order.z]);\n\t\t\t\t}\n\n\n\t\t\t\treturn resTime;\n\t\t\t}\n\t\t\treturn false;\n\t\t};// end strictParse\n\n\t\t// First try JS Date, if that fails, use strictParse\n\t\tvar looseParse = function (f, s, o) {\n\t\t\ttry {\n\t\t\t\tvar d = new Date('2012-01-01 ' + s);\n\t\t\t\tif (isNaN(d.getTime())) {\n\t\t\t\t\td = new Date('2012-01-01T' + s);\n\t\t\t\t\tif (isNaN(d.getTime())) {\n\t\t\t\t\t\td = new Date('01/01/2012 ' + s);\n\t\t\t\t\t\tif (isNaN(d.getTime())) {\n\t\t\t\t\t\t\tthrow \"Unable to parse time with native Date: \" + s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\thour: d.getHours(),\n\t\t\t\t\tminute: d.getMinutes(),\n\t\t\t\t\tsecond: d.getSeconds(),\n\t\t\t\t\tmillisec: d.getMilliseconds(),\n\t\t\t\t\tmicrosec: d.getMicroseconds(),\n\t\t\t\t\ttimezone: d.getTimezoneOffset() * -1\n\t\t\t\t};\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\ttry {\n\t\t\t\t\treturn strictParse(f, s, o);\n\t\t\t\t}\n\t\t\t\tcatch (err2) {\n\t\t\t\t\t$.timepicker.log(\"Unable to parse \\ntimeString: \" + s + \"\\ntimeFormat: \" + f);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}; // end looseParse\n\n\t\tif (typeof o.parse === \"function\") {\n\t\t\treturn o.parse(timeFormat, timeString, o);\n\t\t}\n\t\tif (o.parse === 'loose') {\n\t\t\treturn looseParse(timeFormat, timeString, o);\n\t\t}\n\t\treturn strictParse(timeFormat, timeString, o);\n\t};\n\n\t/**\n\t * Public utility to format the time\n\t * @param {string} format format of the time\n\t * @param {Object} time Object not a Date for timezones\n\t * @param {Object} [options] essentially the regional[].. amNames, pmNames, ampm\n\t * @returns {string} the formatted time\n\t */\n\t$.datepicker.formatTime = function (format, time, options) {\n\t\toptions = options || {};\n\t\toptions = $.extend({}, $.timepicker._defaults, options);\n\t\ttime = $.extend({\n\t\t\thour: 0,\n\t\t\tminute: 0,\n\t\t\tsecond: 0,\n\t\t\tmillisec: 0,\n\t\t\tmicrosec: 0,\n\t\t\ttimezone: null\n\t\t}, time);\n\n\t\tvar tmptime = format,\n\t\t\tampmName = options.amNames[0],\n\t\t\thour = parseInt(time.hour, 10);\n\n\t\tif (hour > 11) {\n\t\t\tampmName = options.pmNames[0];\n\t\t}\n\n\t\ttmptime = tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n\t\t\tswitch (match) {\n\t\t\tcase 'HH':\n\t\t\t\treturn ('0' + hour).slice(-2);\n\t\t\tcase 'H':\n\t\t\t\treturn hour;\n\t\t\tcase 'hh':\n\t\t\t\treturn ('0' + convert24to12(hour)).slice(-2);\n\t\t\tcase 'h':\n\t\t\t\treturn convert24to12(hour);\n\t\t\tcase 'mm':\n\t\t\t\treturn ('0' + time.minute).slice(-2);\n\t\t\tcase 'm':\n\t\t\t\treturn time.minute;\n\t\t\tcase 'ss':\n\t\t\t\treturn ('0' + time.second).slice(-2);\n\t\t\tcase 's':\n\t\t\t\treturn time.second;\n\t\t\tcase 'l':\n\t\t\t\treturn ('00' + time.millisec).slice(-3);\n\t\t\tcase 'c':\n\t\t\t\treturn ('00' + time.microsec).slice(-3);\n\t\t\tcase 'z':\n\t\t\t\treturn $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, false);\n\t\t\tcase 'Z':\n\t\t\t\treturn $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, true);\n\t\t\tcase 'T':\n\t\t\t\treturn ampmName.charAt(0).toUpperCase();\n\t\t\tcase 'TT':\n\t\t\t\treturn ampmName.toUpperCase();\n\t\t\tcase 't':\n\t\t\t\treturn ampmName.charAt(0).toLowerCase();\n\t\t\tcase 'tt':\n\t\t\t\treturn ampmName.toLowerCase();\n\t\t\tdefault:\n\t\t\t\treturn match.replace(/'/g, \"\");\n\t\t\t}\n\t\t});\n\n\t\treturn tmptime;\n\t};\n\n\t/*\n\t* the bad hack :/ override datepicker so it doesn't close on select\n\t// inspired: http://stackoverflow.com/questions/1252512/jquery-datepicker-prevent-closing-picker-when-clicking-a-date/1762378#1762378\n\t*/\n\t$.datepicker._base_selectDate = $.datepicker._selectDate;\n\t$.datepicker._selectDate = function (id, dateStr) {\n\t\tvar inst = this._getInst($(id)[0]),\n\t\t\ttp_inst = this._get(inst, 'timepicker');\n\n\t\tif (tp_inst && inst.settings.showTimepicker) {\n\t\t\ttp_inst._limitMinMaxDateTime(inst, true);\n\t\t\tinst.inline = inst.stay_open = true;\n\t\t\t//This way the onSelect handler called from calendarpicker get the full dateTime\n\t\t\tthis._base_selectDate(id, dateStr);\n\t\t\tinst.inline = inst.stay_open = false;\n\t\t\tthis._notifyChange(inst);\n\t\t\tthis._updateDatepicker(inst);\n\t\t} else {\n\t\t\tthis._base_selectDate(id, dateStr);\n\t\t}\n\t};\n\n\t/*\n\t* second bad hack :/ override datepicker so it triggers an event when changing the input field\n\t* and does not redraw the datepicker on every selectDate event\n\t*/\n\t$.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker;\n\t$.datepicker._updateDatepicker = function (inst) {\n\n\t\t// don't popup the datepicker if there is another instance already opened\n\t\tvar input = inst.input[0];\n\t\tif ($.datepicker._curInst && $.datepicker._curInst !== inst && $.datepicker._datepickerShowing && $.datepicker._lastInput !== input) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof(inst.stay_open) !== 'boolean' || inst.stay_open === false) {\n\n\t\t\tthis._base_updateDatepicker(inst);\n\n\t\t\t// Reload the time control when changing something in the input text field.\n\t\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\t\tif (tp_inst) {\n\t\t\t\ttp_inst._addTimePicker(inst);\n\t\t\t}\n\t\t}\n\t};\n\n\t/*\n\t* third bad hack :/ override datepicker so it allows spaces and colon in the input field\n\t*/\n\t$.datepicker._base_doKeyPress = $.datepicker._doKeyPress;\n\t$.datepicker._doKeyPress = function (event) {\n\t\tvar inst = $.datepicker._getInst(event.target),\n\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\tif ($.datepicker._get(inst, 'constrainInput')) {\n\t\t\t\tvar ampm = tp_inst.support.ampm,\n\t\t\t\t\ttz = tp_inst._defaults.showTimezone !== null ? tp_inst._defaults.showTimezone : tp_inst.support.timezone,\n\t\t\t\t\tdateChars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat')),\n\t\t\t\t\tdatetimeChars = tp_inst._defaults.timeFormat.toString()\n\t\t\t\t\t\t\t\t\t\t\t.replace(/[hms]/g, '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/TT/g, ampm ? 'APM' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/Tt/g, ampm ? 'AaPpMm' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/tT/g, ampm ? 'AaPpMm' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/T/g, ampm ? 'AP' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/tt/g, ampm ? 'apm' : '')\n\t\t\t\t\t\t\t\t\t\t\t.replace(/t/g, ampm ? 'ap' : '') +\n\t\t\t\t\t\t\t\t\t\t\t\" \" + tp_inst._defaults.separator +\n\t\t\t\t\t\t\t\t\t\t\ttp_inst._defaults.timeSuffix +\n\t\t\t\t\t\t\t\t\t\t\t(tz ? tp_inst._defaults.timezoneList.join('') : '') +\n\t\t\t\t\t\t\t\t\t\t\t(tp_inst._defaults.amNames.join('')) + (tp_inst._defaults.pmNames.join('')) +\n\t\t\t\t\t\t\t\t\t\t\tdateChars,\n\t\t\t\t\tchr = String.fromCharCode(event.charCode === undefined ? event.keyCode : event.charCode);\n\t\t\t\treturn event.ctrlKey || (chr < ' ' || !dateChars || datetimeChars.indexOf(chr) > -1);\n\t\t\t}\n\t\t}\n\n\t\treturn $.datepicker._base_doKeyPress(event);\n\t};\n\n\t/*\n\t* Fourth bad hack :/ override _updateAlternate function used in inline mode to init altField\n\t* Update any alternate field to synchronise with the main field.\n\t*/\n\t$.datepicker._base_updateAlternate = $.datepicker._updateAlternate;\n\t$.datepicker._updateAlternate = function (inst) {\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\tvar altField = tp_inst._defaults.altField;\n\t\t\tif (altField) { // update alternate field too\n\t\t\t\tvar altFormat = tp_inst._defaults.altFormat || tp_inst._defaults.dateFormat,\n\t\t\t\t\tdate = this._getDate(inst),\n\t\t\t\t\tformatCfg = $.datepicker._getFormatConfig(inst),\n\t\t\t\t\taltFormattedDateTime = '',\n\t\t\t\t\taltSeparator = tp_inst._defaults.altSeparator ? tp_inst._defaults.altSeparator : tp_inst._defaults.separator,\n\t\t\t\t\taltTimeSuffix = tp_inst._defaults.altTimeSuffix ? tp_inst._defaults.altTimeSuffix : tp_inst._defaults.timeSuffix,\n\t\t\t\t\taltTimeFormat = tp_inst._defaults.altTimeFormat !== null ? tp_inst._defaults.altTimeFormat : tp_inst._defaults.timeFormat;\n\n\t\t\t\taltFormattedDateTime += $.datepicker.formatTime(altTimeFormat, tp_inst, tp_inst._defaults) + altTimeSuffix;\n\t\t\t\tif (!tp_inst._defaults.timeOnly && !tp_inst._defaults.altFieldTimeOnly && date !== null) {\n\t\t\t\t\tif (tp_inst._defaults.altFormat) {\n\t\t\t\t\t\taltFormattedDateTime = $.datepicker.formatDate(tp_inst._defaults.altFormat, date, formatCfg) + altSeparator + altFormattedDateTime;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\taltFormattedDateTime = tp_inst.formattedDate + altSeparator + altFormattedDateTime;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$(altField).val(altFormattedDateTime);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t$.datepicker._base_updateAlternate(inst);\n\t\t}\n\t};\n\n\t/*\n\t* Override key up event to sync manual input changes.\n\t*/\n\t$.datepicker._base_doKeyUp = $.datepicker._doKeyUp;\n\t$.datepicker._doKeyUp = function (event) {\n\t\tvar inst = $.datepicker._getInst(event.target),\n\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\tif (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n\t\t\t\ttry {\n\t\t\t\t\t$.datepicker._updateDatepicker(inst);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t$.timepicker.log(err);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn $.datepicker._base_doKeyUp(event);\n\t};\n\n\t/*\n\t* override \"Today\" button to also grab the time.\n\t*/\n\t$.datepicker._base_gotoToday = $.datepicker._gotoToday;\n\t$.datepicker._gotoToday = function (id) {\n\t\tvar inst = this._getInst($(id)[0]),\n\t\t\t$dp = inst.dpDiv;\n\t\tthis._base_gotoToday(id);\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tselectLocalTimezone(tp_inst);\n\t\tvar now = new Date();\n\t\tthis._setTime(inst, now);\n\t\t$('.ui-datepicker-today', $dp).click();\n\t};\n\n\t/*\n\t* Disable & enable the Time in the datetimepicker\n\t*/\n\t$.datepicker._disableTimepickerDatepicker = function (target) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\t$(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n\t\tif (tp_inst) {\n\t\t\tinst.settings.showTimepicker = false;\n\t\t\ttp_inst._defaults.showTimepicker = false;\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t}\n\t};\n\n\t$.datepicker._enableTimepickerDatepicker = function (target) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\t$(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n\t\tif (tp_inst) {\n\t\t\tinst.settings.showTimepicker = true;\n\t\t\ttp_inst._defaults.showTimepicker = true;\n\t\t\ttp_inst._addTimePicker(inst); // Could be disabled on page load\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t}\n\t};\n\n\t/*\n\t* Create our own set time function\n\t*/\n\t$.datepicker._setTime = function (inst, date) {\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\tvar defaults = tp_inst._defaults;\n\n\t\t\t// calling _setTime with no date sets time to defaults\n\t\t\ttp_inst.hour = date ? date.getHours() : defaults.hour;\n\t\t\ttp_inst.minute = date ? date.getMinutes() : defaults.minute;\n\t\t\ttp_inst.second = date ? date.getSeconds() : defaults.second;\n\t\t\ttp_inst.millisec = date ? date.getMilliseconds() : defaults.millisec;\n\t\t\ttp_inst.microsec = date ? date.getMicroseconds() : defaults.microsec;\n\n\t\t\t//check if within min/max times..\n\t\t\ttp_inst._limitMinMaxDateTime(inst, true);\n\n\t\t\ttp_inst._onTimeChange();\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t}\n\t};\n\n\t/*\n\t* Create new public method to set only time, callable as $().datepicker('setTime', date)\n\t*/\n\t$.datepicker._setTimeDatepicker = function (target, date, withDate) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\tthis._setDateFromField(inst);\n\t\t\tvar tp_date;\n\t\t\tif (date) {\n\t\t\t\tif (typeof date === \"string\") {\n\t\t\t\t\ttp_inst._parseTime(date, withDate);\n\t\t\t\t\ttp_date = new Date();\n\t\t\t\t\ttp_date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n\t\t\t\t\ttp_date.setMicroseconds(tp_inst.microsec);\n\t\t\t\t} else {\n\t\t\t\t\ttp_date = new Date(date.getTime());\n\t\t\t\t\ttp_date.setMicroseconds(date.getMicroseconds());\n\t\t\t\t}\n\t\t\t\tif (tp_date.toString() === 'Invalid Date') {\n\t\t\t\t\ttp_date = undefined;\n\t\t\t\t}\n\t\t\t\tthis._setTime(inst, tp_date);\n\t\t\t}\n\t\t}\n\n\t};\n\n\t/*\n\t* override setDate() to allow setting time too within Date object\n\t*/\n\t$.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker;\n\t$.datepicker._setDateDatepicker = function (target, date) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof(date) === 'string') {\n\t\t\tdate = new Date(date);\n\t\t\tif (!date.getTime()) {\n\t\t\t\t$.timepicker.log(\"Error creating Date object from string.\");\n\t\t\t}\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tvar tp_date;\n\t\tif (date instanceof Date) {\n\t\t\ttp_date = new Date(date.getTime());\n\t\t\ttp_date.setMicroseconds(date.getMicroseconds());\n\t\t} else {\n\t\t\ttp_date = date;\n\t\t}\n\n\t\t// This is important if you are using the timezone option, javascript's Date\n\t\t// object will only return the timezone offset for the current locale, so we\n\t\t// adjust it accordingly.  If not using timezone option this won't matter..\n\t\t// If a timezone is different in tp, keep the timezone as is\n\t\tif (tp_inst && tp_date) {\n\t\t\t// look out for DST if tz wasn't specified\n\t\t\tif (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n\t\t\t\ttp_inst.timezone = tp_date.getTimezoneOffset() * -1;\n\t\t\t}\n\t\t\tdate = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\n\t\t\ttp_date = $.timepicker.timezoneAdjust(tp_date, tp_inst.timezone);\n\t\t}\n\n\t\tthis._updateDatepicker(inst);\n\t\tthis._base_setDateDatepicker.apply(this, arguments);\n\t\tthis._setTimeDatepicker(target, tp_date, true);\n\t};\n\n\t/*\n\t* override getDate() to allow getting time too within Date object\n\t*/\n\t$.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker;\n\t$.datepicker._getDateDatepicker = function (target, noDefault) {\n\t\tvar inst = this._getInst(target);\n\t\tif (!inst) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\n\t\tif (tp_inst) {\n\t\t\t// if it hasn't yet been defined, grab from field\n\t\t\tif (inst.lastVal === undefined) {\n\t\t\t\tthis._setDateFromField(inst, noDefault);\n\t\t\t}\n\n\t\t\tvar date = this._getDate(inst);\n\t\t\tif (date && tp_inst._parseTime($(target).val(), tp_inst.timeOnly)) {\n\t\t\t\tdate.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n\t\t\t\tdate.setMicroseconds(tp_inst.microsec);\n\n\t\t\t\t// This is important if you are using the timezone option, javascript's Date\n\t\t\t\t// object will only return the timezone offset for the current locale, so we\n\t\t\t\t// adjust it accordingly.  If not using timezone option this won't matter..\n\t\t\t\tif (tp_inst.timezone != null) {\n\t\t\t\t\t// look out for DST if tz wasn't specified\n\t\t\t\t\tif (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n\t\t\t\t\t\ttp_inst.timezone = date.getTimezoneOffset() * -1;\n\t\t\t\t\t}\n\t\t\t\t\tdate = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t}\n\t\treturn this._base_getDateDatepicker(target, noDefault);\n\t};\n\n\t/*\n\t* override parseDate() because UI 1.8.14 throws an error about \"Extra characters\"\n\t* An option in datapicker to ignore extra format characters would be nicer.\n\t*/\n\t$.datepicker._base_parseDate = $.datepicker.parseDate;\n\t$.datepicker.parseDate = function (format, value, settings) {\n\t\tvar date;\n\t\ttry {\n\t\t\tdate = this._base_parseDate(format, value, settings);\n\t\t} catch (err) {\n\t\t\t// Hack!  The error message ends with a colon, a space, and\n\t\t\t// the \"extra\" characters.  We rely on that instead of\n\t\t\t// attempting to perfectly reproduce the parsing algorithm.\n\t\t\tif (err.indexOf(\":\") >= 0) {\n\t\t\t\tdate = this._base_parseDate(format, value.substring(0, value.length - (err.length - err.indexOf(':') - 2)), settings);\n\t\t\t\t$.timepicker.log(\"Error parsing the date string: \" + err + \"\\ndate string = \" + value + \"\\ndate format = \" + format);\n\t\t\t} else {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\t\treturn date;\n\t};\n\n\t/*\n\t* override formatDate to set date with time to the input\n\t*/\n\t$.datepicker._base_formatDate = $.datepicker._formatDate;\n\t$.datepicker._formatDate = function (inst, day, month, year) {\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\ttp_inst._updateDateTime(inst);\n\t\t\treturn tp_inst.$input.val();\n\t\t}\n\t\treturn this._base_formatDate(inst);\n\t};\n\n\t/*\n\t* override options setter to add time to maxDate(Time) and minDate(Time). MaxDate\n\t*/\n\t$.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker;\n\t$.datepicker._optionDatepicker = function (target, name, value) {\n\t\tvar inst = this._getInst(target),\n\t\t\tname_clone;\n\t\tif (!inst) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar tp_inst = this._get(inst, 'timepicker');\n\t\tif (tp_inst) {\n\t\t\tvar min = null,\n\t\t\t\tmax = null,\n\t\t\t\tonselect = null,\n\t\t\t\toverrides = tp_inst._defaults.evnts,\n\t\t\t\tfns = {},\n\t\t\t\tprop;\n\t\t\tif (typeof name === 'string') { // if min/max was set with the string\n\t\t\t\tif (name === 'minDate' || name === 'minDateTime') {\n\t\t\t\t\tmin = value;\n\t\t\t\t} else if (name === 'maxDate' || name === 'maxDateTime') {\n\t\t\t\t\tmax = value;\n\t\t\t\t} else if (name === 'onSelect') {\n\t\t\t\t\tonselect = value;\n\t\t\t\t} else if (overrides.hasOwnProperty(name)) {\n\t\t\t\t\tif (typeof (value) === 'undefined') {\n\t\t\t\t\t\treturn overrides[name];\n\t\t\t\t\t}\n\t\t\t\t\tfns[name] = value;\n\t\t\t\t\tname_clone = {}; //empty results in exiting function after overrides updated\n\t\t\t\t}\n\t\t\t} else if (typeof name === 'object') { //if min/max was set with the JSON\n\t\t\t\tif (name.minDate) {\n\t\t\t\t\tmin = name.minDate;\n\t\t\t\t} else if (name.minDateTime) {\n\t\t\t\t\tmin = name.minDateTime;\n\t\t\t\t} else if (name.maxDate) {\n\t\t\t\t\tmax = name.maxDate;\n\t\t\t\t} else if (name.maxDateTime) {\n\t\t\t\t\tmax = name.maxDateTime;\n\t\t\t\t}\n\t\t\t\tfor (prop in overrides) {\n\t\t\t\t\tif (overrides.hasOwnProperty(prop) && name[prop]) {\n\t\t\t\t\t\tfns[prop] = name[prop];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (prop in fns) {\n\t\t\t\tif (fns.hasOwnProperty(prop)) {\n\t\t\t\t\toverrides[prop] = fns[prop];\n\t\t\t\t\tif (!name_clone) { name_clone = $.extend({}, name); }\n\t\t\t\t\tdelete name_clone[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (name_clone && isEmptyObject(name_clone)) { return; }\n\t\t\tif (min) { //if min was set\n\t\t\t\tif (min === 0) {\n\t\t\t\t\tmin = new Date();\n\t\t\t\t} else {\n\t\t\t\t\tmin = new Date(min);\n\t\t\t\t}\n\t\t\t\ttp_inst._defaults.minDate = min;\n\t\t\t\ttp_inst._defaults.minDateTime = min;\n\t\t\t} else if (max) { //if max was set\n\t\t\t\tif (max === 0) {\n\t\t\t\t\tmax = new Date();\n\t\t\t\t} else {\n\t\t\t\t\tmax = new Date(max);\n\t\t\t\t}\n\t\t\t\ttp_inst._defaults.maxDate = max;\n\t\t\t\ttp_inst._defaults.maxDateTime = max;\n\t\t\t} else if (onselect) {\n\t\t\t\ttp_inst._defaults.onSelect = onselect;\n\t\t\t}\n\t\t}\n\t\tif (value === undefined) {\n\t\t\treturn this._base_optionDatepicker.call($.datepicker, target, name);\n\t\t}\n\t\treturn this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\n\t};\n\n\t/*\n\t* jQuery isEmptyObject does not check hasOwnProperty - if someone has added to the object prototype,\n\t* it will return false for all objects\n\t*/\n\tvar isEmptyObject = function (obj) {\n\t\tvar prop;\n\t\tfor (prop in obj) {\n\t\t\tif (obj.hasOwnProperty(prop)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\t/*\n\t* jQuery extend now ignores nulls!\n\t*/\n\tvar extendRemove = function (target, props) {\n\t\t$.extend(target, props);\n\t\tfor (var name in props) {\n\t\t\tif (props[name] === null || props[name] === undefined) {\n\t\t\t\ttarget[name] = props[name];\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t};\n\n\t/*\n\t* Determine by the time format which units are supported\n\t* Returns an object of booleans for each unit\n\t*/\n\tvar detectSupport = function (timeFormat) {\n\t\tvar tf = timeFormat.replace(/'.*?'/g, '').toLowerCase(), // removes literals\n\t\t\tisIn = function (f, t) { // does the format contain the token?\n\t\t\t\t\treturn f.indexOf(t) !== -1 ? true : false;\n\t\t\t\t};\n\t\treturn {\n\t\t\t\thour: isIn(tf, 'h'),\n\t\t\t\tminute: isIn(tf, 'm'),\n\t\t\t\tsecond: isIn(tf, 's'),\n\t\t\t\tmillisec: isIn(tf, 'l'),\n\t\t\t\tmicrosec: isIn(tf, 'c'),\n\t\t\t\ttimezone: isIn(tf, 'z'),\n\t\t\t\tampm: isIn(tf, 't') && isIn(timeFormat, 'h'),\n\t\t\t\tiso8601: isIn(timeFormat, 'Z')\n\t\t\t};\n\t};\n\n\t/*\n\t* Converts 24 hour format into 12 hour\n\t* Returns 12 hour without leading 0\n\t*/\n\tvar convert24to12 = function (hour) {\n\t\thour %= 12;\n\n\t\tif (hour === 0) {\n\t\t\thour = 12;\n\t\t}\n\n\t\treturn String(hour);\n\t};\n\n\tvar computeEffectiveSetting = function (settings, property) {\n\t\treturn settings && settings[property] ? settings[property] : $.timepicker._defaults[property];\n\t};\n\n\t/*\n\t* Splits datetime string into date and time substrings.\n\t* Throws exception when date can't be parsed\n\t* Returns {dateString: dateString, timeString: timeString}\n\t*/\n\tvar splitDateTime = function (dateTimeString, timeSettings) {\n\t\t// The idea is to get the number separator occurrences in datetime and the time format requested (since time has\n\t\t// fewer unknowns, mostly numbers and am/pm). We will use the time pattern to split.\n\t\tvar separator = computeEffectiveSetting(timeSettings, 'separator'),\n\t\t\tformat = computeEffectiveSetting(timeSettings, 'timeFormat'),\n\t\t\ttimeParts = format.split(separator), // how many occurrences of separator may be in our format?\n\t\t\ttimePartsLen = timeParts.length,\n\t\t\tallParts = dateTimeString.split(separator),\n\t\t\tallPartsLen = allParts.length;\n\n\t\tif (allPartsLen > 1) {\n\t\t\treturn {\n\t\t\t\tdateString: allParts.splice(0, allPartsLen - timePartsLen).join(separator),\n\t\t\t\ttimeString: allParts.splice(0, timePartsLen).join(separator)\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tdateString: dateTimeString,\n\t\t\ttimeString: ''\n\t\t};\n\t};\n\n\t/*\n\t* Internal function to parse datetime interval\n\t* Returns: {date: Date, timeObj: Object}, where\n\t*   date - parsed date without time (type Date)\n\t*   timeObj = {hour: , minute: , second: , millisec: , microsec: } - parsed time. Optional\n\t*/\n\tvar parseDateTimeInternal = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n\t\tvar date,\n\t\t\tparts,\n\t\t\tparsedTime;\n\n\t\tparts = splitDateTime(dateTimeString, timeSettings);\n\t\tdate = $.datepicker._base_parseDate(dateFormat, parts.dateString, dateSettings);\n\n\t\tif (parts.timeString === '') {\n\t\t\treturn {\n\t\t\t\tdate: date\n\t\t\t};\n\t\t}\n\n\t\tparsedTime = $.datepicker.parseTime(timeFormat, parts.timeString, timeSettings);\n\n\t\tif (!parsedTime) {\n\t\t\tthrow 'Wrong time format';\n\t\t}\n\n\t\treturn {\n\t\t\tdate: date,\n\t\t\ttimeObj: parsedTime\n\t\t};\n\t};\n\n\t/*\n\t* Internal function to set timezone_select to the local timezone\n\t*/\n\tvar selectLocalTimezone = function (tp_inst, date) {\n\t\tif (tp_inst && tp_inst.timezone_select) {\n\t\t\tvar now = date || new Date();\n\t\t\ttp_inst.timezone_select.val(-now.getTimezoneOffset());\n\t\t}\n\t};\n\n\t/*\n\t* Create a Singleton Instance\n\t*/\n\t$.timepicker = new Timepicker();\n\n\t/**\n\t * Get the timezone offset as string from a date object (eg '+0530' for UTC+5.5)\n\t * @param {number} tzMinutes if not a number, less than -720 (-1200), or greater than 840 (+1400) this value is returned\n\t * @param {boolean} iso8601 if true formats in accordance to iso8601 \"+12:45\"\n\t * @return {string}\n\t */\n\t$.timepicker.timezoneOffsetString = function (tzMinutes, iso8601) {\n\t\tif (isNaN(tzMinutes) || tzMinutes > 840 || tzMinutes < -720) {\n\t\t\treturn tzMinutes;\n\t\t}\n\n\t\tvar off = tzMinutes,\n\t\t\tminutes = off % 60,\n\t\t\thours = (off - minutes) / 60,\n\t\t\tiso = iso8601 ? ':' : '',\n\t\t\ttz = (off >= 0 ? '+' : '-') + ('0' + Math.abs(hours)).slice(-2) + iso + ('0' + Math.abs(minutes)).slice(-2);\n\n\t\tif (tz === '+00:00') {\n\t\t\treturn 'Z';\n\t\t}\n\t\treturn tz;\n\t};\n\n\t/**\n\t * Get the number in minutes that represents a timezone string\n\t * @param  {string} tzString formatted like \"+0500\", \"-1245\", \"Z\"\n\t * @return {number} the offset minutes or the original string if it doesn't match expectations\n\t */\n\t$.timepicker.timezoneOffsetNumber = function (tzString) {\n\t\tvar normalized = tzString.toString().replace(':', ''); // excuse any iso8601, end up with \"+1245\"\n\n\t\tif (normalized.toUpperCase() === 'Z') { // if iso8601 with Z, its 0 minute offset\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (!/^(\\-|\\+)\\d{4}$/.test(normalized)) { // possibly a user defined tz, so just give it back\n\t\t\treturn tzString;\n\t\t}\n\n\t\treturn ((normalized.substr(0, 1) === '-' ? -1 : 1) * // plus or minus\n\t\t\t\t\t((parseInt(normalized.substr(1, 2), 10) * 60) + // hours (converted to minutes)\n\t\t\t\t\tparseInt(normalized.substr(3, 2), 10))); // minutes\n\t};\n\n\t/**\n\t * No way to set timezone in js Date, so we must adjust the minutes to compensate. (think setDate, getDate)\n\t * @param  {Date} date\n\t * @param  {string} toTimezone formatted like \"+0500\", \"-1245\"\n\t * @return {Date}\n\t */\n\t$.timepicker.timezoneAdjust = function (date, toTimezone) {\n\t\tvar toTz = $.timepicker.timezoneOffsetNumber(toTimezone);\n\t\tif (!isNaN(toTz)) {\n\t\t\tdate.setMinutes(date.getMinutes() + -date.getTimezoneOffset() - toTz);\n\t\t}\n\t\treturn date;\n\t};\n\n\t/**\n\t * Calls `timepicker()` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * n.b. The input value must be correctly formatted (reformatting is not supported)\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the timepicker() call\n\t * @return {jQuery}\n\t */\n\t$.timepicker.timeRange = function (startTime, endTime, options) {\n\t\treturn $.timepicker.handleRange('timepicker', startTime, endTime, options);\n\t};\n\n\t/**\n\t * Calls `datetimepicker` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n\t * @param  {string} method Can be used to specify the type of picker to be added\n\t * @return {jQuery}\n\t */\n\t$.timepicker.datetimeRange = function (startTime, endTime, options) {\n\t\t$.timepicker.handleRange('datetimepicker', startTime, endTime, options);\n\t};\n\n\t/**\n\t * Calls `datepicker` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n\t * @return {jQuery}\n\t */\n\t$.timepicker.dateRange = function (startTime, endTime, options) {\n\t\t$.timepicker.handleRange('datepicker', startTime, endTime, options);\n\t};\n\n\t/**\n\t * Calls `method` on the `startTime` and `endTime` elements, and configures them to\n\t * enforce date range limits.\n\t * @param  {string} method Can be used to specify the type of picker to be added\n\t * @param  {Element} startTime\n\t * @param  {Element} endTime\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n\t * @return {jQuery}\n\t */\n\t$.timepicker.handleRange = function (method, startTime, endTime, options) {\n\t\toptions = $.extend({}, {\n\t\t\tminInterval: 0, // min allowed interval in milliseconds\n\t\t\tmaxInterval: 0, // max allowed interval in milliseconds\n\t\t\tstart: {},      // options for start picker\n\t\t\tend: {}         // options for end picker\n\t\t}, options);\n\n\t\t// for the mean time this fixes an issue with calling getDate with timepicker()\n\t\tvar timeOnly = false;\n\t\tif(method === 'timepicker'){\n\t\t\ttimeOnly = true;\n\t\t\tmethod = 'datetimepicker';\n\t\t}\n\n\t\tfunction checkDates(changed, other) {\n\t\t\tvar startdt = startTime[method]('getDate'),\n\t\t\t\tenddt = endTime[method]('getDate'),\n\t\t\t\tchangeddt = changed[method]('getDate');\n\n\t\t\tif (startdt !== null) {\n\t\t\t\tvar minDate = new Date(startdt.getTime()),\n\t\t\t\t\tmaxDate = new Date(startdt.getTime());\n\n\t\t\t\tminDate.setMilliseconds(minDate.getMilliseconds() + options.minInterval);\n\t\t\t\tmaxDate.setMilliseconds(maxDate.getMilliseconds() + options.maxInterval);\n\n\t\t\t\tif (options.minInterval > 0 && minDate > enddt) { // minInterval check\n\t\t\t\t\tendTime[method]('setDate', minDate);\n\t\t\t\t}\n\t\t\t\telse if (options.maxInterval > 0 && maxDate < enddt) { // max interval check\n\t\t\t\t\tendTime[method]('setDate', maxDate);\n\t\t\t\t}\n\t\t\t\telse if (startdt > enddt) {\n\t\t\t\t\tother[method]('setDate', changeddt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction selected(changed, other, option) {\n\t\t\tif (!changed.val()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar date = changed[method].call(changed, 'getDate');\n\t\t\tif (date !== null && options.minInterval > 0) {\n\t\t\t\tif (option === 'minDate') {\n\t\t\t\t\tdate.setMilliseconds(date.getMilliseconds() + options.minInterval);\n\t\t\t\t}\n\t\t\t\tif (option === 'maxDate') {\n\t\t\t\t\tdate.setMilliseconds(date.getMilliseconds() - options.minInterval);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (date.getTime) {\n\t\t\t\tother[method].call(other, 'option', option, date);\n\t\t\t}\n\t\t}\n\n\t\t$.fn[method].call(startTime, $.extend({\n\t\t\ttimeOnly: timeOnly,\n\t\t\tonClose: function (dateText, inst) {\n\t\t\t\tcheckDates($(this), endTime);\n\t\t\t},\n\t\t\tonSelect: function (selectedDateTime) {\n\t\t\t\tselected($(this), endTime, 'minDate');\n\t\t\t}\n\t\t}, options, options.start));\n\t\t$.fn[method].call(endTime, $.extend({\n\t\t\ttimeOnly: timeOnly,\n\t\t\tonClose: function (dateText, inst) {\n\t\t\t\tcheckDates($(this), startTime);\n\t\t\t},\n\t\t\tonSelect: function (selectedDateTime) {\n\t\t\t\tselected($(this), startTime, 'maxDate');\n\t\t\t}\n\t\t}, options, options.end));\n\n\t\tcheckDates(startTime, endTime);\n\t\tselected(startTime, endTime, 'minDate');\n\t\tselected(endTime, startTime, 'maxDate');\n\t\treturn $([startTime.get(0), endTime.get(0)]);\n\t};\n\n\t/**\n\t * Log error or data to the console during error or debugging\n\t * @param  {Object} err pass any type object to log to the console during error or debugging\n\t * @return {void}\n\t */\n\t$.timepicker.log = function (err) {\n\t\tif (window.console) {\n\t\t\twindow.console.log(err);\n\t\t}\n\t};\n\n\t/*\n\t * Add util object to allow access to private methods for testability.\n\t */\n\t$.timepicker._util = {\n\t\t_extendRemove: extendRemove,\n\t\t_isEmptyObject: isEmptyObject,\n\t\t_convert24to12: convert24to12,\n\t\t_detectSupport: detectSupport,\n\t\t_selectLocalTimezone: selectLocalTimezone,\n\t\t_computeEffectiveSetting: computeEffectiveSetting,\n\t\t_splitDateTime: splitDateTime,\n\t\t_parseDateTimeInternal: parseDateTimeInternal\n\t};\n\n\t/*\n\t* Microsecond support\n\t*/\n\tif (!Date.prototype.getMicroseconds) {\n\t\tDate.prototype.microseconds = 0;\n\t\tDate.prototype.getMicroseconds = function () { return this.microseconds; };\n\t\tDate.prototype.setMicroseconds = function (m) {\n\t\t\tthis.setMilliseconds(this.getMilliseconds() + Math.floor(m / 1000));\n\t\t\tthis.microseconds = m % 1000;\n\t\t\treturn this;\n\t\t};\n\t}\n\n\t/*\n\t* Keep up with the version\n\t*/\n\t$.timepicker.version = \"1.4.4\";\n\n})(jQuery);","/*!\n * jQuery BBQ: Back Button & Query Library - v1.3pre - 8/26/2010\n * http://benalman.com/projects/jquery-bbq-plugin/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\n(function($,window){\n  '$:nomunge'; // Used by YUI compressor.\n\n  // Some convenient shortcuts.\n  var undefined,\n    aps = Array.prototype.slice,\n    decode = decodeURIComponent,\n\n    // Method / object references.\n    jq_param = $.param,\n    jq_param_sorted,\n    jq_param_fragment,\n    jq_deparam,\n    jq_deparam_fragment,\n    jq_bbq = $.bbq = $.bbq || {},\n    jq_bbq_pushState,\n    jq_bbq_getState,\n    jq_elemUrlAttr,\n    special = $.event.special,\n\n    // Reused strings.\n    str_hashchange = 'hashchange',\n    str_querystring = 'querystring',\n    str_fragment = 'fragment',\n    str_elemUrlAttr = 'elemUrlAttr',\n    str_href = 'href',\n    str_src = 'src',\n\n    // Reused RegExp.\n    re_params_querystring = /^.*\\?|#.*$/g,\n    re_params_fragment,\n    re_fragment,\n    re_no_escape,\n\n    ajax_crawlable,\n    fragment_prefix,\n\n    // Used by jQuery.elemUrlAttr.\n    elemUrlAttr_cache = {};\n\n  // A few commonly used bits, broken out to help reduce minified file size.\n\n  function is_string( arg ) {\n    return typeof arg === 'string';\n  };\n\n  // Why write the same function twice? Let's curry! Mmmm, curry..\n\n  function curry( func ) {\n    var args = aps.call( arguments, 1 );\n\n    return function() {\n      return func.apply( this, args.concat( aps.call( arguments ) ) );\n    };\n  };\n\n  // Get location.hash (or what you'd expect location.hash to be) sans any\n  // leading #. Thanks for making this necessary, Firefox!\n  function get_fragment( url ) {\n    return url.replace( re_fragment, '$2' );\n  };\n\n  // Get location.search (or what you'd expect location.search to be) sans any\n  // leading #. Thanks for making this necessary, IE6!\n  function get_querystring( url ) {\n    return url.replace( /(?:^[^?#]*\\?([^#]*).*$)?.*/, '$1' );\n  };\n\n  // Section: Param (to string)\n  //\n  // Method: jQuery.param.querystring\n  //\n  // Retrieve the query string from a URL or if no arguments are passed, the\n  // current window.location.href.\n  //\n  // Usage:\n  //\n  // > jQuery.param.querystring( [ url ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A URL containing query string params to be parsed. If url\n  //    is not passed, the current window.location.href is used.\n  //\n  // Returns:\n  //\n  //  (String) The parsed query string, with any leading \"?\" removed.\n  //\n\n  // Method: jQuery.param.querystring (build url)\n  //\n  // Merge a URL, with or without pre-existing query string params, plus any\n  // object, params string or URL containing query string params into a new URL.\n  //\n  // Usage:\n  //\n  // > jQuery.param.querystring( url, params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A valid URL for params to be merged into. This URL may\n  //    contain a query string and/or fragment (hash).\n  //  params - (String) A params string or URL containing query string params to\n  //    be merged into url.\n  //  params - (Object) A params object to be merged into url.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any query string\n  //         params in url.\n  //    * 1: any query string params in url will override params in the params\n  //         argument.\n  //    * 2: params argument will completely replace any query string in url.\n  //\n  // Returns:\n  //\n  //  (String) A URL with a urlencoded query string in the format '?a=b&c=d&e=f'.\n\n  // Method: jQuery.param.fragment\n  //\n  // Retrieve the fragment (hash) from a URL or if no arguments are passed, the\n  // current window.location.href.\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment( [ url ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A URL containing fragment (hash) params to be parsed. If\n  //    url is not passed, the current window.location.href is used.\n  //\n  // Returns:\n  //\n  //  (String) The parsed fragment (hash) string, with any leading \"#\" removed.\n\n  // Method: jQuery.param.fragment (build url)\n  //\n  // Merge a URL, with or without pre-existing fragment (hash) params, plus any\n  // object, params string or URL containing fragment (hash) params into a new\n  // URL.\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment( url, params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) A valid URL for params to be merged into. This URL may\n  //    contain a query string and/or fragment (hash).\n  //  params - (String) A params string or URL containing fragment (hash) params\n  //    to be merged into url.\n  //  params - (Object) A params object to be merged into url.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any fragment (hash)\n  //         params in url.\n  //    * 1: any fragment (hash) params in url will override params in the\n  //         params argument.\n  //    * 2: params argument will completely replace any query string in url.\n  //\n  // Returns:\n  //\n  //  (String) A URL with a urlencoded fragment (hash) in the format '#a=b&c=d&e=f'.\n\n  function jq_param_sub( is_fragment, get_func, url, params, merge_mode ) {\n    var result,\n      qs,\n      matches,\n      url_params,\n      hash;\n\n    if ( params !== undefined ) {\n      // Build URL by merging params into url string.\n\n      // matches[1] = url part that precedes params, not including trailing ?/#\n      // matches[2] = params, not including leading ?/#\n      // matches[3] = if in 'querystring' mode, hash including leading #, otherwise ''\n      matches = url.match( is_fragment ? re_fragment : /^([^#?]*)\\??([^#]*)(#?.*)/ );\n\n      // Get the hash if in 'querystring' mode, and it exists.\n      hash = matches[3] || '';\n\n      if ( merge_mode === 2 && is_string( params ) ) {\n        // If merge_mode is 2 and params is a string, merge the fragment / query\n        // string into the URL wholesale, without converting it into an object.\n        qs = params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' );\n\n      } else {\n        // Convert relevant params in url to object.\n        url_params = jq_deparam( matches[2] );\n\n        params = is_string( params )\n\n          // Convert passed params string into object.\n          ? jq_deparam[ is_fragment ? str_fragment : str_querystring ]( params )\n\n          // Passed params object.\n          : params;\n\n        qs = merge_mode === 2 ? params                              // passed params replace url params\n          : merge_mode === 1  ? $.extend( {}, params, url_params )  // url params override passed params\n          : $.extend( {}, url_params, params );                     // passed params override url params\n\n        // Convert params object into a sorted params string.\n        qs = jq_param_sorted( qs );\n\n        // Unescape characters specified via $.param.noEscape. Since only hash-\n        // history users have requested this feature, it's only enabled for\n        // fragment-related params strings.\n        if ( is_fragment ) {\n          qs = qs.replace( re_no_escape, decode );\n        }\n      }\n\n      // Build URL from the base url, querystring and hash. In 'querystring'\n      // mode, ? is only added if a query string exists. In 'fragment' mode, #\n      // is always added.\n      result = matches[1] + ( is_fragment ? fragment_prefix : qs || !matches[1] ? '?' : '' ) + qs + hash;\n\n    } else {\n      // If URL was passed in, parse params from URL string, otherwise parse\n      // params from window.location.href.\n      result = get_func( url !== undefined ? url : location.href );\n    }\n\n    return result;\n  };\n\n  jq_param[ str_querystring ]                  = curry( jq_param_sub, 0, get_querystring );\n  jq_param[ str_fragment ] = jq_param_fragment = curry( jq_param_sub, 1, get_fragment );\n\n  // Method: jQuery.param.sorted\n  //\n  // Returns a params string equivalent to that returned by the internal\n  // jQuery.param method, but sorted, which makes it suitable for use as a\n  // cache key.\n  //\n  // For example, in most browsers jQuery.param({z:1,a:2}) returns \"z=1&a=2\"\n  // and jQuery.param({a:2,z:1}) returns \"a=2&z=1\". Even though both the\n  // objects being serialized and the resulting params strings are equivalent,\n  // if these params strings were set into the location.hash fragment\n  // sequentially, the hashchange event would be triggered unnecessarily, since\n  // the strings are different (even though the data described by them is the\n  // same). By sorting the params string, unecessary hashchange event triggering\n  // can be avoided.\n  //\n  // Usage:\n  //\n  // > jQuery.param.sorted( obj [, traditional ] );\n  //\n  // Arguments:\n  //\n  //  obj - (Object) An object to be serialized.\n  //  traditional - (Boolean) Params deep/shallow serialization mode. See the\n  //    documentation at http://api.jquery.com/jQuery.param/ for more detail.\n  //\n  // Returns:\n  //\n  //  (String) A sorted params string.\n\n  jq_param.sorted = jq_param_sorted = function( a, traditional ) {\n    var arr = [],\n      obj = {};\n\n    $.each( jq_param( a, traditional ).split( '&' ), function(i,v){\n      var key = v.replace( /(?:%5B|=).*$/, '' ),\n        key_obj = obj[ key ];\n\n      if ( !key_obj ) {\n        key_obj = obj[ key ] = [];\n        arr.push( key );\n      }\n\n      key_obj.push( v );\n    });\n\n    return $.map( arr.sort(), function(v){\n      return obj[ v ];\n    }).join( '&' );\n  };\n\n  // Method: jQuery.param.fragment.noEscape\n  //\n  // Specify characters that will be left unescaped when fragments are created\n  // or merged using <jQuery.param.fragment>, or when the fragment is modified\n  // using <jQuery.bbq.pushState>. This option only applies to serialized data\n  // object fragments, and not set-as-string fragments. Does not affect the\n  // query string. Defaults to \",/\" (comma, forward slash).\n  //\n  // Note that this is considered a purely aesthetic option, and will help to\n  // create URLs that \"look pretty\" in the address bar or bookmarks, without\n  // affecting functionality in any way. That being said, be careful to not\n  // unescape characters that are used as delimiters or serve a special\n  // purpose, such as the \"#?&=+\" (octothorpe, question mark, ampersand,\n  // equals, plus) characters.\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment.noEscape( [ chars ] );\n  //\n  // Arguments:\n  //\n  //  chars - (String) The characters to not escape in the fragment. If\n  //    unspecified, defaults to empty string (escape all characters).\n  //\n  // Returns:\n  //\n  //  Nothing.\n\n  jq_param_fragment.noEscape = function( chars ) {\n    chars = chars || '';\n    var arr = $.map( chars.split(''), encodeURIComponent );\n    re_no_escape = new RegExp( arr.join('|'), 'g' );\n  };\n\n  // A sensible default. These are the characters people seem to complain about\n  // \"uglifying up the URL\" the most.\n  jq_param_fragment.noEscape( ',/' );\n\n  // Method: jQuery.param.fragment.ajaxCrawlable\n  //\n  // TODO: DESCRIBE\n  //\n  // Usage:\n  //\n  // > jQuery.param.fragment.ajaxCrawlable( [ state ] );\n  //\n  // Arguments:\n  //\n  //  state - (Boolean) TODO: DESCRIBE\n  //\n  // Returns:\n  //\n  //  (Boolean) The current ajaxCrawlable state.\n\n  jq_param_fragment.ajaxCrawlable = function( state ) {\n    if ( state !== undefined ) {\n      if ( state ) {\n        re_params_fragment = /^.*(?:#!|#)/;\n        re_fragment = /^([^#]*)(?:#!|#)?(.*)$/;\n        fragment_prefix = '#!';\n      } else {\n        re_params_fragment = /^.*#/;\n        re_fragment = /^([^#]*)#?(.*)$/;\n        fragment_prefix = '#';\n      }\n      ajax_crawlable = !!state;\n    }\n\n    return ajax_crawlable;\n  };\n\n  jq_param_fragment.ajaxCrawlable( 0 );\n\n  // Section: Deparam (from string)\n  //\n  // Method: jQuery.deparam\n  //\n  // Deserialize a params string into an object, optionally coercing numbers,\n  // booleans, null and undefined values; this method is the counterpart to the\n  // internal jQuery.param method.\n  //\n  // Usage:\n  //\n  // > jQuery.deparam( params [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  params - (String) A params string to be parsed.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false if omitted.\n  //\n  // Returns:\n  //\n  //  (Object) An object representing the deserialized params string.\n\n  $.deparam = jq_deparam = function( params, coerce ) {\n    var obj = {},\n      coerce_types = { 'true': !0, 'false': !1, 'null': null };\n\n    // Iterate over all name=value pairs.\n    $.each( params.replace( /\\+/g, ' ' ).split( '&' ), function(j,v){\n      var param = v.split( '=' ),\n        key = decode( param[0] ),\n        val,\n        cur = obj,\n        i = 0,\n\n        // If key is more complex than 'foo', like 'a[]' or 'a[b][c]', split it\n        // into its component parts.\n        keys = key.split( '][' ),\n        keys_last = keys.length - 1;\n\n      // If the first keys part contains [ and the last ends with ], then []\n      // are correctly balanced.\n      if ( /\\[/.test( keys[0] ) && /\\]$/.test( keys[ keys_last ] ) ) {\n        // Remove the trailing ] from the last keys part.\n        keys[ keys_last ] = keys[ keys_last ].replace( /\\]$/, '' );\n\n        // Split first keys part into two parts on the [ and add them back onto\n        // the beginning of the keys array.\n        keys = keys.shift().split('[').concat( keys );\n\n        keys_last = keys.length - 1;\n      } else {\n        // Basic 'foo' style key.\n        keys_last = 0;\n      }\n\n      // Are we dealing with a name=value pair, or just a name?\n      if ( param.length === 2 ) {\n        val = decode( param[1] );\n\n        // Coerce values.\n        if ( coerce ) {\n          val = val && !isNaN(val)            ? +val              // number\n            : val === 'undefined'             ? undefined         // undefined\n            : coerce_types[val] !== undefined ? coerce_types[val] // true, false, null\n            : val;                                                // string\n        }\n\n        if ( keys_last ) {\n          // Complex key, build deep object structure based on a few rules:\n          // * The 'cur' pointer starts at the object top-level.\n          // * [] = array push (n is set to array length), [n] = array if n is\n          //   numeric, otherwise object.\n          // * If at the last keys part, set the value.\n          // * For each keys part, if the current level is undefined create an\n          //   object or array based on the type of the next keys part.\n          // * Move the 'cur' pointer to the next level.\n          // * Rinse & repeat.\n          for ( ; i <= keys_last; i++ ) {\n            key = keys[i] === '' ? cur.length : keys[i];\n            cur = cur[key] = i < keys_last\n              ? cur[key] || ( keys[i+1] && isNaN( keys[i+1] ) ? {} : [] )\n              : val;\n          }\n\n        } else {\n          // Simple key, even simpler rules, since only scalars and shallow\n          // arrays are allowed.\n\n          if ( $.isArray( obj[key] ) ) {\n            // val is already an array, so push on the next value.\n            obj[key].push( val );\n\n          } else if ( obj[key] !== undefined ) {\n            // val isn't an array, but since a second value has been specified,\n            // convert val into an array.\n            obj[key] = [ obj[key], val ];\n\n          } else {\n            // val is a scalar.\n            obj[key] = val;\n          }\n        }\n\n      } else if ( key ) {\n        // No value was defined, so set something meaningful.\n        obj[key] = coerce\n          ? undefined\n          : '';\n      }\n    });\n\n    return obj;\n  };\n\n  // Method: jQuery.deparam.querystring\n  //\n  // Parse the query string from a URL or the current window.location.href,\n  // deserializing it into an object, optionally coercing numbers, booleans,\n  // null and undefined values.\n  //\n  // Usage:\n  //\n  // > jQuery.deparam.querystring( [ url ] [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) An optional params string or URL containing query string\n  //    params to be parsed. If url is omitted, the current\n  //    window.location.href is used.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false if omitted.\n  //\n  // Returns:\n  //\n  //  (Object) An object representing the deserialized params string.\n\n  // Method: jQuery.deparam.fragment\n  //\n  // Parse the fragment (hash) from a URL or the current window.location.href,\n  // deserializing it into an object, optionally coercing numbers, booleans,\n  // null and undefined values.\n  //\n  // Usage:\n  //\n  // > jQuery.deparam.fragment( [ url ] [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  url - (String) An optional params string or URL containing fragment (hash)\n  //    params to be parsed. If url is omitted, the current window.location.href\n  //    is used.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false if omitted.\n  //\n  // Returns:\n  //\n  //  (Object) An object representing the deserialized params string.\n\n  function jq_deparam_sub( is_fragment, url_or_params, coerce ) {\n    if ( url_or_params === undefined || typeof url_or_params === 'boolean' ) {\n      // url_or_params not specified.\n      coerce = url_or_params;\n      url_or_params = jq_param[ is_fragment ? str_fragment : str_querystring ]();\n    } else {\n      url_or_params = is_string( url_or_params )\n        ? url_or_params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' )\n        : url_or_params;\n    }\n\n    return jq_deparam( url_or_params, coerce );\n  };\n\n  jq_deparam[ str_querystring ]                    = curry( jq_deparam_sub, 0 );\n  jq_deparam[ str_fragment ] = jq_deparam_fragment = curry( jq_deparam_sub, 1 );\n\n  // Section: Element manipulation\n  //\n  // Method: jQuery.elemUrlAttr\n  //\n  // Get the internal \"Default URL attribute per tag\" list, or augment the list\n  // with additional tag-attribute pairs, in case the defaults are insufficient.\n  //\n  // In the <jQuery.fn.querystring> and <jQuery.fn.fragment> methods, this list\n  // is used to determine which attribute contains the URL to be modified, if\n  // an \"attr\" param is not specified.\n  //\n  // Default Tag-Attribute List:\n  //\n  //  a      - href\n  //  base   - href\n  //  iframe - src\n  //  img    - src\n  //  input  - src\n  //  form   - action\n  //  link   - href\n  //  script - src\n  //\n  // Usage:\n  //\n  // > jQuery.elemUrlAttr( [ tag_attr ] );\n  //\n  // Arguments:\n  //\n  //  tag_attr - (Object) An object containing a list of tag names and their\n  //    associated default attribute names in the format { tag: 'attr', ... } to\n  //    be merged into the internal tag-attribute list.\n  //\n  // Returns:\n  //\n  //  (Object) An object containing all stored tag-attribute values.\n\n  // Only define function and set defaults if function doesn't already exist, as\n  // the urlInternal plugin will provide this method as well.\n  $[ str_elemUrlAttr ] || ($[ str_elemUrlAttr ] = function( obj ) {\n    return $.extend( elemUrlAttr_cache, obj );\n  })({\n    a: str_href,\n    base: str_href,\n    iframe: str_src,\n    img: str_src,\n    input: str_src,\n    form: 'action',\n    link: str_href,\n    script: str_src\n  });\n\n  jq_elemUrlAttr = $[ str_elemUrlAttr ];\n\n  // Method: jQuery.fn.querystring\n  //\n  // Update URL attribute in one or more elements, merging the current URL (with\n  // or without pre-existing query string params) plus any params object or\n  // string into a new URL, which is then set into that attribute. Like\n  // <jQuery.param.querystring (build url)>, but for all elements in a jQuery\n  // collection.\n  //\n  // Usage:\n  //\n  // > jQuery('selector').querystring( [ attr, ] params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  attr - (String) Optional name of an attribute that will contain a URL to\n  //    merge params or url into. See <jQuery.elemUrlAttr> for a list of default\n  //    attributes.\n  //  params - (Object) A params object to be merged into the URL attribute.\n  //  params - (String) A URL containing query string params, or params string\n  //    to be merged into the URL attribute.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any params in attr URL.\n  //    * 1: any params in attr URL will override params in the params argument.\n  //    * 2: params argument will completely replace any query string in attr\n  //         URL.\n  //\n  // Returns:\n  //\n  //  (jQuery) The initial jQuery collection of elements, but with modified URL\n  //  attribute values.\n\n  // Method: jQuery.fn.fragment\n  //\n  // Update URL attribute in one or more elements, merging the current URL (with\n  // or without pre-existing fragment/hash params) plus any params object or\n  // string into a new URL, which is then set into that attribute. Like\n  // <jQuery.param.fragment (build url)>, but for all elements in a jQuery\n  // collection.\n  //\n  // Usage:\n  //\n  // > jQuery('selector').fragment( [ attr, ] params [, merge_mode ] );\n  //\n  // Arguments:\n  //\n  //  attr - (String) Optional name of an attribute that will contain a URL to\n  //    merge params into. See <jQuery.elemUrlAttr> for a list of default\n  //    attributes.\n  //  params - (Object) A params object to be merged into the URL attribute.\n  //  params - (String) A URL containing fragment (hash) params, or params\n  //    string to be merged into the URL attribute.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified, and is as-follows:\n  //\n  //    * 0: params in the params argument will override any params in attr URL.\n  //    * 1: any params in attr URL will override params in the params argument.\n  //    * 2: params argument will completely replace any fragment (hash) in attr\n  //         URL.\n  //\n  // Returns:\n  //\n  //  (jQuery) The initial jQuery collection of elements, but with modified URL\n  //  attribute values.\n\n  function jq_fn_sub( mode, force_attr, params, merge_mode ) {\n    if ( !is_string( params ) && typeof params !== 'object' ) {\n      // force_attr not specified.\n      merge_mode = params;\n      params = force_attr;\n      force_attr = undefined;\n    }\n\n    return this.each(function(){\n      var that = $(this),\n\n        // Get attribute specified, or default specified via $.elemUrlAttr.\n        attr = force_attr || jq_elemUrlAttr()[ ( this.nodeName || '' ).toLowerCase() ] || '',\n\n        // Get URL value.\n        url = attr && that.attr( attr ) || '';\n\n      // Update attribute with new URL.\n      that.attr( attr, jq_param[ mode ]( url, params, merge_mode ) );\n    });\n\n  };\n\n  $.fn[ str_querystring ] = curry( jq_fn_sub, str_querystring );\n  $.fn[ str_fragment ]    = curry( jq_fn_sub, str_fragment );\n\n  // Section: History, hashchange event\n  //\n  // Method: jQuery.bbq.pushState\n  //\n  // Adds a 'state' into the browser history at the current position, setting\n  // location.hash and triggering any bound <hashchange event> callbacks\n  // (provided the new state is different than the previous state).\n  //\n  // If no arguments are passed, an empty state is created, which is just a\n  // shortcut for jQuery.bbq.pushState( {}, 2 ).\n  //\n  // Usage:\n  //\n  // > jQuery.bbq.pushState( [ params [, merge_mode ] ] );\n  //\n  // Arguments:\n  //\n  //  params - (String) A serialized params string or a hash string beginning\n  //    with # to merge into location.hash.\n  //  params - (Object) A params object to merge into location.hash.\n  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not\n  //    specified (unless a hash string beginning with # is specified, in which\n  //    case merge behavior defaults to 2), and is as-follows:\n  //\n  //    * 0: params in the params argument will override any params in the\n  //         current state.\n  //    * 1: any params in the current state will override params in the params\n  //         argument.\n  //    * 2: params argument will completely replace current state.\n  //\n  // Returns:\n  //\n  //  Nothing.\n  //\n  // Additional Notes:\n  //\n  //  * Setting an empty state may cause the browser to scroll.\n  //  * Unlike the fragment and querystring methods, if a hash string beginning\n  //    with # is specified as the params agrument, merge_mode defaults to 2.\n\n  jq_bbq.pushState = jq_bbq_pushState = function( params, merge_mode ) {\n    if ( is_string( params ) && /^#/.test( params ) && merge_mode === undefined ) {\n      // Params string begins with # and merge_mode not specified, so completely\n      // overwrite window.location.hash.\n      merge_mode = 2;\n    }\n\n    var has_args = params !== undefined,\n      // Merge params into window.location using $.param.fragment.\n      url = jq_param_fragment( location.href,\n        has_args ? params : {}, has_args ? merge_mode : 2 );\n\n    // Set new window.location.href. Note that Safari 3 & Chrome barf on\n    // location.hash = '#' so the entire URL is set.\n    location.href = url;\n  };\n\n  // Method: jQuery.bbq.getState\n  //\n  // Retrieves the current 'state' from the browser history, parsing\n  // location.hash for a specific key or returning an object containing the\n  // entire state, optionally coercing numbers, booleans, null and undefined\n  // values.\n  //\n  // Usage:\n  //\n  // > jQuery.bbq.getState( [ key ] [, coerce ] );\n  //\n  // Arguments:\n  //\n  //  key - (String) An optional state key for which to return a value.\n  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and\n  //    undefined to their actual value. Defaults to false.\n  //\n  // Returns:\n  //\n  //  (Anything) If key is passed, returns the value corresponding with that key\n  //    in the location.hash 'state', or undefined. If not, an object\n  //    representing the entire 'state' is returned.\n\n  jq_bbq.getState = jq_bbq_getState = function( key, coerce ) {\n    return key === undefined || typeof key === 'boolean'\n      ? jq_deparam_fragment( key ) // 'key' really means 'coerce' here\n      : jq_deparam_fragment( coerce )[ key ];\n  };\n\n  // Method: jQuery.bbq.removeState\n  //\n  // Remove one or more keys from the current browser history 'state', creating\n  // a new state, setting location.hash and triggering any bound\n  // <hashchange event> callbacks (provided the new state is different than\n  // the previous state).\n  //\n  // If no arguments are passed, an empty state is created, which is just a\n  // shortcut for jQuery.bbq.pushState( {}, 2 ).\n  //\n  // Usage:\n  //\n  // > jQuery.bbq.removeState( [ key [, key ... ] ] );\n  //\n  // Arguments:\n  //\n  //  key - (String) One or more key values to remove from the current state,\n  //    passed as individual arguments.\n  //  key - (Array) A single array argument that contains a list of key values\n  //    to remove from the current state.\n  //\n  // Returns:\n  //\n  //  Nothing.\n  //\n  // Additional Notes:\n  //\n  //  * Setting an empty state may cause the browser to scroll.\n\n  jq_bbq.removeState = function( arr ) {\n    var state = {};\n\n    // If one or more arguments is passed..\n    if ( arr !== undefined ) {\n\n      // Get the current state.\n      state = jq_bbq_getState();\n\n      // For each passed key, delete the corresponding property from the current\n      // state.\n      $.each( $.isArray( arr ) ? arr : arguments, function(i,v){\n        delete state[ v ];\n      });\n    }\n\n    // Set the state, completely overriding any existing state.\n    jq_bbq_pushState( state, 2 );\n  };\n\n  // Event: hashchange event (BBQ)\n  //\n  // Usage in jQuery 1.4 and newer:\n  //\n  // In jQuery 1.4 and newer, the event object passed into any hashchange event\n  // callback is augmented with a copy of the location.hash fragment at the time\n  // the event was triggered as its event.fragment property. In addition, the\n  // event.getState method operates on this property (instead of location.hash)\n  // which allows this fragment-as-a-state to be referenced later, even after\n  // window.location may have changed.\n  //\n  // Note that event.fragment and event.getState are not defined according to\n  // W3C (or any other) specification, but will still be available whether or\n  // not the hashchange event exists natively in the browser, because of the\n  // utility they provide.\n  //\n  // The event.fragment property contains the output of <jQuery.param.fragment>\n  // and the event.getState method is equivalent to the <jQuery.bbq.getState>\n  // method.\n  //\n  // > $(window).bind( 'hashchange', function( event ) {\n  // >   var hash_str = event.fragment,\n  // >     param_obj = event.getState(),\n  // >     param_val = event.getState( 'param_name' ),\n  // >     param_val_coerced = event.getState( 'param_name', true );\n  // >   ...\n  // > });\n  //\n  // Usage in jQuery 1.3.2:\n  //\n  // In jQuery 1.3.2, the event object cannot to be augmented as in jQuery 1.4+,\n  // so the fragment state isn't bound to the event object and must instead be\n  // parsed using the <jQuery.param.fragment> and <jQuery.bbq.getState> methods.\n  //\n  // > $(window).bind( 'hashchange', function( event ) {\n  // >   var hash_str = $.param.fragment(),\n  // >     param_obj = $.bbq.getState(),\n  // >     param_val = $.bbq.getState( 'param_name' ),\n  // >     param_val_coerced = $.bbq.getState( 'param_name', true );\n  // >   ...\n  // > });\n  //\n  // Additional Notes:\n  //\n  // * Due to changes in the special events API, jQuery BBQ v1.2 or newer is\n  //   required to enable the augmented event object in jQuery 1.4.2 and newer.\n  // * See <jQuery hashchange event> for more detailed information.\n\n  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {\n\n    // Augmenting the event object with the .fragment property and .getState\n    // method requires jQuery 1.4 or newer. Note: with 1.3.2, everything will\n    // work, but the event won't be augmented)\n    add: function( handleObj ) {\n      var old_handler;\n\n      function new_handler(e) {\n        // e.fragment is set to the value of location.hash (with any leading #\n        // removed) at the time the event is triggered.\n        var hash = e[ str_fragment ] = jq_param_fragment();\n\n        // e.getState() works just like $.bbq.getState(), but uses the\n        // e.fragment property stored on the event object.\n        e.getState = function( key, coerce ) {\n          return key === undefined || typeof key === 'boolean'\n            ? jq_deparam( hash, key ) // 'key' really means 'coerce' here\n            : jq_deparam( hash, coerce )[ key ];\n        };\n\n        old_handler.apply( this, arguments );\n      };\n\n      // This may seem a little complicated, but it normalizes the special event\n      // .add method between jQuery 1.4/1.4.1 and 1.4.2+\n      if ( $.isFunction( handleObj ) ) {\n        // 1.4, 1.4.1\n        old_handler = handleObj;\n        return new_handler;\n      } else {\n        // 1.4.2+\n        old_handler = handleObj.handler;\n        handleObj.handler = new_handler;\n      }\n    }\n\n  });\n\n})(jQuery,this);\n\n/*!\n * jQuery hashchange event - v1.3 - 7/21/2010\n * http://benalman.com/projects/jquery-hashchange-plugin/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\n// Script: jQuery hashchange event\n//\n// *Version: 1.3, Last updated: 7/21/2010*\n//\n// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/\n// GitHub       - http://github.com/cowboy/jquery-hashchange/\n// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js\n// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)\n//\n// About: License\n//\n// Copyright (c) 2010 \"Cowboy\" Ben Alman,\n// Dual licensed under the MIT and GPL licenses.\n// http://benalman.com/about/license/\n//\n// About: Examples\n//\n// These working examples, complete with fully commented code, illustrate a few\n// ways in which this plugin can be used.\n//\n// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/\n// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/\n//\n// About: Support and Testing\n//\n// Information about what version or versions of jQuery this plugin has been\n// tested with, what browsers it has been tested in, and where the unit tests\n// reside (so you can test it yourself).\n//\n// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2\n// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,\n//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.\n// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/\n//\n// About: Known issues\n//\n// While this jQuery hashchange event implementation is quite stable and\n// robust, there are a few unfortunate browser bugs surrounding expected\n// hashchange event-based behaviors, independent of any JavaScript\n// window.onhashchange abstraction. See the following examples for more\n// information:\n//\n// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/\n// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/\n// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/\n// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/\n//\n// Also note that should a browser natively support the window.onhashchange\n// event, but not report that it does, the fallback polling loop will be used.\n//\n// About: Release History\n//\n// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more\n//         \"removable\" for mobile-only development. Added IE6/7 document.title\n//         support. Attempted to make Iframe as hidden as possible by using\n//         techniques from http://www.paciellogroup.com/blog/?p=604. Added\n//         support for the \"shortcut\" format $(window).hashchange( fn ) and\n//         $(window).hashchange() like jQuery provides for built-in events.\n//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and\n//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>\n//         and <jQuery.fn.hashchange.src> properties plus document-domain.html\n//         file to address access denied issues when setting document.domain in\n//         IE6/7.\n// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin\n//         from a page on another domain would cause an error in Safari 4. Also,\n//         IE6/7 Iframe is now inserted after the body (this actually works),\n//         which prevents the page from scrolling when the event is first bound.\n//         Event can also now be bound before DOM ready, but it won't be usable\n//         before then in IE6/7.\n// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug\n//         where browser version is incorrectly reported as 8.0, despite\n//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.\n// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special\n//         window.onhashchange functionality into a separate plugin for users\n//         who want just the basic event & back button support, without all the\n//         extra awesomeness that BBQ provides. This plugin will be included as\n//         part of jQuery BBQ, but also be available separately.\n\n(function($,window,undefined){\n  '$:nomunge'; // Used by YUI compressor.\n\n  // Reused string.\n  var str_hashchange = 'hashchange',\n\n    // Method / object references.\n    doc = document,\n    fake_onhashchange,\n    special = $.event.special,\n\n    // Does the browser support window.onhashchange? Note that IE8 running in\n    // IE7 compatibility mode reports true for 'onhashchange' in window, even\n    // though the event isn't supported, so also test document.documentMode.\n    doc_mode = doc.documentMode,\n    supports_onhashchange = 'on' + str_hashchange in window && ( doc_mode === undefined || doc_mode > 7 );\n\n  // Get location.hash (or what you'd expect location.hash to be) sans any\n  // leading #. Thanks for making this necessary, Firefox!\n  function get_fragment( url ) {\n    url = url || location.href;\n    return '#' + url.replace( /^[^#]*#?(.*)$/, '$1' );\n  };\n\n  // Method: jQuery.fn.hashchange\n  //\n  // Bind a handler to the window.onhashchange event or trigger all bound\n  // window.onhashchange event handlers. This behavior is consistent with\n  // jQuery's built-in event handlers.\n  //\n  // Usage:\n  //\n  // > jQuery(window).hashchange( [ handler ] );\n  //\n  // Arguments:\n  //\n  //  handler - (Function) Optional handler to be bound to the hashchange\n  //    event. This is a \"shortcut\" for the more verbose form:\n  //    jQuery(window).bind( 'hashchange', handler ). If handler is omitted,\n  //    all bound window.onhashchange event handlers will be triggered. This\n  //    is a shortcut for the more verbose\n  //    jQuery(window).trigger( 'hashchange' ). These forms are described in\n  //    the <hashchange event> section.\n  //\n  // Returns:\n  //\n  //  (jQuery) The initial jQuery collection of elements.\n\n  // Allow the \"shortcut\" format $(elem).hashchange( fn ) for binding and\n  // $(elem).hashchange() for triggering, like jQuery does for built-in events.\n  $.fn[ str_hashchange ] = function( fn ) {\n    return fn ? this.bind( str_hashchange, fn ) : this.trigger( str_hashchange );\n  };\n\n  // Property: jQuery.fn.hashchange.delay\n  //\n  // The numeric interval (in milliseconds) at which the <hashchange event>\n  // polling loop executes. Defaults to 50.\n\n  // Property: jQuery.fn.hashchange.domain\n  //\n  // If you're setting document.domain in your JavaScript, and you want hash\n  // history to work in IE6/7, not only must this property be set, but you must\n  // also set document.domain BEFORE jQuery is loaded into the page. This\n  // property is only applicable if you are supporting IE6/7 (or IE8 operating\n  // in \"IE7 compatibility\" mode).\n  //\n  // In addition, the <jQuery.fn.hashchange.src> property must be set to the\n  // path of the included \"document-domain.html\" file, which can be renamed or\n  // modified if necessary (note that the document.domain specified must be the\n  // same in both your main JavaScript as well as in this file).\n  //\n  // Usage:\n  //\n  // jQuery.fn.hashchange.domain = document.domain;\n\n  // Property: jQuery.fn.hashchange.src\n  //\n  // If, for some reason, you need to specify an Iframe src file (for example,\n  // when setting document.domain as in <jQuery.fn.hashchange.domain>), you can\n  // do so using this property. Note that when using this property, history\n  // won't be recorded in IE6/7 until the Iframe src file loads. This property\n  // is only applicable if you are supporting IE6/7 (or IE8 operating in \"IE7\n  // compatibility\" mode).\n  //\n  // Usage:\n  //\n  // jQuery.fn.hashchange.src = 'path/to/file.html';\n\n  $.fn[ str_hashchange ].delay = 50;\n  /*\n  $.fn[ str_hashchange ].domain = null;\n  $.fn[ str_hashchange ].src = null;\n  */\n\n  // Event: hashchange event\n  //\n  // Fired when location.hash changes. In browsers that support it, the native\n  // HTML5 window.onhashchange event is used, otherwise a polling loop is\n  // initialized, running every <jQuery.fn.hashchange.delay> milliseconds to\n  // see if the hash has changed. In IE6/7 (and IE8 operating in \"IE7\n  // compatibility\" mode), a hidden Iframe is created to allow the back button\n  // and hash-based history to work.\n  //\n  // Usage as described in <jQuery.fn.hashchange>:\n  //\n  // > // Bind an event handler.\n  // > jQuery(window).hashchange( function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // >\n  // > // Manually trigger the event handler.\n  // > jQuery(window).hashchange();\n  //\n  // A more verbose usage that allows for event namespacing:\n  //\n  // > // Bind an event handler.\n  // > jQuery(window).bind( 'hashchange', function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // >\n  // > // Manually trigger the event handler.\n  // > jQuery(window).trigger( 'hashchange' );\n  //\n  // Additional Notes:\n  //\n  // * The polling loop and Iframe are not created until at least one handler\n  //   is actually bound to the 'hashchange' event.\n  // * If you need the bound handler(s) to execute immediately, in cases where\n  //   a location.hash exists on page load, via bookmark or page refresh for\n  //   example, use jQuery(window).hashchange() or the more verbose\n  //   jQuery(window).trigger( 'hashchange' ).\n  // * The event can be bound before DOM ready, but since it won't be usable\n  //   before then in IE6/7 (due to the necessary Iframe), recommended usage is\n  //   to bind it inside a DOM ready handler.\n\n  // Override existing $.event.special.hashchange methods (allowing this plugin\n  // to be defined after jQuery BBQ in BBQ's source code).\n  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {\n\n    // Called only when the first 'hashchange' event is bound to window.\n    setup: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n\n      // Otherwise, we need to create our own. And we don't want to call this\n      // until the user binds to the event, just in case they never do, since it\n      // will create a polling loop and possibly even a hidden Iframe.\n      $( fake_onhashchange.start );\n    },\n\n    // Called only when the last 'hashchange' event is unbound from window.\n    teardown: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n\n      // Otherwise, we need to stop ours (if possible).\n      $( fake_onhashchange.stop );\n    }\n\n  });\n\n  // fake_onhashchange does all the work of triggering the window.onhashchange\n  // event for browsers that don't natively support it, including creating a\n  // polling loop to watch for hash changes and in IE 6/7 creating a hidden\n  // Iframe to enable back and forward.\n  fake_onhashchange = (function(){\n    var self = {},\n      timeout_id,\n\n      // Remember the initial hash so it doesn't get triggered immediately.\n      last_hash = get_fragment(),\n\n      fn_retval = function(val){ return val; },\n      history_set = fn_retval,\n      history_get = fn_retval;\n\n    // Start the polling loop.\n    self.start = function() {\n      timeout_id || poll();\n    };\n\n    // Stop the polling loop.\n    self.stop = function() {\n      timeout_id && clearTimeout( timeout_id );\n      timeout_id = undefined;\n    };\n\n    // This polling loop checks every $.fn.hashchange.delay milliseconds to see\n    // if location.hash has changed, and triggers the 'hashchange' event on\n    // window when necessary.\n    function poll() {\n      var hash = get_fragment(),\n        history_hash = history_get( last_hash );\n\n      if ( hash !== last_hash ) {\n        history_set( last_hash = hash, history_hash );\n\n        $(window).trigger( str_hashchange );\n\n      } else if ( history_hash !== last_hash ) {\n        location.href = location.href.replace( /#.*/, '' ) + history_hash;\n      }\n\n      timeout_id = setTimeout( poll, $.fn[ str_hashchange ].delay );\n    };\n\n    return self;\n  })();\n\n})(jQuery,this);","/*\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\n *\n * Uses the built in easing capabilities added In jQuery 1.1\n * to offer multiple easing options\n *\n * TERMS OF USE - jQuery Easing\n *\n * Open source under the BSD License.\n *\n * Copyright  2008 George McGinley Smith\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n*/\n\njQuery.easing['jswing'] = jQuery.easing['swing'];\n\njQuery.extend( jQuery.easing,\n{\n\tdef: 'easeOutQuad',\n\tswing: function (x, t, b, c, d) {\n\t\t//alert(jQuery.easing.default);\n\t\treturn jQuery.easing[jQuery.easing.def](x, t, b, c, d);\n\t},\n\teaseInQuad: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t + b;\n\t},\n\teaseOutQuad: function (x, t, b, c, d) {\n\t\treturn -c *(t/=d)*(t-2) + b;\n\t},\n\teaseInOutQuad: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t + b;\n\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\n\t},\n\teaseInCubic: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t + b;\n\t},\n\teaseOutCubic: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t + 1) + b;\n\t},\n\teaseInOutCubic: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t + 2) + b;\n\t},\n\teaseInQuart: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t + b;\n\t},\n\teaseOutQuart: function (x, t, b, c, d) {\n\t\treturn -c * ((t=t/d-1)*t*t*t - 1) + b;\n\t},\n\teaseInOutQuart: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n\t\treturn -c/2 * ((t-=2)*t*t*t - 2) + b;\n\t},\n\teaseInQuint: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t*t + b;\n\t},\n\teaseOutQuint: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\n\t},\n\teaseInOutQuint: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t*t*t + 2) + b;\n\t},\n\teaseInSine: function (x, t, b, c, d) {\n\t\treturn -c * Math.cos(t/d * (Math.PI/2)) + c + b;\n\t},\n\teaseOutSine: function (x, t, b, c, d) {\n\t\treturn c * Math.sin(t/d * (Math.PI/2)) + b;\n\t},\n\teaseInOutSine: function (x, t, b, c, d) {\n\t\treturn -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\n\t},\n\teaseInExpo: function (x, t, b, c, d) {\n\t\treturn (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n\t},\n\teaseOutExpo: function (x, t, b, c, d) {\n\t\treturn (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n\t},\n\teaseInOutExpo: function (x, t, b, c, d) {\n\t\tif (t==0) return b;\n\t\tif (t==d) return b+c;\n\t\tif ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\treturn c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\n\t},\n\teaseInCirc: function (x, t, b, c, d) {\n\t\treturn -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\n\t},\n\teaseOutCirc: function (x, t, b, c, d) {\n\t\treturn c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n\t},\n\teaseInOutCirc: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\n\t\treturn c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\n\t},\n\teaseInElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t},\n\teaseOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n\t},\n\teaseInOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\tif (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\n\t},\n\teaseInBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\n\t},\n\teaseOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n\t},\n\teaseInOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\tif ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n\t},\n\teaseInBounce: function (x, t, b, c, d) {\n\t\treturn c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;\n\t},\n\teaseOutBounce: function (x, t, b, c, d) {\n\t\tif ((t/=d) < (1/2.75)) {\n\t\t\treturn c*(7.5625*t*t) + b;\n\t\t} else if (t < (2/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n\t\t} else if (t < (2.5/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n\t\t} else {\n\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n\t\t}\n\t},\n\teaseInOutBounce: function (x, t, b, c, d) {\n\t\tif (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\n\t\treturn jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\n\t}\n});\n\n/*\n *\n * TERMS OF USE - EASING EQUATIONS\n *\n * Open source under the BSD License.\n *\n * Copyright  2001 Robert Penner\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */","/*global jQuery */\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n(function( $ ){\n\n  \"use strict\";\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement('div');\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        \"iframe[src*='player.vimeo.com']\",\n        \"iframe[src*='youtube.com']\",\n        \"iframe[src*='youtube-nocookie.com']\",\n        \"iframe[src*='kickstarter.com'][src*='video.html']\",\n        \"object\",\n        \"embed\"\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not(\"object object\"); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('id')){\n          var videoID = 'fitvid' + Math.floor(Math.random()*999999);\n          $this.attr('id', videoID);\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+\"%\");\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );","/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)\n * Licensed under the MIT License (LICENSE.txt).\n *\n * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.\n * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.\n * Thanks to: Seamus Leahy for adding deltaX and deltaY\n *\n * Version: 3.0.4\n *\n * Requires: 1.2.2+\n */\n(function(c){var a=[\"DOMMouseScroll\",\"mousewheel\"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=a.length;d;){this.addEventListener(a[--d],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var d=a.length;d;){this.removeEventListener(a[--d],b,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind(\"mousewheel\",d):this.trigger(\"mousewheel\")},unmousewheel:function(d){return this.unbind(\"mousewheel\",d)}});function b(i){var g=i||window.event,f=[].slice.call(arguments,1),j=0,h=true,e=0,d=0;i=c.event.fix(g);i.type=\"mousewheel\";if(i.wheelDelta){j=i.wheelDelta/120}if(i.detail){j=-i.detail/3}d=j;if(g.axis!==undefined&&g.axis===g.HORIZONTAL_AXIS){d=0;e=-1*j}if(g.wheelDeltaY!==undefined){d=g.wheelDeltaY/120}if(g.wheelDeltaX!==undefined){e=-1*g.wheelDeltaX/120}f.unshift(i,j,e,d);return c.event.handle.apply(this,f)}})(jQuery);","/*\n * zClip :: jQuery ZeroClipboard v1.1.1\n * http://steamdev.com/zclip\n *\n * Copyright 2011, SteamDev\n * Released under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n *\n * Date: Wed Jun 01, 2011\n */\n\n(function(a){a.fn.zclip=function(c){if(typeof c==\"object\"&&!c.length){var b=a.extend({path:\"ZeroClipboard.swf\",copy:null,beforeCopy:null,afterCopy:null,clickAfter:true,setHandCursor:true,setCSSEffects:true},c);return this.each(function(){var e=a(this);if(e.is(\":visible\")&&(typeof b.copy==\"string\"||a.isFunction(b.copy))){ZeroClipboard.setMoviePath(b.path);var d=new ZeroClipboard.Client();if(a.isFunction(b.copy)){e.bind(\"zClip_copy\",b.copy)}if(a.isFunction(b.beforeCopy)){e.bind(\"zClip_beforeCopy\",b.beforeCopy)}if(a.isFunction(b.afterCopy)){e.bind(\"zClip_afterCopy\",b.afterCopy)}d.setHandCursor(b.setHandCursor);d.setCSSEffects(b.setCSSEffects);d.addEventListener(\"mouseOver\",function(f){e.trigger(\"mouseenter\")});d.addEventListener(\"mouseOut\",function(f){e.trigger(\"mouseleave\")});d.addEventListener(\"mouseDown\",function(f){e.trigger(\"mousedown\");if(!a.isFunction(b.copy)){d.setText(b.copy)}else{d.setText(e.triggerHandler(\"zClip_copy\"))}if(a.isFunction(b.beforeCopy)){e.trigger(\"zClip_beforeCopy\")}});d.addEventListener(\"complete\",function(f,g){if(a.isFunction(b.afterCopy)){e.trigger(\"zClip_afterCopy\")}else{if(g.length>500){g=g.substr(0,500)+\"...\\n\\n(\"+(g.length-500)+\" characters not shown)\"}e.removeClass(\"hover\");alert(\"Copied text to clipboard:\\n\\n \"+g)}if(b.clickAfter){e.trigger(\"click\")}});d.glue(e[0],e.parent()[0]);a(window).bind(\"load resize\",function(){d.reposition()})}})}else{if(typeof c==\"string\"){return this.each(function(){var f=a(this);c=c.toLowerCase();var e=f.data(\"zclipId\");var d=a(\"#\"+e+\".zclip\");if(c==\"remove\"){d.remove();f.removeClass(\"active hover\")}else{if(c==\"hide\"){d.hide();f.removeClass(\"active hover\")}else{if(c==\"show\"){d.show()}}}})}}}})(jQuery);var ZeroClipboard={version:\"1.0.7\",clients:{},moviePath:\"ZeroClipboard.swf\",nextId:1,$:function(a){if(typeof(a)==\"string\"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display=\"none\"};a.show=function(){this.style.display=\"\"};a.addClass=function(b){this.removeClass(b);this.className+=\" \"+b};a.removeClass=function(d){var e=this.className.split(/\\s+/);var b=-1;for(var c=0;c<e.length;c++){if(e[c]==d){b=c;c=e.length}}if(b>-1){e.splice(b,1);this.className=e.join(\" \")}return this};a.hasClass=function(b){return !!this.className.match(new RegExp(\"\\\\s*\"+b+\"\\\\s*\"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(c,a){var b={left:0,top:0,width:c.width?c.width:c.offsetWidth,height:c.height?c.height:c.offsetHeight};if(c&&(c!=a)){b.left+=c.offsetLeft;b.top+=c.offsetTop}return b},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId=\"ZeroClipboardMovie_\"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:\"\",handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(d,b,e){this.domElement=ZeroClipboard.$(d);var f=99;if(this.domElement.style.zIndex){f=parseInt(this.domElement.style.zIndex,10)+1}if(typeof(b)==\"string\"){b=ZeroClipboard.$(b)}else{if(typeof(b)==\"undefined\"){b=document.getElementsByTagName(\"body\")[0]}}var c=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement(\"div\");this.div.className=\"zclip\";this.div.id=\"zclip-\"+this.movieId;$(this.domElement).data(\"zclipId\",\"zclip-\"+this.movieId);var a=this.div.style;a.position=\"absolute\";a.left=\"\"+c.left+\"px\";a.top=\"\"+c.top+\"px\";a.width=\"\"+c.width+\"px\";a.height=\"\"+c.height+\"px\";a.zIndex=f;if(typeof(e)==\"object\"){for(addedStyle in e){a[addedStyle]=e[addedStyle]}}b.appendChild(this.div);this.div.innerHTML=this.getHTML(c.width,c.height)},getHTML:function(d,a){var c=\"\";var b=\"id=\"+this.id+\"&width=\"+d+\"&height=\"+a;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?\"https://\":\"http://\";c+='<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0\" width=\"'+d+'\" height=\"'+a+'\" id=\"'+this.movieId+'\" align=\"middle\"><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"false\" /><param name=\"movie\" value=\"'+ZeroClipboard.moviePath+'\" /><param name=\"loop\" value=\"false\" /><param name=\"menu\" value=\"false\" /><param name=\"quality\" value=\"best\" /><param name=\"bgcolor\" value=\"#ffffff\" /><param name=\"flashvars\" value=\"'+b+'\"/><param name=\"wmode\" value=\"transparent\"/></object>'}else{c+='<embed id=\"'+this.movieId+'\" src=\"'+ZeroClipboard.moviePath+'\" loop=\"false\" menu=\"false\" quality=\"best\" bgcolor=\"#ffffff\" width=\"'+d+'\" height=\"'+a+'\" name=\"'+this.movieId+'\" align=\"middle\" allowScriptAccess=\"always\" allowFullScreen=\"false\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" flashvars=\"'+b+'\" wmode=\"transparent\" />'}return c},hide:function(){if(this.div){this.div.style.left=\"-2000px\"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML=\"\";var a=document.getElementsByTagName(\"body\")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(c){if(c){this.domElement=ZeroClipboard.$(c);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement);var a=this.div.style;a.left=\"\"+b.left+\"px\";a.top=\"\"+b.top+\"px\"}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,\"\");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(d,f){d=d.toString().toLowerCase().replace(/^on/,\"\");switch(d){case\"load\":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent(\"load\",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent(\"load\",null)},100);this.ready=true;return}this.ready=true;try{this.movie.setText(this.clipText)}catch(h){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(h){}break;case\"mouseover\":if(this.domElement&&this.cssEffects){this.domElement.addClass(\"hover\");if(this.recoverActive){this.domElement.addClass(\"active\")}}break;case\"mouseout\":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass(\"active\")){this.domElement.removeClass(\"active\");this.recoverActive=true}this.domElement.removeClass(\"hover\")}break;case\"mousedown\":if(this.domElement&&this.cssEffects){this.domElement.addClass(\"active\")}break;case\"mouseup\":if(this.domElement&&this.cssEffects){this.domElement.removeClass(\"active\");this.recoverActive=false}break}if(this.handlers[d]){for(var b=0,a=this.handlers[d].length;b<a;b++){var g=this.handlers[d][b];if(typeof(g)==\"function\"){g(this,f)}else{if((typeof(g)==\"object\")&&(g.length==2)){g[0][g[1]](this,f)}else{if(typeof(g)==\"string\"){window[g](this,f)}}}}}}};","// Knockout JavaScript library v3.1.0\n// (c) Steven Sanderson - http://knockoutjs.com/\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\n\n(function() {(function(p){var A=this||(0,eval)(\"this\"),w=A.document,K=A.navigator,t=A.jQuery,C=A.JSON;(function(p){\"function\"===typeof require&&\"object\"===typeof exports&&\"object\"===typeof module?p(module.exports||exports):\"function\"===typeof define&&define.amd?define([\"exports\"],p):p(A.ko={})})(function(z){function G(a,c){return null===a||typeof a in M?a===c:!1}function N(a,c){var d;return function(){d||(d=setTimeout(function(){d=p;a()},c))}}function O(a,c){var d;return function(){clearTimeout(d);d=setTimeout(a,\nc)}}function H(b,c,d,e){a.d[b]={init:function(b,h,g,k,l){var n,r;a.ba(function(){var g=a.a.c(h()),k=!d!==!g,s=!r;if(s||c||k!==n)s&&a.ca.fa()&&(r=a.a.lb(a.e.childNodes(b),!0)),k?(s||a.e.U(b,a.a.lb(r)),a.gb(e?e(l,g):l,b)):a.e.da(b),n=k},null,{G:b});return{controlsDescendantBindings:!0}}};a.g.aa[b]=!1;a.e.Q[b]=!0}var a=\"undefined\"!==typeof z?z:{};a.b=function(b,c){for(var d=b.split(\".\"),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.s=function(a,c,d){a[c]=d};a.version=\"3.1.0\";a.b(\"version\",\na.version);a.a=function(){function b(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}var e={__proto__:[]}instanceof Array,f={},h={};f[K&&/Firefox\\/2/i.test(K.userAgent)?\"KeyboardEvent\":\"UIEvents\"]=[\"keyup\",\"keydown\",\"keypress\"];f.MouseEvents=\"click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\".split(\" \");b(f,function(a,b){if(b.length)for(var c=0,\nd=b.length;c<d;c++)h[b[c]]=a});var g={propertychange:!0},k=w&&function(){for(var a=3,b=w.createElement(\"div\"),c=b.getElementsByTagName(\"i\");b.innerHTML=\"\\x3c!--[if gt IE \"+ ++a+\"]><i></i><![endif]--\\x3e\",c[0];);return 4<a?a:p}();return{mb:[\"authenticity_token\",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},l:function(a,b){if(\"function\"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===\nb)return c;return-1},hb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},ma:function(b,c){var d=a.a.l(b,c);0<d?b.splice(d,1):0===d&&b.shift()},ib:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++)0>a.a.l(c,b[d])&&c.push(b[d]);return c},ya:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},la:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},$:function(a,b){if(b instanceof Array)a.push.apply(a,\nb);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Y:function(b,c,d){var e=a.a.l(a.a.Sa(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},na:e,extend:c,ra:d,sa:e?d:c,A:b,Oa:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Fa:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},ec:function(b){b=a.a.R(b);for(var c=w.createElement(\"div\"),d=0,e=b.length;d<e;d++)c.appendChild(a.M(b[d]));return c},lb:function(b,c){for(var d=0,e=b.length,g=[];d<\ne;d++){var k=b[d].cloneNode(!0);g.push(c?a.M(k):k)}return g},U:function(b,c){a.a.Fa(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Bb:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],g=e.parentNode,k=0,h=c.length;k<h;k++)g.insertBefore(c[k],e);k=0;for(h=d.length;k<h;k++)a.removeNode(d[k])}},ea:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),\nc=c.nextSibling,!c)return;a.push(d)}}return a},Db:function(a,b){7>k?a.setAttribute(\"selected\",b):a.selected=b},ta:function(a){return null===a||a===p?\"\":a.trim?a.trim():a.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},oc:function(b,c){for(var d=[],e=(b||\"\").split(c),g=0,k=e.length;g<k;g++){var h=a.a.ta(e[g]);\"\"!==h&&d.push(h)}return d},kc:function(a,b){a=a||\"\";return b.length>a.length?!1:a.substring(0,b.length)===b},Sb:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===\na.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ea:function(b){return a.a.Sb(b,b.ownerDocument.documentElement)},eb:function(b){return!!a.a.hb(b,a.a.Ea)},B:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},q:function(b,c,d){var e=k&&g[c];if(!e&&t)t(b).bind(c,d);else if(e||\"function\"!=typeof b.addEventListener)if(\"undefined\"!=typeof b.attachEvent){var h=function(a){d.call(b,a)},f=\"on\"+c;b.attachEvent(f,\nh);a.a.u.ja(b,function(){b.detachEvent(f,h)})}else throw Error(\"Browser doesn't support addEventListener or attachEvent\");else b.addEventListener(c,d,!1)},ha:function(b,c){if(!b||!b.nodeType)throw Error(\"element must be a DOM node when calling triggerEvent\");var d;\"input\"===a.a.B(b)&&b.type&&\"click\"==c.toLowerCase()?(d=b.type,d=\"checkbox\"==d||\"radio\"==d):d=!1;if(t&&!d)t(b).trigger(c);else if(\"function\"==typeof w.createEvent)if(\"function\"==typeof b.dispatchEvent)d=w.createEvent(h[c]||\"HTMLEvents\"),\nd.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error(\"The supplied element doesn't support dispatchEvent\");else if(d&&b.click)b.click();else if(\"undefined\"!=typeof b.fireEvent)b.fireEvent(\"on\"+c);else throw Error(\"Browser doesn't support triggering events\");},c:function(b){return a.v(b)?b():b},Sa:function(b){return a.v(b)?b.o():b},ua:function(b,c,d){if(c){var e=/\\S+/g,g=b.className.match(e)||[];a.a.r(c.match(e),function(b){a.a.Y(g,b,d)});b.className=g.join(\" \")}},Xa:function(b,\nc){var d=a.a.c(c);if(null===d||d===p)d=\"\";var e=a.e.firstChild(b);!e||3!=e.nodeType||a.e.nextSibling(e)?a.e.U(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Vb(b)},Cb:function(a,b){a.name=b;if(7>=k)try{a.mergeAttributes(w.createElement(\"<input name='\"+a.name+\"'/>\"),!1)}catch(c){}},Vb:function(a){9<=k&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Tb:function(a){if(k){var b=a.style.width;a.style.width=0;a.style.width=b}},ic:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=\n[],e=b;e<=c;e++)d.push(e);return d},R:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},mc:6===k,nc:7===k,oa:k,ob:function(b,c){for(var d=a.a.R(b.getElementsByTagName(\"input\")).concat(a.a.R(b.getElementsByTagName(\"textarea\"))),e=\"string\"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},g=[],k=d.length-1;0<=k;k--)e(d[k])&&g.push(d[k]);return g},fc:function(b){return\"string\"==typeof b&&(b=a.a.ta(b))?C&&C.parse?C.parse(b):(new Function(\"return \"+b))():\nnull},Ya:function(b,c,d){if(!C||!C.stringify)throw Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");return C.stringify(a.a.c(b),c,d)},gc:function(c,d,e){e=e||{};var g=e.params||{},k=e.includeFields||this.mb,h=c;if(\"object\"==typeof c&&\"form\"===a.a.B(c))for(var h=c.action,f=k.length-1;0<=f;f--)for(var u=a.a.ob(c,k[f]),D=u.length-1;0<=D;D--)g[u[D].name]=\nu[D].value;d=a.a.c(d);var y=w.createElement(\"form\");y.style.display=\"none\";y.action=h;y.method=\"post\";for(var p in d)c=w.createElement(\"input\"),c.name=p,c.value=a.a.Ya(a.a.c(d[p])),y.appendChild(c);b(g,function(a,b){var c=w.createElement(\"input\");c.name=a;c.value=b;y.appendChild(c)});w.body.appendChild(y);e.submitter?e.submitter(y):y.submit();setTimeout(function(){y.parentNode.removeChild(y)},0)}}}();a.b(\"utils\",a.a);a.b(\"utils.arrayForEach\",a.a.r);a.b(\"utils.arrayFirst\",a.a.hb);a.b(\"utils.arrayFilter\",\na.a.la);a.b(\"utils.arrayGetDistinctValues\",a.a.ib);a.b(\"utils.arrayIndexOf\",a.a.l);a.b(\"utils.arrayMap\",a.a.ya);a.b(\"utils.arrayPushAll\",a.a.$);a.b(\"utils.arrayRemoveItem\",a.a.ma);a.b(\"utils.extend\",a.a.extend);a.b(\"utils.fieldsIncludedWithJsonPost\",a.a.mb);a.b(\"utils.getFormFields\",a.a.ob);a.b(\"utils.peekObservable\",a.a.Sa);a.b(\"utils.postJson\",a.a.gc);a.b(\"utils.parseJson\",a.a.fc);a.b(\"utils.registerEventHandler\",a.a.q);a.b(\"utils.stringifyJson\",a.a.Ya);a.b(\"utils.range\",a.a.ic);a.b(\"utils.toggleDomNodeCssClass\",\na.a.ua);a.b(\"utils.triggerEvent\",a.a.ha);a.b(\"utils.unwrapObservable\",a.a.c);a.b(\"utils.objectForEach\",a.a.A);a.b(\"utils.addOrRemoveItem\",a.a.Y);a.b(\"unwrap\",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this,d=Array.prototype.slice.call(arguments);a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(b,h){var g=b[d];if(!g||\"null\"===g||!e[g]){if(!h)return p;g=b[d]=\"ko\"+c++;e[g]={}}return e[g]}\nvar c=0,d=\"__ko__\"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===p?p:e[d]},set:function(c,d,e){if(e!==p||a(c,!1)!==p)a(c,!0)[d]=e},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},L:function(){return c++ +d}}};a.b(\"utils.domData\",a.a.f);a.b(\"utils.domData.clear\",a.a.f.clear);a.a.u=new function(){function b(b,c){var e=a.a.f.get(b,d);e===p&&c&&(e=[],a.a.f.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](d);\na.a.f.clear(d);a.a.u.cleanExternalData(d);if(f[d.nodeType])for(e=d.firstChild;d=e;)e=d.nextSibling,8===d.nodeType&&c(d)}var d=a.a.f.L(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{ja:function(a,c){if(\"function\"!=typeof c)throw Error(\"Callback must be a function\");b(a,!0).push(c)},Ab:function(c,e){var k=b(c,!1);k&&(a.a.ma(k,e),0==k.length&&a.a.f.set(c,d,p))},M:function(b){if(e[b.nodeType]&&(c(b),f[b.nodeType])){var d=[];a.a.$(d,b.getElementsByTagName(\"*\"));for(var k=0,l=d.length;k<l;k++)c(d[k])}return b},\nremoveNode:function(b){a.M(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){t&&\"function\"==typeof t.cleanData&&t.cleanData([a])}}};a.M=a.a.u.M;a.removeNode=a.a.u.removeNode;a.b(\"cleanNode\",a.M);a.b(\"removeNode\",a.removeNode);a.b(\"utils.domNodeDisposal\",a.a.u);a.b(\"utils.domNodeDisposal.addDisposeCallback\",a.a.u.ja);a.b(\"utils.domNodeDisposal.removeDisposeCallback\",a.a.u.Ab);(function(){a.a.Qa=function(b){var c;if(t)if(t.parseHTML)c=t.parseHTML(b)||[];else{if((c=t.clean([b]))&&\nc[0]){for(b=c[0];b.parentNode&&11!==b.parentNode.nodeType;)b=b.parentNode;b.parentNode&&b.parentNode.removeChild(b)}}else{var d=a.a.ta(b).toLowerCase();c=w.createElement(\"div\");d=d.match(/^<(thead|tbody|tfoot)/)&&[1,\"<table>\",\"</table>\"]||!d.indexOf(\"<tr\")&&[2,\"<table><tbody>\",\"</tbody></table>\"]||(!d.indexOf(\"<td\")||!d.indexOf(\"<th\"))&&[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"]||[0,\"\",\"\"];b=\"ignored<div>\"+d[1]+b+d[2]+\"</div>\";for(\"function\"==typeof A.innerShiv?c.appendChild(A.innerShiv(b)):\nc.innerHTML=b;d[0]--;)c=c.lastChild;c=a.a.R(c.lastChild.childNodes)}return c};a.a.Va=function(b,c){a.a.Fa(b);c=a.a.c(c);if(null!==c&&c!==p)if(\"string\"!=typeof c&&(c=c.toString()),t)t(b).html(c);else for(var d=a.a.Qa(c),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b(\"utils.parseHtmlFragment\",a.a.Qa);a.b(\"utils.setHtml\",a.a.Va);a.w=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.w.xb(c.nodeValue);null!=f&&e.push({Rb:c,cc:f})}else if(1==c.nodeType)for(var f=0,h=c.childNodes,g=h.length;f<g;f++)b(h[f],\ne)}var c={};return{Na:function(a){if(\"function\"!=typeof a)throw Error(\"You can only pass a function to ko.memoization.memoize()\");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return\"\\x3c!--[ko_memo:\"+b+\"]--\\x3e\"},Hb:function(a,b){var f=c[a];if(f===p)throw Error(\"Couldn't find any memo with ID \"+a+\". Perhaps it's already been unmemoized.\");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},Ib:function(c,e){var f=\n[];b(c,f);for(var h=0,g=f.length;h<g;h++){var k=f[h].Rb,l=[k];e&&a.a.$(l,e);a.w.Hb(f[h].cc,l);k.nodeValue=\"\";k.parentNode&&k.parentNode.removeChild(k)}},xb:function(a){return(a=a.match(/^\\[ko_memo\\:(.*?)\\]$/))?a[1]:null}}}();a.b(\"memoization\",a.w);a.b(\"memoization.memoize\",a.w.Na);a.b(\"memoization.unmemoize\",a.w.Hb);a.b(\"memoization.parseMemoText\",a.w.xb);a.b(\"memoization.unmemoizeDomNodeAndDescendants\",a.w.Ib);a.Ga={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);\nd=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,c){var d,e,f;\"number\"==typeof c?d=c:(d=c.timeout,e=c.method);f=\"notifyWhenChangesStop\"==e?O:N;a.Ma(function(a){return f(a,d)})},notify:function(a,c){a.equalityComparer=\"always\"==c?null:G}};var M={undefined:1,\"boolean\":1,number:1,string:1};a.b(\"extenders\",a.Ga);a.Fb=function(b,c,d){this.target=b;this.za=c;this.Qb=d;this.sb=!1;a.s(this,\"dispose\",this.F)};a.Fb.prototype.F=function(){this.sb=!0;this.Qb()};a.N=function(){a.a.sa(this,a.N.fn);this.H=\n{}};var F=\"change\";z={V:function(b,c,d){var e=this;d=d||F;var f=new a.Fb(e,c?b.bind(c):b,function(){a.a.ma(e.H[d],f)});e.o&&e.o();e.H[d]||(e.H[d]=[]);e.H[d].push(f);return f},notifySubscribers:function(b,c){c=c||F;if(this.qb(c))try{a.k.jb();for(var d=this.H[c].slice(0),e=0,f;f=d[e];++e)f.sb||f.za(b)}finally{a.k.end()}},Ma:function(b){var c=this,d=a.v(c),e,f,h;c.ia||(c.ia=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&b!==F?\"beforeChange\"===b?c.bb(a):c.ia(a,b):c.cb(a)});var g=b(function(){d&&\nh===c&&(h=c());e=!1;c.Ka(f,h)&&c.ia(f=h)});c.cb=function(a){e=!0;h=a;g()};c.bb=function(a){e||(f=a,c.ia(a,\"beforeChange\"))}},qb:function(a){return this.H[a]&&this.H[a].length},Wb:function(){var b=0;a.a.A(this.H,function(a,d){b+=d.length});return b},Ka:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},extend:function(b){var c=this;b&&a.a.A(b,function(b,e){var f=a.Ga[b];\"function\"==typeof f&&(c=f(c,e)||c)});return c}};a.s(z,\"subscribe\",z.V);a.s(z,\"extend\",z.extend);a.s(z,\"getSubscriptionsCount\",\nz.Wb);a.a.na&&a.a.ra(z,Function.prototype);a.N.fn=z;a.tb=function(a){return null!=a&&\"function\"==typeof a.V&&\"function\"==typeof a.notifySubscribers};a.b(\"subscribable\",a.N);a.b(\"isSubscribable\",a.tb);a.ca=a.k=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{jb:b,end:c,zb:function(b){if(e){if(!a.tb(b))throw Error(\"Only subscribable things can act as dependencies\");e.za(b,b.Kb||(b.Kb=++f))}},t:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},fa:function(){if(e)return e.ba.fa()},\npa:function(){if(e)return e.pa}}}();a.b(\"computedContext\",a.ca);a.b(\"computedContext.getDependenciesCount\",a.ca.fa);a.b(\"computedContext.isInitial\",a.ca.pa);a.m=function(b){function c(){if(0<arguments.length)return c.Ka(d,arguments[0])&&(c.P(),d=arguments[0],c.O()),this;a.k.zb(c);return d}var d=b;a.N.call(c);a.a.sa(c,a.m.fn);c.o=function(){return d};c.O=function(){c.notifySubscribers(d)};c.P=function(){c.notifySubscribers(d,\"beforeChange\")};a.s(c,\"peek\",c.o);a.s(c,\"valueHasMutated\",c.O);a.s(c,\"valueWillMutate\",\nc.P);return c};a.m.fn={equalityComparer:G};var E=a.m.hc=\"__ko_proto__\";a.m.fn[E]=a.m;a.a.na&&a.a.ra(a.m.fn,a.N.fn);a.Ha=function(b,c){return null===b||b===p||b[E]===p?!1:b[E]===c?!0:a.Ha(b[E],c)};a.v=function(b){return a.Ha(b,a.m)};a.ub=function(b){return\"function\"==typeof b&&b[E]===a.m||\"function\"==typeof b&&b[E]===a.h&&b.Yb?!0:!1};a.b(\"observable\",a.m);a.b(\"isObservable\",a.v);a.b(\"isWriteableObservable\",a.ub);a.T=function(b){b=b||[];if(\"object\"!=typeof b||!(\"length\"in b))throw Error(\"The argument passed when initializing an observable array must be an array, or null, or undefined.\");\nb=a.m(b);a.a.sa(b,a.T.fn);return b.extend({trackArrayChanges:!0})};a.T.fn={remove:function(b){for(var c=this.o(),d=[],e=\"function\"!=typeof b||a.v(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var h=c[f];e(h)&&(0===d.length&&this.P(),d.push(h),c.splice(f,1),f--)}d.length&&this.O();return d},removeAll:function(b){if(b===p){var c=this.o(),d=c.slice(0);this.P();c.splice(0,c.length);this.O();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.o(),d=\n\"function\"!=typeof b||a.v(b)?function(a){return a===b}:b;this.P();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.O()},destroyAll:function(b){return b===p?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.P(),this.o()[d]=c,this.O())}};a.a.r(\"pop push reverse shift sort splice unshift\".split(\" \"),function(b){a.T.fn[b]=function(){var a=this.o();\nthis.P();this.kb(a,b,arguments);a=a[b].apply(a,arguments);this.O();return a}});a.a.r([\"slice\"],function(b){a.T.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.na&&a.a.ra(a.T.fn,a.m.fn);a.b(\"observableArray\",a.T);var I=\"arrayChange\";a.Ga.trackArrayChanges=function(b){function c(){if(!d){d=!0;var c=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==F||++f;return c.apply(this,arguments)};var k=[].concat(b.o()||[]);e=null;b.V(function(c){c=[].concat(c||[]);if(b.qb(I)){var d;\nif(!e||1<f)e=a.a.Aa(k,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,I)}k=c;e=null;f=0})}}if(!b.kb){var d=!1,e=null,f=0,h=b.V;b.V=b.subscribe=function(a,b,d){d===I&&c();return h.apply(this,arguments)};b.kb=function(b,c,l){function h(a,b,c){return r[r.length]={status:a,value:b,index:c}}if(d&&!f){var r=[],m=b.length,q=l.length,s=0;switch(c){case \"push\":s=m;case \"unshift\":for(c=0;c<q;c++)h(\"added\",l[c],s+c);break;case \"pop\":s=m-1;case \"shift\":m&&h(\"deleted\",b[s],s);break;case \"splice\":c=Math.min(Math.max(0,\n0>l[0]?m+l[0]:l[0]),m);for(var m=1===q?m:Math.min(c+(l[1]||0),m),q=c+q-2,s=Math.max(m,q),B=[],u=[],D=2;c<s;++c,++D)c<m&&u.push(h(\"deleted\",b[c],c)),c<q&&B.push(h(\"added\",l[D],c));a.a.nb(u,B);break;default:return}e=r}}}};a.ba=a.h=function(b,c,d){function e(){q=!0;a.a.A(v,function(a,b){b.F()});v={};x=0;n=!1}function f(){var a=g.throttleEvaluation;a&&0<=a?(clearTimeout(t),t=setTimeout(h,a)):g.wa?g.wa():h()}function h(){if(!r&&!q){if(y&&y()){if(!m){p();return}}else m=!1;r=!0;try{var b=v,d=x;a.k.jb({za:function(a,\nc){q||(d&&b[c]?(v[c]=b[c],++x,delete b[c],--d):v[c]||(v[c]=a.V(f),++x))},ba:g,pa:!x});v={};x=0;try{var e=c?s.call(c):s()}finally{a.k.end(),d&&a.a.A(b,function(a,b){b.F()}),n=!1}g.Ka(l,e)&&(g.notifySubscribers(l,\"beforeChange\"),l=e,g.wa&&!g.throttleEvaluation||g.notifySubscribers(l))}finally{r=!1}x||p()}}function g(){if(0<arguments.length){if(\"function\"===typeof B)B.apply(c,arguments);else throw Error(\"Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.\");\nreturn this}n&&h();a.k.zb(g);return l}function k(){return n||0<x}var l,n=!0,r=!1,m=!1,q=!1,s=b;s&&\"object\"==typeof s?(d=s,s=d.read):(d=d||{},s||(s=d.read));if(\"function\"!=typeof s)throw Error(\"Pass a function that returns the value of the ko.computed\");var B=d.write,u=d.disposeWhenNodeIsRemoved||d.G||null,D=d.disposeWhen||d.Da,y=D,p=e,v={},x=0,t=null;c||(c=d.owner);a.N.call(g);a.a.sa(g,a.h.fn);g.o=function(){n&&!x&&h();return l};g.fa=function(){return x};g.Yb=\"function\"===typeof d.write;g.F=function(){p()};\ng.ga=k;var w=g.Ma;g.Ma=function(a){w.call(g,a);g.wa=function(){g.bb(l);n=!0;g.cb(g)}};a.s(g,\"peek\",g.o);a.s(g,\"dispose\",g.F);a.s(g,\"isActive\",g.ga);a.s(g,\"getDependenciesCount\",g.fa);u&&(m=!0,u.nodeType&&(y=function(){return!a.a.Ea(u)||D&&D()}));!0!==d.deferEvaluation&&h();u&&k()&&u.nodeType&&(p=function(){a.a.u.Ab(u,p);e()},a.a.u.ja(u,p));return g};a.$b=function(b){return a.Ha(b,a.h)};z=a.m.hc;a.h[z]=a.m;a.h.fn={equalityComparer:G};a.h.fn[z]=a.h;a.a.na&&a.a.ra(a.h.fn,a.N.fn);a.b(\"dependentObservable\",\na.h);a.b(\"computed\",a.h);a.b(\"isComputed\",a.$b);(function(){function b(a,f,h){h=h||new d;a=f(a);if(\"object\"!=typeof a||null===a||a===p||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var g=a instanceof Array?[]:{};h.save(a,g);c(a,function(c){var d=f(a[c]);switch(typeof d){case \"boolean\":case \"number\":case \"string\":case \"function\":g[c]=d;break;case \"object\":case \"undefined\":var n=h.get(d);g[c]=n!==p?n:b(d,f,h)}});return g}function c(a,b){if(a instanceof Array){for(var c=\n0;c<a.length;c++)b(c);\"function\"==typeof a.toJSON&&b(\"toJSON\")}else for(c in a)b(c)}function d(){this.keys=[];this.ab=[]}a.Gb=function(c){if(0==arguments.length)throw Error(\"When calling ko.toJS, pass the object you want to convert.\");return b(c,function(b){for(var c=0;a.v(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Gb(b);return a.a.Ya(b,c,d)};d.prototype={save:function(b,c){var d=a.a.l(this.keys,b);0<=d?this.ab[d]=c:(this.keys.push(b),this.ab.push(c))},get:function(b){b=a.a.l(this.keys,\nb);return 0<=b?this.ab[b]:p}}})();a.b(\"toJS\",a.Gb);a.b(\"toJSON\",a.toJSON);(function(){a.i={p:function(b){switch(a.a.B(b)){case \"option\":return!0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Pa):7>=a.a.oa?b.getAttributeNode(\"value\")&&b.getAttributeNode(\"value\").specified?b.value:b.text:b.value;case \"select\":return 0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex]):p;default:return b.value}},X:function(b,c,d){switch(a.a.B(b)){case \"option\":switch(typeof c){case \"string\":a.a.f.set(b,a.d.options.Pa,\np);\"__ko__hasDomDataOptionValue__\"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Pa,c),b.__ko__hasDomDataOptionValue__=!0,b.value=\"number\"===typeof c?c:\"\"}break;case \"select\":if(\"\"===c||null===c)c=p;for(var e=-1,f=0,h=b.options.length,g;f<h;++f)if(g=a.i.p(b.options[f]),g==c||\"\"==g&&c===p){e=f;break}if(d||0<=e||c===p&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===p)c=\"\";b.value=c}}}})();a.b(\"selectExtensions\",a.i);a.b(\"selectExtensions.readValue\",\na.i.p);a.b(\"selectExtensions.writeValue\",a.i.X);a.g=function(){function b(b){b=a.a.ta(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),g,m,q=0;if(d){d.push(\",\");for(var s=0,B;B=d[s];++s){var u=B.charCodeAt(0);if(44===u){if(0>=q){g&&c.push(m?{key:g,value:m.join(\"\")}:{unknown:g});g=m=q=0;continue}}else if(58===u){if(!m)continue}else if(47===u&&s&&1<B.length)(u=d[s-1].match(f))&&!h[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),d.push(\",\"),s=-1,B=\"/\");else if(40===u||123===u||91===\nu)++q;else if(41===u||125===u||93===u)--q;else if(!g&&!m){g=34===u||39===u?B.slice(1,-1):B;continue}m?m.push(B):m=[B]}}return c}var c=[\"true\",\"false\",\"null\",\"undefined\"],d=/^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i,e=RegExp(\"\\\"(?:[^\\\"\\\\\\\\]|\\\\\\\\.)*\\\"|'(?:[^'\\\\\\\\]|\\\\\\\\.)*'|/(?:[^/\\\\\\\\]|\\\\\\\\.)*/w*|[^\\\\s:,/][^,\\\"'{}()/:[\\\\]]*[^\\\\s,\\\"'{}()/:[\\\\]]|[^\\\\s]\",\"g\"),f=/[\\])\"'A-Za-z0-9_$]+$/,h={\"in\":1,\"return\":1,\"typeof\":1},g={};return{aa:[],W:g,Ra:b,qa:function(e,l){function f(b,e){var l,k=a.getBindingHandler(b);\nif(k&&k.preprocess?e=k.preprocess(e,b,f):1){if(k=g[b])l=e,0<=a.a.l(c,l)?l=!1:(k=l.match(d),l=null===k?!1:k[1]?\"Object(\"+k[1]+\")\"+k[2]:l),k=l;k&&m.push(\"'\"+b+\"':function(_z){\"+l+\"=_z}\");q&&(e=\"function(){return \"+e+\" }\");h.push(\"'\"+b+\"':\"+e)}}l=l||{};var h=[],m=[],q=l.valueAccessors,s=\"string\"===typeof e?b(e):e;a.a.r(s,function(a){f(a.key||a.unknown,a.value)});m.length&&f(\"_ko_property_writers\",\"{\"+m.join(\",\")+\" }\");return h.join(\",\")},bc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;\nreturn!1},va:function(b,c,d,e,g){if(b&&a.v(b))!a.ub(b)||g&&b.o()===e||b(e);else if((b=c.get(\"_ko_property_writers\"))&&b[d])b[d](e)}}}();a.b(\"expressionRewriting\",a.g);a.b(\"expressionRewriting.bindingRewriteValidators\",a.g.aa);a.b(\"expressionRewriting.parseObjectLiteral\",a.g.Ra);a.b(\"expressionRewriting.preProcessBindings\",a.g.qa);a.b(\"expressionRewriting._twoWayBindings\",a.g.W);a.b(\"jsonExpressionRewriting\",a.g);a.b(\"jsonExpressionRewriting.insertPropertyAccessorsIntoJson\",a.g.qa);(function(){function b(a){return 8==\na.nodeType&&h.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function d(a,d){for(var e=a,g=1,k=[];e=e.nextSibling;){if(c(e)&&(g--,0===g))return k;k.push(e);b(e)&&g++}if(!d)throw Error(\"Cannot find closing comment tag to match: \"+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&\"\\x3c!--test--\\x3e\"===w.createComment(\"test\").text,h=f?/^\\x3c!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*--\\x3e$/:/^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/,\ng=f?/^\\x3c!--\\s*\\/ko\\s*--\\x3e$/:/^\\s*\\/ko\\s*$/,k={ul:!0,ol:!0};a.e={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},da:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Fa(c)},U:function(c,d){if(b(c)){a.e.da(c);for(var e=c.nextSibling,g=0,k=d.length;g<k;g++)e.parentNode.insertBefore(d[g],e)}else a.a.U(c,d)},yb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},rb:function(c,\nd,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.yb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Xb:b,lc:function(a){return(a=(f?a.text:a.nodeValue).match(h))?a[1]:null},wb:function(d){if(k[a.a.B(d)]){var g=d.firstChild;if(g){do if(1===g.nodeType){var f;f=g.firstChild;\nvar h=null;if(f){do if(h)h.push(f);else if(b(f)){var q=e(f,!0);q?f=q:h=[f]}else c(f)&&(h=[f]);while(f=f.nextSibling)}if(f=h)for(h=g.nextSibling,q=0;q<f.length;q++)h?d.insertBefore(f[q],h):d.appendChild(f[q])}while(g=g.nextSibling)}}}}})();a.b(\"virtualElements\",a.e);a.b(\"virtualElements.allowedBindings\",a.e.Q);a.b(\"virtualElements.emptyNode\",a.e.da);a.b(\"virtualElements.insertAfter\",a.e.rb);a.b(\"virtualElements.prepend\",a.e.yb);a.b(\"virtualElements.setDomNodeChildren\",a.e.U);(function(){a.J=function(){this.Nb=\n{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute(\"data-bind\");case 8:return a.e.Xb(b);default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a):null},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute(\"data-bind\");\ncase 8:return a.e.lc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Nb,h=b+(e&&e.valueAccessors||\"\"),g;if(!(g=f[h])){var k,l=\"with($context){with($data||{}){return{\"+a.g.qa(b,e)+\"}}}\";k=new Function(\"$context\",\"$element\",l);g=f[h]=k}return g(c,d)}catch(n){throw n.message=\"Unable to parse bindings.\\nBindings value: \"+b+\"\\nMessage: \"+n.message,n;}}});a.J.instance=new a.J})();a.b(\"bindingProvider\",a.J);(function(){function b(a){return function(){return a}}function c(a){return a()}\nfunction d(b){return a.a.Oa(a.k.t(b),function(a,c){return function(){return b()[c]}})}function e(a,b){return d(this.getBindings.bind(this,a,b))}function f(b,c,d){var e,g=a.e.firstChild(c),k=a.J.instance,f=k.preprocessNode;if(f){for(;e=g;)g=a.e.nextSibling(e),f.call(k,e);g=a.e.firstChild(c)}for(;e=g;)g=a.e.nextSibling(e),h(b,e,d)}function h(b,c,d){var e=!0,g=1===c.nodeType;g&&a.e.wb(c);if(g&&d||a.J.instance.nodeHasBindings(c))e=k(c,null,b,d).shouldBindDescendants;e&&!n[a.a.B(c)]&&f(b,c,!g)}function g(b){var c=\n[],d={},e=[];a.a.A(b,function y(g){if(!d[g]){var k=a.getBindingHandler(g);k&&(k.after&&(e.push(g),a.a.r(k.after,function(c){if(b[c]){if(-1!==a.a.l(e,c))throw Error(\"Cannot combine the following bindings, because they have a cyclic dependency: \"+e.join(\", \"));y(c)}}),e.length--),c.push({key:g,pb:k}));d[g]=!0}});return c}function k(b,d,k,f){var h=a.a.f.get(b,r);if(!d){if(h)throw Error(\"You cannot apply bindings multiple times to the same element.\");a.a.f.set(b,r,!0)}!h&&f&&a.Eb(b,k);var l;if(d&&\"function\"!==\ntypeof d)l=d;else{var n=a.J.instance,m=n.getBindingAccessors||e,x=a.h(function(){(l=d?d(k,b):m.call(n,b,k))&&k.D&&k.D();return l},null,{G:b});l&&x.ga()||(x=null)}var t;if(l){var w=x?function(a){return function(){return c(x()[a])}}:function(a){return l[a]},z=function(){return a.a.Oa(x?x():l,c)};z.get=function(a){return l[a]&&c(w(a))};z.has=function(a){return a in l};f=g(l);a.a.r(f,function(c){var d=c.pb.init,e=c.pb.update,g=c.key;if(8===b.nodeType&&!a.e.Q[g])throw Error(\"The binding '\"+g+\"' cannot be used with virtual elements\");\ntry{\"function\"==typeof d&&a.k.t(function(){var a=d(b,w(g),z,k.$data,k);if(a&&a.controlsDescendantBindings){if(t!==p)throw Error(\"Multiple bindings (\"+t+\" and \"+g+\") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.\");t=g}}),\"function\"==typeof e&&a.h(function(){e(b,w(g),z,k.$data,k)},null,{G:b})}catch(f){throw f.message='Unable to process binding \"'+g+\": \"+l[g]+'\"\\nMessage: '+f.message,f;}})}return{shouldBindDescendants:t===p}}\nfunction l(b){return b&&b instanceof a.I?b:new a.I(b)}a.d={};var n={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.I=function(b,c,d,e){var g=this,k=\"function\"==typeof b&&!a.v(b),f,h=a.h(function(){var f=k?b():b,l=a.a.c(f);c?(c.D&&c.D(),a.a.extend(g,c),h&&(g.D=h)):(g.$parents=[],g.$root=l,g.ko=a);g.$rawData=f;g.$data=l;d&&(g[d]=l);e&&e(g,c,l);return g.$data},null,{Da:function(){return f&&!a.a.eb(f)},G:!0});h.ga()&&(g.D=h,h.equalityComparer=null,f=[],h.Jb=function(b){f.push(b);a.a.u.ja(b,\nfunction(b){a.a.ma(f,b);f.length||(h.F(),g.D=h=p)})})};a.I.prototype.createChildContext=function(b,c,d){return new a.I(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.I.prototype.extend=function(b){return new a.I(this.D||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,\"function\"==typeof b?b():b)})};var r=a.a.f.L(),m=a.a.f.L();a.Eb=function(b,c){if(2==arguments.length)a.a.f.set(b,m,c),\nc.D&&c.D.Jb(b);else return a.a.f.get(b,m)};a.xa=function(b,c,d){1===b.nodeType&&a.e.wb(b);return k(b,c,l(d),!0)};a.Lb=function(c,e,g){g=l(g);return a.xa(c,\"function\"===typeof e?d(e.bind(null,g,c)):a.a.Oa(e,b),g)};a.gb=function(a,b){1!==b.nodeType&&8!==b.nodeType||f(l(a),b,!0)};a.fb=function(a,b){!t&&A.jQuery&&(t=A.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error(\"ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node\");b=b||A.document.body;h(l(a),\nb,!0)};a.Ca=function(b){switch(b.nodeType){case 1:case 8:var c=a.Eb(b);if(c)return c;if(b.parentNode)return a.Ca(b.parentNode)}return p};a.Pb=function(b){return(b=a.Ca(b))?b.$data:p};a.b(\"bindingHandlers\",a.d);a.b(\"applyBindings\",a.fb);a.b(\"applyBindingsToDescendants\",a.gb);a.b(\"applyBindingAccessorsToNode\",a.xa);a.b(\"applyBindingsToNode\",a.Lb);a.b(\"contextFor\",a.Ca);a.b(\"dataFor\",a.Pb)})();var L={\"class\":\"className\",\"for\":\"htmlFor\"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.A(d,function(c,\nd){d=a.a.c(d);var h=!1===d||null===d||d===p;h&&b.removeAttribute(c);8>=a.a.oa&&c in L?(c=L[c],h?b.removeAttribute(c):b[c]=d):h||b.setAttribute(c,d.toString());\"name\"===c&&a.a.Cb(b,h?\"\":d.toString())})}};(function(){a.d.checked={after:[\"value\",\"attr\"],init:function(b,c,d){function e(){return d.has(\"checkedValue\")?a.a.c(d.get(\"checkedValue\")):b.value}function f(){var g=b.checked,f=r?e():g;if(!a.ca.pa()&&(!k||g)){var h=a.k.t(c);l?n!==f?(g&&(a.a.Y(h,f,!0),a.a.Y(h,n,!1)),n=f):a.a.Y(h,f,g):a.g.va(h,d,\"checked\",\nf,!0)}}function h(){var d=a.a.c(c());b.checked=l?0<=a.a.l(d,e()):g?d:e()===d}var g=\"checkbox\"==b.type,k=\"radio\"==b.type;if(g||k){var l=g&&a.a.c(c())instanceof Array,n=l?e():p,r=k||l;k&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.ba(f,null,{G:b});a.a.q(b,\"click\",f);a.ba(h,null,{G:b})}}};a.g.W.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());\"object\"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.ua(b,c,d)}):(d=String(d||\n\"\"),a.a.ua(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ua(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute(\"disabled\"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var h=c()||{};a.a.A(h,function(g){\"string\"==typeof g&&a.a.q(b,g,function(b){var h,n=c()[g];if(n){try{var r=a.a.R(arguments);e=f.$data;r.unshift(e);h=n.apply(e,r)}finally{!0!==h&&(b.preventDefault?\nb.preventDefault():b.returnValue=!1)}!1===d.get(g+\"Bubble\")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={vb:function(b){return function(){var c=b(),d=a.a.Sa(c);if(!d||\"number\"==typeof d.length)return{foreach:c,templateEngine:a.K.Ja};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.K.Ja}}},init:function(b,\nc){return a.d.template.init(b,a.d.foreach.vb(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.vb(c),d,e,f)}};a.g.aa.foreach=!1;a.e.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var k=b.ownerDocument;if(\"activeElement\"in k){var f;try{f=k.activeElement}catch(h){f=k.body}e=f===b}k=c();a.g.va(k,d,\"hasfocus\",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),h=e.bind(null,!1);a.a.q(b,\"focus\",f);a.a.q(b,\"focusin\",\nf);a.a.q(b,\"blur\",h);a.a.q(b,\"focusout\",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.t(a.a.ha,null,[b,d?\"focusin\":\"focusout\"]))}};a.g.W.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.W.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Va(b,c())}};H(\"if\");H(\"ifnot\",!1,!0);H(\"with\",!0,!1,function(a,c){return a.createChildContext(c)});var J={};a.d.options={init:function(b){if(\"select\"!==\na.a.B(b))throw Error(\"options binding applies only to SELECT elements\");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.la(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return\"function\"==d?b(a):\"string\"==d?a[b]:c}function h(c,d){if(r.length){var e=0<=a.a.l(r,a.i.p(d[0]));a.a.Db(d[0],e);m&&!e&&a.k.t(a.a.ha,null,[b,\"change\"])}}var g=0!=b.length&&b.multiple?b.scrollTop:null,k=a.a.c(c()),l=d.get(\"optionsIncludeDestroyed\");\nc={};var n,r;r=b.multiple?a.a.ya(e(),a.i.p):0<=b.selectedIndex?[a.i.p(b.options[b.selectedIndex])]:[];k&&(\"undefined\"==typeof k.length&&(k=[k]),n=a.a.la(k,function(b){return l||b===p||null===b||!a.a.c(b._destroy)}),d.has(\"optionsCaption\")&&(k=a.a.c(d.get(\"optionsCaption\")),null!==k&&k!==p&&n.unshift(J)));var m=!1;c.beforeRemove=function(a){b.removeChild(a)};k=h;d.has(\"optionsAfterRender\")&&(k=function(b,c){h(0,c);a.k.t(d.get(\"optionsAfterRender\"),null,[c[0],b!==J?b:p])});a.a.Ua(b,n,function(c,e,g){g.length&&\n(r=g[0].selected?[a.i.p(g[0])]:[],m=!0);e=b.ownerDocument.createElement(\"option\");c===J?(a.a.Xa(e,d.get(\"optionsCaption\")),a.i.X(e,p)):(g=f(c,d.get(\"optionsValue\"),c),a.i.X(e,a.a.c(g)),c=f(c,d.get(\"optionsText\"),g),a.a.Xa(e,c));return[e]},c,k);a.k.t(function(){d.get(\"valueAllowUnset\")&&d.has(\"value\")?a.i.X(b,a.a.c(d.get(\"value\")),!0):(b.multiple?r.length&&e().length<r.length:r.length&&0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex])!==r[0]:r.length||0<=b.selectedIndex)&&a.a.ha(b,\"change\")});a.a.Tb(b);\ng&&20<Math.abs(g-b.scrollTop)&&(b.scrollTop=g)}};a.d.options.Pa=a.a.f.L();a.d.selectedOptions={after:[\"options\",\"foreach\"],init:function(b,c,d){a.a.q(b,\"change\",function(){var e=c(),f=[];a.a.r(b.getElementsByTagName(\"option\"),function(b){b.selected&&f.push(a.i.p(b))});a.g.va(e,d,\"selectedOptions\",f)})},update:function(b,c){if(\"select\"!=a.a.B(b))throw Error(\"values binding applies only to SELECT elements\");var d=a.a.c(c());d&&\"number\"==typeof d.length&&a.a.r(b.getElementsByTagName(\"option\"),function(b){var c=\n0<=a.a.l(d,a.i.p(b));a.a.Db(b,c)})}};a.g.W.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.A(d,function(c,d){d=a.a.c(d);b.style[c]=d||\"\"})}};a.d.submit={init:function(b,c,d,e,f){if(\"function\"!=typeof c())throw Error(\"The value for a submit binding must be a function\");a.a.q(b,\"submit\",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},\nupdate:function(b,c){a.a.Xa(b,c())}};a.e.Q.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d=\"ko_unique_\"+ ++a.d.uniqueName.Ob;a.a.Cb(b,d)}}};a.d.uniqueName.Ob=0;a.d.value={after:[\"options\",\"foreach\"],init:function(b,c,d){function e(){g=!1;var e=c(),f=a.i.p(b);a.g.va(e,d,\"value\",f)}var f=[\"change\"],h=d.get(\"valueUpdate\"),g=!1;h&&(\"string\"==typeof h&&(h=[h]),a.a.$(f,h),f=a.a.ib(f));!a.a.oa||\"input\"!=b.tagName.toLowerCase()||\"text\"!=b.type||\"off\"==b.autocomplete||b.form&&\"off\"==b.form.autocomplete||\n-1!=a.a.l(f,\"propertychange\")||(a.a.q(b,\"propertychange\",function(){g=!0}),a.a.q(b,\"focus\",function(){g=!1}),a.a.q(b,\"blur\",function(){g&&e()}));a.a.r(f,function(c){var d=e;a.a.kc(c,\"after\")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.q(b,c,d)})},update:function(b,c,d){var e=a.a.c(c());c=a.i.p(b);if(e!==c)if(\"select\"===a.a.B(b)){var f=d.get(\"valueAllowUnset\");d=function(){a.i.X(b,e,f)};d();f||e===a.i.p(b)?setTimeout(d,0):a.k.t(a.a.ha,null,[b,\"change\"])}else a.i.X(b,e)}};a.g.W.value=!0;a.d.visible=\n{update:function(b,c){var d=a.a.c(c()),e=\"none\"!=b.style.display;d&&!e?b.style.display=\"\":!d&&e&&(b.style.display=\"none\")}};(function(b){a.d[b]={init:function(c,d,e,f,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,h)}}})(\"click\");a.C=function(){};a.C.prototype.renderTemplateSource=function(){throw Error(\"Override renderTemplateSource\");};a.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error(\"Override createJavaScriptEvaluatorBlock\");};a.C.prototype.makeTemplateSource=\nfunction(b,c){if(\"string\"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error(\"Cannot find template with ID \"+b);return new a.n.j(d)}if(1==b.nodeType||8==b.nodeType)return new a.n.Z(b);throw Error(\"Unknown template type: \"+b);};a.C.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d)};a.C.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data(\"isRewritten\")};a.C.prototype.rewriteTemplate=\nfunction(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data(\"isRewritten\",!0)};a.b(\"templateEngine\",a.C);a.Za=function(){function b(b,c,d,g){b=a.g.Ra(b);for(var k=a.g.aa,l=0;l<b.length;l++){var n=b[l].key;if(k.hasOwnProperty(n)){var r=k[n];if(\"function\"===typeof r){if(n=r(b[l].value))throw Error(n);}else if(!r)throw Error(\"This template engine does not support the '\"+n+\"' binding within its templates\");}}d=\"ko.__tr_ambtns(function($context,$element){return(function(){return{ \"+a.g.qa(b,\n{valueAccessors:!0})+\" } })()},'\"+d.toLowerCase()+\"')\";return g.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'))?)*\\s+)data-bind\\s*=\\s*([\"'])([\\s\\S]*?)\\3/gi,d=/\\x3c!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*--\\x3e/g;return{Ub:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Za.dc(b,c)},d)},dc:function(a,f){return a.replace(c,function(a,c,d,e,n){return b(n,c,d,f)}).replace(d,function(a,c){return b(c,\"\\x3c!-- ko --\\x3e\",\n\"#comment\",f)})},Mb:function(b,c){return a.w.Na(function(d,g){var k=d.nextSibling;k&&k.nodeName.toLowerCase()===c&&a.xa(k,b,g)})}}}();a.b(\"__tr_ambtns\",a.Za.Mb);(function(){a.n={};a.n.j=function(a){this.j=a};a.n.j.prototype.text=function(){var b=a.a.B(this.j),b=\"script\"===b?\"text\":\"textarea\"===b?\"value\":\"innerHTML\";if(0==arguments.length)return this.j[b];var c=arguments[0];\"innerHTML\"===b?a.a.Va(this.j,c):this.j[b]=c};var b=a.a.f.L()+\"_\";a.n.j.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.j,\nb+c);a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.L();a.n.Z=function(a){this.j=a};a.n.Z.prototype=new a.n.j;a.n.Z.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.$a===p&&b.Ba&&(b.$a=b.Ba.innerHTML);return b.$a}a.a.f.set(this.j,c,{$a:arguments[0]})};a.n.j.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.j,c)||{}).Ba;a.a.f.set(this.j,c,{Ba:arguments[0]})};a.b(\"templateSources\",a.n);a.b(\"templateSources.domElement\",a.n.j);a.b(\"templateSources.anonymousTemplate\",\na.n.Z)})();(function(){function b(b,c,d){var e;for(c=a.e.nextSibling(c);b&&(e=b)!==c;)b=a.e.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],h=e.parentNode,m=a.J.instance,q=m.preprocessNode;if(q){b(e,f,function(a,b){var c=a.previousSibling,d=q.call(m,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):(c.push(e,f),a.a.ea(c,h))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.fb(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==\nb.nodeType||a.w.Ib(b,[d])});a.a.ea(c,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,h,n,r){r=r||{};var m=b&&d(b),m=m&&m.ownerDocument,q=r.templateEngine||f;a.Za.Ub(h,q,m);h=q.renderTemplate(h,n,r,m);if(\"number\"!=typeof h.length||0<h.length&&\"number\"!=typeof h[0].nodeType)throw Error(\"Template engine must return an array of DOM nodes\");m=!1;switch(e){case \"replaceChildren\":a.e.U(b,h);m=!0;break;case \"replaceNode\":a.a.Bb(b,h);m=!0;break;case \"ignoreTargetNode\":break;default:throw Error(\"Unknown renderMode: \"+\ne);}m&&(c(h,n),r.afterRender&&a.k.t(r.afterRender,null,[h,n.$data]));return h}var f;a.Wa=function(b){if(b!=p&&!(b instanceof a.C))throw Error(\"templateEngine must inherit from ko.templateEngine\");f=b};a.Ta=function(b,c,h,n,r){h=h||{};if((h.templateEngine||f)==p)throw Error(\"Set a template engine before calling renderTemplate\");r=r||\"replaceChildren\";if(n){var m=d(n);return a.h(function(){var f=c&&c instanceof a.I?c:new a.I(a.a.c(c)),p=a.v(b)?b():\"function\"==typeof b?b(f.$data,f):b,f=e(n,r,p,f,h);\n\"replaceNode\"==r&&(n=f,m=d(n))},null,{Da:function(){return!m||!a.a.Ea(m)},G:m&&\"replaceNode\"==r?m.parentNode:m})}return a.w.Na(function(d){a.Ta(b,c,h,d,\"replaceNode\")})};a.jc=function(b,d,f,h,r){function m(a,b){c(b,s);f.afterRender&&f.afterRender(b,a)}function q(a,c){s=r.createChildContext(a,f.as,function(a){a.$index=c});var d=\"function\"==typeof b?b(a,s):b;return e(null,\"ignoreTargetNode\",d,s,f)}var s;return a.h(function(){var b=a.a.c(d)||[];\"undefined\"==typeof b.length&&(b=[b]);b=a.a.la(b,function(b){return f.includeDestroyed||\nb===p||null===b||!a.a.c(b._destroy)});a.k.t(a.a.Ua,null,[h,b,q,f,m])},null,{G:h})};var h=a.a.f.L();a.d.template={init:function(b,c){var d=a.a.c(c());\"string\"==typeof d||d.name?a.e.da(b):(d=a.e.childNodes(b),d=a.a.ec(d),(new a.n.Z(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var m=c(),q;c=a.a.c(m);d=!0;e=null;\"string\"==typeof c?c={}:(m=c.name,\"if\"in c&&(d=a.a.c(c[\"if\"])),d&&\"ifnot\"in c&&(d=!a.a.c(c.ifnot)),q=a.a.c(c.data));\"foreach\"in c?e=a.jc(m||b,d&&c.foreach||\n[],c,b,f):d?(f=\"data\"in c?f.createChildContext(q,c.as):f,e=a.Ta(m||b,f,c,b)):a.e.da(b);f=e;(q=a.a.f.get(b,h))&&\"function\"==typeof q.F&&q.F();a.a.f.set(b,h,f&&f.ga()?f:p)}};a.g.aa.template=function(b){b=a.g.Ra(b);return 1==b.length&&b[0].unknown||a.g.bc(b,\"name\")?null:\"This template engine does not support anonymous templates nested within its templates\"};a.e.Q.template=!0})();a.b(\"setTemplateEngine\",a.Wa);a.b(\"renderTemplate\",a.Ta);a.a.nb=function(a,c,d){if(a.length&&c.length){var e,f,h,g,k;for(e=\nf=0;(!d||e<d)&&(g=a[f]);++f){for(h=0;k=c[h];++h)if(g.value===k.value){g.moved=k.index;k.moved=g.index;c.splice(h,1);e=h=0;break}e+=h}}};a.a.Aa=function(){function b(b,d,e,f,h){var g=Math.min,k=Math.max,l=[],n,p=b.length,m,q=d.length,s=q-p||1,t=p+q+1,u,w,y;for(n=0;n<=p;n++)for(w=u,l.push(u=[]),y=g(q,n+s),m=k(0,n-1);m<=y;m++)u[m]=m?n?b[n-1]===d[m-1]?w[m-1]:g(w[m]||t,u[m-1]||t)+1:m+1:n+1;g=[];k=[];s=[];n=p;for(m=q;n||m;)q=l[n][m]-1,m&&q===l[n][m-1]?k.push(g[g.length]={status:e,value:d[--m],index:m}):\nn&&q===l[n-1][m]?s.push(g[g.length]={status:f,value:b[--n],index:n}):(--m,--n,h.sparse||g.push({status:\"retained\",value:d[m]}));a.a.nb(k,s,10*p);return g.reverse()}return function(a,d,e){e=\"boolean\"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<=d.length?b(a,d,\"added\",\"deleted\",e):b(d,a,\"deleted\",\"added\",e)}}();a.b(\"utils.compareArrays\",a.a.Aa);(function(){function b(b,c,f,h,g){var k=[],l=a.h(function(){var l=c(f,g,a.a.ea(k,b))||[];0<k.length&&(a.a.Bb(k,l),h&&a.k.t(h,null,[f,\nl,g]));k.length=0;a.a.$(k,l)},null,{G:b,Da:function(){return!a.a.eb(k)}});return{S:k,h:l.ga()?l:p}}var c=a.a.f.L();a.a.Ua=function(d,e,f,h,g){function k(b,c){v=r[c];u!==c&&(z[b]=v);v.Ia(u++);a.a.ea(v.S,d);s.push(v);y.push(v)}function l(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.r(c[d].S,function(a){b(a,d,c[d].ka)})}e=e||[];h=h||{};var n=a.a.f.get(d,c)===p,r=a.a.f.get(d,c)||[],m=a.a.ya(r,function(a){return a.ka}),q=a.a.Aa(m,e,h.dontLimitMoves),s=[],t=0,u=0,w=[],y=[];e=[];for(var z=[],m=[],\nv,x=0,A,C;A=q[x];x++)switch(C=A.moved,A.status){case \"deleted\":C===p&&(v=r[t],v.h&&v.h.F(),w.push.apply(w,a.a.ea(v.S,d)),h.beforeRemove&&(e[x]=v,y.push(v)));t++;break;case \"retained\":k(x,t++);break;case \"added\":C!==p?k(x,C):(v={ka:A.value,Ia:a.m(u++)},s.push(v),y.push(v),n||(m[x]=v))}l(h.beforeMove,z);a.a.r(w,h.beforeRemove?a.M:a.removeNode);for(var x=0,n=a.e.firstChild(d),E;v=y[x];x++){v.S||a.a.extend(v,b(d,f,v.ka,g,v.Ia));for(t=0;q=v.S[t];n=q.nextSibling,E=q,t++)q!==n&&a.e.rb(d,q,E);!v.Zb&&g&&(g(v.ka,\nv.S,v.Ia),v.Zb=!0)}l(h.beforeRemove,e);l(h.afterMove,z);l(h.afterAdd,m);a.a.f.set(d,c,s)}})();a.b(\"utils.setDomNodeChildrenFromArrayMapping\",a.a.Ua);a.K=function(){this.allowTemplateRewriting=!1};a.K.prototype=new a.C;a.K.prototype.renderTemplateSource=function(b){var c=(9>a.a.oa?0:b.nodes)?b.nodes():null;if(c)return a.a.R(c.cloneNode(!0).childNodes);b=b.text();return a.a.Qa(b)};a.K.Ja=new a.K;a.Wa(a.K.Ja);a.b(\"nativeTemplateEngine\",a.K);(function(){a.La=function(){var a=this.ac=function(){if(!t||\n!t.tmpl)return 0;try{if(0<=t.tmpl.tag.tmpl.open.toString().indexOf(\"__\"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f){f=f||{};if(2>a)throw Error(\"Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.\");var h=b.data(\"precompiled\");h||(h=b.text()||\"\",h=t.template(null,\"{{ko_with $item.koBindingContext}}\"+h+\"{{/ko_with}}\"),b.data(\"precompiled\",h));b=[e.$data];e=t.extend({koBindingContext:e},f.templateOptions);e=t.tmpl(h,b,e);e.appendTo(w.createElement(\"div\"));\nt.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return\"{{ko_code ((function() { return \"+a+\" })()) }}\"};this.addTemplate=function(a,b){w.write(\"<script type='text/html' id='\"+a+\"'>\"+b+\"\\x3c/script>\")};0<a&&(t.tmpl.tag.ko_code={open:\"__.push($1 || '');\"},t.tmpl.tag.ko_with={open:\"with($1) {\",close:\"} \"})};a.La.prototype=new a.C;var b=new a.La;0<b.ac&&a.Wa(b);a.b(\"jqueryTmplTemplateEngine\",a.La)})()})})();})();","(function() {\n\n\tvar admin_path = window.location.pathname.replace(/\\/(index.html)?$/, ''),\n\t\tbase_path = admin_path.replace(/(.+)?\\/.*?$/, '$1/'),\n\t\thost = window.location.protocol + '//' + window.location.host,\n\n\thas = {\n\t\tlocalstorage: 'localStorage' in window && window.localStorage !== null\n\t},\n\n\tconfig = {\n\n\t\tretina: ('devicePixelRatio' in window && devicePixelRatio > 1) || ('matchMedia' in window && matchMedia(\"(min-resolution:144dpi)\").matches),\n\n\t\tcache: false,\n\n\t\teasing: 'easeInOutQuint',\n\n\t\tpaths: {\n\t\t\tadmin: host + admin_path,\n\t\t\tbase: host + base_path,\n\t\t\tbase_relative: base_path,\n\t\t\tstore: false\n\t\t},\n\n\t\tfallback_previews: {\n\t\t\timage: 'images/no-preview.png',\n\t\t\tvideo: 'images/no-preview.png'\n\t\t},\n\n\t\tplugin_paths: null,\n\n\t\treserved: ['app','library','upload','site','text','settings','plugins','login','store'],\n\n\t\tuploader: {\n\n\t\t\tdragging: false,\n\n\t\t\tdragTimeout: null,\n\n\t\t\tcurrentFile: null,\n\n\t\t\tproperties: {\n\t\t\t\truntimes\t\t\t\t: 'html5,flash',\n\t\t\t\tflash_swf_url\t\t\t: 'js/moxie.swf',\n\t\t\t\tbrowse_button_hover\t\t: 'hover',\n\t\t\t\tbrowse_button_active\t: 'active',\n\t\t\t\theaders: {\n\t\t\t\t\t'X-KOKEN-AUTH': 'cookie'\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\thelpers = {\n\n\t\tparse_tag_input: function(str) {\n\t\t\tstr = str.toLowerCase().replace(/[\\s,\\,]+/g, ' ').replace(/[<>]/g, '');\n\n\t\t\tvar multis = str.match(/\"(.*?)\"/g),\n\t\t\t\ttags = [];\n\n\t\t\tif (multis) {\n\t\t\t\t$.each(multis, function(i, tag) {\n\t\t\t\t\tstr = str.replace(tag, '');\n\t\t\t\t\ttags.push(tag.replace(/[\"]/g, ''));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tstr = str.replace(/[\\s]+/, ' ').trim();\n\t\t\tif (str.length) {\n\t\t\t\ttags = tags.concat(str.split(' '));\n\t\t\t}\n\t\t\treturn tags;\n\t\t},\n\n\t\tbool: function(str) {\n\n\t\t\treturn ( str !== null && str.replace(/['\"]/g,'') == 'true' ) ? true : false;\n\t\t},\n\n\t\tclean: function(str) {\n\n\t\t\treturn str.replace(/['\"]/g,'');\n\n\t\t},\n\n\t\tfile_ext: function(file) {\n\n\t\t\tvar ext = file.lastIndexOf('.') + 1;\n\n\t\t\treturn ( ext > 0 ) ? file.substr( ext ).replace(/\\?.*$/, '') : '';\n\n\t\t},\n\n\t\tcapitalize: function(str) {\n\n\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\n\t\t},\n\n\t\tdistinctArray: function(left,right) {\n\n\t\t\tvar filtered;\n\n\t\t\tfiltered = $.grep( left, function(k,v) {\n\t\t\t\treturn right.indexOf(k) >= 0;\n\t\t\t});\n\n\t\t\treturn ( filtered.length === left.length ) ? false : true;\n\n\t\t},\n\n\t\tguid: function() {\n\t\t\treturn 'xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\t    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n\t\t\t    return v.toString(16);\n\t\t\t});\n\t\t},\n\n\t\toutside: function(el,cb) {\n\n\t\t\t$('html').on('click.outside', function(e) {\n\t\t\t\t$('html').off('.outside');\n\t\t\t\tif ($(e.target).closest(el).length <= 0) {\n\t\t\t\t\tcb.call(el);\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\trtrim: function(str,charlist) {\n\n\t\t\t// http://phpjs.org/functions/rtrim\n\n\t\t\tcharlist = !charlist ? ' \\\\s\\u00A0' : (charlist + '').replace(/([\\[\\]\\(\\)\\.\\?\\/\\*\\{\\}\\+\\$\\^\\:])/g, '\\\\$1');\n\n\t\t\tvar re = new RegExp('[' + charlist + ']+$', 'g');\n\n\t\t\treturn (str + '').replace(re, '');\n\n\t\t},\n\n\t\tstrcon: function(haystack,needle) {\n\n\t\t\tvar i, len, ret = false;\n\n\t\t\tfor ( i = 0, len = haystack.length; i < len; i++ ) {\n\n\t\t\t\tif ( haystack[i].indexOf(needle) >= 0 ) {\n\n\t\t\t\t\tret = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn ret;\n\n\t\t},\n\n\t\tstristr: function(haystack,needle,bool) {\n\n\t\t\t// http://phpjs.org/functions/stristr\n\n\t\t\tvar pos = 0;\n\n\t\t\thaystack += '';\n\t\t\tpos = haystack.toLowerCase().indexOf( ( needle + '' ).toLowerCase() );\n\n\t\t\tif (pos == -1) {\n\n\t\t\t\treturn false;\n\n\t\t\t} else {\n\n\t\t\t\tif (bool) {\n\n\t\t\t\t\treturn haystack.substr(0, pos);\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn haystack.slice(pos);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tunique: function(arr) {\n\n\t\t\tvar temp = [];\n\n\t\t\t$.each( arr, function(k,v) {\n\t\t\t\tif ( temp.indexOf(v) < 0 ) {\n\t\t\t\t\ttemp.push(v);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn temp;\n\n\t\t},\n\n\t\tuniqueObjects: function(arr) {\n\n\t\t\tvar filtered = [];\n\n\t\t\t$.each( arr, function() {\n\n\t\t\t\tvar parent\t= this,\n\t\t\t\t\tdupe\t= false;\n\n\t\t\t\tif ( filtered.length <= 0 ) { filtered.push(this); return; }\n\n\t\t\t\t$.each( filtered, function() {\n\n\t\t\t\t\tvar a = JSON.stringify(this),\n\t\t\t\t\t\tb = JSON.stringify(parent);\n\n\t\t\t\t\tif ( a == b ) { dupe = true; return; }\n\n\t\t\t\t});\n\n\t\t\t\tif (!dupe) { filtered.push(this); }\n\n\t\t\t});\n\n\t\t\treturn filtered;\n\n\t\t},\n\n\t\tviewport_area: function() {\n\n\t\t\tif ( $('#mid-content').length > 0 ) {\n\n\t\t\t\tvar item = $('#content_list > li').first(),\n\t\t\t\tmidOff\t= $('#mid-content').offset(),\n\t\t\t\tmidWidth\t= $('#mid-content').width(),\n\t\t\t\tmidHeight\t= ( $('#mid-menu-bot').offset().top ) - ( midOff.top ),\n\t\t\t\tcol\t\t\t= Math.floor( midWidth / item.outerWidth(true) ),\n\t\t\t\trow\t\t\t= Math.floor( midHeight / item.outerHeight(true) );\n\n\t\t\t\treturn {\n\t\t\t\t\tcol\t\t: col,\n\t\t\t\t\trow\t\t: row,\n\t\t\t\t\ttotal\t: col * ( row + 5 ),\n\t\t\t\t\twidth\t: midWidth,\n\t\t\t\t\theight\t: midHeight\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tframework = {\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.cache()\n\n\t\t\tPARAMS: prop (object|string)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.cache\n\n\t\t\tEXAMPLE:\n\t\t\tthis.cache('<div/>');\n\t\t\tthis.cache($('#id'));\n\n\n\t\t****************************************************************************************************************/\n\n\t\tcache: function(prop) {\n\n\t\t\tvar type = ( prop instanceof Object ) ? 'val' : 'key';\n\n\t\t\tif ( type === 'key' ) {\n\t\t\t\tthis.internalcache._current = prop;\n\t\t\t} else {\n\t\t\t\tthis.internalcache[this.internalcache._current] = {\n\t\t\t\t\tsrc\t\t: prop.html(),\n\t\t\t\t\tscroll\t: prop.closest('.scroll_wrapper').scrollTop()\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.change()\n\n\t\t\tPARAMS: name (string)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.change checks for a defined interface, if it finds one already defined it uses that one, otherwise it will\n\t\t\tcreate a new interface.\n\n\t\t\tEXAMPLE:\n\t\t\tthis.change('login',$('#container'));\n\n\n\t\t****************************************************************************************************************/\n\n\t\tchange: function(name,cb) {\n\n\t\t\tif ( this.observers && this.observers['interface'] ) {\n\t\t\t\tif ( this.interfaces[name] ) {\n\t\t\t\t\tdelete this.interfaces[name];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.create(name,cb);\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.cookie()\n\n\t\t\tPARAMS: key (string), val (string), expire (number)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.cookie sets and/or retrieves a cookie. The expire param is the expiration of the cookie set in days. It is\n\t\t\tset to 30 days by default.\n\n\t\t\tEXAMPLE:\n\t\t\t// Set a cookie\n\t\t\tK.cookie( 'foo', 'bar' );\n\n\t\t\t// Retrieve a cookie\n\t\t\tK.cookie( 'foo' ); // Will return bar\n\n\t\t\t// Expire a cookie\n\t\t\tK.cookie( 'foo', null );\n\n\n\t\t****************************************************************************************************************/\n\n\t\tcookie: function(key, val, expire) {\n\n\t\t\tvar date\t= new Date(),\n\t\t\t\texpires = '',\n\t\t\t\tpath = key === 'preview' || key === 'share_to_tumblr' ? '/' : this.config.paths.admin.replace(window.location.protocol + '//' + window.location.host, ''),\n\t\t\t\tparts, i, len, item, name;\n\n\t\t\t// Specifically check for undefined here, as false signifies we want cookie to expire when browser is closed\n\t\t\texpire = expire === undefined ? 30 : expire;\n\n\t\t\tif ( val === null ) {\n\n\t\t\t\texpires = 'expires=' + date.setTime( date.getTime() + ( -1 * 24 * 60 * 60 * 1000 ) ) + date.toGMTString();\n\n\t\t\t\tdocument.cookie = key + '=' + val + ';' + expires + '; path=' + path;\n\n\t\t\t} else if ( val ) {\n\n\t\t\t\tif ( expire ) {\n\n\t\t\t\t\tdate.setTime( date.getTime() + ( expire * 24 * 60 * 60 * 1000 ) );\n\n\t\t\t\t\texpires = '; expires=' + date.toGMTString();\n\n\t\t\t\t}\n\n\t\t\t\tdocument.cookie = key + '=' + JSON.stringify(val) + expires + '; path=' + path;\n\n\t\t\t}\n\n\t\t\tif ( arguments.length > 0 ) {\n\n\t\t\t\tparts\t= document.cookie.split(';');\n\t\t\t\tname\t= key + '=';\n\n\t\t\t\tfor ( i = 0, len = parts.length; i < len; i++ ) {\n\n\t\t\t\t\titem = parts[i].trim();\n\n\t\t\t\t\tif ( item.indexOf(name) === 0 ) {\n\n\t\t\t\t\t\treturn JSON.parse( decodeURIComponent(item).substring(name.length, item.length) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.create()\n\n\t\t\tPARAMS: name (string)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.create creates a new interface, pass in the name of the interface and it will do the rest. This method\n\t\t\tmakes an assumption that you have setup a matching template called [name].tmpl.html in the templates directory.\n\n\t\t\tEXAMPLE:\n\t\t\tthis.create('login');\n\n\n\t\t****************************************************************************************************************/\n\n\t\tcreate: function(name,cb) {\n\n\t\t\tif ( !name ) { return; }\n\n\t\t\tvar self = this;\n\n\t\t\tvar rebuildInheritance = function(name,type) {\n\n\t\t\t\tvar alteredSubclass = this.subclass({});\n\n\t\t\t\tfor ( var k in this.interfaces.app[type] ) {\n\t\t\t\t\tif ( this.interfaces.app[type].hasOwnProperty(k) ) {\n\t\t\t\t\t\talteredSubclass[k] = this.interfaces.app[type][k];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.subclass.call( alteredSubclass, ( typeof this[name][type] === 'function' ) ? this[name][type].call(this) : this[name][type] );\n\n\t\t\t};\n\n\t\t\tvar GUI = function() {\n\n\t\t\t\tvar req;\n\n\t\t\t\tif (config.reserved.indexOf(name) !== -1) {\n\t\t\t\t\treq = this.config.paths.base_relative + 'admin/templates/' + name + '.tmpl.html?1502123397177';\n\t\t\t\t} else {\n\t\t\t\t\treq = this.config.paths.base_relative + 'storage/plugins/koken-hook-example/plugin.tmpl.html?1502123397177';\n\t\t\t\t}\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: req,\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar self = this.interfaces[name];\n\n\t\t\t\t\t\tthis.interfaces.active = {\n\t\t\t\t\t\t\tid: name\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Clear previous bindings\n\t\t\t\t\t\t$('body').off('keydown').off();\n\t\t\t\t\t\t$(document).off('mouseover,mouseout');\n\n\t\t\t\t\t\t// Clear previous pub/subs\n\t\t\t\t\t\tthis.pubsub('reset');\n\n\t\t\t\t\t\t$('#templates').append(data);\n\n\t\t\t\t\t\tif ( this[name].observers ) {\n\t\t\t\t\t\t\tthis.observers = ( name !== 'app' && this[name].observers ) ? rebuildInheritance.call(this, name, 'observers' ) : this.subclass( this[name].observers.call(this) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].models ) {\n\t\t\t\t\t\t\tthis.models = ( name !== 'app' && this[name].models ) ? rebuildInheritance.call(this, name, 'models' ) : this.subclass((this[name].models instanceof Function) ? this[name].models.call(this) : this[name].models);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].controllers ) {\n\t\t\t\t\t\t\tthis.controllers = ( name !== 'app' && this[name].controllers ) ? rebuildInheritance.call(this, name, 'controllers' ) : this.subclass(this[name].controllers || {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].views ) {\n\t\t\t\t\t\t\tthis.views = ( name !== 'app' && this[name].views ) ? rebuildInheritance.call( this, name, 'views' ) : this.subclass(this[name].views || {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].events ) {\n\t\t\t\t\t\t\tthis.events = ( name !== 'app' && this[name].events ) ? rebuildInheritance.call( this, name, 'events' ) : this.subclass(this[name].events || {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].router ) {\n\t\t\t\t\t\t\tthis.router = ( name !== 'app' && this[name].router ) ? rebuildInheritance.call(this, name, 'router' ) : this.subclass( this[name].router() );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this[name].exit && name !== 'app' ) {\n\t\t\t\t\t\t\tthis.exit = this[name].exit;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis[name].init && this[name].init.call(this);\n\n\t\t\t\t\t\t// Add reset method to internal ko for putting observables back to their original state\n\t\t\t\t\t\tko.subscribable.fn.reset = function() {\n\t\t\t\t\t\t\tvar obs = this;\n\t\t\t\t\t\t\tobs( obs() instanceof Array ? [] : '' );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif ( name !== 'app' && name !== 'login' ) {\n\t\t\t\t\t\t\tthis.observers['interface'](name);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( cb && cb.call ) { cb.call(this); }\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tif ( this.interfaces[name] instanceof _Koken === false ) {\n\t\t\t\tthis.interfaces[name] = this.subclass(GUI);\n\t\t\t}\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.construct()\n\n\t\t\tPARAMS: constructor (object), prototypes[arguments array] (object)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.construct is a simple constructor function to create classes with appropriate interface scope\n\n\t\t\tEXAMPLE:\n\t\t\tK.construct({ name: 'classname', fn: function() { console.log('im a class'); } });\n\n\n\t\t****************************************************************************************************************/\n\n\t\tconstruct: function(constructor) {\n\n\t\t\tvar args\t\t= Array.prototype.slice.call(arguments,1),\n\t\t\t\ti\t\t\t= 0,\n\t\t\t\tlen\t\t\t= args.length,\n\t\t\t\tself\t\t= this;\n\n\t\t\tthis.klass[constructor.name] = function() {\n\n\t\t\t\tvar context = this;\n\n\t\t\t\treturn (function() {\n\n\t\t\t\t\tvar intface\t= this.interfaces[this.interfaces.active.id],\n\t\t\t\t\t\ttemp\t= intface.subclass(context),\n\t\t\t\t\t\to;\n\n\t\t\t\t\ttemp.extend = function(id,fn) {\n\n\t\t\t\t\t\tvar args = Array.prototype.slice.call(arguments,2),\n\t\t\t\t\t\t\tself = this,\n\t\t\t\t\t\t\torig = this[id];\n\n\t\t\t\t\t\tthis[id] = function() {\n\t\t\t\t\t\t\torig.apply(self,args);\n\t\t\t\t\t\t\tfn.apply(self,args);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t};\n\n\t\t\t\t\tintface.classes\t\t\t\t\t\t= intface.classes || {};\n\t\t\t\t\tintface.classes[constructor.name]\t= intface.classes[constructor.name] || intface.subclass({});\n\t\t\t\t\to\t\t\t\t\t\t\t\t\t= (function() {\n\t\t\t\t\t\tconstructor.fn.apply( this, arguments );\n\t\t\t\t\t\ttemp.id = temp.id || arguments[0];\n\t\t\t\t\t}).apply( temp, arguments );\n\n\t\t\t\t\tfor ( var key in o ) {\n\t\t\t\t\t\tif ( key !== constructor.name && o.hasOwnProperty(key) ) {\n\t\t\t\t\t\t\ttemp[key] = o[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn intface.classes[constructor.name][temp.id] = temp;\n\n\t\t\t\t}).apply(self,arguments);\n\n\t\t\t};\n\n\t\t\tif ( len <= 0 ) { return; }\n\n\t\t\tdo {\n\t\t\t\tself.klass[constructor.name].prototype[args[i].name] = args[i].fn;\n\t\t\t\ti++;\n\t\t\t} while ( i < len );\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.map()\n\n\t\t\tPARAMS: observer (object), data (object), exclude (array)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.map is used to turn JSON into proper knockout observable/observable arrays\n\n\t\t\tEXAMPLE:\n\t\t\tK.map()\n\n\n\t\t****************************************************************************************************************/\n\n\t\tmap: function(observer,data,exclude) {\n\n\t\t\tif ( $.isEmptyObject(data) ) { return false; }\n\n\t\t\tvar val,\n\n\t\t\twrap = function(obs,data,recur) {\n\n\t\t\t\tfor ( var k in data ) {\n\n\t\t\t\t\tval = data[k];\n\n\t\t\t\t\tif ( val instanceof Object && ! $.isArray(val) ) {\n\t\t\t\t\t\twrap( obs[k] = obs[k] || {}, val, true );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( exclude && exclude.indexOf(k) >= 0 ) {\n\t\t\t\t\t\t\tobs[k] = val;\n\t\t\t\t\t\t} else if (obs[k]) {\n\t\t\t\t\t\t\tif ( obs[k] instanceof Function ) {\n\t\t\t\t\t\t\t\tobs[k](val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobs[k] = ( $.isArray(val) ) ? ko.observableArray(val) : ko.observable(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (!recur) { return obs; }\n\n\t\t\t};\n\n\t\t\tobserver = wrap(observer,data);\n\n\t\t},\n\n\t\tnotify: function() {\n\n\t\t\tvar e\t\t\t= $('#notifications'),\n\t\t\t\ttemplate\t= $('#notify_mu'),\n\t\t\t\tnote, label, txt, msg, origH;\n\n\t\t\te.append( template.html() );\n\n\t\t\tnote\t\t\t= e.find('.note').last();\n\t\t\tlabel\t\t\t= note.find('.icon:first');\n\t\t\ttxt\t\t\t\t= note.find('.text:first');\n\n\t\t\te.height('auto');\n\t\t\tif (e.find('.note').length === 1) {\n\t\t\t\te.hide();\n\t\t\t}\n\t\t\tnote.hide();\n\n\t\t\tvar init = function(obj, type) {\n\n\t\t\t\tif (typeof obj == 'object') {\n\t\t\t\t\tvar key = obj.shift();\n\t\t\t\t\tif (!K.messages[key]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tmsg = vsprintf(K.messages[key], obj);\n\t\t\t\t} else {\n\t\t\t\t\tmsg = obj;\n\t\t\t\t}\n\n\t\t\t\tif (type === 'wait') {\n\t\t\t\t\tmsg += '';\n\t\t\t\t}\n\n\t\t\t\ttxt.html(msg);\n\t\t\t\tlabel.removeClass('note-success note-warn note-wait').addClass('icon note-' + type);\n\n\t\t\t\tif (!e.is(':visible')) {\n\t\t\t\t\tnote.show();\n\t\t\t\t\te.fadeIn();\n\t\t\t\t} else {\n\t\t\t\t\tnote.fadeIn();\n\t\t\t\t}\n\n\t\t\t\tif (type != 'wait') {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (e.find('.note').length === 1) {\n\t\t\t\t\t\t\te.fadeOut(null, function() {\n\t\t\t\t\t\t\t\tnote.remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.fadeOut(null, function() {\n\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 4000);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn {\n\n\t\t\t\twarn: function(obj) {\n\t\t\t\t\tinit(obj, 'warn');\n\t\t\t\t},\n\n\t\t\t\tsuccess: function(obj) {\n\t\t\t\t\tinit(obj, 'success');\n\t\t\t\t},\n\n\t\t\t\twait: function(obj) {\n\t\t\t\t\tinit(obj, 'wait');\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.pubsub\n\n\t\t\tPARAMS: none\n\n\t\t\tDESCRIPTION:\n\t\t\tK.pubsub utilizes jqueries binds to make a basic pub/sub system\n\n\t\t\tEXAMPLE:\n\t\t\tK.pubsub()\n\n\n\t\t****************************************************************************************************************/\n\n\t\tpubsub: function(namespace,opt) {\n\n\t\t\tvar self = this;\n\n\t\t\tif ( ! this.pubsub._subs ) { this.pubsub._subs = []; }\n\n\t\t\tvar subscribe = function() {\n\n\t\t\t\tif ( self.pubsub._subs.indexOf(namespace) >= 0 ) { return; }\n\n\t\t\t\t$(self.interfaces.app).bind( namespace, opt );\n\t\t\t\tself.pubsub._subs.push(namespace);\n\n\t\t\t};\n\n\t\t\tvar trigger = function() {\n\t\t\t\t$(self.interfaces.app).trigger( namespace, opt );\n\t\t\t};\n\n\t\t\tif ( opt && opt instanceof Function ) {\n\t\t\t\tsubscribe();\n\t\t\t} else if ( namespace !== 'reset' ) {\n\t\t\t\ttrigger();\n\t\t\t} else if ( namespace === 'reset' ) {\n\t\t\t\t$(self.interfaces.app).unbind();\n\t\t\t\tthis.pubsub._subs = [];\n\t\t\t}\n\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.queue\n\n\t\t\tPARAMS: ajax paramaters [see api.jquery.com/jQuery.ajax] (object)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.queue is used to queue up ajax requests from K.sync. It shouldn't ever be called directly as all ajax request\n\t\t\tshould be passing through K.sync. Its simply here in core to make it easier to keep track of a global queue.\n\n\t\t\tEXAMPLE:\n\t\t\tK.queue(params)\n\n\n\t\t****************************************************************************************************************/\n\n\t\tqueue: function(items) {\n\n\t\t\tthis.queue.async = this.queue.async || [];\n\t\t\tthis.queue.sync = this.queue.sync || [];\n\t\t\tthis.queue.counts = this.queue.counts || {\n\t\t\t\tasync: 0,\n\t\t\t\tsync: 0,\n\t\t\t\tmax_async: 4,\n\t\t\t\tmax_sync: 1\n\t\t\t}\n\n\t\t\tif (this.system && this.system.max_parallel_requests) this.queue.counts.max_async = this.system.max_parallel_requests;\n\n\t\t\tvar self = this,\n\n\t\t\tverifyData = function(data, xhr) {\n\t\t\t\tif (xhr.status === 304 && !data && !this.rerun) {\n\t\t\t\t\tthis.cache = false;\n\t\t\t\t\tthis.rerun = true;\n\t\t\t\t\tputIntoQueue(this);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tputIntoQueue = function(item) {\n\t\t\t\tself.queue[(item.method === 'PUT' || item.method === 'DELETE') ? 'sync' : 'async'].push(item);\n\t\t\t},\n\n\t\t\trunQueue = function() {\n\t\t\t\tvar _run = function(type) {\n\t\t\t\t\tif (this.queue[type].length > 0 && this.queue.counts[type] < this.queue.counts['max_' + type]) {\n\t\t\t\t\t\tvar _item = this.queue[type].splice(0,1)[0],\n\t\t\t\t\t\t\t_method = _item.method,\n\t\t\t\t\t\t\t_success = _item.success,\n\t\t\t\t\t\t\t_error = _item.error;\n\n\t\t\t\t\t\tdelete _item.method; // jQuery xhr object doesn't filter out method which allows it to override their type parameter\n\t\t\t\t\t\tdelete _item.success;\n\t\t\t\t\t\tdelete _item.error;\n\n\t\t\t\t\t\tif (!_item.headers) _item.headers = [];\n\n\t\t\t\t\t\tif (_item.headers || _item.data || _method || _item.dataType === 'json') _item.headers['X-Koken-Auth'] = 'cookie';\n\n\t\t\t\t\t\tif (_item.data && _item.data.length > 0 || _method) _item.type = 'POST';\n\n\t\t\t\t\t\tif (_method === 'PUT' || _method === 'DELETE') {\n\t\t\t\t\t\t\t_item.headers['X-Http-Method-Override'] = _method;\n\t\t\t\t\t\t\t_item.data = ( _item.data ) ? _item.data + '&_method=' + _method : '_method=' + _method;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.queue.counts[type]++;\n\n\t\t\t\t\t\t$.ajax(_item)\n\t\t\t\t\t\t\t.done(_success)\n\t\t\t\t\t\t\t.fail(_error)\n\t\t\t\t\t\t\t.always(function() {\n\t\t\t\t\t\t\t\tself.queue.counts[type]--;\n\t\t\t\t\t\t\t\trunQueue.call(self);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_run.call(this, 'async');\n\t\t\t\t_run.call(this, 'sync');\n\t\t\t}\n\n\t\t\tif (!(items.request instanceof Array)) {\n\t\t\t\tputIntoQueue(items);\n\t\t\t} else if (items.request instanceof Array) {\n\t\t\t\tvar clonedItems = $.extend({}, items);\n\n\t\t\t\t$.each(clonedItems.request, function(i, item) {\n\t\t\t\t\tvar newRequest = $.extend({}, item);\n\n\t\t\t\t\tnewRequest.request = item.request;\n\t\t\t\t\tnewRequest.url = item.request.indexOf('.tmpl') === - 1 ? self.config.paths.base_relative + 'api.php?/' + item.request : item.request;\n\n\t\t\t\t\tif (clonedItems.headers || clonedItems.data || clonedItems.method) {\n\t\t\t\t\t\tnewRequest.headers = [];\n\n\t\t\t\t\t\tif (clonedItems.data && clonedItems.data.length > 0 || clonedItems.method) newRequest.type = 'POST';\n\n\t\t\t\t\t\tif (clonedItems.method === 'PUT' || clonedItems.method === 'DELETE') {\n\t\t\t\t\t\t\tnewRequest.headers['X-Http-Method-Override'] = clonedItems.method;\n\t\t\t\t\t\t\tnewRequest.data = ( clonedItems.data ) ? clonedItems.data + '&_method=' + clonedItems.method : '_method=' + clonedItems.method;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i < (clonedItems.request.length - 1)) {\n\t\t\t\t\t\tnewRequest.success = function(data, status, xhr) {\n\t\t\t\t\t\t\tif (verifyData.call(newRequest, data, xhr)) {\n\t\t\t\t\t\t\t\tif (data.error === 'Unable to parse the info.json file for this theme.') {\n\t\t\t\t\t        \t\tnew self.klass.modal('bindingsError', 'bindings_error_modal', {\n\t\t\t\t        \t\t\t\thasKeepCancel: {\n\t\t\t\t        \t\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t\t        \t\t\t\t},\n\t\t\t\t        \t\t\t\tmsg: 'Koken has detected a formatting error in your theme\\'s info.json file. If developing your own theme, please check the file and try again. You may also switch to a different theme to resolve this issue.'\n\t\t\t\t        \t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\titem.finished && item.finished.call(clonedItems.context || this, ( data.length === 1 ) ? data.shift() : data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (i === (items.request.length - 1)) {\n\t\t\t\t\t\tnewRequest.success = function(data, status, xhr) {\n\t\t\t\t\t\t\tif (verifyData.call(newRequest, data, xhr)) {\n\t\t\t\t\t\t\t\tvar _data = ( data.length === 1 ) ? data.shift() : data;\n\t\t\t\t\t\t\t\titem.finished && item.finished.call(clonedItems.context || this, _data);\n\t\t\t\t\t\t\t\tclonedItems.finished && clonedItems.finished.call(clonedItems.context || this, _data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tputIntoQueue(newRequest);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\trunQueue.call(this);\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.router()\n\n\t\t\tPARAMS: none\n\n\t\t\tDESCRIPTION:\n\t\t\tK.router only needs to be run by the K.hashchange method, should not be invoked outside of that function\n\n\t\t\tEXAMPLE:\n\t\t\tK.router()\n\n\n\t\t****************************************************************************************************************/\n\n\t\trouter: function(fragment) {\n\n\t\t\tvar plugin_paths\t\t= this.config.plugin_paths || [];\n\n\t\t\tif ( typeof plugin_paths !== 'string' ) {\n\t\t\t\t$.each(this.interfaces.app.observers.channels(), function(i, channel) {\n\t\t\t\t\tplugin_paths.push(channel.id);\n\t\t\t\t});\n\n\t\t\t\tif ( plugin_paths.length > 0 ) {\n\t\t\t\t\tplugin_paths = this.config.plugin_paths = '|' + plugin_paths.join('|');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar regx\t\t\t\t= '^\\\\/(library|text|site|settings|store|plugins' + plugin_paths + ')\\\\/?(.*)?\\\\/?$',\n\t\t\t\tparts\t\t\t\t= fragment.match(new RegExp(regx)),\n\t\t\t\ttarget_interface\t= parts ? parts[1] : 'library',\n\t\t\t\tlocal\t\t\t\t= parts && parts[2] ? parts[2] : false,\n\t\t\t\tself\t\t\t\t= this,\n\t\t\t\treg, doesMatch, matches;\n\n\t\t\tif ( this.interfaces[this.interfaces.active.id].observers.hasChanges ) {\n\t\t\t\tif ( this.interfaces[this.interfaces.active.id].observers.hasChanges() ) {\n\t\t\t\t\tvar c_leave = function() {\n\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.hasChanges(false);\n\t\t\t\t\t\t$.bbq.removeState( $.param.fragment() );\n\t\t\t\t\t\t$.bbq.pushState( self.hash, 2 );\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.hasChanges(true);\n\t\t\t\t\t\t},10);\n\t\t\t\t\t}\n\t\t\t\t\tvar k_leave = function() {\n\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.hasChanges(false);\n\t\t\t\t\t\tif ( $.param.fragment().split('/').length > 0 ) {\n\t\t\t\t\t\t\tself.router( $.param.fragment() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(document)\n\t\t\t\t\t\t.off('click.schanges')\n\t\t\t\t\t\t.on( 'click.schanges', '#cancel_leave', c_leave)\n\t\t\t\t\t\t.on( 'click.schanges', '#keep_leave', k_leave);\n\n\t\t\t\t\tthis.interfaces[this.interfaces.active.id].classes.modal.unsaved_changes.show();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// This sets the url of the main nav item to the current hash so that when a user returns to an\n\t\t\t// interface they pick up where they left off\n\t\t\t// Splitting by /install here to ensure store installation links don't get re-ran\n\t\t\tif (local && local.indexOf('upload') === -1) {\n\t\t\t\t$('#main-nav a[class~=\"' + target_interface + '-interface\"]').attr('href', '#' + fragment.split('/install')[0]);\n\t\t\t}\n\n\t\t\t// Prevents scroll tracks from jumpiness when toggling between views that switch in/out of having scrollbars\n\t\t\t$('.scroll_track').css('opacity','0');\n\n\t\t\tif ( this.interfaces.active.id !== target_interface ) {\n\n\t\t\t\t$('#edit-area').length && $('#edit-area').remove();\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself[self.active.id].exit && self[self.active.id].exit();\n\t\t\t\t\tself.change.apply( self.app, [ target_interface, function() {\n\t\t\t\t\t\tself.interfaces.router( fragment );\n\t\t\t\t\t}]);\n\t\t\t\t});\n\n\t\t\t} else {\n\n\t\t\t\tvar intface = this.interfaces[this.interfaces.active.id];\n\n\t\t\t\tvar pluginCleanup = function() {\n\t\t\t\t\tif (intface.plugins) {\n\t\t\t\t\t\t$.each(intface.plugins, function(i, plugin) {\n\t\t\t\t\t\t\tif (plugin.rendered.length > 0) {\n\t\t\t\t\t\t\t\t$.each(plugin.rendered, function(j, rendered) {\n\t\t\t\t\t\t\t\t\trendered.remove();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.hash = fragment;\n\n\t\t\t\t$('.redactor_air').remove();\n\t\t\t\t$('.redactor_dropdown').remove();\n\n\t\t\t\tif ( (!local || local.length === 0) && intface.router['default'] ) {\n\n\t\t\t\t\tpluginCleanup();\n\t\t\t\t\tintface.router['default'].apply( intface );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif (intface.plugins) {\n\t\t\t\t\t$.each(intface.plugins, function(i, plugin) {\n\t\t\t\t\t\tif (plugin.routes.length > 0) {\n\t\t\t\t\t\t\t$.each(plugin.routes, function(j, route) {\n\t\t\t\t\t\t\t\tif (route._interface === intface.classes.app.koken.channel) {\n\t\t\t\t\t\t\t\t\tintface.router[route._path] = route._callback;\n\t\t\t\t\t\t\t\t\tintface.router[route._path].plugin = route._context;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tvar _routes = [];\n\n\t\t\t\tfor( var r in intface.router ) {\n\t\t\t\t\tif ( intface.router.hasOwnProperty(r) && r != 'default'  ) {\n\t\t\t\t\t\t_routes.push(r);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (_routes.length > 0) {\n\t\t\t\t\t_routes.sort(function(a,b) {\n\t\t\t\t\t\treturn (a.length > b.length) ? -1 : 1;\n\t\t\t\t\t});\n\n\t\t\t\t\t$.each(_routes, function(i, route) {\n\t\t\t\t\t\treg = new RegExp(route);\n\t\t\t\t\t\tdoesMatch = reg.test(local);\n\n\t\t\t\t\t\tif (doesMatch) {\n\t\t\t\t\t\t\tmatches = local.match(reg);\n\t\t\t\t\t\t\tif (intface.router[route].plugin) {\n\t\t\t\t\t\t\t\tif (fragment.indexOf('upload') !== -1 && intface.observers.view() !== 'upload') {\n\t\t\t\t\t\t\t\t\tintface.observers.pluginPath(fragment);\n\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/upload', 2 );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (!self.app.classes.app.koken.lastLocal) intface.router['default'].apply( intface );\n\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\tintface.router[route].apply(intface.router[route].plugin, [matches]);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpluginCleanup();\n\t\t\t\t\t\t\t\tintface.router[route].apply(intface, [matches]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.app.classes.app.koken.lastLocal = local;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Nothing matched, hit the default if it exists\n\t\t\t\tif ( intface.router['default'] && !doesMatch ) {\n\n\t\t\t\t\tpluginCleanup();\n\t\t\t\t\tintface.router['default'].apply( intface, [ local ] );\n\t\t\t\t\tself.app.classes.app.koken.lastLocal = local;\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tsession: function() {\n\n\t\t\tif (arguments.length) {\n\n\t\t\t\tvar data = arguments[0];\n\n\t\t\t\tthis._session = data;\n\n\t\t\t} else {\n\t\t\t\treturn this._session || false;\n\t\t\t}\n\n\t\t},\n\n\t\tstore_api: function(payload, cb) {\n\t\t\tpayload.uuid = this.observers.settings.uuid();\n\t\t\t$.post(this.config.paths.store + '/console_webhook_endpoint', payload, $.proxy(function() {\n\t\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\t\tcb.call(this);\n\t\t\t\t}\n\t\t\t}, this));\n\t\t},\n\n\t\tpersist: function() {\n\n\t\t\tif (!has.localstorage) { return false; }\n\n\t\t\t// Protect these keys and their values from cache expiration\n\t\t\tvar protect = [ 'library.quick_collection' ];\n\n\t\t\tif (arguments.length === 2) {\n\t\t\t\twhile(1) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlocalStorage.setItem(arguments[0], JSON.stringify(arguments[1]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} catch( err ) {\n\t\t\t\t\t\t// Over our storage quota\n\t\t\t\t\t\t// Pop off oldest cache until we have more room\n\t\t\t\t\t\tif (err.name == 'QUOTA_EXCEEDED_ERR') {\n\t\t\t\t\t\t\tvar len = localStorage.length;\n\t\t\t\t\t\t\twhile( len-- ) {\n\t\t\t\t\t\t\t\tvar k = localStorage.key(len);\n\t\t\t\t\t\t\t\tif ($.inArray(k, protect) === -1) {\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem( k );\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// If we get here, there just isn't any room or something, so let's bail.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Some other error, better bail.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn JSON.parse( localStorage.getItem( arguments[0] ) );\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.subclass()\n\n\t\t\tPARAMS: fn (function)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.subclass initializes and sets up a subclass with proper context. It also allows you to pass in an optional function\n\t\t\tto be run during setup.\n\n\t\t\tEXAMPLE:\n\n\n\t\t****************************************************************************************************************/\n\n\t\tsubclass: function(fn) {\n\n\t\t\tvar k,\n\n\t\t\tF = function() {\n\n\t\t\t\tif ( ! ( this && this.hasOwnProperty && ( this instanceof F ) ) ) {\n\t\t\t\t\treturn new F();\n\t\t\t\t}\n\n\t\t\t\tif (fn && fn instanceof Function) {\n\t\t\t\t\tfn.call(this);\n\t\t\t\t}\n\n\t\t\t\tif (fn && fn instanceof Object) {\n\t\t\t\t\tfor (var k in fn) {\n\t\t\t\t\t\tthis[k] = fn[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\n\t\t\t};\n\n\t\t\tF.prototype = this;\n\n\t\t\treturn F();\n\n\t\t},\n\n\t\t/****************************************************************************************************************\n\n\t\t\tMETHOD: K.sync()\n\n\t\t\tPARAMS: ajax paramaters [see api.jquery.com/jQuery.ajax] (object), scope (object)\n\n\t\t\tDESCRIPTION:\n\t\t\tK.sync is a wrapper for simpler/easier ajax calls. It will automatically set GET/POST depending on\n\t\t\twhether or not it needs it. Multiple ajax calls can be made asynchronously by passing in an array\n\t\t\tof urls. If making multiple requests the success function that is passed in will not fire\n\t\t\tuntil all of the requests have completed. Conversely the error function will fire if any of the\n\t\t\trequests fails but not until its done making all of its requests. Upon failure any data it received from the\n\t\t\tsuccessful requests will be passed to the error handler. this.sync can also be passed the scope as the second\n\t\t\tparameter which will set the callback to that scope upon execution. this.sync({ request: url }) is the only\n\t\t\trequirement to make the call successful.\n\n\t\t\tEXAMPLE:\n\t\t\tthis.sync({\n\t\t\t\trequest: '/my/data/url',\n\t\t\t\tsuccess: successFunc,\n\t\t\t\terror: errorFunc,\n\t\t\t\tdata: 'passThisVar=true'\n\t\t\t});\n\n\t\t\tthis.sync({\n\t\t\t\trequest: ['/my/data/url1','/my/data/url2','/my/data/ur3','/my/data/ur4'],\n\t\t\t\tsuccess: successFunc, // Will be fired when all requests are completed\n\t\t\t\terror: errorFunc // Will fire if any requests fail after all requests have been made\n\t\t\t});\n\n\n\t\t****************************************************************************************************************/\n\n\t\tsync: function(params) {\n\n\t\t\tvar res\t\t= {},\n\t\t\t\tlen\t\t= 0,\n\t\t\t\targs\t= [].splice.call(arguments,1),\n\t\t\t\tself\t= this,\n\n\t\t\trun = function(url,index) {\n\n\t\t\t\tparams.url\t\t= url instanceof Object && url.request || url;\n\t\t\t\tparams.dataType\t= helpers.file_ext(params.url);\n\t\t\t\tparams.error\t= function(d,r,o) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\td = JSON.parse(d.responseText);\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\td = { error: true };\n\t\t\t\t\t}\n\t\t\t\t\tif (url.finished) url.finished.call( params.context || this, d );\n\t\t\t\t\tres.data[index]\t= d;\n\t\t\t\t\tvar _ctxt = this;\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tparams.finished && params.finished.call( params.context || _ctxt, ( res.data.length === 1 ) ? res.data.shift() : res.data, args );\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tparams.success\t= function(d,r,o) {\n\t\t\t\t\tif (url.finished) url.finished.call( params.context || this, d );\n\t\t\t\t\tif ( o.getResponseHeader('Content-Type') !== 'application/x-javascript' ) res.data[index] = d;\n\t\t\t\t\tvar _ctxt = this;\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tparams.finished.call( params.context || _ctxt, ( res.data.length === 1 ) ? res.data.shift() : res.data, args );\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tif ( params.dataType === 'js' ) {\n\t\t\t\t\tparams.dataType = 'script';\n\t\t\t\t} else if ( params.dataType === 'json' ) {\n\t\t\t\t\tparams.dataType = 'json';\n\t\t\t\t} else if ( params.dataType !== 'html' ) {\n\t\t\t\t\tparams.dataType = 'json';\n\t\t\t\t\tparams.url = (params.url.indexOf('://') === -1) ? self.config.paths.base + 'api.php?/' + params.url : params.url;\n\t\t\t\t}\n\n\t\t\t\tif (params.request instanceof Array && index === 0 || index === 0) self.queue(params);\n\n\t\t\t};\n\n\t\t\tparams.headers = params.headers || [];\n\n\t\t\tres.data\t= [];\n\t\t\tres.status\t= [];\n\n\t\t\t// Checks if request exists, if it does and its a string make it an array, if its already an array leave it alone,\n\t\t\t// otherwise its just a simple url so split to make an array\n\t\t\t$.each( (params.request) ? params.request.split && params.request.split(' ') || params.request : params.split(' '), function(i,key) {\n\t\t\t\tlen = i+1;\n\t\t\t\trun(key,i);\n\t\t\t});\n\n\t\t},\n\n\t\tunmap: function(data) {\n\n\t\t\tvar unwrapped,\n\n\t\t\textract = function(d,recur) {\n\n\t\t\t\tfor ( var k in d ) {\n\n\t\t\t\t\tunwrapped = ko.utils.unwrapObservable(d[k]);\n\n\t\t\t\t\tif ( unwrapped instanceof Object && unwrapped instanceof Array === false ) {\n\t\t\t\t\t\textract(d[k],true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\td[k] = unwrapped;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif (!recur) { return d; }\n\n\t\t\t};\n\n\t\t\treturn extract( $.extend( true, {}, data ) );\n\n\t\t}\n\n\t},\n\n\t// Internal Only\n\tK = function() {\n\n\t\tif ( ! ( this && this.hasOwnProperty && ( this instanceof K ) ) ) {\n\t\t\treturn new K();\n\t\t}\n\n\t\tthis.config = config || {};\n\t\tthis.has = has || {};\n\n\t\treturn this;\n\n\t},\n\n\t// Used for plugin private functions to be able to access the internal Koken [object object]\n\t__k,\n\n\t// Mapped to [window] for plugin authors\n\t__Koken = function() {\n\n\t\tvar _guid;\n\n\t\tvar _data = function() {\n\t\t\tvar plugins = __k.interfaces.app.observers.user_plugins(),\n\t\t\t\tpath = __k.plugins[this.kguid].path,\n\t\t\t\tdata = {};\n\n\t\t\tif (plugins) {\n\t\t\t\t$.each(plugins, function(i, plugin) {\n\t\t\t\t\tif (plugin.path === path) {\n\t\t\t\t\t\t$.each(plugin.data, function(i, setting) {\n\t\t\t\t\t\t\tdata[setting.key] = setting.value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t};\n\n\t\tvar _internalTemplate = function(needle,selector,plugin) {\n\n\t\t\tif (!$('#container ' + needle).length) return;\n\n\t\t\tvar existingElement;\n\t\t\tplugin.elements.length && $.each(plugin.elements, function(i, element) {\n\t\t\t\tif (element.needle == needle) {\n\t\t\t\t\texistingElement = element;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!existingElement) {\n\t\t\t\tvar existingElement = {\n\t\t\t\t\t'needle': needle,\n\t\t\t\t\t'guid': helpers.guid()\n\t\t\t\t}\n\t\t\t\tplugin.elements.push(existingElement);\n\t\t\t}\n\n\t\t\tvar _vm = this,\n\t\t\t\t_element = $('<span/>').addClass('plugin_' + plugin.kguid + ' e_' + existingElement.guid).html($('#templates ' + selector).html()),\n\t\t\t\t_obj = {};\n\n\t\t\texistingElement = $('.plugin_' + plugin.kguid + '.e_' + existingElement.guid);\n\t\t\tif (!existingElement.length) {\n\n\t\t\t\t// If the user has set an html string via _render we convert it to a template to keep bindings properly nested\n\t\t\t\tif (_vm.html) {\n\t\t\t\t\tvar templateId = 'template_' + helpers.guid(),\n\t\t\t\t\t\tinnerHtml = $('<span id=\"' + templateId + '\" />').append(_vm.html);\n\t\t\t\t\t_vm.html = templateId;\n\t\t\t\t\t$('#templates').append(innerHtml);\n\t\t\t\t}\n\n\t\t\t\t// Create model and init ko for newly rendered element\n\t\t\t\tif (_vm.appendAfter) {\n\t\t\t\t\t_element = _element.insertAfter('#container ' + needle + (_vm.appendAfter ? ' [data-plugin-target=\"' + _vm.appendAfter + '\"]' : ''));\n\t\t\t\t} else {\n\t\t\t\t\t_element = _element.appendTo('#container ' + needle);\n\t\t\t\t}\n\t\t\t\tif ($.isEmptyObject(_vm)) { return; }\n\t\t\t\t__k.map(_obj, _vm);\n\t\t\t\tko.applyBindings(_obj, _element.get(0));\n\n\t\t\t} else {\n\t\t\t\t// Update view models for elements already created\n\t\t\t\tif ($.isEmptyObject(_vm)) { return; }\n\t\t\t\tif (_vm.html) delete _vm.html;\n\t\t\t\tif (existingElement.length) __k.map(ko.dataFor(existingElement.get(0)), _vm);\n\t\t\t}\n\n\t\t\treturn existingElement;\n\n\t\t}\n\n\t\tvar _hook = function(handler,cb) {\n\t\t\tif(!__k.plugins[this.kguid]) return;\n\t\t\tvar self = this;\n\t\t\t__k.plugins[this.kguid].hooks = __k.plugins[this.kguid].hooks || '.' + this.namespace;\n\t\t\t$(document).off(handler + '.' + this.namespace).on(handler + '.' + this.namespace, function(e,data) {\n\t\t\t\tvar _args = Array.prototype.slice.call(arguments, 1);\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tcb.apply($.extend({}, self, {context: $(e.target)}), _args);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tvar _route = function(interface, path, callback) {\n\t\t\tif(!__k.plugins[this.kguid]) return;\n\n\t\t\tvar parts = path.split('/').slice(1),\n\t\t\t\tobj = {},\n\t\t\t\tself = this,\n\t\t\t\tmodified_route = path.split('/').join('/');\n\n\t\t\tobj[modified_route] = function() {\n\t\t\t\tcallback.call(self);\n\t\t\t};\n\n\t\t\t__k.plugins[this.kguid].routes.push({\n\t\t\t\t_path: modified_route,\n\t\t\t\t_callback: callback,\n\t\t\t\t_interface: interface,\n\t\t\t\t_context: self\n\t\t\t});\n\n\t\t\tif (typeof __k.interfaces[interface].router !== 'function') $.extend(__k.interfaces[interface].router, obj);\n\t\t}\n\n\t\tvar _get = function(which) {\n\t\t\tvar activeInterface = __k.interfaces[__k.interfaces.active.id];\n\n\t\t\tswitch(which) {\n\t\t\t\tcase 'album' :\n\t\t\t\t\treturn activeInterface.observers.properties.album.selected();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar _channel = function(channel,callback) {\n\t\t\t__k.interfaces.app.observers.channels.push(channel);\n\t\t\tvar _kproto = _Koken.prototype[channel.id] = {};\n\t\t\tcallback && callback.call(_kproto);\n\t\t}\n\n\t\tvar _change = {\n\t\t\tview: function(id) {\n\t\t\t\tif ( __k.interfaces.active.id === 'settings' ) {\n\t\t\t\t\t__k.interfaces.settings.observers.state.view(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar _event = function(type,callback) {\n\t\t\tif(!__k.plugins[this.kguid]) return;\n\t\t\tvar self = this;\n\t\t\t__k.plugins[this.kguid].events.push({\n\t\t\t\t_type: type,\n\t\t\t\t_callback: callback,\n\t\t\t\t_context: self\n\t\t\t});\n\t\t}\n\n\t\tvar _validate = function(selector) {\n\t\t\tif (typeof selector === 'boolean') {\n\t\t\t\t$(document).off('.validate_' + $('.ui-sheet.active').attr('id'));\n\t\t\t\t__k.interfaces.app.observers.valid(selector);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\t__k.interfaces[__k.interfaces.active.id].classes.form_validation[__k.interfaces.active.id].valid(selector,true);\n\t\t\t}\n\t\t}\n\n\t\tvar _internalKokenTemplates = {\n\t\t\t'koken.library.albumSidebar': {\n\t\t\t\tid: 'kokenLibrarySidebar',\n\t\t\t\tselector: '#album_side div[data-event=\"sidebar\"]',\n\t\t\t\tcallback: function(args) {\n\t\t\t\t\tvar item = __k.unmap(__k.interfaces.library.observers.sidebar.asset);\n\t\t\t\t\titem.save = function(data, instant) {\n\t\t\t\t\t\tinstant = instant || false;\n\t\t\t\t\t\tdata.id = __k.interfaces.library.observers.sidebar.asset.id();\n\t\t\t\t\t\t__k.interfaces.library.controllers.update(item.album_type ? 'albums' : 'content', data, {instant: instant});\n\t\t\t\t\t};\n\t\t\t\t\targs.push(item);\n\n\t\t\t\t\treturn args;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.library.sidebar': {\n\t\t\t\tid: 'kokenLibrarySidebar',\n\t\t\t\tselector: '#content_side div[data-event=\"sidebar\"]',\n\t\t\t\tcallback: function(args) {\n\t\t\t\t\tvar item = __k.unmap(__k.interfaces.library.observers.sidebar.asset);\n\t\t\t\t\titem.save = function(data) {\n\t\t\t\t\t\tdata.id = __k.interfaces.library.observers.sidebar.asset.id();\n\t\t\t\t\t\t__k.interfaces.library.controllers.update(item.album_type ? 'albums' : 'content', data);\n\t\t\t\t\t};\n\t\t\t\t\targs.push(item);\n\n\t\t\t\t\t$('input[type=\"ccolor\"]').spectrum({\n\t\t\t\t\t\tshowInput: true,\n\t\t\t\t\t\thide: function(color) {\n\t\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn args;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.library.multiSidebar': {\n\t\t\t\tid: 'kokenLibrarySidebar',\n\t\t\t\tselector: '#multi_side div[data-event=\"sidebar\"]',\n\t\t\t\tcallback: function(args) {\n\t\t\t\t\tvar items = [];\n\t\t\t\t\t$.each(__k.interfaces.library.observers.selection(), function(i, asset) {\n\n\t\t\t\t\t\tvar item = __k.unmap(__k.interfaces.library.controllers.get_asset_by_id(asset));\n\t\t\t\t\t\titem.save = function(data) {\n\t\t\t\t\t\t\tdata.id = item.id;\n\t\t\t\t\t\t\t__k.interfaces.library.controllers.update(item.album_type ? 'albums' : 'content', data);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\titems.push(item);\n\t\t\t\t\t});\n\t\t\t\t\targs.push(items);\n\n\t\t\t\t\treturn args\n\t\t\t\t},\n\t\t\t},\n\t\t\t'koken.library.navigation': {\n\t\t\t\tid: 'kokenLibraryNavigation',\n\t\t\t\tselector: '#content_subnav .lib-nav:first',\n\t\t\t\tcallback: function() {\n\t\t\t\t\t__k.interfaces.library.controllers.set_current_nav();\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.sheet.section': {\n\t\t\t\tid: 'kokenSheetSection',\n\t\t\t\tselector: function() {\n\t\t\t\t\tvar self = this.interfaces[this.interfaces.active.id],\n\t\t\t\t\t\tid = '';\n\t\t\t\t\t$('#container').find('.ui-sheet').each( function() {\n\t\t\t\t\t\tif (self.observers.sheets[$(this).attr('id')].active()) {\n\t\t\t\t\t\t\tid = $(this).attr('id');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn '#' + id + ' .import_sheet_sections';\n\t\t\t\t}\n\t\t\t},\n\t\t\t'koken.settings.edit.top': {\n\t\t\t\tid: 'kokenSettingsEdit',\n\t\t\t\tselector: '#plugin_opt_top'\n\t\t\t},\n\t\t\t'koken.settings.edit.bottom': {\n\t\t\t\tid: 'kokenSettingsEdit',\n\t\t\t\tselector: '#plugin_opt_bot'\n\t\t\t}\n\t\t}\n\n\t\tvar _reloadLibraryContent = function() {\n\t\t\t__k.interfaces.library.observers.api_url('');\n\t\t}\n\n\t\tvar _render = function(id,selector,callback) {\n\t\t\tif(!__k.plugins[this.kguid]){return;}\n\t\t\tif(id.indexOf('koken.') != -1) {\n\t\t\t\t// If selector is a function, execute it\n\t\t\t\tif (typeof _internalKokenTemplates[id].selector === 'function') _internalKokenTemplates[id].selector = _internalKokenTemplates[id].selector.call(__k);\n\n\t\t\t\t// Process internal template and return rendered element if necessary\n\t\t\t\tif (_internalKokenTemplates[id]) var _renderedElement = _internalTemplate.call(selector || {}, _internalKokenTemplates[id].selector, '#' + _internalKokenTemplates[id].id, this);\n\n\t\t\t\t// Execute internal and plugin callbacks if necessary\n\t\t\t\trequestAnimationFrame($.proxy(function() {\n\t\t\t\t\tvar args = [];\n\t\t\t\t\tif (_internalKokenTemplates[id].callback) args = _internalKokenTemplates[id].callback.call(this, [_renderedElement]);\n\t\t\t\t\t_renderedElement && callback && callback.apply(this, args);\n\t\t\t\t}, this));\n\t\t\t} else {\n\t\t\t\tselector = selector || this.context || $('#container');\n\t\t\t\tvar _template = $('#templates').find('#' + id),\n\t\t\t\t\t_selector = typeof selector === 'object' ? selector : $(selector),\n\t\t\t\t\t_vm = function() {},\n\t\t\t\t\tself = this;\n\n\t\t\t\t_vm.prototype.__selector__ = _selector;\n\n\t\t\t\tif (_template.find('div[data-bind]').length <= 0) {\n\t\t\t\t\tvar _toAppend = $(_template.html());\n\t\t\t\t\t_toAppend.data('kguid', this.kguid);\n\t\t\t\t\t_selector.append(_toAppend);\n\t\t\t\t\t__k.plugins[this.kguid].rendered.push(_toAppend);\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$(_template.html()).first().get(0) && ko.applyBindings(new _vm(), $(_template.html()).first().get(0));\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\tcallback && callback.call(self);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar _scrollbar = function(id) {\n\t\t\treturn __k.interfaces.app.classes.scrollbar[id];\n\t\t}\n\n\t\tvar _save = function(obj, cb) {\n\t\t\tvar payload = [],\n\t\t\t\tupdated = [],\n\t\t\t\tplugin,\n\t\t\t\tself = this;\n\n\t\t\tvar plugin = ko.utils.arrayFirst(__k.interfaces.app.observers.user_plugins(), function(item) {\n\t\t\t\treturn item.path == __k.plugins[self.kguid].path;\n\t\t\t});\n\n\t\t\t$.each(plugin.data, function(i, data) {\n\t\t\t\tif (obj[data.key] !== undefined && obj[data.key] !== data.value) {\n\t\t\t\t\tpayload.push(data.key + '=' + obj[data.key]);\n\t\t\t\t\tdata.value = obj[data.key];\n\t\t\t\t}\n\t\t\t\tupdated.push(data);\n\t\t\t});\n\n\t\t\t__k.sync({\n\t\t\t\trequest: 'plugins/' + plugin.id,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: payload.join('&'),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data && data.error) {\n\t\t\t\t\t\tcb && cb.call(this, data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplugin.data = updated;\n\t\t\t\t\t\tcb && cb.call(this, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tvar _sync = function(obj) {\n\t\t\tobj = $.extend({\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: '',\n\t\t\t\tfinished: false\n\t\t\t}, obj);\n\n\t\t\t__k.sync((!obj.action) ? obj : {\n\t\t\t\trequest: 'plugins/call/plugin:' + __k.plugins[this.kguid].path + '/method:' + obj.action,\n\t\t\t\tmethod: obj.method === 'GET' ? false : obj.method,\n\t\t\t\tdata: obj.data,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: obj.finished\n\t\t\t});\n\t\t}\n\n\t\tvar _sheet = function(id) {\n\t\t\tvar self = this,\n\t\t\t\tsheet = __k.interfaces[__k.interfaces.active.id].observers.sheets[id];\n\n\t\t\tif (!sheet.plugins) sheet.plugins = {};\n\t\t\tif (!sheet.plugins[this.kguid]) sheet.plugins[this.kguid] = {};\n\n\t\t\treturn {\n\t\t\t\tdisplay: function(callback) {\n\t\t\t\t\tif (callback) sheet.plugins[self.kguid].onload = function() {\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tcallback.call(self);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t__k.interfaces.app.events.toggle_sheet.call(__k.interfaces[__k.interfaces.active.id], id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\n\t\t\textend: function(path, hasTemplate, cb) {\n\t\t\t\t_guid = helpers.guid();\n\n\t\t\t\tvar props = {},\n\t\t\t\t\ttemplates;\n\n\t\t\t\tvar _cb = (function(__callback) {\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tprops = {\n\t\t\t\t\t\tkguid: self.kguid,\n\t\t\t\t\t\telements: [],\n\t\t\t\t\t\tnamespace: 'plugin_' + helpers.guid(),\n\t\t\t\t\t\tchannel: _channel,\n\t\t\t\t\t\tchange: _change,\n\t\t\t\t\t\tevent: _event,\n\t\t\t\t\t\tget: _get,\n\t\t\t\t\t\thook: _hook,\n\t\t\t\t\t\tnotify: framework.notify,\n\t\t\t\t\t\tsync: _sync,\n\t\t\t\t\t\tscrollbar: _scrollbar,\n\t\t\t\t\t\tsave: _save,\n\t\t\t\t\t\tsheet: _sheet,\n\t\t\t\t\t\tdata: _data,\n\t\t\t\t\t\troute: _route,\n\t\t\t\t\t\trender: _render,\n\t\t\t\t\t\treloadLibraryContent: _reloadLibraryContent,\n\t\t\t\t\t\tutilities: $.extend(helpers, {cookie: framework.cookie}, {map: framework.map}, {persist: framework.persist}),\n\t\t\t\t\t\tvalidate: _validate,\n\t\t\t\t\t\tconfig: __k.config\n\t\t\t\t\t};\n\n\t\t\t\t\tvar __init = function(data) {\n\t\t\t\t\t\tcb.call(props);\n\t\t\t\t\t\tif (data) __k.plugins[props.kguid].templates = data;\n\t\t\t\t\t\t__callback && __callback();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!cb) return;\n\n\t\t\t\t\tif (!hasTemplate) {\n\t\t\t\t\t\t__init();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t__k.sync({\n\t\t\t\t\t\t\trequest: __k.config.paths.base_relative + 'storage/plugins/' + path + '/console/plugin.tmpl.html?1502123397177',\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t$('#templates').append(data);\n\t\t\t\t\t\t\t\t__init(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar _update = function(callback) {\n\t\t\t\t\tvar doesHaveTemplates = this.templates,\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tvar reinit = function(data) {\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: '../api.php?/plugins/css',\n\t\t\t\t\t\t\tsuccess: function(data){\n\t\t\t\t\t\t\t\t $('<style></style>').appendTo('head').html(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: '../api.php?/plugins/js',\n\t\t\t\t\t\t\tdataType: 'script',\n\t\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t__k.interfaces.plugins && $.each(__k.interfaces.plugins, function(i, plugin) {\n\t\t\t\t\t\t\t\t\tif (plugin.path === self.path) plugin.init(function() {\n\t\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\t\tcallback && callback();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t$(document).off(this.hooks);\n\t\t\t\t\tdelete __k.plugins[this.kguid];\n\n\t\t\t\t\tif (doesHaveTemplates) {\n\t\t\t\t\t\t$(this.templates).each(function() {\n\t\t\t\t\t\t\tif ($(this).attr('type') === 'text/html') $('#templates').find('#' + this.id).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (doesHaveTemplates) {\n\t\t\t\t\t\t__k.sync({\n\t\t\t\t\t\t\trequest: __k.config.paths.base_relative + 'storage/plugins/' + this.path + '/console/plugin.tmpl.html?1502123397177',\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t$('#templates').append(data);\n\t\t\t\t\t\t\t\treinit(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\treinit();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t__k.plugins = __k.plugins || {};\n\t\t\t\t__k.plugins[_guid] = __k.plugins[_guid] || {\n\t\t\t\t\troutes: [],\n\t\t\t\t\tevents: [],\n\t\t\t\t\trendered: [],\n\t\t\t\t\tinit: _cb,\n\t\t\t\t\tupdate: _update,\n\t\t\t\t\tpath: path,\n\t\t\t\t\thooks: '',\n\t\t\t\t\tkguid: _guid\n\t\t\t\t};\n\n\t\t\t}\n\t\t}\n\t},\n\n\t// Internal Only\n\t_Koken = function() {\n\n\t\t'use strict';\n\n\t\tif ( ! ( this && this.hasOwnProperty && ( this instanceof _Koken ) ) ) return new _Koken();\n\n\t\tko.bindingHandlers.slider = {\n\t\t\tinit: function(element, valueAccessor, allBindingsAccessor) {\n\t\t\t\tvar data = ko.unwrap(valueAccessor()),\n\t\t\t\t\toverride = allBindingsAccessor().sliderOptions;\n\n\t\t\t\tvar prefix = data.length > 1 ? data.shift() : null,\n\t\t\t\t\tsetting = data.shift();\n\n\t\t\t\t// Range sliders emit on `input` during the slide and `change` after slide completes\n\t\t\t\t$(element)\n\t\t\t\t\t.off('.slider')\n\t\t\t\t\t.attr({\n\t\t\t\t\t\t'type': 'range',\n\t\t\t\t\t\t'min': (override && override.min) ? override.min : setting.min,\n\t\t\t\t\t\t'max': (override && override.max) ? override.max : setting.max,\n\t\t\t\t\t\t'step': (override && override.step) ? override.step : (setting.step || 1),\n\t\t\t\t\t\t'data-send-as': setting.send_as || '',\n\t\t\t\t\t\t'data-default-value': setting.default || setting.value,\n\t\t\t\t\t\t'name': (override && override.name) ? override.name : setting.key,\n\t\t\t\t\t\t'value': (override && override.value) ? override.value : (setting.value || setting.default),\n\t\t\t\t\t\t'id': (override && override.id) ? override.id : prefix + 'option_' + setting.key\n\t\t\t\t\t});\n\n\t\t\t}\n\t\t}\n\n\t\tvar ErrorHandlingBindingProvider = function() {\n\t\t    var original = new ko.bindingProvider();\n\n\t\t    //determine if an element has any bindings\n\t\t    this.nodeHasBindings = original.nodeHasBindings;\n\n\t\t    //return the bindings given a node and the bindingContext\n\t\t    this.getBindings = function(node, bindingContext) {\n\t\t        var result;\n\n\t\t        try {\n\t\t            result = original.getBindings(node, bindingContext);\n\t\t        }\n\t\t        catch (e) {\n\t\t        \tif (!self.interfaces.app.classes.modal.bindingsError) {\n\t\t        \t\tnew self.klass.modal('bindingsError', 'bindings_error_modal', {\n\t        \t\t\t\thasKeepCancel: {\n\t        \t\t\t\t\tkeepId: '#keep_leave',\n\t        \t\t\t\t\tkeepFn: function() {\n\t        \t\t\t\t\t\tself.interfaces.app.classes.modal.bindingsError.hide();\n\t        \t\t\t\t\t\tself.notify().wait('Clearing system caches and reloading');\n\t        \t\t\t\t\t\tthis.sync({\n\t        \t\t\t\t\t\t\trequest: 'system/clear_caches',\n\t        \t\t\t\t\t\t\tmethod: 'POST',\n\t        \t\t\t\t\t\t\tcontext: this,\n\t        \t\t\t\t\t\t\tfinished: function(data) {\n\t        \t\t\t\t\t\t\t\ttry {\n\t        \t\t\t\t\t\t\t\t\tlocalStorage.clear();\n\t        \t\t\t\t\t\t\t\t} catch (e) {}\n\t        \t\t\t\t\t\t\t\twindow.location.reload();\n\t        \t\t\t\t\t\t\t}\n\t        \t\t\t\t\t\t});\n\t        \t\t\t\t\t},\n\t        \t\t\t\t\tcancelId: '#cancel_leave'\n\t        \t\t\t\t}\n\t        \t\t\t});\n\t\t        \t}\n\t\t        \tif (self.interfaces.app.observers.modal.current() !== 'bindings_error_modal') self.interfaces.app.classes.modal.bindingsError.show();\n\t\t            if (console && console.group) {\n\t\t            \tconsole.warn(e.message);\n\n\t\t            \tconsole.groupCollapsed('Node:');\n\t\t            \tconsole.log(node);\n\t\t            \tconsole.log($(node));\n\t\t            \tconsole.groupEnd();\n\n\t\t            \tconsole.groupCollapsed('Bindings data:');\n\t\t            \tconsole.log(bindingContext.$data);\n\t\t            \tconsole.groupEnd();\n\n\t\t            \tconsole.groupCollapsed('Stack reference:');\n\t\t            \tconsole.log(e.stack);\n\t\t            \tconsole.groupEnd();\n\n\t\t            \tconsole.log('---');\n\t\t            }\n\t\t        }\n\n\t\t        return result;\n\t\t    };\n\t\t};\n\n\t\tko.bindingProvider.instance = new ErrorHandlingBindingProvider();\n\n\t\t$.fn.selectRange = function(start, end) {\n\t\t    return this.each(function() {\n\t\t        if (this.setSelectionRange) {\n\t\t            this.focus();\n\t\t            this.setSelectionRange(start, end);\n\t\t        } else if (this.createTextRange) {\n\t\t            var range = this.createTextRange();\n\t\t            range.collapse(true);\n\t\t            range.moveEnd('character', end);\n\t\t            range.moveStart('character', start);\n\t\t            range.select();\n\t\t        }\n\t\t    });\n\t\t};\n\n\t\tvar self\t\t\t\t= this;\n\t\tthis.helpers\t\t\t= helpers;\n\t\tthis.internalcache\t\t= {};\n\t\tthis.hash\t\t\t\t= '';\n\t\tthis.klass\t\t\t\t= {};\n\n\t\tthis.interfaces\t= this.subclass(function() {\n\t\t\tthis.active = '';\n\t\t});\n\n\t\tthis.sync({\n\t\t\trequest: 'system',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\n\t\t\t\tthis.system = data || {};\n\t\t\t\tthis.system.apiError = false;\n\t\t\t\tthis.config.paths.store = data.store;\n\n\t\t\t\tif (data && typeof data === 'object' && !$.isEmptyObject(data) && !data.version) {\n\t\t\t\t\t// Will error if it receives data but is not formed in the correct system object\n\t\t\t\t\tthis.system.apiError = true;\n\t\t\t\t} else if (!data) {\n\t\t\t\t\t// Will error if it receives no data at all\n\t\t\t\t\tthis.system.apiError = true;\n\t\t\t\t}\n\n\t\t\t\tif (this.system.apiError) {\n\n\t\t\t\t\t// We errored, look for an error message and show the interface\n\t\t\t\t\tif (typeof data.error === 'string') {\n\t\t\t\t\t\tthis.system.apiErrorMessage = data.error;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.system.apiMaintenance = data.http === 503;\n\n\t\t\t\t\tthis.create( 'login', function() {\n\t\t\t\t\t\t$('#container').attr('data-bind','template: { name: \\'login_interface\\' }');\n\t\t\t\t\t\tko.applyBindings( this.observers, $( '#login' ).get(0) );\n\t\t\t\t\t\tvar h = $('#app-signin').height() + 100;\n\t\t\t\t\t\t$('#signin').height(h).css('margin-top', -((h / 2) + 25));\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'sessions',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\t\tthis.session( (data.token) ? data: {} );\n\n\t\t\t\t\t\t\t// Tests for browser support functionality\n\t\t\t\t\t\t\t(function() {\n\n\t\t\t\t\t\t\t\tvar tests = [],\n\t\t\t\t\t\t\t\t\tself = this;\n\n\t\t\t\t\t\t\t\tthis.system.browserSupported = true;\n\n\t\t\t\t\t\t\t\tif (navigator.userAgent.indexOf('Phantom') !== -1) return;\n\n\t\t\t\t\t\t\t\t// Testing if IE\n\t\t\t\t\t\t\t\ttests.push(!$('html').is('.ie'));\n\n\t\t\t\t\t\t\t\t// Testing for .calc() functionality\n\t\t\t\t\t\t\t\tvar el = document.createElement('div');\n\t\t\t\t\t\t\t\tel.style.cssText = 'width:-moz-calc(10px);width:-webkit-calc(10px);width:-o-calc(10px);width:-ms-calc(10px);width:calc(10px);';\n\t\t\t\t\t\t\t\ttests.push(!!el.style.length);\n\n\t\t\t\t\t\t\t\ttests = $.each(tests, function(i,test) {\n\t\t\t\t\t\t\t\t\tif (test === false) {\n\t\t\t\t\t\t\t\t\t\tself.system.browserSupported = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}).call(this);\n\n\t\t\t\t\t\t\tvar which = ( this.session().token ) ? 'app' : 'login';\n\n\t\t\t\t\t\t\t// Load in our plugin bindings\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: this.config.paths.base + 'admin/templates/plugins.tmpl.html?1502123397177',\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t$('#templates').append(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// Start initializing all the plugins\n\t\t\t\t\t\t\tif (this.plugins) {\n\t\t\t\t\t\t\t\t$.each(this.plugins, function(i, plugin) {\n\t\t\t\t\t\t\t\t\tplugin.init();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.create( which, function() {\n\t\t\t\t\t\t\t\t$('#container').attr('data-bind','template: { name: \\'' + which + '_interface\\' }');\n\t\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\t\t// Fixes random bindings errors on interface loads\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\tko.applyBindings( self.observers, $( '#' + which ).get(0) );\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t};\n\n\tK.prototype = framework;\n\n\t// _Koken will also inherit K\n\t_Koken.prototype = K();\n\n\t// Add interface methods to the prototype\n\t// ___INTERFACES___\n\t_Koken.prototype.app = {\n\n\tinit: function() {\n\n\t\tif (!this.system.browserSupported) {\n\t\t\tthis.observers.logout();\n\t\t}\n\n\t\tPiecon.setOptions({\n\t\t\tcolor: '#ff6e00', // Pie chart color\n\t\t\tbackground: '#fff', // Empty pie chart color\n\t\t\tshadow: '#ff6e00', // Outer ring color\n\t\t\tfallback: false // Toggles displaying percentage in the title bar (possible values - true, false, 'force')\n\t\t});\n\n\t\tvar self = this,\n\t\t\tresizeInt;\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'app',\n\t\t\t\tfn: function(id) {\n\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tvar delay = (function() {\n\t\t\t\t\t\tvar timer = 0;\n\t\t\t\t\t\treturn function(cb,ms) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\ttimer = setTimeout(cb,ms);\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\n\t\t\t\t\tthis.id = id;\n\t\t\t\t\tthis.channel = '';\n\t\t\t\t\tthis.lastClickedElement = {};\n\t\t\t\t\tthis.lastHash = $.param.fragment();\n\t\t\t\t\tthis.lastLocal = null;\n\t\t\t\t\tthis.firstRun = this.cookie( 'app:firstrun' ) || false;\n\t\t\t\t\tthis.sortToDrag = false;\n\t\t\t\t\tthis.itemsBeingSortedDragged = [];\n\t\t\t\t\tthis.tagsHasBeenEdited = false;\n\n\t\t\t\t\t$(window).on( 'focus', 'input:not(.hasDatepicker),textarea', function(e) {\n\t\t\t\t\t\tself.lastFocused = $(e.target);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.resizeHandlers = [];\n\n\t\t\t\t\t$(window).on('resize', function() {\n\t\t\t\t\t\tdelay(function() {\n\t\t\t\t\t\t\t$(window).trigger( 'complete.resize', self );\n\t\t\t\t\t\t}, 250);\n\n\t\t\t\t\t\t$('.sheet-middle:visible, .sheet-middle.no-pad:visible').each( function() {\n\t\t\t\t\t\t\tvar e = $(this);\n\t\t\t\t\t\t\tif (e.hasClass('fixed')) return;\n\t\t\t\t\t\t\t// 178 = UI chrome (header + footer) + 65 (margin added to sheet-middle to compensate for sheet-actions overlay)\n\t\t\t\t\t\t\tvar contain = e.parents('.ui-sheet'),\n\t\t\t\t\t\t\t\tsub = 178 + (contain.height() - e.height());\n\n\t\t\t\t\t\t\t// Import content sheet has an options row that can fold out, so this gives it a little more room.\n\t\t\t\t\t\t\tif (contain.attr('id') === 'import_content') {\n\t\t\t\t\t\t\t\tsub += 36;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\te.css('max-height', $(window).height() - sub);\n\t\t\t\t\t\t\te.find('.scroll_wrapper').css('max-height', $(window).height() - sub);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('.modal-wrap').css({\n\t\t\t\t\t\t\t'margin-top'\t: '-' + ( $('.modal-wrap').height() / 2 ) + 'px',\n\t\t\t\t\t\t\t'margin-left'\t: '-' + ( $('.modal-wrap').width() / 2 ) + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (self.channel !== '') {\n\t\t\t\t\t\t\t$(window).trigger(self.channel + '.resize');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.controllers.lazy_album_sheet();\n\n\t\t\t\t\t}).trigger('resize');\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'scrollbar',\n\t\t\t\tfn: function(id) {\n\n\t\t\t\t\tvar self\t\t= this, timer;\n\n\t\t\t\t\tthis.el\t\t\t= (id instanceof Object) ? ( this.id = id.attr('id'), id ) : $( '#' + id );\n\t\t\t\t\tthis.ratio\t\t= 0;\n\t\t\t\t\tthis.handlers\t= [];\n\t\t\t\t\tthis.lastpos\t= 0;\n\t\t\t\t\tthis.calcs\t\t= { height: {}, top: {} };\n\n\n\t\t\t\t\tthis.el.wrapInner('<div class=\"scroll_content\" />');\n\t\t\t\t\tthis.el.wrapInner('<div class=\"scroll_wrapper scroll_off\" />');\n\t\t\t\t\tthis.el.find('.scroll_wrapper').prepend($('#scroller_mu').html());\n\n\t\t\t\t\tthis.elements = function() {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttrack\t\t: $( '.scroll_track', self.el ),\n\t\t\t\t\t\t\tbar\t\t\t: $( '.scroll_bar', self.el ),\n\t\t\t\t\t\t\tcontent\t\t: $( '.scroll_content', self.el ),\n\t\t\t\t\t\t\tcontainer\t: $( '.scroll_wrapper', self.el )\n\t\t\t\t\t\t};\n\t\t\t\t\t}.call(this);\n\n\t\t\t\t\tif (this.el.hasClass('top-in')) {\n\t\t\t\t\t\tthis.elements.content.addClass('top-in');\n\t\t\t\t\t\tthis.el.removeClass('top-in');\n\t\t\t\t\t}\n\t\t\t\t\tthis.elements.container.off('scroll').on( 'scroll', null, this, function(e,params) {\n\t\t\t\t\t\tif ( self.handlers.indexOf('stop') >= 0 ) {\n\t\t\t\t\t\t\tclearTimeout(self.timer);\n\t\t\t\t\t\t\tself.timer = setTimeout( function() { self.el.trigger('stop.scroll'); clearTimeout(self.timer); }, 250 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.data.update();\n\t\t\t\t\t\tself.el.trigger('during.scroll', params);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.interfaces.app.classes.app.koken.resizeHandlers.push(this);\n\n\t\t\t\t\tif ( this.interfaces.app.classes.app.koken.resizeHandlers.length === 1 ) {\n\t\t\t\t\t\tthis.loopy();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.update();\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'update',\n\t\t\t\tfn: function() {\n\n\t\t\t\t\tvar parent = $('#' + this.el.get(0).id),\n\t\t\t\t\t\tcontainer = parent.find('.scroll_wrapper'),\n\t\t\t\t\t\tcontent = parent.find('.scroll_content');\n\n\t\t\t\t\tthis.calcs.height.container = container.outerHeight(true);\n\t\t\t\t\tthis.calcs.top.wrapper = container.scrollTop();\n\t\t\t\t\tthis.calcs.height.content = content.outerHeight(true);\n\n\t\t\t\t\tvar cache_key = this.calcs.top.wrapper + '_' + this.calcs.height.container + '_' + this.calcs.height.content;\n\n\t\t\t\t\tif (this.lastpos === cache_key) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.lastpos = cache_key;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.calcs.height.container <= 0 || this.calcs.height.content <= 0 ) { return; }\n\n\t\t\t\t\tthis.ratio = this.calcs.height.container / this.calcs.height.content;\n\n\t\t\t\t\tif ( this.ratio < 1 ) {\n\n\t\t\t\t\t\tparent.find('.scroll_track').css('opacity','1');\n\t\t\t\t\t\tparent.find('.scroll_track_off').removeClass('scroll_track_off');\n\t\t\t\t\t\tparent.find('.scroll_off').removeClass('scroll_off');\n\n\t\t\t\t\t\tvar bar_p = ( this.calcs.height.container / this.calcs.height.content ) * 100;\n\n\t\t\t\t\t\tthis.calcs.height.bar = this.calcs.height.container / bar_p;\n\n\t\t\t\t\t\tvar top = Math.min( Math.round( this.calcs.top.wrapper * this.ratio ), this.calcs.height.content - this.calcs.height.bar );\n\n\t\t\t\t\t\tparent.find('.scroll_bar').css({\n\t\t\t\t\t\t\ttop: top + 'px',\n\t\t\t\t\t\t\theight: bar_p + '%'\n\t\t\t\t\t\t}).show();\n\n\t\t\t\t\t\tif ( this.handlers.indexOf('page') >= 0 && content.height() - ( this.calcs.top.wrapper + this.calcs.height.container ) < 200 && content.height() > 0 ) {\n\t\t\t\t\t\t\tthis.el.trigger('page.scroll');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontainer.addClass('scroll_off');\n\t\t\t\t\t\tparent.find('.scroll_track_footer').addClass('scroll_track_off');\n\t\t\t\t\t\tparent.find('.scroll_bar').hide();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'loopy',\n\t\t\t\tfn: function(pause) {\n\n\t\t\t\t\tcancelAnimationFrame(resizeInt);\n\n\t\t\t\t\tif ( pause ) { return; }\n\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tresize = function() {\n\t\t\t\t\t\t\t$.each( self.interfaces.app.classes.app.koken.resizeHandlers, function() {\n\t\t\t\t\t\t\t\tif ( this.el.css('display') === 'none' || ( this.el.closest('.ui-sheet').length > 0 && this.el.closest('.ui-sheet').css('display') === 'none' ) ) { return; }\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.loopy();\n\t\t\t\t\t\t};\n\n\t\t\t\t\tresizeInt = requestAnimationFrame(resize);\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'listen',\n\t\t\t\tfn: function(type,cb) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif ( this.handlers.indexOf(type) < 0 ) { this.handlers.push(type); }\n\t\t\t\t\tthis.el.off(type + '.scroll').on( type + '.scroll', function(ev,params) {\n\t\t\t\t\t\tcb.call(self,params);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'reset',\n\t\t\t\tfn: function() {\n\t\t\t\t\tthis.elements.container.scrollTop(0);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tko.bindingHandlers.scrollbar = {\n\t\t\tinit: function(el) {\n\n\t\t\t\tel = $(el);\n\n\t\t\t\tvar id = el.attr('id'),\n\t\t\t\t\tscrollbar = new self.klass.scrollbar(el);\n\n\t\t\t\tif ( id === 'mid_multi' ) {\n\n\t\t\t\t\tvar show_tick = null;\n\n\t\t\t\t\tscrollbar.listen( 'during', function(params) {\n\t\t\t\t\t\tif (show_tick === null) {\n\t\t\t\t\t\t\tshow_tick = this.observers.order_by() !== 'manual';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (show_tick && (!params || !params.suppress)) {\n\t\t\t\t\t\t\tthis.events.scroll_overlay();\n\t\t\t\t\t\t\t$('#scroll-tick').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tscrollbar.listen( 'stop', function() {\n\t\t\t\t\t\tshow_tick = null;\n\t\t\t\t\t\t$('#scroll-tick').fadeOut(null, function() { $(this).removeClass('loading'); });\n\t\t\t\t\t\tthis.controllers.lazy('#content_list','suppress');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( id === 'entry-list-all' || id === 'mid_multi' ) {\n\t\t\t\t\tscrollbar.listen( 'page', function() {\n\t\t\t\t\t\tthis.controllers.mid_scroll_finish();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'channel',\n\t\t\t\tfn: function() {}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'form_validation',\n\t\t\t\tfn: function() {\n\t\t\t\t\tthis.validate = [];\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'getErrorMessageElement',\n\t\t\t\tfn: function(el,isError) {\n\t\t\t\t\tif (isError) { el.addClass('valerror'); } else { el.removeClass('valerror'); }\n\t\t\t\t\treturn el.parent().find('.form-error-msg');\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'not_empty',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar res\t\t= ( el.val().trim() !== '' ) ? true : false,\n\t\t\t\t\t\tself\t= this;\n\n\t\t\t\t\tif (!res) {\n\t\t\t\t\t\tif (!suppress) {\n\t\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( el.data('error-msg') ).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!suppress) {\n\t\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'regex',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar val = el.val().trim(),\n\t\t\t\t\t\tregex = RegExp(el.attr('data-validate-regex')),\n\t\t\t\t\t\tmatch = regex.test(val);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'email',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar email = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (email.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i)) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid email address' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'url',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar url = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (!url.length) return false;\n\n\t\t\t\t\t// EPIC regex FTW\n\t\t\t\t\tif (/^(https?:\\/\\/)?(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(url) ||\n\t\t\t\t\t\t/^mailto:[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/.test(url) ||\n\t\t\t\t\t\t/^tel:.{3,}/.test(url)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid URL' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'content_url',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar url = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (!url.length) return false;\n\n\t\t\t\t\tif (/^https?:\\/\\/.*\\.(jpeg|jpg|gif|png|mp4)$/.test(url)) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid content URL' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'path',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar url = el.val().trim(),\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (!url.length) return false;\n\n\t\t\t\t\tif (/[^\\/a-zA-Z0-9_-]/.test(url) || /^[^\\/]/.test(url)) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).text( 'Not a valid path' ).show();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'unique',\n\t\t\t\tfn: function(el,suppress) {\n\t\t\t\t\tvar val = el.val().trim(),\n\t\t\t\t\t\tscope = el.attr('data-validate-scope'),\n\t\t\t\t\t\tvalid = true;\n\n\t\t\t\t\tif (val.length) {\n\t\t\t\t\t\t$.each($(scope), function(i, _el) {\n\t\t\t\t\t\t\tif (_el === el.get(0)) return;\n\t\t\t\t\t\t\tvar v = $(_el).val().trim();\n\t\t\t\t\t\t\tif (val === v) {\n\t\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tthis.getErrorMessageElement(el).hide();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getErrorMessageElement(el,true).show();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn valid;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'valid',\n\t\t\t\tfn: function(el, isSheet, canBeValidated, handlersBound) {\n\n\t\t\t\t\tif ( this.validate[el] ) return;\n\n\t\t\t\t\tvar validations\t\t\t= $('#' + el).find('[data-validate]:visible:not([data-validate=\"' + el + '\"]):not(button[data-validate])'),\n\t\t\t\t\t\tself\t\t\t\t= this,\n\t\t\t\t\t\tnamespace\t\t\t= 'validate_' + el,\n\t\t\t\t\t\tbindings\t\t\t= 'keyup.' + namespace,\n\t\t\t\t\t\tvalidateBtn\t\t\t= $('#' + el).find('button[data-validate]'),\n\t\t\t\t\t\tvalidateBtnActv\t\t= validateBtn.length > 0,\n\t\t\t\t\t\tvalidationsVisible\t= validations.filter(function() { return $(this).is(':visible'); });\n\n\t\t\t\t\t// Reset button class if all the validations are now hidden/removed\n\t\t\t\t\tif (!validations.length || (!validationsVisible.length && validateBtnActv)) validateBtn.removeClass('disabled');\n\n\t\t\t\t\tif (!handlersBound) {\n\t\t\t\t\t\t$(document).off('.' + namespace);\n\t\t\t\t\t\tif (validateBtnActv) {\n\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t.on( bindings + ' change.' + namespace, '#' + el + ' input, #' + el + ' select', function() {\n\t\t\t\t\t\t\t\t\tself.valid.call(self, el, false, true, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t.on( bindings, '#' + el + ' input', function() {\n\t\t\t\t\t\t\t\t\tself.valid.call(self, el, false, true, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isSheet && canBeValidated) {\n\n\t\t\t\t\t\tvar results = [];\n\n\t\t\t\t\t\tvalidations.each(function(idx, element) {\n\t\t\t\t\t\t\tvar isAlreadyValid = $(element).data('validateAllowEmpty') && !$(element).val().length;\n\t\t\t\t\t\t\tif (isAlreadyValid) self.getErrorMessageElement($(element)).hide();\n\t\t\t\t\t\t\tresults.push((isAlreadyValid) ? true : self[$(element).data('validate')]($(element)));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (results.indexOf(false) !== -1) {\n\t\t\t\t\t\t\tif (validateBtnActv && validationsVisible.length) validateBtn.addClass('disabled');\n\t\t\t\t\t\t\tthis.interfaces.app.observers.valid(false);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (validateBtnActv && validationsVisible.length) validateBtn.removeClass('disabled');\n\t\t\t\t\t\t\tthis.interfaces.app.observers.valid(true);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (validateBtnActv && validationsVisible.length) areAllValid && validateBtn.removeClass('disabled') || validateBtn.addClass('disabled');\n\t\t\t\t\t\tthis.interfaces.app.observers.valid(areAllValid);\n\t\t\t\t\t\treturn areAllValid;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'editor',\n\t\t\t\tfn: function(id, initial_value, selector) {\n\t\t\t\t\tinitial_value = initial_value || '';\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t// Altering ACE prototype to never use workers to suppress js errors\n\t\t\t\t\tace.EditSession.prototype.$useWorker = false;\n\n\t\t\t\t\tthis.editorWindow = ace.edit(selector);\n\n\t\t\t\t\t// ACE is inserting not appending to the head so we have to force it\n\t\t\t\t\tthis.editorWindow.setTheme( ( this.cookie( 'editor:theme' ) && this.helpers.clean( this.cookie( 'editor:theme' ) ) ) || 'ace/theme/koken' );\n\t\t\t\t\t$('style#ace-tm,style#ace-koken').remove();\n\t\t\t\t\tthis.editorWindow.setTheme( ( this.cookie( 'editor:theme' ) && this.helpers.clean( this.cookie( 'editor:theme' ) ) ) || 'ace/theme/koken' );\n\n\t\t\t\t\tthis.editorWindow.getSession().setMode('ace/mode/css');\n\t\t\t\t\tthis.editorWindow.setShowPrintMargin(false);\n\t\t\t\t\tthis.editorWindow.setValue(initial_value);\n\t\t\t\t\tthis.editorWindow.focus();\n\t\t\t\t\tthis.editorWindow.autosave = true;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'colorpicker',\n\t\t\t\tfn: function(id, el) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tel.spectrum({\n\t\t\t\t\t\t\tshowInput: true,\n\t\t\t\t\t\t\tchange: function(color) {\n\t\t\t\t\t\t\t\t$(this).trigger('colorupdate');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thide: function(color) {\n\t\t\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tshow: function() {\n\t\t\t\t\t\t\t\tself.helpers.outside('.sp-container', function() {\n\t\t\t\t\t\t\t\t\tel.spectrum('hide');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'slider_number_toggle',\n\t\t\t\tfn: function() {\n\n\t\t\t\t\t// Used to swap out a slider with a number input and vice-versa\n\t\t\t\t\t// .rangeinput is the class needed on the container of the slider elements\n\t\t\t\t\t// new this.klass.slider_number_toggle(); can be placed anywhere it makes sense\n\t\t\t\t\t// to start listening for sliders\n\t\t\t\t\t// ESC/RETURN/Blur cause the number input to toggle back to the slider\n\n\t\t\t\t\tvar doc = $(document),\n\t\t\t\t\t\tautosaveInterval = 1000, // milliseconds\n\t\t\t\t\t\trangeTimer;\n\n\t\t\t\t\tvar changeToSlider = function() {\n\t\t\t\t\t\tvar rangeEl = $('.__rangeinput__');\n\t\t\t\t\t\trangeEl.parent().find('span').show();\n\t\t\t\t\t\trangeEl.parent().find('input[type=\"range\"]').show();\n\t\t\t\t\t\trangeEl.remove();\n\t\t\t\t\t};\n\n\t\t\t\t\tdoc\n\t\t\t\t\t\t.off('click.rangeinput','change.rangeinput','keydown.rangeinput')\n\t\t\t\t\t\t.on('click.rangeinput', '.rangeinput', function(ev) {\n\n\t\t\t\t\t\t\tif ( ev.target.tagName === 'INPUT' ) return true;\n\n\t\t\t\t\t\t\tvar el = $(this).find('span'),\n\t\t\t\t\t\t\t\tparent = el.parent(),\n\t\t\t\t\t\t\t\tinput = parent.find('input[type=\"range\"]'),\n\t\t\t\t\t\t\t\tdata = ko.dataFor(input.get(0));\n\n\t\t\t\t\t\t\tif ( $('.__rangeinput__').length > 0 ) changeToSlider();\n\n\t\t\t\t\t\t\tif ( input.length > 0 ) {\n\t\t\t\t\t\t\t\tparent.find('span').hide();\n\t\t\t\t\t\t\t\tinput.hide();\n\t\t\t\t\t\t\t\tparent.append('<input class=\"__rangeinput__ field side-col\" type=\"number\" min=\"' + ((data.setting && data.setting.min) ? data.setting.min : input.attr('min') ) + '\" max=\"' + ((data.setting && data.setting.max) ? data.setting.max : input.attr('max') ) + '\" step=\"' + ((data.setting && data.setting.step) ? data.setting.step : input.attr('step') ) + '\" value=\"' + input.val() + '\" />');\n\t\t\t\t\t\t\t\t$('.__rangeinput__').focus().on('blur.rangeinput', changeToSlider);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('change.rangeinput', '.__rangeinput__', function(e) {\n\n\t\t\t\t\t\t\tif ( e.target.tagName !== 'INPUT' ) return true;\n\n\t\t\t\t\t\t\tvar el = $(this),\n\t\t\t\t\t\t\t\tparent = el.parent(),\n\t\t\t\t\t\t\t\tinput = parent.find('input[type=\"range\"]');\n\n\t\t\t\t\t\t\tinput.val(el.val()).trigger('change');\n\n\t\t\t\t\t\t\tclearInterval(rangeTimer);\n\t\t\t\t\t\t\trangeTimer = window.setInterval(function() {\n\t\t\t\t\t\t\t\tclearInterval(rangeTimer);\n\t\t\t\t\t\t\t\tinput.trigger('mouseup');\n\t\t\t\t\t\t\t}, autosaveInterval);\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('keydown.rangeinput', function(e) {\n\n\t\t\t\t\t\t\tif ( e.target.tagName !== 'INPUT' ) { return true; }\n\n\t\t\t\t\t\t\tif ( e.which === 27 || e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('.__rangeinput__').parent().find('input[type=\"range\"]').trigger('mouseup');\n\t\t\t\t\t\t\t\tchangeToSlider();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'autocomplete',\n\t\t\t\tfn: function() {}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'tags',\n\t\t\t\tfn: function(element,appendToElement,triggerElement) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (element.hasClass('ui-autocomplete-input')) {\n\t\t\t\t\t\telement.autocomplete('destroy');\n\t\t\t\t\t}\n\t\t\t\t\telement\n\t\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\t\tselect: function(e, ui) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\telement.addClass('autocompleting');\n\t\t\t\t\t\t\t\tvar item = $(element),\n\t\t\t\t\t\t\t\t\tparts = ui.item.label.split(' ');\n\t\t\t\t\t\t\t\tif ($(element).closest('#right-col-xtra').length > 0 || self.interfaces.active.id == 'library') {\n\t\t\t\t\t\t\t\t\titem.val((parts.length > 0) ? '\"' + ui.item.label + '\"' : ui.item.label);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\titem.val(ui.item.label);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\ttriggerElement && triggerElement.trigger('click');\n\t\t\t\t\t\t\t\t\titem.val('');\n\t\t\t\t\t\t\t\t\telement.removeClass('autocompleting');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\telement.autocomplete('destroy');\n\t\t\t\t\t\t\t\tself.classes.autocomplete.library.tags(element, appendToElement, triggerElement);\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsource: function(req, cb) {\n\t\t\t\t\t\t\t\tvar term = req.term,\n\t\t\t\t\t\t\t\t\tmatches = [];\n\t\t\t\t\t\t\t\t$.each(self.observers.tags(), function(i, t) {\n\t\t\t\t\t\t\t\t\tif (t.title.match(RegExp(term, 'gi'))) {\n\t\t\t\t\t\t\t\t\t\tmatches.push(t.title);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tappendTo: appendToElement,\n\t\t\t\t\t\t\tcreate: function() {\n\t\t\t\t\t\t\t\t$(appendToElement).addClass('k-dropdown')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'modal',\n\t\t\t\tfn: function(id,tid,opts) {\n\n\t\t\t\t\tthis.onload;\n\t\t\t\t\tthis.templateId\t= tid;\n\t\t\t\t\tthis.options\t= opts;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'show',\n\t\t\t\tfn: function() {\n\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\targs = arguments;\n\n\t\t\t\t\tthis.observers.modal.canClose( ( !this.options || this.options.allowClose === undefined ) ? true : this.options.allowClose );\n\n\t\t\t\t\tif (this.observers.modal.canClose()) {\n\t\t\t\t\t\t$('body').removeClass('progress');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('body').addClass('progress');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.onload) requestAnimationFrame(function() { self.onload.apply(self, args); })\n\n\t\t\t\t\tif ( this.options && this.options.canClickOutside ) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.helpers.outside( $('#modal-template'), function() {\n\t\t\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},1000);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.modal.current(this.templateId);\n\t\t\t\t\tthis.observers.modal.active(true);\n\t\t\t\t\tthis.observers.modal.msg((this.options && this.options.msg) ? this.options.msg : '');\n\n\t\t\t\t\t$(document).on( 'click', 'a.modal-close', function() {\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\tif ( this.options && this.options.hasKeepCancel ) self.options.hasKeepCancel.closeFn.apply(self.interfaces[self.interfaces.active.id],args);\n\t\t\t\t\t}).trigger('resize');\n\n\t\t\t\t\tif ( this.options && this.options.hasKeepCancel ) {\n\t\t\t\t\t\t$( '.' + this.templateId ).find(this.options.hasKeepCancel.keepId).click(function() {\n\t\t\t\t\t\t\tself.options.hasKeepCancel.keepFn.apply(self.interfaces[self.interfaces.active.id],args);\n\t\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$( '.' + this.templateId ).find(this.options.hasKeepCancel.cancelId).click(function() {\n\t\t\t\t\t\t\tself.options.hasKeepCancel.cancelFn && self.options.hasKeepCancel.cancelFn.apply(self.interfaces[self.interfaces.active.id],args);\n\t\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'progress',\n\t\t\t\tfn: function(percent) {\n\t\t\t\t\t$('.update_progress span').addClass('migrate');\n\t\t\t\t\t$('.update_progress span').width( Math.min( percent*100, 100 ) + '%' );\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'hide',\n\t\t\t\tfn: function() {\n\t\t\t\t\t$('body').removeClass('progress');\n\t\t\t\t\tthis.observers.modal.current('');\n\t\t\t\t\tthis.observers.modal.active(false);\n\t\t\t\t\t$('.update_progress span').removeClass('migrate');\n\t\t\t\t\t$('.update_progress span').width('100%');\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'channel',\n\t\t\t\tfn: function(id) {\n\t\t\t\t\tthis.firstLoad = true;\n\t\t\t\t\tthis.uploader = null;\n\t\t\t\t\tthis.uploaderIsBeingInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tnew this.klass.app('koken');\n\n\t\t$(window).on('complete.resize', function(evt,koken) {\n\t\t\tif ( koken.channel === 'library' ) {\n\t\t\t\tself.controllers.lazy.call( self.interfaces[koken.channel], '#content_list' );\n\t\t\t}\n\t\t});\n\n\t\t// Creating modals...\n\t\tnew this.klass.modal( 'tour', 'tour_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'php_upgrade', 'php_upgrade_modal', {\n\t\t\tcanClickOutside: true,\n\t\t\thasKeepCancel: {\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'about', 'about_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'map', 'map_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'help', 'help_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'keyboard_shortcuts', 'keyboard_modal', { canClickOutside: true });\n\t\tnew this.klass.modal( 'share_asset', 'share_modal' );\n\t\tnew this.klass.modal( 'match_album_visibility', 'match_album_visibility_modal', {\n\t\t\tcanClickOutside: true,\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.match_album_visibility.onload = function(items, fromVisibility, toVisibility, type) {\n\t\t\t$('#right-col-xtra').height($(window).height() - 26);\n\t\t\tthis.observers.visibility.items((items.length > 0) ? items : []);\n\t\t\tthis.observers.visibility.viz_type_reset();\n\t\t\tif (type) this.observers.visibility.album_type(type);\n\t\t\tthis.observers.visibility.viz_type_current(toVisibility === 'private' ? 'public and unlisted' : fromVisibility);\n\t\t\tthis.observers.visibility.viz_type_new(toVisibility);\n\t\t}\n\t\tnew this.klass.modal( 'unpublish_essay', 'unpublish_essay_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_unpublish',\n\t\t\t\tkeepFn: function() {\n\t\t\t\t\tthis.notify().success(this.observers.page_to_edit.title() + ' saved as draft.');\n\t\t\t\t\tthis.events.save(false, false, false, true);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_unpublish'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.unpublish_essay.onload = function() {\n\t\t\t$('#unpublish_essay_type').text(self.interfaces.text.observers.page_to_edit.page_type());\n\t\t}\n\t\tnew this.klass.modal( 'text_live', 'text_live_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() {\n\t\t\t\t\t$('[data-action=\"publish\"]').data('publish','true').trigger('click');\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'unsaved_changes', 'unsaved_changes_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() { this.events.leave_edit(true); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'delete_tag', 'delete_tag_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.app.events.delete_tag(el,parent);\n\t\t\t\t\tel.parent().remove();\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'confirm_site_revert', 'confirm_site_revert_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_revert',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.site.events.do_revert(el,parent);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_revert'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'confirm_site_revert_settings', 'confirm_site_revert_settings_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_revert_settings',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.site.events.do_revert_settings(el,parent);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_revert_settings'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.delete_tag.onload = function(el) {\n\t\t\t$('#delete_tag_name').text(ko.dataFor(el[0]).title);\n\t\t}\n\t\tnew this.klass.modal( 'delete_category', 'delete_category_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function(el,parent) {\n\t\t\t\t\tself.interfaces.app.events.category_actions(el,parent,true);\n\t\t\t\t},\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.delete_category.onload = function() {\n\t\t\t// Prevents the drawer from collapsing\n\t\t\t$('#right-col-xtra').height($(window).height() - 26);\n\t\t}\n\t\tnew this.klass.modal( 'draft_exists', 'draft_exists_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() { this.events.init_draft($('a#use_theme'),true); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tthis.classes.modal.draft_exists.onload = function() {\n\t\t\tvar self = this;\n\t\t\t$(document).off('.draftexists').on('click.draftexists', '#open_draft', function() {\n\t\t\t\tself.interfaces.site.events.switch_draft(ko.dataFor($('a#use_theme').get(0)).path, function() {\n\t\t\t\t\tself.classes.modal.draft_exists.hide();\n\t\t\t\t\t$('#edit_current_draft').trigger('click');\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\tnew this.klass.modal( 'theme_change', 'theme_change_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function() { this.events.publish( $('#siteui-publish-buttons a'), true ); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'delete_text', 'delete_text_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_delete',\n\t\t\t\tkeepFn: function() { this.events.delete_text(); },\n\t\t\t\tcancelId: '#cancel_delete'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'delete_draft', 'delete_draft_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_delete',\n\t\t\t\tkeepFn: function() { this.events.delete_draft( $('#draft_hist_list li.selected a'),true); },\n\t\t\t\tcancelId: '#cancel_delete'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'reset_links', 'reset_links_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_reset',\n\t\t\t\tkeepFn: function() { this.events.reset_nav(null,true); },\n\t\t\t\tcancelId: '#cancel_reset'\n\t\t\t}\n\t\t});\n\t\tnew this.klass.modal( 'update_available', 'update_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'install_plugin', 'install_plugin_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'install_theme', 'install_theme_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'update_products', 'update_products_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'update_products_fail', 'update_products_fail_modal');\n\t\tnew this.klass.modal( 'update_failed', 'update_fail_modal', {\n\t\t\tallowClose: false\n\t\t});\n\t\tnew this.klass.modal( 'update_recovered', 'update_recovered_modal');\n\t\tnew this.klass.modal( 'update_compat_fail', 'update_compat_fail_modal');\n\t\tnew this.klass.modal( 'cover', 'cover_modal', {\n\t\t\thasKeepCancel: {\n\t\t\t\tkeepId: '#keep_leave',\n\t\t\t\tkeepFn: function(set,asset) { this.events.assign_cover('set',set,asset); },\n\t\t\t\tcancelId: '#cancel_leave'\n\t\t\t}\n\t\t});\n\n\t\t$(document).on( 'click', '#console-logo', function() {\n\t\t\tself.classes.modal.about.show();\n\t\t});\n\n\t\tthis.controllers.load_tree();\n\t\tthis.controllers.fetch_themes();\n\t\tthis.events.init_copiers();\n\t\tthis.events.init_triggers();\n\t\tthis.observers.platform( ( window.navigator.platform.toLowerCase().indexOf('mac') < 0 ) ? 'pc' : 'mac' );\n\t\tthis.observers.system = this.system;\n\t\tthis.observers.real_base_path = this.config.paths.base;\n\t\tthis.controllers.load_categories();\n\n\t\tvar migrations_running = false;\n\n\t\tthis.sync({\n\t\t\trequest: [\n\t\t\t\t{\n\t\t\t\t\trequest: 'tags/order_by:last_used',\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.controllers.load('tags',data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trequest: 'site',\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.observers.urls = data.urls;\n\t\t\t\t\t\tthis.map( this.observers.url_data, data.url_data );\n\t\t\t\t\t\tthis.observers.has_urls(true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trequest: 'plugins/cache:false',\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.observers.process_plugin_data(data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trequest: 'settings',\n\t\t\t\t\tfinished: function(settings) {\n\t\t\t\t\t\tthis.observers.reset_settings(settings);\n\n\t\t\t\t\t\tif (!settings.has_toured && navigator.userAgent.toLowerCase().indexOf('phantom') === -1) {\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\tself.classes.modal.tour.show();\n\t\t\t\t\t\t\t}, 1500);\n\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'settings',\n\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\tdata: 'has_toured=true'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$.getJSON(this.config.paths.store + '/installs/' + this.observers.settings.uuid() + '/updates', $.proxy(function(data) {\n\t\t\t\t\t\t\tthis.observers.update_count(data.products.length);\n\n\t\t\t\t\t\t\tif (!settings.disable_auto_updates && data.koken.version != this.system.version) {\n\t\t\t\t\t\t\t\tif (!this.cookie('ignore_release') || this.cookie('ignore_release') != data.koken.version) {\n\t\t\t\t\t\t\t\t\tthis.observers.update_available(data.koken.version);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.observers.update_available_version(data.koken.version);\n\t\t\t\t\t\t\t\tthis.observers.update_url(data.koken.url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\n\t\t\t\t// Migrations will automatically reload browser\n\t\t\t\tif (data.migrations.length) {\n\t\t\t\t\tmigrations_running = true;\n\t\t\t\t\tthis.events.run_migrations(data.migrations);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar self = this, active, timer;\n\n\t\t\t\t$(document).on('click dblclick', '#container', function(e) {\n\n\t\t\t\t\tvar parent\t= ( $(e.target).closest('[data-event]').data('event') === false ) ? $(e.target).closest('[data-event]').parent().closest('[data-event]') : $(e.target).closest('[data-event]'),\n\t\t\t\t\t\thandler\t= parent.data('event'),\n\t\t\t\t\t\taction\t= ( handler && handler.indexOf('dbl') >= 0 ) ? 'dblclick' : 'click',\n\t\t\t\t\t\thandle;\n\n\t\t\t\t\tactive = self.interfaces.active.id;\n\n\t\t\t\t\tself.classes.app.koken.lastClickedElement = $(e.target);\n\n\t\t\t\t\t// Check if link is external or clicking on a label\n\t\t\t\t\tif ( e.type === 'click' ) {\n\t\t\t\t\t\tif ( $(e.target).attr('href') || ( $(e.target)[0].tagName !== 'A' && $(e.target).closest('a').attr('href') ) ) {\n\t\t\t\t\t\t\tif ( ( $(e.target).attr('href') && $(e.target).attr('href').indexOf('http') >= 0 ) || ( $(e.target).closest('a').attr('href') && $(e.target).closest('a').attr('href').indexOf('mailto') >= 0 ) ) {\n\t\t\t\t\t\t\t\tif ( $(e.target)[0].tagName !== 'A' ) { $(e.target).closest('a').trigger('click'); }\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (e.target.nodeName.toLowerCase() === 'label') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( $(e.target).closest('a').attr('href') && $(e.target).closest('a').attr('href').indexOf('#/') >= 0 ) {\n\t\t\t\t\t\t\tif ( ! e.metaKey && ! e.ctrlKey && ! e.shiftKey ) {\n\t\t\t\t\t\t\t\twindow.location.hash = $(e.target).closest('a').attr('href');\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handler && e.type == action && $(e.target).closest('.disabled').length <= 0 && ! $(e.target).find('a:first').hasClass('disabled') ) {\n\t\t\t\t\t\tif ( self.interfaces[active].events && self.interfaces[active].events[handler] ) {\n\t\t\t\t\t\t\thandle = self.interfaces[active].events[handler];\n\t\t\t\t\t\t} else if ( self.interfaces.app.events && self.interfaces.app.events[handler] ) {\n\t\t\t\t\t\t\thandle = self.interfaces.app.events[handler];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\thandle.call( self.interfaces[active], $(e.target), parent, e );\n\t\t\t\t\t\t\tif ( e.target.tagName !== 'INPUT' && e.type === 'click' || e.type === 'dblclick' ) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( active !== 'login' && e.target.tagName !== 'INPUT' && $(e.target).attr('id') !== 'upload-bttn' ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.plugins) {\n\t\t\t\t\t\t// Didn't hit anything, let's check the plugins\n\t\t\t\t\t\tvar _didFindPluginEvent = false;\n\t\t\t\t\t\t$.each(self.plugins, function(i, _plugin) {\n\t\t\t\t\t\t\t$.each(_plugin.events, function(j, _event) {\n\t\t\t\t\t\t\t\tif (_event._type == handler) {\n\t\t\t\t\t\t\t\t\t_event._callback.call(_event._context);\n\t\t\t\t\t\t\t\t\t_didFindPluginEvent = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (_didFindPluginEvent) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\t$(window).bind( 'hashchange', function(e) {\n\n\t\t\t\t\t// $('.ui-sheet-bg').fadeOut();\n\t\t\t\t\t$(window).off('keyup.sheet')\n\n\t\t\t\t\t$.param.fragment.noEscape(':,/');\n\n\t\t\t\t\tif ( !$.isEmptyObject(self.classes.app.koken.lastClickedElement) && self.classes.app.koken.lastClickedElement.closest('#main-nav').length ) {\n\t\t\t\t\t\tvar a = self.classes.app.koken.lastClickedElement.closest('li').find('a');\n\t\t\t\t\t\tif ( a.hasClass('selected') && a.attr('href') !== '#' + self.classes.app.koken.lastHash) {\n\t\t\t\t\t\t\twindow.location.hash = self.classes.app.koken.lastHash;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.classes.app.koken.lastHash = $.param.fragment();\n\n\t\t\t\t\tif ( $.param.fragment() === '' ) {\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.interfaces.router( $.param.fragment() );\n\t\t\t\t\t\tself.observers.hash( $.param.fragment() );\n\t\t\t\t\t}\n\n\t\t\t\t\t$('#container').find('.ui-sheet').each( function() {\n\t\t\t\t\t\tself.interfaces[self.interfaces.active.id].observers.sheets[$(this).attr('id')] && self.interfaces[self.interfaces.active.id].observers.sheets[$(this).attr('id')].active(false);\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\t$(window).trigger('hashchange');\n\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.settings.uploading_default_license.subscribe( function(val) {\n\n\t\t\tvar ob = this.observers.settings.uploading_default_license_clean;\n\t\t\tif (val === 'all') {\n\t\t\t\tob('All rights reserved');\n\t\t\t} else {\n\t\t\t\tvar bits = val.split(','),\n\t\t\t\t\tclean;\n\n\t\t\t\tif (bits[0] === 'y') {\n\t\t\t\t\tclean = 'Commercial';\n\t\t\t\t} else {\n\t\t\t\t\tclean = 'NonCommercial';\n\t\t\t\t}\n\n\t\t\t\tswitch(bits[1]) {\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\tclean += '-ShareAlike';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tclean += '-NoDerivs';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tob(clean);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.map( this.observers.user, this.session().user );\n\n\t\tthis.observers['interface'].subscribe(function(val) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.classes.app.koken.channel = val;\n\t\t\tthis.classes.app.koken.resizeHandlers = [];\n\n\t\t\tif ( val !== 'text' && $('#edit-area').length && $('#edit-area').data('redactor') ) {\n\t\t\t\t$('#edit-area').destroyEditor();\n\t\t\t} else if (val !== 'site') {\n\t\t\t\t$('.sp-container').remove();\n\t\t\t}\n\n\t\t}, this);\n\n\t\twindow.setInterval( function() {\n\t\t\t$('span.moment_output').each( function(i, s) {\n\t\t\t\t$(s).text( moment( $(s).data('raw') * 1000 ).fromNow() );\n\t\t\t});\n\t\t}, 30000);\n\n\t\t$(document).trigger('app.loaded');\n\n\t},\n\n\tevents: {\n\n\t\tdelete_tag_confirm: function(el, parent) {\n\t\t\tthis.classes.modal.delete_tag.show(el,parent);\n\t\t},\n\n\t\tdelete_tag: function(el, parent) {\n\t\t\tthis.interfaces.app.models.tags.del(ko.dataFor(el[0]).id);\n\t\t},\n\n\t\tinit_copiers: function() {\n\n\t\t\tvar self = this;\n\n\t\t\t$(document).on('mouseenter mouseleave', 'a.copier', function() {\n\t\t\t\tif ( $(this).parent().find('.zclip').length > 0 ) return;\n\t\t\t\t$(this).zclip({\n\t\t\t\t\tcopy: function() { return $(this).parent().parent().find('textarea').val() },\n\t\t\t\t\tpath: 'js/ZeroClipboard.swf',\n\t\t\t\t\tafterCopy: function() { self.notify().success('Link copied to clipboard'); }\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\n\t\tinit_triggers: function() {\n\n\t\t\t// Setup trigger for closing datepickers\n\t\t\t$(document).on('click', 'button:contains(\"Set\")', function() {\n\t\t\t\t$('#right-col-xtra button:contains(\"Done\")').trigger('click');\n\t\t\t});\n\n\t\t},\n\n\t\tcategory_actions: function(el,parent,override) {\n\n\t\t\tvar p\t\t= el.parents('div.col-row:first');\n\n\t\t\tif ( ! p.length ) { return; }\n\n\t\t\tvar\tid\t\t= ko.dataFor(p[0]).id,\n\t\t\t\tapp\t\t= this.interfaces.app,\n\t\t\t\tinput\t= p.find('div.check-edit input'),\n\t\t\t\tids\t\t= [],\n\t\t\t\tret\t\t= {};\n\n\t\t\tif ( el.is(':checked') ) {\n\t\t\t\tthis.observers.alteredcategories.push( el.closest('div.col-row').find('label').text().trim() );\n\t\t\t}\n\n\t\t\tif ( el.hasClass('edit-cat') ) {\n\t\t\t\tp.find('.display').hide();\n\t\t\t\tp.find('.panel-hover-link').hide();\n\t\t\t\tp.find('.check-edit').show();\n\t\t\t\tp.addClass('editing');\n\t\t\t\t$('input.field').off('.drawer_editcat').on('keydown.drawer_editcat', function(e) {\n\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t// Fix for sheets losing ENTER priority\n\t\t\t\t\t\tif ($(e.target).closest('.ui-sheet').length >= 1) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($(e.target).val() !== '') {\n\t\t\t\t\t\t\t$(e.target).parent().find('.save-edit-cat').length && $(e.target).parent().find('.save-edit-cat').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( el.hasClass('cancel-cat') ) {\n\t\t\t\tp.find('.display').show();\n\t\t\t\tp.find('.check-edit').hide();\n\t\t\t\tp.find('.panel-hover-link').removeAttr('style');\n\t\t\t\tp.removeClass('editing');\n\t\t\t}\n\n\t\t\tif ( el.hasClass('add-cat') ) {\n\n\t\t\t\tvar _inp\t\t= parent.parent().parent().find('input'),\n\t\t\t\t\thasCheck\t= parent.closest('#category_edit_drawer').find('input:checked'),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tif ( _inp.val().trim().length <= 0 ) {\n\t\t\t\t\tthis.notify().warn('Categories cannot be left blank');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tself.observers.tempcategories([]);\n\n\t\t\t\t$.each( hasCheck, function(k,v) {\n\t\t\t\t\tself.observers.tempcategories.push( $(this).closest('div.col-row').data('id') );\n\t\t\t\t});\n\n\t\t\t\tid = _inp.val();\n\t\t\t\tself.observers.alteredcategories.push(id);\n\t\t\t\tapp.models.categories.set(id);\n\t\t\t\t_inp.val('');\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('delete-cat') ) {\n\t\t\t\tif (typeof override == 'boolean' && override == true) {\n\t\t\t\t\tapp.models.categories.del(id);\n\t\t\t\t} else {\n\t\t\t\t\tthis.classes.modal.delete_category.show(el,parent);\n\t\t\t\t\t$('.modal-outer #category_name').text(el.parents('div.col-row:first').find('label').text());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( el.hasClass('save-edit-cat') ) {\n\t\t\t\t$('span.cat[data-id=' + id + ']').html( input.val() );\n\t\t\t\tapp.models.categories.update( id, input.val(), function() {\n\t\t\t\t\tif (p.find('input[type=\"checkbox\"]').prop('checked') == true) $('#right-col-xtra').find('.col-row[data-id=\"' + id + '\"] input').prop('checked',true);\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('save-cat') ) {\n\n\t\t\t\tvar catsChecked = [];\n\n\t\t\t\t$('#category_edit_drawer').find('input:checked').each( function(k,v) {\n\t\t\t\t\tcatsChecked.push($(v).parent().find('label').text());\n\t\t\t\t\tids.push($(v).parent().data('id'));\n\t\t\t\t});\n\n\t\t\t\tthis.pubsub( 'category.save', ids.join(',') );\n\n\t\t\t\t// Retest if cats checked are the same as altered categories, if not update altered categories\n\t\t\t\tvar replaceAlteredCategories = [];\n\t\t\t\t$.each(this.observers.alteredcategories(), function(i, ac) {\n\t\t\t\t\tif (catsChecked.indexOf(ac) != -1) {\n\t\t\t\t\t\treplaceAlteredCategories.push(ac);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.observers.alteredcategories(replaceAlteredCategories);\n\n\t\t\t\tif ( this.observers.alteredcategories().length <= 0 ) return;\n\n\t\t\t\tvar tot = ( $('#three-col-mid li.selected').length > 0 ) ? $('#three-col-mid li.selected').length : 1,\n\t\t\t\t\t_cats = this.helpers.unique( this.observers.alteredcategories() ).join(', '),\n\t\t\t\t\tmsg = ( this.observers.sidebar && this.observers.sidebar.asset.album_type && tot === 1 ) ? 'Category ' + _cats + ' assigned to ' + this.observers.sidebar.asset.title() : 'Category ' + _cats + ' assigned to ' + tot + ' items';\n\n\t\t\t\tif ( $('#three-col-mid li.selected').data('which') === 'thumbnail' ) msg = 'Category ' + _cats + ' assigned to ' + tot + ' items';\n\n\t\t\t\tthis.notify().success(msg);\n\t\t\t\tthis.observers.alteredcategories([]);\n\n\t\t\t}\n\n\t\t},\n\n\t\ttag_actions: function(el,parent) {\n\n\t\t\tvar tags = [], self = this;\n\n\t\t\t$('#tags_edit_drawer .active-tag').each(function(idx, element) {\n\t\t\t\ttags.push($(element).text());\n\t\t\t});\n\n\t\t\tif ( el.hasClass('create-tag') ) {\n\n\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = true;\n\n\t\t\t\tvar input = el.closest('.col-group').find('input'),\n\t\t\t\t\tparsed_tags = this.helpers.parse_tag_input(input.val()),\n\t\t\t\t\tnoobs = $.grep(parsed_tags, function(x) { return $.inArray(x, tags) < 0; });\n\n\t\t\t\tif (noobs.length) {\n\t\t\t\t\tthis.notify().success( noobs.join(', ') + ' tag' + (noobs.length > 1 ? 's' : '') + ' created' );\n\t\t\t\t\ttags = tags.concat(noobs);\n\n\t\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\t\tthis.pubsub('tags.multisave', {\n\t\t\t\t\t\t\tdata: tags.join(','),\n\t\t\t\t\t\t\ttype: 'create'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.pubsub('tags.save', {\n\t\t\t\t\t\t\tdata: tags.join(','),\n\t\t\t\t\t\t\ttype: 'save'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar recent = $.map( this.observers.tags(), function(tag, i) { return tag.title; } );\n\n\t\t\t\t\t$.each(noobs, function(i, t) {\n\t\t\t\t\t\tif ( $.inArray(t, recent) === -1 ) {\n\t\t\t\t\t\t\tself.observers.tags.remove( function(item) { return item.title == t; });\n\t\t\t\t\t\t\tself.observers.tags.unshift({ title: t });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tif (parsed_tags.length <= 0) {\n\t\t\t\t\t\tthis.notify().warn('Tags cannot be left blank');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().warn('Tag \"' + parsed_tags.join(', ') + '\" has already been assigned');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tinput.val('');\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tinput.focus();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('recent-tag') ) {\n\n\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = true;\n\n\t\t\t\tvar _t = el.text().toLowerCase().replace(/[\\s,\\,]+/g, ' ');\n\t\t\t\ttags.push(_t);\n\t\t\t\tthis.observers.temptags.push(_t);\n\n\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\tthis.pubsub('tags.multisave', {\n\t\t\t\t\t\tdata: tags.join(','),\n\t\t\t\t\t\ttype: 'create'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.pubsub('tags.save', {\n\t\t\t\t\t\tdata: tags.join(',')\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.observers.tags.remove( function(item) { return item.title == _t; });\n\t\t\t\tthis.observers.tags.unshift({ title: _t });\n\t\t\t}\n\n\t\t\tif ( el.hasClass('done-tag') ) {\n\n\t\t\t\t// TODO: Globalize this, makes no sense the way I setup\n\t\t\t\tif ( this.views && this.views.close_sidebar_drawer ) this.views.close_sidebar_drawer();\n\t\t\t\tif ( this.events.close_sidebar_drawer ) this.events.close_sidebar_drawer();\n\n\t\t\t\tthis.observers.drawerOpen = false;\n\n\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\tthis.pubsub('tags.multisave');\n\t\t\t\t} else {\n\t\t\t\t\tif (this.classes.app.koken.tagsHasBeenEdited) {\n\t\t\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = false;\n\t\t\t\t\t\tthis.notify().success('Tags have been successfully updated');\n\t\t\t\t\t}\n\t\t\t\t\tif ( this.observers.temptags().length <= 0 ) return;\n\t\t\t\t\tthis.observers.temptags([]);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('remove-tag') ) {\n\n\t\t\t\tthis.classes.app.koken.tagsHasBeenEdited = true;\n\n\t\t\t\tvar tagBeingDeleted = el.parent().find('a:first').text();\n\n\t\t\t\tel.parent().remove();\n\n\t\t\t\ttags = [];\n\n\t\t\t\t$('#tags_edit_drawer').find('.active-tag').each( function(k,v) {\n\t\t\t\t\ttags.push( $(v).text() );\n\t\t\t\t});\n\n\t\t\t\tvar removing = [];\n\n\t\t\t\t$.each( this.observers.temptags(), function(k,v) {\n\t\t\t\t\tif ( tagBeingDeleted != v ) {\n\t\t\t\t\t\tremoving.push(v)\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.observers.temptags(removing);\n\n\t\t\t\tif (self.interfaces.active.id === 'library' && self.interfaces.library.observers.selection().length > 1) {\n\t\t\t\t\tthis.pubsub( 'tags.save', {\n\t\t\t\t\t\tdata: (!self.observers.sidebar || self.observers.sidebar.id() === 'album') ? tags.join(',') : tagBeingDeleted,\n\t\t\t\t\t\ttype: 'delete'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.pubsub( 'tags.save', {\n\t\t\t\t\t\tdata: tags.join(',')\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\ttour: function(el,parent) {\n\n\t\t\tvar didChange = false;\n\n\t\t\tvar nextPage = function() {\n\n\t\t\t\tvar links = parent.find('.pag a'),\n\t\t\t\tcurrentLink = parent.find('.pag .c0'),\n\t\t\t\tnext = currentLink.index() + 1;\n\n\t\t\t\tif ( next > ( links.length - 1 ) ) {\n\t\t\t\t\tnext = 0;\n\t\t\t\t}\n\n\t\t\t\tlinks.eq(next).addClass('c0');\n\t\t\t\tcurrentLink.removeClass('c0');\n\n\t\t\t}\n\n\t\t\tvar prevPage = function() {\n\n\t\t\t\tvar links = parent.find('.pag a'),\n\t\t\t\tcurrentLink = parent.find('.pag .c0'),\n\t\t\t\tprev = currentLink.index() - 1;\n\n\t\t\t\tif ( prev < 0 ) {\n\t\t\t\t\tprev = links.length - 1;\n\t\t\t\t}\n\n\t\t\t\tlinks.eq(prev).addClass('c0');\n\t\t\t\tcurrentLink.removeClass('c0');\n\n\t\t\t}\n\n\t\t\tif ( el.closest('div').hasClass('pag') ) {\n\t\t\t\tif ( ! el.hasClass('c0') ) {\n\t\t\t\t\tparent.find('.c0').removeClass('c0');\n\t\t\t\t\tel.addClass('c0');\n\t\t\t\t\tdidChange = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( el.closest('div').hasClass('next') ) {\n\t\t\t\t\tnextPage();\n\t\t\t\t\tdidChange = true;\n\t\t\t\t}\n\t\t\t\tif ( el.closest('div').hasClass('prev') ) {\n\t\t\t\t\tprevPage();\n\t\t\t\t\tdidChange = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !didChange ) { return; }\n\n\t\t\t$('.tour-current').stop().fadeOut(function() {\n\t\t\t\t$(this).removeClass('tour-current');\n\t\t\t\t$( '#tour-' + parent.find('.pag .c0').text().toLowerCase() ).addClass('tour-current');\n\t\t\t\t$('.tour-current').fadeIn();\n\t\t\t});\n\n\t\t},\n\n\t\tupdate_slug: function(el, parent) {\n\t\t\tvar slug = parent.parent().find('input[type=\"text\"]').val(),\n\t\t\t\texistingSlug = parent.parent().find('input[type=\"hidden\"]').val(),\n\t\t\t\tvalidateRegex = /^[0-9\\-]*[a-z][a-z0-9\\-]*$/;\n\n\t\t\tif (slug === existingSlug) {\n\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!slug.length) {\n\t\t\t\tthis.notify().warn('Site link slug may not be empty');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!validateRegex.test(slug)) {\n\t\t\t\tthis.notify().warn('Slug edit error. Must contain at least one lowercase letter.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar url = 'text',\n\t\t\t\tid;\n\n\t\t\tif (this.observers.sidebar) {\n\t\t\t\turl = this.observers.sidebar.id() === 'content' ? 'content' : 'albums';\n\t\t\t\tid = this.observers.sidebar.asset.id();\n\t\t\t} else {\n\t\t\t\tid = this.observers.page_to_edit.id();\n\t\t\t}\n\n\t\t\tvar notify = this.notify().wait('Updating slug');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: url + '/' + id,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tcontext: this,\n\t\t\t\tdata: 'slug=' + slug,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tnotify.warn(data.error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnotify.success('Site link slug changed to /' + data.slug);\n\n\t\t\t\t\t\tif (url === 'text') {\n\t\t\t\t\t\t\tthis.observers.page_to_edit.url(data.url);\n\t\t\t\t\t\t\tthis.observers.page_to_edit.slug(data.slug);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.url(data.url);\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.slug(data.slug);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\ttimestamp_actions: function(el,parent) {\n\n\t\t\tif ( el.hasClass('datepicker') ) {\n\n\t\t\t\tif ( ! el.hasClass('hasDatepicker') ) {\n\n\t\t\t\t\tvar val = el.val(),\n\t\t\t\t\t\tmax = new Date().getTime();\n\n\t\t\t\t\tif (el.data('raw') && el.data('raw') > 0) {\n\t\t\t\t\t\tval = el.data('raw');\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! isNaN(val) && (val.length > 0 || val > 0) ) {\n\n\t\t\t\t\t\tvar v = Number(val);\n\n\t\t\t\t\t\tvar pad = function(n) {\n\t\t\t\t\t\t\treturn n < 10 ? '0' + n : n;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (el.data('no-tz-shift')) {\n\t\t\t\t\t\t\tv = moment.utc(v*1000);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tv = moment(v*1000).tz(this.observers.settings.site_timezone());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tel.val(v.format('YYYY/MM/DD HH:MM:SS'));\n\n\t\t\t\t\t}\n\n\t\t\t\t\tel.datetimepicker({\n\t\t\t\t\t\ttimeFormat: 'HH:mm:ss',\n\t\t\t\t\t\tdateFormat: 'yy/mm/dd',\n\t\t\t\t\t\tmaxDate: max\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\tel.datetimepicker('show');\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('done-timestamp') ) {\n\n\t\t\t\tthis.pubsub( 'timestamp.save', parent.find('input').val() );\n\n\t\t\t\t// TODO: Globalize this, makes no sense the way I setup\n\t\t\t\tif ( this.views && this.views.close_sidebar_drawer ) { this.views.close_sidebar_drawer(); }\n\t\t\t\tif ( this.events.close_sidebar_drawer ) { this.events.close_sidebar_drawer(); }\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('done-timestamp-created') ) {\n\n\t\t\t\tthis.pubsub( 'timestamp_created.save', parent.find('input').val() );\n\n\t\t\t\t// TODO: Globalize this, makes no sense the way I setup\n\t\t\t\tif ( this.views && this.views.close_sidebar_drawer ) { this.views.close_sidebar_drawer(); }\n\t\t\t\tif ( this.events.close_sidebar_drawer ) { this.events.close_sidebar_drawer(); }\n\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_sheet: function(el) {\n\n\t\t\tvar sheet\t= typeof el === 'string' ? el : el.closest('[data-sheet]').data('sheet'),\n\t\t\t\tcurrent\t= this.observers.sheets[sheet].active(),\n\t\t\t\treset\t= this.observers.sheets[sheet].reset,\n\t\t\t\tscroll\t= $('#'+sheet).find('.scroll_wrapper'),\n\t\t\t\tself\t= this;\n\n\t\t\tif (reset) {\n\t\t\t\treset.call( this.observers.sheets[sheet] );\n\t\t\t}\n\n\t\t\t$('#container').find('.ui-sheet').each( function() {\n\t\t\t\tif (self.observers.sheets[$(this).attr('id')]) self.observers.sheets[$(this).attr('id')].active(false);\n\t\t\t});\n\n\t\t\tif ( current && this.observers.sheets[sheet].onunload ) this.observers.sheets[sheet].onunload.call(this,$('#'+sheet));\n\n\t\t\tthis.observers.valid(false);\n\n\t\t\t$('#'+sheet).css({ left: '50%' });\n\t\t\tthis.observers.sheets[sheet].active(!current);\n\n\t\t\tif ( this.observers.sheets[sheet].active() ) {\n\n\t\t\t\t$('#'+sheet).find('input').off('focus keyup');\n\t\t\t\t$('#'+sheet).find('.sheet-options .sub:not(.override-autoclose)').removeClass('open').hide();\n\t\t\t\t$('#'+sheet).find('.sheet-options .arrow-toggle:not(.override-autoclose)').removeClass('open');\n\n\t\t\t\t$('#container').trigger('sheet.activated', this.observers.sheets[sheet]);\n\n\t\t\t\tif ( this.observers.sheets[sheet].onload ) {\n\t\t\t\t\tthis.observers.sheets[sheet].onload.call(this,$('#'+sheet));\n\n\t\t\t\t\tif (this.observers.sheets[sheet].plugins) {\n\t\t\t\t\t\t$.each(this.observers.sheets[sheet].plugins, function(i, plugin) {\n\t\t\t\t\t\t\tif (plugin.onload) plugin.onload();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself.classes.form_validation[self.interfaces.active.id].valid && self.classes.form_validation[self.interfaces.active.id].valid(sheet, true);\n\n\t\t\t\t// $('.ui-sheet-bg').fadeIn();\n\n\t\t\t} else {\n\t\t\t\tif ( this.observers.sheets[sheet].onunload ) {\n\t\t\t\t\tthis.observers.sheets[sheet].onunload.call(this,$('#'+sheet));\n\t\t\t\t}\n\t\t\t\t// $('.ui-sheet-bg').fadeOut();\n\t\t\t}\n\n\t\t\tif ( this.observers.sheets[sheet].active() ) {\n\t\t\t\t$('input[type=\"text\"]:first, textarea:first', '#' + sheet).focus();\n\t\t\t\t$(window).off('keyup.sheet').on( 'keyup.sheet', function(e) {\n\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t$('#'+sheet).find('button').closest('[data-validate]').find('button').andSelf().focus().trigger('click');\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tif ($('.form-error-msg:visible').length <= 0) {\n\t\t\t\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('.form-error-msg').closest('li').find('input').focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif ( e.which === 27 ) {\n\t\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\t\tself.interfaces.app.events.toggle_sheet.call(self,el);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$(window).off('.sheet');\n\t\t\t}\n\n\t\t\t$(window).trigger('resize');\n\n\t\t},\n\n\t\ttoggle_dropdown: function(el,parent) {\n\n\t\t\tvar ob\t\t= ( parent.closest('#interface_container').length <= 0 ) ? this.interfaces.app.observers : this.observers,\n\t\t\t\tdd\t\t= el.closest('[data-dropdown]').data('dropdown'),\n\t\t\t\tcurrent\t= ob.dropdowns[dd].active(),\n\t\t\t\twedge\t= ob.dropdowns[dd].wedge.offset || 0,\n\t\t\t\toffset\t= ob.dropdowns[dd].offset || 0,\n\t\t\t\ttop\t\t= ob.dropdowns[dd].top || 0,\n\t\t\t\tself\t= this,\n\t\t\t\tid;\n\n\t\t\tparent.closest('#container').find('.opt-menu').each( function() {\n\t\t\t\tvar _ob = ( $(this).closest('#interface_container').length <= 0 ) ? self.interfaces.app.observers : self.observers;\n\t\t\t\tid = $(this).attr('id');\n\t\t\t\tif ( id && id.indexOf('_dd') >= 0 ) {\n\t\t\t\t\tid = id.replace('_dd','');\n\t\t\t\t\t_ob.dropdowns[id].active(false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Cleanup for replace image button\n\t\t\tif (!current) $('#mid-menu-top .moxie-shim').remove();\n\n\t\t\tob.dropdowns[dd].active(!current);\n\n\t\t\tif ( ob.dropdowns[dd].active() === true && ! $('#'+dd+'_dd').data('bound') ) {\n\t\t\t\t$('#'+dd+'_dd').data('bound',true).find('li').each( function(k,v) {\n\n\t\t\t\t\tvar item = $(v);\n\n\t\t\t\t\tif (item.find('a').attr('title') === 'insert_break') {\n\t\t\t\t\t\titem.empty().addClass('break');\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( item.attr('data-bind') ) {\n\n\t\t\t\t\t\tif ( item.data('bind').length > 0 ) {\n\t\t\t\t\t\t\titem.prepend('<!-- ko with: dropdowns.' + dd + '.items()[' + k + '] -->').append('<!-- /ko -->');\n\t\t\t\t\t\t\tvar _el = item.get(0);\n\t\t\t\t\t\t\tko.cleanNode(_el);\n\t\t\t\t\t\t\tko.applyBindings(ob, _el);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.find('.bind').each( function(j,w) {\n\t\t\t\t\t\t\tvar _el = w;\n\t\t\t\t\t\t\tko.cleanNode(_el);\n\t\t\t\t\t\t\tko.applyBindings(ob, _el);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif (!$('#'+dd+'_dd').find('li:hidden').last().hasClass('break') && $('#'+dd+'_dd').find('li:hidden').last().index() - $('#'+dd+'_dd').find('li.break').index() >= 0 ) {\n\t\t\t\t$('#'+dd+'_dd').find('li.break').hide();\n\t\t\t} else {\n\t\t\t\t$('#'+dd+'_dd').find('li.break').show();\n\t\t\t}\n\n\t\t\tif ( ob.dropdowns[dd].active() === true && ob.dropdowns[dd].onload ) {\n\t\t\t\tob.dropdowns[dd].onload.call( this, $('#'+dd+'_dd') );\n\t\t\t}\n\n\t\t\tthis.helpers.outside( $('#'+dd+'_dd'), function() {\n\t\t\t\tob.dropdowns[dd].active(false);\n\t\t\t\tif ( ! ob.dropdowns[dd].active() && ob.dropdowns[dd].onunload ) {\n\t\t\t\t\tob.dropdowns[dd].onunload.call( self, $('#'+dd+'_dd') );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ( ob.dropdowns[dd].position ) {\n\t\t\t\tif ( ob.dropdowns[dd].position() === 'above' ) {\n\t\t\t\t\t$('#'+dd+'_dd').css({ top: 'auto', bottom: 10 }).find('.wedge').addClass('rotate');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$('#'+dd+'_dd').on( 'click', 'li', function() {\n\t\t\t\tob.dropdowns[dd].active(false);\n\t\t\t\tif ( ! ob.dropdowns[dd].active() && ob.dropdowns[dd].onunload ) {\n\t\t\t\t\tob.dropdowns[dd].onunload.call( self, $('#'+dd+'_dd') );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('#'+dd+'_dd').css( ( parseInt( offset, 10 ) < 0 ) ? 'right' : 'left', Math.abs( parseInt( offset, 10 ) ) + 'px' ).find('.wedge').css('left',wedge);\n\n\t\t\tif ( top != 0 && ! $('#'+dd+'_dd').data('ddm') ) {\n\t\t\t\t$('#'+dd+'_dd').css( 'top', ( parseInt( $('#'+dd+'_dd').css('top'), 10 ) + parseInt( top, 10 ) ) + 'px' ).data('ddm',true);\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_visibility: function(el,parent) {\n\n\t\t\tvar isSheet = ( parent.closest('.ui-sheet').length > 0 ) ? true : false;\n\n\t\t\tif ( parent.closest('.scroll_wrapper').length ) {\n\t\t\t\tvar scroll_top = parent.closest('.scroll_wrapper')[0].scrollTop;\n\t\t\t}\n\n\t\t\tparent.next().toggle().toggleClass('open').end().find('a').toggleClass('open');\n\t\t\tparent.next().find('input[type=\"text\"]').focus();\n\n\t\t\tif ( scroll_top > 0 ) {\n\t\t\t\tparent.closest('.scroll_wrapper')[0].scrollTop = (scroll_top + 40);\n\t\t\t}\n\n\t\t\tif (!isSheet && parent.attr('id') !== '') {\n\t\t\t\tthis.cookie('library:' + parent.attr('id'), parent.find('a:first').hasClass('open') ? 'open' : 'closed');\n\t\t\t}\n\n\t\t},\n\n\t\tignore_release: function() {\n\t\t\tthis.cookie('ignore_release', this.observers.update_available());\n\t\t\tthis.observers.update_available(false);\n\t\t},\n\n\t\trun_migrations: function(migrations) {\n\t\t\tthis.classes.modal.update_available.show();\n\n\t\t\tvar total = migrations.length + 1,\n\t\t\t\tself = this,\n\t\t\t\tmigrate = function() {\n\t\t\t\t\tself.classes.modal.update_available.progress( (total-(migrations.length-1))/total );\n\t\t\t\t\t$('.update_progress').siblings('h1').text('Updating');\n\t\t\t\t\t$('.update_progress').siblings('p').text('The new version is now being installed.');\n\t\t\t\t\tif (migrations.length) {\n\t\t\t\t\t\tnext();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.update_progress').siblings('h1').text('Refreshing');\n\t\t\t\t\t\t$('.update_progress').siblings('p').text('One moment.');\n\t\t\t\t\t\tif (self.has.localStorage) {\n\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tlocation.reload(true);\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tnext = function() {\n\t\t\t\t\tvar n = migrations.shift();\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'update/migrate/' + n.replace(/\\.php$/, ''),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data && data.done) {\n\t\t\t\t\t\t\t\tmigrate();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmigrations.unshift(n);\n\t\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tmigrations = [ 'schema' ].concat(migrations);\n\t\t\t\tmigrate();\n\t\t},\n\n\t\tinstall_release: function() {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.classes.modal.update_available.show();\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'update',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'url=' + this.observers.update_url(),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data && data.error) {\n\t\t\t\t\t\tthis.classes.modal.update_failed.show();\n\n\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\tself.classes.modal.update_failed.hide();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.post('../recover.php');\n\t\t\t\t\t} else if (data && data.requirements) {\n\t\t\t\t\t\tthis.classes.modal.update_compat_fail.show();\n\n\t\t\t\t\t\t$.each(data.requirements, function(i, obj) {\n\t\t\t\t\t\t\t$('<li/>')\n\t\t\t\t\t\t\t\t.text(obj.required + '. Your server has only: ' + obj.local + '.')\n\t\t\t\t\t\t\t\t.appendTo('#unmet_requirements');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\tself.classes.modal.update_compat_fail.hide();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else if (data && data.migrations !== undefined) {\n\t\t\t\t\t\tthis.events.run_migrations(data.migrations);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$.post('../recover.php', function() {\n\t\t\t\t\t\t\tself.classes.modal.update_recovered.show();\n\n\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\t\tself.classes.modal.update_recovered.hide();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t},\n\n\tcontrollers: {\n\n\t\tfetch_themes: function(callback) {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'themes',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.themes(data);\n\t\t\t\t\tcallback && callback.apply(this, data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\ttoggle_plugin: function(data, callback) {\n\t\t\tvar\tnotify = this.notify(),\n\t\t\t\tself = this;\n\n\t\t\tif (data.activated) {\n\t\t\t\tnotify.wait('Disabling');\n\n\t\t\t\tthis.interfaces.plugins && $.each(this.interfaces.plugins, function(i, plugin) {\n\t\t\t\t\tif (plugin.path == data.path) {\n\t\t\t\t\t\t$(document).off(self.interfaces.plugins[i].hooks);\n\t\t\t\t\t\tdelete self.interfaces.plugins[i];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'plugins/' + data.id,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\tnotify.success(data.name + ' has been disabled');\n\t\t\t\t\t\tvar copy = $.extend({}, data);\n\t\t\t\t\t\tdelete(copy.id);\n\t\t\t\t\t\tcopy.activated = false;\n\t\t\t\t\t\tthis.observers.user_plugins.replace( data, copy );\n\t\t\t\t\t\tthis.observers.process_plugin_data({ plugins: this.observers.user_plugins() });\n\t\t\t\t\t\tcallback && callback.call(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnotify.wait('Activating');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'plugins',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: \"path=\" + data.path,\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\tvar _plugin;\n\t\t\t\t\t\t$.each(d.plugins, function(i, p) {\n\t\t\t\t\t\t\tif (p.path === data.path) {\n\t\t\t\t\t\t\t\t_plugin = p;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (_plugin.console) {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: '../api.php?/plugins/css',\n\t\t\t\t\t\t\t\tsuccess: function(data){\n\t\t\t\t\t\t\t\t\t $('<style></style>').appendTo('head').html(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: '../api.php?/plugins/js',\n\t\t\t\t\t\t\t\tdataType: 'script',\n\t\t\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\t\t\tthis.interfaces.plugins && $.each(this.interfaces.plugins, function(i, plugin) {\n\t\t\t\t\t\t\t\t\t\tif (plugin.path == data.path) plugin.init(function() {\n\t\t\t\t\t\t\t\t\t\t\tnotify.success(data.name + ' has been activated');\n\t\t\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tcallback && callback.call(self);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotify.success(data.name + ' has been activated');\n\t\t\t\t\t\t\tcallback && callback.call(this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.process_plugin_data(d);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tload_categories: function() {\n\n\t\t\tvar page = 0,\n\t\t\t\tpages = Infinity,\n\t\t\t\tdata = [],\n\t\t\t\tself = this;\n\n\t\t\tfunction next()\n\t\t\t{\n\t\t\t\tif (page >= pages) {\n\t\t\t\t\tself.controllers.load('categories', data);\n\t\t\t\t} else {\n\t\t\t\t\tpage++;\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'categories/page:' + page,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\t\tdata = data.concat(d.categories);\n\t\t\t\t\t\t\tpages = d.pages;\n\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnext();\n\t\t},\n\n\t\tlazy_album_sheet: function() {\n\t\t\tvar l = function() {\n\t\t\t\tvar img = $('.ui-sheet.active span.preview img.loading:first');\n\t\t\t\tif (img.length) {\n\t\t\t\t\timg.on('load', function() {\n\t\t\t\t\t\timg.removeClass('loading');\n\t\t\t\t\t\tl();\n\t\t\t\t\t});\n\t\t\t\t\timg.attr('src', img.data('src'));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tl();\n\t\t},\n\n\t\tlazy: function(el,opts) {\n\n\t\t\tif ( !opts ) {\n\t\t\t\tthis.interfaces.app.classes.scrollbar.mid_multi.update();\n\t\t\t\tthis.interfaces.app.classes.scrollbar.mid_multi.loopy(true);\n\t\t\t}\n\n\t\t\tel = ( typeof el === 'string' ) ? $(el) : el;\n\n\t\t\tif ( el.find('li').length <= 0 ) { return; }\n\n\t\t\tvar wrap\t\t= el.closest('.scroll_wrapper'),\n\t\t\t\tself\t\t= this;\n\n\t\t\t// Prevents js errors if for some reason the scrollbar didn't load\n\t\t\tif ( wrap.length <= 0 ) { return; }\n\n\t\t\tvar top\t\t\t= wrap.offset().top,\n\t\t\t\tbottom\t\t= top + wrap.height(),\n\t\t\t\tloadklass\t= (opts && opts !== 'suppress') ? 'loading-sheet' : 'loading';\n\n\t\t\tif (top === bottom) {\n\t\t\t\t// Wait for sheet resize if necessary\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tself.controllers.lazy(el, opts);\n\t\t\t\t}, 10);\n\t\t\t}\n\n\t\t\tvar load_image = function() {\n\n\t\t\t\tvar l\t\t= $('.loadme:first'),\n\t\t\t\t\timg\t\t= l.find('img:first'),\n\t\t\t\t\titem\t= (opts && opts !== 'suppress') ? self.observers.load_content.content()[l.data('index')] : self.observers.content()[l.data('index')],\n\t\t\t\t\turl, src;\n\n\t\t\t\tif ( !item ) {\n\t\t\t\t\tif ( !opts ) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.interfaces.app.classes.scrollbar.mid_multi.loopy();\n\t\t\t\t\t\t},250);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( el.hasClass('set') || el.hasClass('album') ) {\n\t\t\t\t\tload_image();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( l.length ) {\n\n\t\t\t\t\tif ( item && item.file_modified_on && ! item.album_type ) {\n\n\t\t\t\t\t\timg.off('.tload' + item.id).on('load.tload' + item.id, function() {\n\t\t\t\t\t\t\tvar sm = $(this).parents('li').find('span.tn-wrap img');\n\t\t\t\t\t\t\tsm.off('.ns' + item.id).on('load.ns' + item.id, function() {\n\t\t\t\t\t\t\t\t$(this).fadeIn();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsm.attr('src', $(this).attr('src'));\n\n\t\t\t\t\t\t\t$(this).fadeIn(500, function() {\n\t\t\t\t\t\t\t\tl.removeClass( loadklass + ' staged').addClass('loaded');\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tload_image();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tl.removeClass('loadme').addClass('staged');\n\n\t\t\t\t\t\tvar uri = img.data('url') || item.presets && item.presets.small[self.config.retina ? 'hidpi_url' : 'url'] || item.original.url;\n\t\t\t\t\t\tsrc = uri.replace(RegExp('^' + location.protocol + '//(www.)?' + location.host.replace(/^www\\./, '')), '');\n\t\t\t\t\t\timg.attr( 'src', src );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$('.loadme').removeClass('loadme');\n\n\t\t\tel.children(':not(.loaded,.staged,.album,.set)').each( function(k,v) {\n\n\t\t\t\tvar t\t= $(v).offset().top,\n\t\t\t\t\t_t\t= t + $(v).height();\n\n\t\t\t\tif ( _t > top && t < bottom ) {\n\t\t\t\t\t$(v).addClass( loadklass + ' loadme' );\n\t\t\t\t} else if ( t > bottom ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tel.children().each(function() {\n\n\t\t\t\tif ( el[0].id === 'content_list' ) {\n\t\t\t\t\t// This initiates the drag methods since we now know this asset is in the DOM\n\t\t\t\t\tvar id = $(this).data('id');\n\t\t\t\t\tif ( self.classes.asset[id] && self.classes.asset[id].drag ) { self.classes.asset[id].drag( $(this) ); }\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tload_image();\n\n\t\t},\n\n\t\tmultiselect: function(el,cb) {\n\n\t\t\tvar self = this;\n\n\t\t\t$(document).off('click.shortcuts').on( 'click.shortcuts', el, function(e) {\n\n\t\t\t\t// Turning off clicks on favorite,featured,cover badges\n\t\t\t\tif ( $(e.target).closest('.img-badges').length > 0 && !$(e.target).hasClass('unlisted') && !$(e.target).hasClass('private') ) { return; }\n\n\t\t\t\tvar selection\t= self.observers.load_content.selected.content().length && self.observers.load_content.selected.content() || self.observers.selection(),\n\t\t\t\t\titem\t\t= $(this),\n\t\t\t\t\tparent\t\t= item.parent(),\n\t\t\t\t\tid\t\t\t= item.data('id'),\n\t\t\t\t\tcurrent\t\t= selection[0],\n\t\t\t\t\tindex;\n\n\t\t\t\tif ( e.shiftKey ) {\n\n\t\t\t\t\tvar base = item.siblings('li[data-id=\"' + current + '\"]');\n\n\t\t\t\t\tselection.push(id);\n\n\t\t\t\t\tif ( item.index() > base.index() ) {\n\n\t\t\t\t\t\titem.prevUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\tselection.push($(_li).data('id'));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\titem.nextUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\tselection.push($(_li).data('id'));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( e.metaKey || e.ctrlKey ) {\n\n\t\t\t\t\tindex = $.inArray( id, selection );\n\n\t\t\t\t\tif ( index !== -1 ) {\n\t\t\t\t\t\tselection.splice(index, 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselection.push(id);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tselection = [item.data('id')];\n\t\t\t\t}\n\n\t\t\t\tselection = self.helpers.unique(selection);\n\n\t\t\t\tself.observers.load_content.selected.content(selection);\n\n\t\t\t\tif (cb) cb(selection);\n\n\t\t\t});\n\n\t\t},\n\n\t\tload_content: function(el,url,scroll,type,visibility) {\n\n\t\t\tel\t\t= ( typeof el === 'string' ) ? $(el) : el;\n\t\t\tscroll\t= ( typeof scroll === 'string' ) ? $(scroll) : scroll;\n\t\t\ttype\t= type || 'photo';\n\t\t\tvisibility = visibility || false;\n\n\t\t\t//if ( ! el[0].tagName ) { return false; }\n\n\t\t\tvar load_to = this.observers.load_content.selected.content().length ? this.observers.load_content.selected.content()[0] : false;\n\n\t\t\tthis.observers.load_content.content([]);\n\t\t\tthis.observers.load_content.selected.content([]);\n\n\t\t\tif (this.observers.load_content.subscription) {\n\t\t\t\tthis.observers.load_content.subscription.dispose();\n\t\t\t}\n\n\t\t\tvar self = this;\n\n\t\t\tthis.observers.load_content.subscription = this.observers.load_content.selected.content.subscribe( function(val) {\n\t\t\t\tel.find('.selected').removeClass('selected');\n\t\t\t\t$.each( val, function(i, v) {\n\t\t\t\t\tel.find('li[data-id=\"' + v + '\"]').addClass('selected');\n\t\t\t\t});\n\n\t\t\t\tif (val.length === 0) {\n\t\t\t\t\tself.observers.load_content.selected.text('');\n\t\t\t\t} else if (val.length === 1) {\n\t\t\t\t\t$.each( self.observers.load_content.content(), function(k,v) {\n\t\t\t\t\t\tif ( v.id == val[0] ) {\n\t\t\t\t\t\t\tvar _filename = v.filename;\n\t\t\t\t\t\t\tif (_filename === 'Vimeo') {\n\t\t\t\t\t\t\t\t_filename = (v.title.length > 0) ? v.title : 'Vimeo video';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (_filename === 'Instagram') {\n\t\t\t\t\t\t\t\t_filename = (v.title.length > 0) ? v.title : 'Instagram photo';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.observers.load_content.selected.text(_filename);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.observers.load_content.selected.text('Multiple (' + val.length + ')');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar show_error = function() {\n\t\t\t\tel.html( $('#sheet_content_error').html() );\n\t\t\t};\n\n\t\t\tif (url === 'last_upload') {\n\t\t\t\tif (this.observers.settings.last_upload()) {\n\t\t\t\t\turl = 'content/after:' + this.observers.settings.last_upload() + '/order_by:uploaded_on/visibility:any';\n\t\t\t\t} else {\n\t\t\t\t\tshow_error();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (url === 'quick_collection') {\n\t\t\t\tif ( this.persist('library.quick_collection') ) {\n\t\t\t\t\turl = 'content/' + this.persist('library.quick_collection') + '/visibility:any';\n\t\t\t\t} else {\n\t\t\t\t\tshow_error();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.load_content.url(url);\n\n\t\t\tvar load_page\t\t\t= 1,\n\t\t\t\tis_loading\t\t\t= false,\n\t\t\t\tpages_loaded\t\t= 0,\n\t\t\t\ttotal_pages\t\t\t= -1,\n\t\t\t\tcontent_per_page\t= 50;\n\n\t\t\tvar load = function() {\n\n\t\t\t\tvar _url = url + '/types:' + type + '/limit:' + content_per_page + '/page:' + load_page;\n\n\t\t\t\tif (visibility) {\n\t\t\t\t\t_url += '/visibility:' + visibility;\n\t\t\t\t}\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: _url,\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar fragments = [], els;\n\n\t\t\t\t\t\tvar create_node = function(d,k) {\n\n\t\t\t\t\t\t\tvar w\t= d.presets.small.width,\n\t\t\t\t\t\t\t\th\t= d.presets.small.height;\n\n\t\t\t\t\t\t\treturn '<li data-id=\"' + d.id + '\" data-index=\"' + k + '\">\\\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"content\">\\\n\t\t\t\t\t\t\t\t\t<span class=\"img-wrap\" style=\"height:' + h + 'px; width:' + w + 'px;\">\\\n\t\t\t\t\t\t\t\t\t\t<span class=\"vid_time\">' + ((d.duration && d.duration.clean) ? d.duration.clean : '') + '</span>\\\n\t\t\t\t\t\t\t\t\t\t<img width=\"' + w + '\" height=\"' + h + '\" class=\"media\" data-url=\"' + d.presets.small[self.config.retina ? 'hidpi_url' : 'url'] + '\" style=\"display:none;\">\\\n\t\t\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t\t\t</a>\\\n\t\t\t\t\t\t\t</li>';\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tpages_loaded\t= data.page;\n\t\t\t\t\t\ttotal_pages\t\t= data.pages;\n\n\t\t\t\t\t\tif ( total_pages > 0 ) {\n\n\t\t\t\t\t\t\tvar ids = [];\n\n\t\t\t\t\t\t\t$.each( data.content, function(k,v) {\n\t\t\t\t\t\t\t\tvar index = ( (data.page-1) * content_per_page ) + k;\n\t\t\t\t\t\t\t\tids.push(v.id);\n\t\t\t\t\t\t\t\tself.observers.load_content.content.push(v);\n\t\t\t\t\t\t\t\tfragments.push( create_node(v,index) );\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif ( data.page === 1 ) {\n\t\t\t\t\t\t\t\tel.html(fragments.join(''));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.append(fragments.join(''));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.controllers.multiselect( '#' + el.attr('id') + ' li' );\n\n\t\t\t\t\t\t\tthis.classes.scrollbar[scroll.attr('id')].listen( 'during', function() {\n\t\t\t\t\t\t\t\tself.lazy(el,true);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.classes.scrollbar[scroll.attr('id')].listen( 'page', function() {\n\t\t\t\t\t\t\t\tif ( !is_loading && ( pages_loaded < total_pages && total_pages > 1 ) ) {\n\t\t\t\t\t\t\t\t\tload_page++;\n\t\t\t\t\t\t\t\t\tis_loading = true;\n\t\t\t\t\t\t\t\t\tload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tis_loading = false;\n\n\t\t\t\t\t\t\tself.controllers.lazy(el,true);\n\n\t\t\t\t\t\t\tif (load_to) {\n\t\t\t\t\t\t\t\tif ($.inArray(load_to, ids) === -1 && pages_loaded < total_pages) {\n\t\t\t\t\t\t\t\t\tload_page++;\n\t\t\t\t\t\t\t\t\tis_loading = true;\n\t\t\t\t\t\t\t\t\tload();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.observers.load_content.selected.content([ load_to ]);\n\t\t\t\t\t\t\t\t\tload_to = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tshow_error();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tload();\n\n\t\t},\n\n\t\treplace: {\n\n\t\t\tinit: function() {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Videos\",\n\t\t\t\t\t\textensions\t: \"mp4,m4v\"\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\t$('.plupload').remove();\n\t\t\t\t$('.moxie-shim.moxie-shim-html5').remove();\n\n\t\t\t\tif ( uploader.instance ) { delete uploader.instance; }\n\n\t\t\t\tuploader.properties.browse_button\t= 'replace_content';\n\t\t\t\tuploader.properties.drop_element\t= false;\n\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content/' + this.observers.selection();\n\n\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\tuploader.instance.__koken = {\n\t\t\t\t\tprogress: false,\n\t\t\t\t\tid: this.observers.selection()\n\t\t\t\t};\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Need this to trigger replace instead of new\n\t\t\t\t\tup.settings.multipart_params = {\n\t\t\t\t\t\t_method: 'PUT'\n\t\t\t\t\t};\n\n\t\t\t\t} );\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\t// Per item progress\n\t\t\t\t\tup.__koken.progress.stop().animate( { width: up.total.percent + '%' } );\n\t\t\t\t\tup.__koken.thumb.stop().animate( { opacity: (100 - up.total.percent)/100 });\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up ) {\n\n\t\t\t\t\tif ( up.files.length ) {\n\n\t\t\t\t\t\tvar el = $('#list_item_' + up.__koken.id);\n\t\t\t\t\t\tel.addClass('replacing');\n\t\t\t\t\t\tup.__koken.thumb = el.find('.img-wrap img');\n\t\t\t\t\t\tel.find('.img-wrap').append('<div class=\"replace-progress\"><div></div></div>');\n\t\t\t\t\t\tup.__koken.progress = el.find('.img-wrap .replace-progress div');\n\t\t\t\t\t\tup.__koken.filename = el.find('span.title').html();\n\t\t\t\t\t\tel.find('span.title').html('Replacing');\n\t\t\t\t\t\tup.start();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\tvar index = up.context.observers.properties.content.selected.index(),\n\t\t\t\t\t\titem = up.context.observers.content()[index],\n\t\t\t\t\t\tdata = $.parseJSON(data.response),\n\t\t\t\t\t\tli = $('#list_item_' + up.__koken.id),\n\t\t\t\t\t\timg\t= $('#lib-content-sel img'),\n\t\t\t\t\t\tmessage = item.filename + ' has been replaced';\n\n\t\t\t\t\tif (data.filename != item.filename) {\n\t\t\t\t\t\tmessage += ' with ' + data.filename;\n\t\t\t\t\t}\n\n\t\t\t\t\titem = $.extend({}, item, data),\n\n\t\t\t\t\timg.parent().addClass('loading');\n\t\t\t\t\timg.animate({ opacity: 0 });\n\n\t\t\t\t\tli.removeClass('loaded').addClass('loading');\n\n\t\t\t\t\tup.context.controllers.update_item( item, true );\n\n\t\t\t\t\tup.context.notify().success(message);\n\n\t\t\t\t} );\n\n\t\t\t\tuploader.instance.init();\n\t\t\t}\n\t\t},\n\n\t\tplugin_upload: {\n\n\t\t\tinit: function(el) {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Upload\",\n\t\t\t\t\t\textensions\t: el.data('allowed')\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tif ( uploader.instance ) { delete uploader.instance; $('.plupload').remove(); $('.moxie-shim.moxie-shim-html5').remove(); }\n\n\t\t\t\tuploader.properties.browse_button\t= el.attr('id');\n\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content';\n\n\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\tup.settings.multipart_params = {\n\t\t\t\t\t\tplugin\t\t: el.data('plugin'),\n\t\t\t\t\t\tbasename\t: el.data('basename')\n\t\t\t\t\t};\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\twindow.setTimeout(function() {\n\n\t\t\t\t\t\tvar item = $.parseJSON( data.response );\n\t\t\t\t\t\t$('#plugin-edit-' + el.data('field')).val(item.filename);\n\t\t\t\t\t\tvar path = self.config.paths.base_relative + 'storage/plugins/' + el.data('plugin') + '/storage/' + item.filename + '?' + Math.round(Math.random()*10000);\n\t\t\t\t\t\t$('#plugin-upload-' + el.data('field') + '-preview').attr('src', path);\n\n\t\t\t\t\t}, 250);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\t// Progress somewhere, maybe a .wait()\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up, e ) {\n\t\t\t\t\tif (up.files.length > 1) {\n\t\t\t\t\t\tup.splice(1, up.files.length - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif ( up.files.length === 1 ) {\n\t\t\t\t\t\tup.start();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.init();\n\t\t\t}\n\t\t},\n\n\t\ttext_upload: {\n\n\t\t\tinit: function() {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tif ( uploader.instance ) { delete uploader.instance; $('.plupload').remove(); $('.moxie-shim.moxie-shim-html5').remove(); }\n\n\t\t\t\tuploader.properties.browse_button\t= 'text-upload';\n\t\t\t\tuploader.properties.drop_element\t= 'text-upload';\n\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content';\n\n\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\tup.settings.multipart_params = {\n\t\t\t\t\t\ttext\t\t: true\n\t\t\t\t\t};\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\twindow.setTimeout(function() {\n\n\t\t\t\t\t\tvar item = $.parseJSON( data.response );\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.filename( item.filename );\n\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.state('ready');\n\n\t\t\t\t\t\tup.refresh();\n\t\t\t\t\t\tup.splice();\n\n\t\t\t\t\t}, 250);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\t$('#text-upload-progress').text( up.total.percent );\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up, e ) {\n\t\t\t\t\tif (up.files.length > 1) {\n\t\t\t\t\t\tup.splice(1, up.files.length - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif ( up.files.length === 1 ) {\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.filename(up.files[0].name);\n\t\t\t\t\t\tself.observers.sheets.shortcode_upload.state('uploading');\n\t\t\t\t\t\tup.start();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.init();\n\t\t\t}\n\t\t},\n\n\t\tupload: {\n\n\t\t\tinstance: null,\n\n\t\t\tcleanup: function() {\n\t\t\t\t$('.plupload,.moxie-shim').remove();\n\t\t\t},\n\n\t\t\tinit: function(override) {\n\n\t\t\t\tvar uploader\t= $.extend(this.config.uploader, {}, true),\n\t\t\t\t\tself\t\t= this;\n\n\t\t\t\tself.classes.channel.library.isUploading = true;\n\n\t\t\t\tif (!override) {\n\t\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Videos\",\n\t\t\t\t\t\t\textensions\t: \"mp4,m4v\"\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\n\t\t\t\t\tuploader.properties.browse_button\t= 'upload-drop-area';\n\t\t\t\t\tuploader.properties.drop_element\t= 'upload-drop-area';\n\t\t\t\t\tuploader.properties.url\t\t\t\t= this.config.paths.base_relative + 'api.php?/content';\n\t\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\t\tuploader.instance.context\t\t\t= this;\n\t\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\t\t\t\t\tuploader.instance.starttime\t\t\t= Math.floor(new Date().getTime() / 1000);\n\n\t\t\t\t\tthis.interfaces.app.controllers.upload.instance = uploader.instance;\n\t\t\t\t} else {\n\t\t\t\t\tuploader = override;\n\t\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\t\t\t\t\tuploader.instance.starttime\t\t\t= Math.floor(new Date().getTime() / 1000);\n\t\t\t\t\tuploader.instance.unbind('QueueChanged');\n\t\t\t\t}\n\n\t\t\t\tuploader.updateStatus = function( up, file ) {\n\n\t\t\t\t\tthis.currentFile = file;\n\t\t\t\t\tfile.current = up.total.uploaded + up.total.failed + 1;\n\t\t\t\t\tfile.total = up.files.length;\n\n\t\t\t\t\t$('#file-info').html( $('#upload_file').html() );\n\t\t\t\t\t$('#file-info').find('.up_name').html(file.name);\n\t\t\t\t\t$('#file-info').find('.up_current').html(file.current);\n\t\t\t\t\t$('#file-info').find('.up_total').html(file.total);\n\n\t\t\t\t\t$('#upload_queued_num').text(file.total - file.current);\n\n\t\t\t\t};\n\n\t\t\t\tuploader.close = function( up, refresh ) {\n\n\t\t\t\t\t$('#app').removeClass('uploading');\n\t\t\t\t\t$('#upload-drop-start').show();\n\t\t\t\t\t$('#upload-drop-queued').hide();\n\t\t\t\t\t$('#upload_queued_num').text(0);\n\n\t\t\t\t\tup.__koken.container.slideUp( 650, function() {\n\n\t\t\t\t\t\tif (refresh) {\n\n\t\t\t\t\t\t\tself.classes.app.koken.lastClickedElement = false;\n\n\t\t\t\t\t\t\tif ( up.uploaded.length > 0 && up.toAlbum || override && up.toAlbum ) {\n\t\t\t\t\t\t\t\tvar albumParams = {\n\t\t\t\t\t\t\t\t\trequest: 'albums/' + up.toAlbumId + '/content/' + up.uploaded.join(','),\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\tcontext: up.context,\n\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\tif (!override) {\n\t\t\t\t\t\t\t\t\t\t\tuploader.instance.unbindAll();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.observers.update_album_counts(data);\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!up.context.observers.properties.album.selected().album.public) albumParams.data = 'match_album_visibility=1';\n\t\t\t\t\t\t\t\tup.context.sync(albumParams);\n\t\t\t\t\t\t\t\tif (!override) {\n\t\t\t\t\t\t\t\t\tup.toAlbum = false;\n\t\t\t\t\t\t\t\t\tup.toAlbumId = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tup.uploaded = [];\n\t\t\t\t\t\t\t} else if (up.uploaded.length) {\n\t\t\t\t\t\t\t\tup.context.notify().success( up.uploaded.length + ' items finished uploading to the Library' );\n\t\t\t\t\t\t\t\tif (!override) {\n\t\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/content/after:' + up.context.observers.settings.last_upload() + ((up.uploaded.length > 1) ? '/visibility:any/order_by:uploaded_on' : '/view:single/selection:' + up.uploaded[0]), 2 );\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (up.context.observers.api_url().indexOf('favorites') !== -1) {\n\t\t\t\t\t\t\t\t\t\tup.context.sync({\n\t\t\t\t\t\t\t\t\t\t\trequest: 'favorites/' + up.uploaded.join(','),\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\tcontext: up.context,\n\t\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\tup.context.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (up.context.observers.api_url().indexOf('content/featured') !== -1) {\n\t\t\t\t\t\t\t\t\t\tup.context.sync({\n\t\t\t\t\t\t\t\t\t\t\trequest: 'content/featured/' + up.uploaded.join(','),\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\tcontext: up.context,\n\t\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\tup.context.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tup.context.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tup.uploaded = [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tup.context.controllers.update_summary();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Refresh button placement and reset uploader\n\t\t\t\t\t\tup.refresh();\n\t\t\t\t\t\tup.__koken.bars.container.hide();\n\t\t\t\t\t\tup.__koken.bars.item.css( { width: '0%' } );\n\t\t\t\t\t\tup.__koken.bars.total.css( { width: '0%' } ); // Remove for single bar\n\t\t\t\t\t\tup.__koken.progress = 0; // Only needed for single bar\n\t\t\t\t\t\tup.total.reset();\n\t\t\t\t\t\tup.splice();\n\n\t\t\t\t\t\tif (!override) self.interfaces.app.controllers.upload.cleanup();\n\n\t\t\t\t\t\tPiecon.reset();\n\n\t\t\t\t\t\tself.classes.channel.library.isUploading = false;\n\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\t// Store our own info object\n\t\t\t\tuploader.instance.__koken = {\n\n\t\t\t\t\tprogress\t: 0,\n\t\t\t\t\tcontainer\t: $('#upload-queue'),\n\t\t\t\t\tstatus\t\t: $('#upload-queue div.upload-msg:first'),\n\t\t\t\t\tbars\t\t: {\n\t\t\t\t\t\tcontainer\t: $('#upload-queue div.bar:first'),\n\t\t\t\t\t\titem\t\t: $('#upload-queue div.bar:first div div:last'),\n\t\t\t\t\t\ttotal\t\t: $('#upload-queue div.bar:first div div:first')\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tuploader.instance.bind( 'PostInit', function( up, params ) {\n\n\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( up.features.dragdrop ) {\n\t\t\t\t\t\t$('#upload-drop-area')\n\t\t\t\t\t\t\t.off('.pdrag')\n\t\t\t\t\t\t\t.on('dragover.pdrag', function() {\n\t\t\t\t\t\t\t\t$(this).addClass('dragover');\n\t\t\t\t\t\t\t\tuploader.dragging = true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('dragleave.pdrag', function() {\n\t\t\t\t\t\t\t\t$(this).removeClass('dragover');\n\t\t\t\t\t\t\t\tuploader.dragging = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadFile', uploader.updateStatus );\n\n\t\t\t\tuploader.instance.bind( 'Error', function( up, error ) {\n\t\t\t\t\tself.notify().warn( 'Error uploading ' + error.file.name + ': ' + error.message );\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'FileUploaded', function( up, file, data ) {\n\n\t\t\t\t\t// Add uploaded item to the collection and update the view\n\t\t\t\t\tvar item = $.parseJSON( data.response );\n\t\t\t\t\tup.uploaded.push(item.id);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'UploadProgress', function( up, file ) {\n\n\t\t\t\t\tvar d = Math.ceil( ( up.total.size - up.total.loaded ) / up.total.bytesPerSec ),\n\t\t\t\t\t\tstr;\n\n\t\t\t\t\tif ( !isNaN( d ) && d !== Infinity ) {\n\t\t\t\t\t\tvar h = Math.floor(d / 3600);\n\t\t\t\t\t\tvar m = Math.floor(d % 3600 / 60);\n\t\t\t\t\t\tvar s = Math.floor(d % 3600 % 60);\n\t\t\t\t\t\tstr = ( ( h > 0 ? h + \":\" : \"\" ) + ( m > 0 || h > 0 ? ( h > 0 && m < 10 ? \"0\" : \"\" ) + String(m) + \":\" : \"0:\" ) + ( s < 10 ? \"0\" : \"\" ) + s );\n\t\t\t\t\t}\n\n\t\t\t\t\t$('#remaining').html( str );\n\n\t\t\t\t\t// Single bar\n\t\t\t\t\tvar p = up.total.percent;\n\t\t\t\t\tif ( p > up.__koken.progress ) {\n\t\t\t\t\t\tup.__koken.bars.item.stop().animate( { width: up.total.percent + '%' } );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Per item progress\n\t\t\t\t\tPiecon.setProgress(up.total.percent);\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'StateChanged', function( up ) {\n\n\t\t\t\t\tif ( up.state == 2 ) {\n\t\t\t\t\t\t$('#app').addClass('uploading');\n\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t.off('.uprogress')\n\t\t\t\t\t\t\t.on('click.uprogress', '#upload-progress-cancel-bttn', function () {\n\t\t\t\t\t\t\t\tup.stop();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else if ( up.state == 1 && up.__koken.container.is(':visible') ) {\n\t\t\t\t\t\tuploader.close(up, true);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tuploader.instance.bind( 'QueueChanged', function( up, e ) {\n\n\t\t\t\t\tif ( up instanceof plupload.Uploader ) { $.extend(up,e); }\n\n\t\t\t\t\tif ( up.files.length ) {\n\t\t\t\t\t\tif ( up.state !== 2 ) {\n\n\t\t\t\t\t\t\tup.toAlbumId = self.observers.properties.album.selected().album && self.observers.properties.album.selected().album.id;\n\t\t\t\t\t\t\tup.toAlbum = (override) ? up.toAlbumId : up.context.observers.shouldUploadToAlbum();\n\n\t\t\t\t\t\t\t$('#upload_preset').val( self.observers.settings.uploading_default_visibility() );\n\n\t\t\t\t\t\t\t$('#upload-cancel-bttn')\n\t\t\t\t\t\t\t\t.off('.cancel')\n\t\t\t\t\t\t\t\t.on('click.cancel', function () {\n\t\t\t\t\t\t\t\t\tuploader.close(up);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tvar startUpload = function() {\n\n\t\t\t\t\t\t\t\tup.settings.multipart_params = {};\n\t\t\t\t\t\t\t\tup.settings.multipart_params.upload_session_start = uploader.instance.starttime;\n\t\t\t\t\t\t\t\tup.settings.multipart_params.visibility = (self.observers.sheets.import_content.active()) ? $('#upload_visibility option:selected').val() : self.observers.settings.uploading_default_visibility();\n\t\t\t\t\t\t\t\tup.settings.multipart_params.license = self.observers.settings.uploading_default_license();\n\t\t\t\t\t\t\t\tup.settings.multipart_params.max_download = self.observers.settings.uploading_default_max_download_size();\n\n\t\t\t\t\t\t\t\tself.observers.settings.last_upload( up.settings.multipart_params.upload_session_start );\n\n\t\t\t\t\t\t\t\t// $('.ui-sheet-bg').fadeOut();\n\n\t\t\t\t\t\t\t\tself.observers.sheets.import_content.active(false);\n\n\t\t\t\t\t\t\t\tif (!self.observers.sheets.import_content.active()) {\n\t\t\t\t\t\t\t\t\tif (up.context.observers.api_url().indexOf('content/visibility:private') !== -1) up.settings.multipart_params.visibility = 'private';\n\t\t\t\t\t\t\t\t\tif (up.context.observers.api_url().indexOf('content/visibility:unlisted') !== -1) up.settings.multipart_params.visibility = 'unlisted';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tup.__koken.bars.container.show();\n\t\t\t\t\t\t\t\tup.__koken.status.html( $('#upload_filecon').html() );\n\n\t\t\t\t\t\t\t\tup.__koken.container.slideDown(function() {\n\t\t\t\t\t\t\t\t\tup.uploaded = [];\n\t\t\t\t\t\t\t\t\tup.start();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (override) startUpload();\n\n\t\t\t\t\t\t\t$('button.import')\n\t\t\t\t\t\t\t\t.off('.import')\n\t\t\t\t\t\t\t\t.on('click.import', function (e) {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('button.import').off('.import')\n\t\t\t\t\t\t\t\t\tstartUpload();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.removeClass('disabled');\n\n\t\t\t\t\t\t\t// Import sheet stuff\n\t\t\t\t\t\t\t$('#upload-drop-start').hide();\n\t\t\t\t\t\t\t$('#upload-drop-queued').show();\n\n\t\t\t\t\t\t\tvar itemsQueuedElement = $('#upload_queued_num'),\n\t\t\t\t\t\t\t\tcurrentItemsQueued = parseInt(itemsQueuedElement.text(), 10),\n\t\t\t\t\t\t\t\tlen = up.files.length,\n\t\t\t\t\t\t\t\ttimer;\n\n\t\t\t\t\t\t\tif (currentItemsQueued <= 0 && up.toAlbum) $('#import_tar_coll:hidden').show();\n\n\t\t\t\t\t\t\ttimer = window.setInterval(function() {\n\t\t\t\t\t\t\t\tif (++currentItemsQueued <= len) {\n\t\t\t\t\t\t\t\t\t$('#upload_queued_num').text(currentItemsQueued);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, (300/(len/2)));\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tif (!override) {\n\t\t\t\t\tuploader.instance.init();\n\t\t\t\t} else {\n\t\t\t\t\tuploader.instance.trigger('QueueChanged');\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tload_albums_full: function() {\n\t\t\t// Recursively load full album tree\n\t\t\tthis.sync({\n\t\t\t\trequest: 'albums',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tload = function(album) {\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'albums/' + album.id + '/content',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(_data) {\n\n\t\t\t\t\t\t\t\t\t$.each(_data.albums, function(i, a) {\n\t\t\t\t\t\t\t\t\t\ta.albums = ko.observableArray([]);\n\t\t\t\t\t\t\t\t\t\ta.level = album.level + 1;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\talbum.albums( _data.albums );\n\n\t\t\t\t\t\t\t\t\t$.each( album.albums(), function(i, a) {\n\t\t\t\t\t\t\t\t\t\tif (a.album_type === 'set' && a.counts.total > 0) {\n\t\t\t\t\t\t\t\t\t\t\tload(a);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t$.each(data.albums, function(i, a) {\n\t\t\t\t\t\ta.albums = ko.observableArray([]);\n\t\t\t\t\t\ta.level = 0;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.observers.albums_full( data.albums );\n\n\t\t\t\t\t$.each( this.observers.albums_full(), function(i, a) {\n\t\t\t\t\t\tif (a.album_type === 'set' && a.counts.total > 0) {\n\t\t\t\t\t\t\tload(a);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tload_tree: function(cb) {\n\n\t\t\tthis.sync({\n\t\t\t\trequest: [\n\t\t\t\t\t{\n\t\t\t\t\t\trequest: 'albums/tree',\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (!Array.isArray(data)) data = [data];\n\t\t\t\t\t\t\tthis.observers.albums(data);\n\t\t\t\t\t\t\tif (this.controllers.events_init) {\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar flat = [],\n\t\t\t\t\t\t\t\tadd = function(arr) {\n\t\t\t\t\t\t\t\t\t$.each(arr, function(i, item) {\n\t\t\t\t\t\t\t\t\t\tflat.push(item);\n\t\t\t\t\t\t\t\t\t\tif (item.children) {\n\t\t\t\t\t\t\t\t\t\t\tadd(item.children);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tadd(data);\n\n\t\t\t\t\t\t\tthis.observers.albums_flat(flat);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\trequest: 'albums/tree/visibility:unlisted',\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (!Array.isArray(data)) data = [data];\n\t\t\t\t\t\t\tthis.observers.unlisted_albums(data);\n\t\t\t\t\t\t\tif (this.controllers.events_init) {\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\trequest: 'albums/tree/visibility:private',\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (!Array.isArray(data)) data = [data];\n\t\t\t\t\t\t\tthis.observers.private_albums(data);\n\t\t\t\t\t\t\tif (this.controllers.events_init) {\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tcontext: this\n\t\t\t});\n\t\t},\n\n\t\tload: function(name,data,opt) {\n\n\t\t\tvar temp\t= [],\n\t\t\t\td\t\t= (data[name]) ? data[name] : data,\n\t\t\t\tlen\t\t= d.length-1,\n\t\t\t\ti\t\t= 0,\n\t\t\t\tk, current;\n\n\t\t\tif (d && d.length > 0) {\n\t\t\t\tdo {\n\t\t\t\t\tif (opt) {\n\t\t\t\t\t\tfor ( k in opt ) {\n\t\t\t\t\t\t\td[i][k] = opt[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttemp[temp.length] = d[i];\n\t\t\t\t} while( i++ < len );\n\n\t\t\t\tcurrent = this.observers[name]().slice();\n\t\t\t\t$.merge( current, temp );\n\t\t\t\tthis.observers[name](current);\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmodels: function() {\n\n\t\tvar self = this, models = {};\n\n\t\tmodels.tags = {\n\n\t\t\tadd: function(tag,ob) {\n\n\t\t\t\tvar tags\t= ob || [],\n\t\t\t\t\tadd\t\t= [];\n\n\t\t\t\tif ( typeof tag === 'object' ) {\n\n\t\t\t\t\t$.each(tag, function(i, t) {\n\t\t\t\t\t\tif ($.inArray(t, tags) === -1 && t.length) {\n\t\t\t\t\t\t\tadd.push(t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar noob = tag.trim();\n\n\t\t\t\t\tif ($.inArray(noob, tags) === -1) {\n\t\t\t\t\t\tif (/\\s+/g.exec(noob)) {\n\t\t\t\t\t\t\tnoob = noob.replace(/\"+/g, '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tadd.push(noob);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn tags.concat(add);\n\n\t\t\t},\n\n\t\t\tdel: function(id) {\n\n\t\t\t\tvar n = self.notify().wait('Deleting tag');\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'tags/' + id,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tn.success('Tag deleted');\n\t\t\t\t\t\tthis.pubsub('tags.delete', {\n\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t\tmodels.categories = {\n\n\t\t\tupdate: function(id,val,cb) {\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'categories/' + id,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'title=' + encodeURIComponent(val),\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.observers.categories.remove(function(item) { return item.id == id; });\n\t\t\t\t\t\tthis.observers.categories.push( data );\n\t\t\t\t\t\tthis.observers.sort('categories', 'title');\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tcb && cb();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\tset: function(val) {\n\n\t\t\t\tvar catDoesntExist = true,\n\t\t\t\t\tnote = self.notify().wait('Creating category');\n\n\t\t\t\tself.observers.categories().forEach(function(category) {\n\t\t\t\t\tif (category.title === val) catDoesntExist = false;\n\t\t\t\t});\n\n\t\t\t\tif (catDoesntExist) {\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'categories',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tdata: 'title=' + encodeURIComponent(val),\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (this.interfaces.active.id === 'library') {\n\t\t\t\t\t\t\t\tthis.interfaces.library.observers.sheets.create_collection.category('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.observers.categories.push(data);\n\t\t\t\t\t\t\tthis.observers.sort('categories', 'title');\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tself.observers.categories().forEach(function(category) {\n\t\t\t\t\t\t\t\t\tif (category.title === val) {\n\t\t\t\t\t\t\t\t\t\t$('#right-col-xtra').find('.col-row[data-id=\"' + category.id + '\"] input').attr('checked','checked');\n\t\t\t\t\t\t\t\t\t\tif ($('#create_sheet_categories').is(':visible')) {\n\t\t\t\t\t\t\t\t\t\t\t$('#create_sheet_categories').find('input[value=\"' + category.id + '\"]').attr('checked', 'checked');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tnote.success(data.title + ' category created');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnote.warn('A category using that name already exists');\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tdel: function(id) {\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'categories/' + id,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tthis.observers.categories.remove(function(item) { return item.id == id; });\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t\treturn models;\n\n\t},\n\n\tobservers: function() {\n\n\t\tvar _session = this.session();\n\t\tvar self = this;\n\n\t\treturn {\n\n\t\t\tsettings: {\n\t\t\t\tuploading_default_license_clean: ko.observable(''),\n\t\t\t\tuploading_default_license: ko.observable(''),\n\t\t\t\timage_processing_library: ko.observable(''),\n\t\t\t\timage_processing_libraries: ko.observableArray([]),\n\t\t\t\tlast_upload: ko.observable(false),\n\t\t\t\tuuid: ko.observable(''),\n\t\t\t\tsite_url: ko.observable(''),\n\t\t\t\tsite_timezone: ko.observable(''),\n\t\t\t\t__site_url_has_changed: ko.observable(false),\n\t\t\t\timage_use_defaults: ko.observable(true),\n\t\t\t\tuse_default_labels_links: ko.observable(true),\n\t\t\t\tsite_time_format: ko.observable(''),\n\t\t\t\tsite_date_format: ko.observable('')\n\t\t\t},\n\t\t\tupdate_count: ko.observable(0),\n\t\t\tpaths: this.config.paths,\n\t\t\tsystem: {},\n\t\t\tuser: {},\n\t\t\turls: {},\n\t\t\thas_urls: ko.observable(false),\n\t\t\turl_data: {\n\t\t\t\tcontent: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tfavorite: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tfeature: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\talbum: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tset: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\tessay: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\tpage: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable(''),\n\t\t\t\t\turl: ko.observable('')\n\t\t\t\t},\n\t\t\t\ttag: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\tcategory: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\ttimeline: {\n\t\t\t\t\tsingular: ko.observable(''),\n\t\t\t\t\tplural: ko.observable('')\n\t\t\t\t},\n\t\t\t\thome: ko.observable('')\n\t\t\t},\n\t\t\tupdate_available: ko.observable(false),\n\t\t\tupdate_available_version: ko.observable(false),\n\t\t\tupdate_url: ko.observable(''),\n\t\t\t'interface': ko.observable(),\n\t\t\tplatform: ko.observable(),\n\t\t\talbums: ko.observableArray([]),\n\t\t\talbums_flat: ko.observableArray([]),\n\t\t\talbums_full: ko.observableArray([]),\n\t\t\tunlisted_albums: ko.observableArray([]),\n\t\t\tprivate_albums: ko.observableArray([]),\n\t\t\ttags: ko.observableArray([]),\n\t\t\tcategories: ko.observableArray([]),\n\t\t\ttempcategories: ko.observableArray([]),\n\t\t\talteredcategories: ko.observableArray([]),\n\t\t\ttemptags: ko.observableArray([]),\n\t\t\thashchange: ko.observable(false),\n\t\t\thash: ko.observable(''),\n\t\t\tvalid: ko.observable(false),\n\t\t\tdefault_links: {},\n\t\t\tbase_path: ko.observable(''),\n\t\t\treal_base_path: '',\n\t\t\tplugins: ko.observableArray([]),\n\t\t\tpulse_transitions_that_ease: ko.observableArray([ 'slide' ]),\n\t\t\tuser_plugins: ko.observableArray([]),\n\t\t\tuser_shortcodes: ko.observableArray([]),\n\t\t\tuser_pulse_plugins: ko.observableArray([]),\n\t\t\tuser_pulse_transitions: ko.observableArray([]),\n\t\t\tuser_pulse_transitions_settings: ko.observableArray([]),\n\t\t\tuser_oembeds: ko.observableArray([]),\n\t\t\tuser_oembed_thumbs: [],\n\t\t\tuser_shortcodes_icons: {},\n\t\t\tuser_custom_sources: {\n\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\tessays: ko.observableArray([]),\n\t\t\t},\n\t\t\tuser_custom_sources_keys: {\n\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\tessays: ko.observableArray([]),\n\t\t\t},\n\t\t\tthemes: ko.observableArray([]),\n\t\t\tdecodeUrl: function(url) {\n\t\t\t\treturn decodeURIComponent(url());\n\t\t\t},\n\t\t\tvisibility: {\n\t\t\t\titems: ko.observableArray([]),\n\t\t\t\tviz_type_current: ko.observable('public'),\n\t\t\t\tviz_type_new: ko.observable('unlisted'),\n\t\t\t\talbum_type: ko.observable('album'),\n\t\t\t\tviz_type_reset: function() {\n\t\t\t\t\tthis.album_type('album');\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate_album_counts: function(data) {\n\t\t\t\tvar allAlbums = this.albums_flat().concat(this.unlisted_albums());\n\t\t\t\tallAlbums.forEach(function(album) {\n\t\t\t\t\tif (album.id === (data.album && data.album.id || data)) {\n\t\t\t\t\t\tif (typeof data === 'number') {\n\t\t\t\t\t\t\talbum.count++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talbum.count = data.album.counts.total;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tchannels: ko.observableArray([]),\n\t\t\tshouldUploadToAlbum: ko.observable(false),\n\t\t\thasPlugin: function(key, value) {\n\t\t\t\tvar hasPlugin = false;\n\t\t\t\t$.each(this.user_plugins(), function(i, _plugin) {\n\t\t\t\t\tif (_plugin[key] === value) {\n\t\t\t\t\t\thasPlugin = _plugin;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn hasPlugin;\n\t\t\t},\n\t\t\tpostLoad: function(elements,observer) {\n\t\t\t\tvar _plugin = this.name.replace('_interface','');\n\t\t\t\tif ( config.reserved.indexOf(_plugin) === -1 ) {\n\t\t\t\t\t$.each(observer.channels(), function(i, channel) {\n\t\t\t\t\t\tif ( channel.id === _plugin ) {\n\t\t\t\t\t\t\tif (channel.columns) {\n\t\t\t\t\t\t\t\tvar container = $('#interface_container'),\n\t\t\t\t\t\t\t\t\thtml = $('#interface_container').html(),\n\t\t\t\t\t\t\t\t\ttmpl = $('#koken' + channel.columns + 'Col'),\n\t\t\t\t\t\t\t\t\tel;\n\n\t\t\t\t\t\t\t\t// TODO: Make this more dynamic\n\t\t\t\t\t\t\t\t$(tmpl.html()).children().each(function() {\n\t\t\t\t\t\t\t\t\tif ( $(this).children().length <= 0 ) {\n\t\t\t\t\t\t\t\t\t\tel = $(this).attr('id');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t$('#interface_container').html(tmpl.html());\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\t$('#interface_container').find('#' + el).append(html);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tdropdowns: {\n\t\t\t\tuser: {\n\t\t\t\t\titems: ko.observable([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Help',\n\t\t\t\t\t\t\t'class': 'opt-support',\n\t\t\t\t\t\t\tbind: 'click: function() { this.classes.modal.help.show(); }'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Take a tour',\n\t\t\t\t\t\t\t'class': 'opt-tour',\n\t\t\t\t\t\t\tbind: 'click: function() { this.classes.modal.tour.show(); }'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Keyboard shortcuts',\n\t\t\t\t\t\t\t'class': 'opt-keyboard',\n\t\t\t\t\t\t\tbind: 'click: function() { this.classes.modal.keyboard_shortcuts.show(); }'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Sign out',\n\t\t\t\t\t\t\t'class': 'opt-signout',\n\t\t\t\t\t\t\tbind: 'click: observers.logout'\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tonload: function(el) {\n\t\t\t\t\t\tel.closest('div[data-event=\"toggle_dropdown\"]').find('.head-link').addClass('selected');\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function(el) {\n\t\t\t\t\t\tel.closest('div[data-event=\"toggle_dropdown\"]').find('.head-link').removeClass('selected');\n\t\t\t\t\t},\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '-20px',\n\t\t\t\t\ttop: '10px',\n\t\t\t\t\tid: ko.observable('user'),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '85px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tload_content: {\n\t\t\t\tsubscription: null,\n\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\turl: ko.observable(),\n\t\t\t\tselected: {\n\t\t\t\t\tcontent: ko.observableArray([]),\n\t\t\t\t\ttext: ko.observable('')\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tuCaseWords: function(str) {\n\t\t\t\treturn (str + '').replace(/^([a-z])|\\s+([a-z])/g, function ($1) {\n\t\t\t\t\treturn $1.toUpperCase();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tsort: function(type,which) {\n\n\t\t\t\tvar l, r;\n\n\t\t\t\tif ( ! which ) {\n\t\t\t\t\twhich = 'title';\n\t\t\t\t}\n\n\t\t\t\tthis[type].sort( function(left, right) {\n\n\t\t\t\t\tl = left[which];\n\t\t\t\t\tr = right[which];\n\n\t\t\t\t\tif (typeof(l) == 'string') {\n\t\t\t\t\t\tl = l.toLowerCase();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof(r) == 'string') {\n\t\t\t\t\t\tr = r.toLowerCase();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (l === r) { return 0; }\n\t\t\t\t\t// Numbers before strings\n\t\t\t\t\tif (!isNaN(l) && isNaN(r)) { return -1; }\n\t\t\t\t\treturn l < r ? -1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t},\n\n\t\t\tmodal: {\n\t\t\t\tactive: ko.observable(false),\n\t\t\t\tcurrent: ko.observable('empty_modal'),\n\t\t\t\tcanClose: ko.observable(true),\n\t\t\t\tmsg: ko.observable('')\n\t\t\t},\n\n\t\t\ttruncate: function(str, len) {\n\t\t\t\tvar txt = $('<div/>').html(str).text();\n\t\t\t\tlen = len || 300;\n\t\t\t\tstr = str || '';\n\t\t\t\treturn ( str.length <= len ) ? txt : txt.replace(/\\n/g, ' ').substr(0, len).replace(/[^a-z0-9]$/, '') + '';\n\t\t\t},\n\n\t\t\tformat_date: function(ts, fmt, apply_timezone) {\n\n\t\t\t\tif (apply_timezone === undefined) {\n\t\t\t\t\tapply_timezone = true;\n\t\t\t\t}\n\n\t\t\t\tvar fmt = fmt || 'MMM D YYYY h:mm a';\n\n\t\t\t\tif (!$.isNumeric(ts)) {\n\t\t\t\t\tvar d = new Date(ts).getTime();\n\t\t\t\t\tts = Math.round(d / 1000);\n\t\t\t\t}\n\n\t\t\t\tif (apply_timezone && this.settings.site_timezone() !== 'UTC') {\n\t\t\t\t\treturn moment.tz(new Date(ts*1000), this.settings.site_timezone()).format(fmt);\n\t\t\t\t} else {\n\t\t\t\t\treturn moment.utc(ts*1000).format(fmt);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset_settings: function(data) {\n\t\t\t\tif (data.site_url === 'default') {\n\t\t\t\t\tthis.base_path(this.config.paths.base);\n\t\t\t\t\tdata.site_url = this.base_path();\n\t\t\t\t} else {\n\t\t\t\t\tvar base = window.location.protocol + '//' + window.location.host + data.site_url + '/';\n\t\t\t\t\tthis.base_path( base.replace(/[\\/]+$/, '/') );\n\t\t\t\t\tdata.site_url = this.helpers.rtrim(this.base_path(), '/');\n\t\t\t\t}\n\t\t\t\tdata.__site_url_has_changed = false;\n\t\t\t\tthis.map( this.settings, data);\n\t\t\t},\n\n\t\t\tform_site_link: function(type, vars) {\n\t\t\t\tvar link = this.urls[type];\n\t\t\t\tif (!link) return false;\n\t\t\t\treturn this.helpers.rtrim( this.base_path(), '/') + ( this.system.rewrite_enabled ? '' : '/index.php?' ) + link;\n\t\t\t},\n\n\t\t\tinArrayTags: function(search, searchIn) {\n\t\t\t\tvar title = search.title,\n\t\t\t\t\tfound = false;\n\n\t\t\t\t$.each(searchIn, function(i, tag) {\n\t\t\t\t\tif (tag.title === title) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn found;\n\t\t\t},\n\n\t\t\tlogout: function() {\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'sessions',\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tprocess_plugin_data: function(data, reload) {\n\t\t\t\tvar user_plugins = [],\n\t\t\t\t\tuser_transitions = [],\n\t\t\t\t\tuser_transitions_settings = [],\n\t\t\t\t\tuser_pulse_plugins = [],\n\t\t\t\t\tself = this;\n\n\t\t\t\t$('#pulse_option_transition_type').empty();\n\n\t\t\t\tself.observers.user_custom_sources.albums([]);\n\t\t\t\tself.observers.user_custom_sources.content([]);\n\t\t\t\tself.observers.user_custom_sources.essays([]);\n\n\t\t\t\t$.each(data.custom_sources, function(key, info) {\n\t\t\t\t\tself.observers.user_custom_sources[info.scope].push({\n\t\t\t\t\t\tlabel: info.label,\n\t\t\t\t\t\tkey: key\n\t\t\t\t\t});\n\n\t\t\t\t\tself.observers.user_custom_sources_keys[info.scope].push(key);\n\t\t\t\t});\n\n\t\t\t\t$.each(data.plugins, function(i, plugin) {\n\t\t\t\t\tvar data = [];\n\t\t\t\t\tif ( plugin.shortcodes && plugin.activated && (plugin.internal || plugin.setup) ) {\n\t\t\t\t\t\tself.observers.user_shortcodes( $.extend( {}, self.observers.user_shortcodes(), plugin.shortcodes ) );\n\t\t\t\t\t\t$.each(plugin.shortcodes, function(key, data) {\n\t\t\t\t\t\t\tself.observers.user_shortcodes_icons[key] = data.media_row_icon || data.icon || false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (plugin.oembeds && plugin.activated && (plugin.internal || plugin.setup)) {\n\t\t\t\t\t\tself.observers.user_oembeds( $.extend( {}, self.observers.user_oembeds(), plugin.oembeds ) );\n\t\t\t\t\t\t$.each(plugin.oembeds, function(key, data) {\n\t\t\t\t\t\t\tself.observers.user_shortcodes_icons['koken_oembed_' + key] = data.icon || false;\n\t\t\t\t\t\t\tif (data.has_thumbnail) {\n\t\t\t\t\t\t\t\tself.observers.user_oembed_thumbs.push(key);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif ( plugin.pulse && plugin.activated ) {\n\t\t\t\t\t\tif (plugin.transitions) {\n\t\t\t\t\t\t\tuser_transitions.push({ title: plugin.title, transitions: plugin.transitions });\n\t\t\t\t\t\t\t$.each(plugin.transitions, function(i, obj) {\n\t\t\t\t\t\t\t\tif (obj.supports_easing) {\n\t\t\t\t\t\t\t\t\tself.observers.pulse_transitions_that_ease.push(obj.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (plugin.settings) {\n\t\t\t\t\t\t\t\t$.each(plugin.settings, function(i, setting) {\n\t\t\t\t\t\t\t\t\tsetting.key = i;\n\t\t\t\t\t\t\t\t\tuser_transitions_settings.push(setting);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar settings = [ {\n\t\t\t\t\t\t\t\tlabel: \"Enabled\",\n\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tkey: plugin.ident + '_enabled',\n\t\t\t\t\t\t\t\tplugin_enabler: true,\n\t\t\t\t\t\t\t\tcontrol_first: true\n\t\t\t\t\t\t\t} ];\n\t\t\t\t\t\t\tif (plugin.settings) {\n\t\t\t\t\t\t\t\t$.each(plugin.settings, function(i, setting) {\n\t\t\t\t\t\t\t\t\tsetting.key = i;\n\t\t\t\t\t\t\t\t\tsettings.push(setting);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplugin.settings = [ { group: plugin.title, icon: 'plugin', settings: settings } ];\n\t\t\t\t\t\t\tuser_pulse_plugins.push( plugin );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (reload && self.interfaces.plugins) {\n\t\t\t\t\t\t$.each(self.interfaces.plugins, function(i, __plugin) {\n\t\t\t\t\t\t\tif (__plugin.path === plugin.path) __plugin.update();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (plugin.data) {\n\t\t\t\t\t\t$.each(plugin.data, function(key, arr) {\n\t\t\t\t\t\t\tif (!arr.key) {\n\t\t\t\t\t\t\t\tarr.key = key;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata.push(arr);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tplugin.data = data;\n\n\t\t\t\t\tif (!plugin.internal) {\n\t\t\t\t\t\tuser_plugins.push(plugin);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.observers.plugins( data.plugins );\n\t\t\t\tthis.observers.user_plugins( user_plugins );\n\t\t\t\tthis.observers.user_pulse_transitions( user_transitions );\n\t\t\t\tthis.observers.user_pulse_transitions_settings( user_transitions_settings );\n\t\t\t\tthis.observers.user_pulse_plugins( user_pulse_plugins );\n\t\t\t},\n\n\t\t\tmulti_in_array: function(needles, haystack) {\n\t\t\t\tvar max = -1;\n\n\t\t\t\t$.each(needles, function(i, needle) {\n\t\t\t\t\tmax = Math.max(max, $.inArray(needle, haystack));\n\t\t\t\t});\n\n\t\t\t\treturn max;\n\t\t\t},\n\n\t\t\tget_album_cover: function(album) {\n\t\t\t\tif (album.covers.length) {\n\t\t\t\t\treturn album.covers[0].presets.tiny.cropped[this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t}\n\t\t\t\treturn 'images/no-cover-48.png';\n\t\t\t},\n\n\t\t\tget_preset_url: function(preset) {\n\t\t\t\tif (typeof preset === 'function') {\n\t\t\t\t\tpreset = preset();\n\t\t\t\t}\n\t\t\t\treturn preset[this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t},\n\n\t\t\tmake_url_safe: function(str, fallback) {\n\t\t\t\tvar foreign_characters = {\n\t\t\t\t\t'||': 'ae',\n\t\t\t\t\t'|': 'oe',\n\t\t\t\t\t'': 'ue',\n\t\t\t\t\t'': 'Ae',\n\t\t\t\t\t'': 'Ue',\n\t\t\t\t\t'': 'Oe',\n\t\t\t\t\t'||||||||||||||||||||||||': 'A',\n\t\t\t\t\t'|||||||||||||||||||||||||': 'a',\n\t\t\t\t\t'': 'B',\n\t\t\t\t\t'': 'b',\n\t\t\t\t\t'||||': 'C',\n\t\t\t\t\t'||||': 'c',\n\t\t\t\t\t'': 'D',\n\t\t\t\t\t'': 'd',\n\t\t\t\t\t'|||': 'Dj',\n\t\t\t\t\t'|||': 'dj',\n\t\t\t\t\t'|||||||||||||||||||||': 'E',\n\t\t\t\t\t'|||||||||||||||||||||': 'e',\n\t\t\t\t\t'': 'F',\n\t\t\t\t\t'': 'f',\n\t\t\t\t\t'|||||': 'G',\n\t\t\t\t\t'|||||': 'g',\n\t\t\t\t\t'|': 'H',\n\t\t\t\t\t'|': 'h',\n\t\t\t\t\t'||||||||||||||||||': 'I',\n\t\t\t\t\t'||||||||||||||||||': 'i',\n\t\t\t\t\t'': 'J',\n\t\t\t\t\t'': 'j',\n\t\t\t\t\t'||': 'K',\n\t\t\t\t\t'||': 'k',\n\t\t\t\t\t'||||||': 'L',\n\t\t\t\t\t'||||||': 'l',\n\t\t\t\t\t'': 'M',\n\t\t\t\t\t'': 'm',\n\t\t\t\t\t'|||||': 'N',\n\t\t\t\t\t'||||||': 'n',\n\t\t\t\t\t'|||||||||||||||||||||||||||': 'O',\n\t\t\t\t\t'||||||||||||||||||||||||||||': 'o',\n\t\t\t\t\t'': 'P',\n\t\t\t\t\t'': 'p',\n\t\t\t\t\t'||||': 'R',\n\t\t\t\t\t'||||': 'r',\n\t\t\t\t\t'||||||': 'S',\n\t\t\t\t\t'||||||||': 's',\n\t\t\t\t\t'|||||': 'T',\n\t\t\t\t\t'||||': 't',\n\t\t\t\t\t'|||||||||||||||||||||||': 'U',\n\t\t\t\t\t'|||||||||||||||||||||||||': 'u',\n\t\t\t\t\t'|||||||||': 'Y',\n\t\t\t\t\t'||||||': 'y',\n\t\t\t\t\t'': 'V',\n\t\t\t\t\t'': 'v',\n\t\t\t\t\t'': 'W',\n\t\t\t\t\t'': 'w',\n\t\t\t\t\t'||||': 'Z',\n\t\t\t\t\t'||||': 'z',\n\t\t\t\t\t'|': 'AE',\n\t\t\t\t\t'': 'ss',\n\t\t\t\t\t'': 'IJ',\n\t\t\t\t\t'': 'ij',\n\t\t\t\t\t'': 'OE',\n\t\t\t\t\t'': 'f',\n\t\t\t\t\t'': 'ks',\n\t\t\t\t\t'': 'p',\n\t\t\t\t\t'': 'v',\n\t\t\t\t\t'': 'm',\n\t\t\t\t\t'': 'ps',\n\t\t\t\t\t'': 'Zh',\n\t\t\t\t\t'': 'zh',\n\t\t\t\t\t'': 'Kh',\n\t\t\t\t\t'': 'kh',\n\t\t\t\t\t'': 'Tc',\n\t\t\t\t\t'': 'tc',\n\t\t\t\t\t'': 'Ch',\n\t\t\t\t\t'': 'ch',\n\t\t\t\t\t'': 'Sh',\n\t\t\t\t\t'': 'sh',\n\t\t\t\t\t'': 'Shch',\n\t\t\t\t\t'': 'shch',\n\t\t\t\t\t'': 'Iu',\n\t\t\t\t\t'': 'iu',\n\t\t\t\t\t'': 'Ia',\n\t\t\t\t\t'': 'ia'\n\t\t\t\t};\n\n\t\t\t\t$.each(foreign_characters, function(r, replacement) {\n\t\t\t\t\tstr = str.replace(RegExp(r, 'g'), replacement);\n\t\t\t\t});\n\n\t\t\t\tstr = str.replace(/&.+?/, '');\n\t\t\t\tstr = str.replace(/\\s+/g, '-');\n\t\t\t\tstr = str.replace(/[^A-Za-z\\-\\d+]/g, '');\n\n\t\t\t\tif (str.match(/^\\d+$/)) {\n\t\t\t\t\tstr += '-1';\n\t\t\t\t}\n\n\t\t\t\tstr = str.toLowerCase();\n\n\t\t\t\tif (str.length === 0 && fallback) {\n\t\t\t\t\treturn fallback;\n\t\t\t\t} else {\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t},\n\t\t\torder_by_string: function() {\n\t\t\t\tvar order_by = this.order_by();\n\t\t\t\tvar match;\n\n\t\t\t\tif (match = order_by.match(/(.*)_on$/)) {\n\t\t\t\t\torder_by = 'date ' + match[1];\n\t\t\t\t} else if (match = order_by.match(/koken_(.*)/)) {\n\t\t\t\t\torder_by = match[1];\n\t\t\t\t}\n\n\t\t\t\treturn order_by.substr(0,1).toUpperCase() + order_by.substr(1).replace('_', ' ');\n\t\t\t},\n\t\t\tsync_order_by: function(order_string) {\n\t\t\t\tvar url = this.api_url();\n\t\t\t\tvar controllers = self.interfaces.library.controllers;\n\n\t\t\t\tif (/albums\\/\\d+\\/content$/.test(url)) {\n\t\t\t\t\tvar album_id = this.properties.album.selected().album.id;\n\t\t\t\t\tvar is_set = this.properties.album.selected().album.album_type === 'set';\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'albums/' + album_id,\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'sort=' + order_string,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\tcontrollers.load_content(false, true);\n\n\t\t\t\t\t\t\tif (is_set) {\n\t\t\t\t\t\t\t\tcontrollers.load_tree();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar\ttype = 'album';\n\n\t\t\t\t\tif (url.indexOf('favorites') !== -1) {\n\t\t\t\t\t\ttype = 'favorite';\n\t\t\t\t\t} else if (url.indexOf('content') === 0) {\n\t\t\t\t\t\tif (url.indexOf('featured') !== -1) {\n\t\t\t\t\t\t\ttype = 'feature';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = 'content';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (url.indexOf('text') === 0) {\n\t\t\t\t\t\ttype = 'essay';\n\t\t\t\t\t}\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'site/set_order',\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'type=' + type + '&order=' + order_string,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\tif (url.indexOf('text') === 0) {\n\t\t\t\t\t\t\t\tthis.interfaces.text.controllers.load_text(false, true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontrollers.load_content(false, true);\n\n\t\t\t\t\t\t\t\tif (type === 'album') {\n\t\t\t\t\t\t\t\t\tcontrollers.load_tree();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_order_by: function(val) {\n\n\t\t\t\tvar direction = ' desc';\n\n\t\t\t\tif (val === 'manual') {\n\t\t\t\t\tdirection = ' asc';\n\t\t\t\t} else if (val === 'filename' || val === 'title') {\n\t\t\t\t\tdirection = ' asc';\n\t\t\t\t}\n\n\t\t\t\tthis.sync_order_by(val + direction);\n\t\t\t},\n\t\t\tchange_order_direction: function(val) {\n\t\t\t\tthis.sync_order_by(this.order_by() + ' ' + val);\n\t\t\t},\n\t\t\tslug_is_editable: function(data) {\n\t\t\t\tvar type = 'content';\n\n\t\t\t\tif (data.page_type) {\n\t\t\t\t\ttype = data.page_type();\n\t\t\t\t} else if (data.album_type && data.album_type()) {\n\t\t\t\t\ttype = 'album';\n\t\t\t\t}\n\n\t\t\t\treturn this.url_data[type].url().indexOf('slug') !== -1;\n\t\t\t}\n\n\t\t};\n\n\t}\n\n};\n\n\t_Koken.prototype.library = {\n\n\tinit: function() {\n\n\t\tvar self = this,\n\t\t\tval;\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$(window).on('library.resize', function() {\n\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\tself.views.asset_resize();\n\t\t\t}\n\t\t\tself.events.show_cover.call(self);\n\n\t\t\t$('#content_side').css('height', $('#content_sidebar_info_container').height() - $('#content_sidebar_info_container').find('.col-select').outerHeight(true) - 1);\n\n\t\t\tvar head = $('#three-col-right').find('.col-select'),\n\t\t\t\tsidebar = $('#right-col-xtra');\n\n\t\t\tif ( head.length <= 0 || !head.is(':visible') ) {\n\t\t\t\thead = $('#three-col-right div').eq(1);\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: 0 + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 19 + 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: ( head.height() + 31 ) + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 47 + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('library');\n\t\t// Start autocomplete\n\t\tnew this.klass.autocomplete('library');\n\t\t// Create new channel object\n\t\tnew this.klass.channel('library');\n\n\t\tthis.events.init();\n\n\t\tthis.construct(\n\t\t\t{\n\t\t\t\tname: 'asset',\n\t\t\t\tfn: function(d) {\n\n\t\t\t\t\tthis.id\t\t\t\t= d.id;\n\t\t\t\t\tthis.data\t\t\t= {};\n\t\t\t\t\tthis.el\t\t\t\t= function() { return $('#content_list li[data-id=\"' + this.id + '\"]'); };\n\t\t\t\t\tthis.key\t\t\t= this.id + '-' + (d.file_modified_on ? d.file_modified_on.timestamp : d.modified_on.timestamp);\n\n\t\t\t\t\t$.extend(this.data,d);\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'cache',\n\t\t\t\tfn: function(type) {\n\t\t\t\t\treturn this.persist(this.key) || this.data.presets[type||'small'][this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'drag',\n\t\t\t\tfn: function(el) {\n\n\t\t\t\t\tvar self\t\t\t= this,\n\t\t\t\t\t\tisSingleView\t= false,\n\t\t\t\t\t\twhich\t\t\t= ( self.observers.api_url().indexOf('order_by') < 0 && self.observers.sortable() === true ) ? 'sortable' : 'draggable',\n\t\t\t\t\t\tparams\t\t\t= {},\n\t\t\t\t\t\t_el, _items, hasBeenUpdated = false, ulCopy, ulCopyData;\n\n\t\t\t\t\tparams.sortable = {\n\t\t\t\t\t\thelper: 'clone',\n\t\t\t\t\t\tappendTo: 'body',\n\t\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\t\tdistance: 10,\n\t\t\t\t\t\tcursorAt: {\n\t\t\t\t\t\t\ttop: 10,\n\t\t\t\t\t\t\tleft: 10\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstart: function(e,ui) {\n\n\t\t\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\n\t\t\t\t\t\t\tvar itemSortDrag = self.classes.app.koken.itemsBeingSortedDragged;\n\n\t\t\t\t\t\t\t_items = ( ui.helper.hasClass('selected') ) ? $('#content_list li.selected:not(.ui-sortable-helper,.ui-sortable-placeholder)').hide() : [];\n\n\t\t\t\t\t\t\tui.helper.addClass('ui-draggable-dragging').find('.content').append( ( ( _items.length > 1 ) ? '<span class=\"badge-count\" style=\"opacity: 1;\">' + _items.length + '</span>' : '' ) ).addClass('item_to_sort');\n\t\t\t\t\t\t\tui.helper.find('.badge-count').css({\n\t\t\t\t\t\t\t\tleft: ( ( ui.helper.find('img').width() < 100 ) ? ( ui.helper.find('img').width() - 3 ) : 93 ) + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tui.helper.closest('li').addClass('trashable');\n\t\t\t\t\t\t\tui.placeholder.css('visibility','visible').show();\n\n\t\t\t\t\t\t\t$('[data-event=\"sort_year\"]').closest('.lib-nav').find('a.item').addClass('nothoverable');\n\n\t\t\t\t\t\t\tself.classes.app.koken.sortToDrag = true;\n\n\t\t\t\t\t\t\tif ( _items.length > 0 ) {\n\t\t\t\t\t\t\t\t$.each( _items, function() {\n\t\t\t\t\t\t\t\t\titemSortDrag.push( $(this).data('id') )\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\titemSortDrag.push( ui.helper.data('id') )\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tulCopy = $('#content_list').clone();\n\t\t\t\t\t\t\tulCopyData = $('#content_list').data();\n\t\t\t\t\t\t\tdelete ulCopyData.sortable;\n\t\t\t\t\t\t\tulCopy.find('.ui-sortable-placeholder').remove();\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function(e,ui) {\n\n\t\t\t\t\t\t\tif ( hasBeenUpdated && !self.observers.isBeingDropped ) {\n\n\t\t\t\t\t\t\t\tvar ids = [],\n\t\t\t\t\t\t\t\t\tfreeze = self.observers.content().slice(0);\n\n\t\t\t\t\t\t\t\t$.each( $('#content_list li'), function() {\n\t\t\t\t\t\t\t\t\tids.push( $(this).data('id') );\n\n\t\t\t\t\t\t\t\t\tvar count = ( self.observers.view() === 'list' ) ? $(this).find('.cnt') : $(this).find('.count'),\n\t\t\t\t\t\t\t\t\t\titem = freeze[count.text() - 1];\n\n\t\t\t\t\t\t\t\t\tcount.text( $(this).index() + 1 );\n\t\t\t\t\t\t\t\t\t$(this).data('index', $(this).index());\n\t\t\t\t\t\t\t\t\tself.observers.content.splice( $(this).index(), 1, item);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (self.observers.is_quick_collection()) {\n\n\t\t\t\t\t\t\t\t\tvar remainder = self.observers.quick_collection().slice(ids.length);\n\t\t\t\t\t\t\t\t\tself.observers.quick_collection( ids.concat(remainder) );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\t\trequest: self.observers.api_url() + '/order:' + ids.join(','),\n\t\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t\t\t\t\t\t\tif (this.observers.order_by() !== 'manual') {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.observers.change_order_by('manual');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$.each(self.classes.app.koken.itemsBeingSortedDragged, function(i, itemID) {\n\t\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + itemID + '\"]').removeClass('loaded')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\t$.each(self.classes.app.koken.itemsBeingSortedDragged, function(i, itemID) {\n\t\t\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + itemID + '\"]').addClass('loaded')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (!hasBeenUpdated) self.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t\t\t\t}, 100);\n\n\t\t\t\t\t\t\tui.item.css('display','');\n\t\t\t\t\t\t\t$('.nothoverable').removeClass('nothoverable');\n\t\t\t\t\t\t\t$('#content_list li.selected:not(.ui-sortable-helper)').show();\n\t\t\t\t\t\t\t$('.item_to_sort').removeClass('item_to_sort');\n\t\t\t\t\t\t\tself.classes.app.koken.sortToDrag = false;\n\n\t\t\t\t\t\t\tif ( self.observers.isBeingDropped ) {\n\t\t\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t\t\t\t\t$('#content_list').replaceWith(ulCopy);\n\t\t\t\t\t\t\t\tulCopy.data(ulCopyData);\n\t\t\t\t\t\t\t\tulCopy.sortable(params.sortable).find('li').show();\n\t\t\t\t\t\t\t\tko.applyBindings( self.observers, $('#content_list')[0] );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.observers.isBeingDropped = false;\n\t\t\t\t\t\t\thasBeenUpdated = false;\n\n\t\t\t\t\t\t\tself.controllers.events_init();\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeStop: function(e,ui) {\n\n\t\t\t\t\t\t\tif ( !ui.helper.hasClass('selected') && _items.length > 1 ) { return; }\n\n\t\t\t\t\t\t\tvar index,\n\t\t\t\t\t\t\t\tcurrItems\t= $('#content_list li').clone(true),\n\t\t\t\t\t\t\t\tids\t\t\t= [];\n\n\t\t\t\t\t\t\t$.each( _items, function() {\n\t\t\t\t\t\t\t\tids.push( $(this).data('id') );\n\t\t\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged.push($(this).data('id'))\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$('#content_list li:not(.ui-sortable-helper,.ui-sortable-placeholder)').each(function() {\n\t\t\t\t\t\t\t\tif ( ids.indexOf( $(this).data('id') ) >= 0 ) {\n\t\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tindex = ui.placeholder.index()-1;\n\t\t\t\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\t\t\t\tif ( _items.insertBefore ) { _items.insertBefore( $('#content_list li:eq(0)') ); }\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#content_list li:not(.ui-sortable-helper,.ui-sortable-placeholder):eq(' + index + ')').after(_items);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums') < 0 ) {\n\t\t\t\t\t\t\t\t$('.badge-count').remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tupdate: function(e,ui) { hasBeenUpdated = true; }\n\t\t\t\t\t};\n\n\t\t\t\t\tparams.draggable = {\n\t\t\t\t\t\tappendTo: 'body',\n\t\t\t\t\t\thelper: function() {\n\t\t\t\t\t\t\t$(this).addClass('__' + self.data.__koken__ + '__');\n\t\t\t\t\t\t\t// Overriding clone param because of draggable single image view\n\t\t\t\t\t\t\treturn self.el().clone().removeAttr('id');\n\t\t\t\t\t\t},\n\t\t\t\t\t\trevert: function(e,ui) {\n\t\t\t\t\t\t\tif ( $(this).data('ui-draggable') ) {\n\t\t\t\t\t\t\t\t$(this).data('ui-draggable').originalPosition = $(this).find('img:visible').offset();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn !e;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tzIndex: 14000,\n\t\t\t\t\t\teasing: config.easing,\n\t\t\t\t\t\topacity: 0.80,\n\t\t\t\t\t\tdistance: 10,\n\t\t\t\t\t\tcursorAt: {\n\t\t\t\t\t\t\ttop: 10,\n\t\t\t\t\t\t\tleft: 10\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdrag: function(e,ui) {\n\t\t\t\t\t\t\tif ( this.tagName === 'IMG' ) {\n\t\t\t\t\t\t\t\tui.position.top  = e.pageY - 10;\n\t\t\t\t\t\t\t\tui.position.left = e.pageX - 10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstart: function(e,ui) {\n\n\t\t\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\n\t\t\t\t\t\t\tvar li\t= $(e.target).closest('li'),\n\t\t\t\t\t\t\t\tsel = $('#content_list li.selected'),\n\t\t\t\t\t\t\t\tbase, index;\n\n\t\t\t\t\t\t\tif ( !ui.helper.find('img.media:first').attr('src') ) {\n\t\t\t\t\t\t\t\tui.helper.find('img.media:first').prop( 'src', self.cache() );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$('[data-event=\"sort_year\"]').closest('.lib-nav').find('a.item').addClass('nothoverable');\n\n\t\t\t\t\t\t\tif ( ! e.shiftKey && sel.length  <= 1 || ! e.shiftKey && ! li.hasClass('selected') ) {\n\t\t\t\t\t\t\t\tsel.removeClass('selected');\n\t\t\t\t\t\t\t} else if ( e.shiftKey ) {\n\n\t\t\t\t\t\t\t\tbase\t= li.siblings('li[data-id=\"' + sel.data('id') + '\"]');\n\t\t\t\t\t\t\t\tindex\t= base.index();\n\n\t\t\t\t\t\t\t\tli.addClass('selected');\n\n\t\t\t\t\t\t\t\tif ( li.index() > index ) {\n\n\t\t\t\t\t\t\t\t\tli.prevUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\t\t\t\t$('#content_list [data-id=\"' + $(_li).data('id') + '\"]').addClass('selected');\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tli.nextUntil(base).each(function(i, _li) {\n\t\t\t\t\t\t\t\t\t\t$('#content_list [data-id=\"' + $(_li).data('id') + '\"]').addClass('selected');\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tui.helper.closest('li').addClass('trashable');\n\n\t\t\t\t\t\t\t$('#lib-overlay-content').fadeTo( 'fast', 0.80 );\n\n\t\t\t\t\t\t\tif ( $('#content_list li.selected').length > 1 ) {\n\t\t\t\t\t\t\t\tif ( ui.helper.hasClass('album') ) {\n\n\t\t\t\t\t\t\t\t\tvar tot\t\t= 0,\n\t\t\t\t\t\t\t\t\t\tbadge\t= ui.helper.find('.badge-count');\n\n\t\t\t\t\t\t\t\t\t$('.lib-content').find('li.selected .badge-count').each( function() {\n\t\t\t\t\t\t\t\t\t\ttot += parseInt( $(this).text(), 10 );\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tbadge.text(tot);\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tui.helper.find('.content').append('<span class=\"badge-count\" style=\"opacity: 1;\">' + $('.lib-content').find('li.selected').length + '</span>');\n\t\t\t\t\t\t\t\t\tui.helper.find('.badge-count').css({\n\t\t\t\t\t\t\t\t\t\tleft: ( ( ui.helper.find('img').width() < 100 ) ? ( ui.helper.find('img').width() - 3 ) : 93 ) + 'px'\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#content_list [data-id=\"' + ui.helper.data('id') + '\"]').addClass('selected');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function(e,ui) {\n\n\t\t\t\t\t\t\tvar ids = [];\n\n\t\t\t\t\t\t\t// jQueryUI does not change the mouse cursor back if you dont move the mouse, this fixes that\n\t\t\t\t\t\t\t$(document.body).css('cursor','default');\n\n\t\t\t\t\t\t\t$.each( $('#content_list li.selected'), function(k,v) {\n\t\t\t\t\t\t\t\tids.push( $(v).data('id') );\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$(this).removeClass('__content__').removeClass('__album__');\n\n\t\t\t\t\t\t\t$('.nothoverable').removeClass('nothoverable');\n\n\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: ids });\n\n\t\t\t\t\t\t\t$('#lib-overlay-content').fadeOut();\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( which === 'sortable' ) { el = el.closest('ul'); if ( el.data('sortable') ) { return; } }\n\t\t\t\t\tel[which](params[which]);\n\t\t\t\t\tif ( which === 'sortable' ) { el.disableSelection(); }\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.sync({\n\t\t\trequest: 'trash',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t}\n\t\t});\n\n\t\tthis.controllers.update_summary();\n\n\t\t// Hookup the search field\n\t\t$(document).off('keyup.search').on('keyup.search', 'input.search', function(e) {\n\t\t\tvar val = $(this).val().trim();\n\t\t\tif ( e.which === 13 && val !== '' ) {\n\t\t\t\t$(this).blur();\n\t\t\t}\n\t\t\tif ( val !== '' ) {\n\t\t\t\t$('#search_form .input-clear').removeClass('hide').show();\n\t\t\t} else {\n\t\t\t\t$('#search_form .input-clear').hide();\n\t\t\t}\n\t\t});\n\n\t\t$(document).off('blur.search').on('blur.search', 'input.search', function(e) {\n\t\t\tvar val = $(this).val().trim();\n\t\t\tif ( val !== '' ) {\n\t\t\t\t$('#search_form .input-clear').show();\n\t\t\t} else {\n\t\t\t\t$('#search_form .input-clear').hide();\n\t\t\t}\n\t\t\tself.observers.search(val);\n\t\t});\n\n\t\tthis.observers.search.subscribe( function(val) {\n\t\t\tthis.controllers.rewrite_hash({ name: 'search', val: !val ? false : val });\n\t\t\tthis.controllers.rewrite_hash({ name: 'search_filter', val: !val ? false : this.observers.search_filter() });\n\n\t\t\tif (!val) {\n\t\t\t\t$('#multi-search-head').hide();\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sidebar.id.subscribe( function(v) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.views.close_sidebar_drawer();\n\n\t\t\tvar asset = {},\n\t\t\t\ttype;\n\n\t\t\t$(document).off('keyup.sidebar', '#content_sidebar_template input, #content_sidebar_template textarea').on('keyup.sidebar', '#content_sidebar_template input, #content_sidebar_template textarea', function(ev) {\n\t\t\t\tif (ev.which === 27) {\n\t\t\t\t\t$(ev.target).blur();\n\t\t\t\t}\n\n\t\t\t\tif ($(this).parent().hasClass('plugin-fields')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (v === 'multi') {\n\n\t\t\t\t\tvar val\t\t= $(this).val(),\n\t\t\t\t\t\tassets\t= [],\n\t\t\t\t\t\tobj;\n\n\t\t\t\t\t// Easy way to handle summary character count for multi sidebar\n\t\t\t\t\t$('#multi_album_summary .char_count').text(255 - val.length);\n\n\t\t\t\t\ttype = $(this).data('ob');\n\n\t\t\t\t\t// Dont process empty title fields\n\t\t\t\t\tif (val.trim().length <= 0 && type === 'title') return;\n\n\t\t\t\t\t$.each( self.observers.selection(), function(k,v) {\n\t\t\t\t\t\tobj = { id: v };\n\t\t\t\t\t\tobj[type] = val;\n\t\t\t\t\t\tassets.push(obj);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar _asset_type = (self.observers.api_url().indexOf('albums') !== -1) ? 'albums' : 'content';\n\t\t\t\t\tif ($('#content_list li.selected').hasClass('content')) _asset_type = 'content';\n\n\t\t\t\t\tself.controllers.update(_asset_type, assets);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif (asset.id && asset.id !== self.observers.sidebar.asset.id()) asset = {};\n\n\t\t\t\t\tasset.id\t\t\t\t\t= self.observers.sidebar.asset.id();\n\t\t\t\t\ttype\t\t\t\t\t\t= self.observers.sidebar.id() === 'content' ? 'content' : 'albums';\n\t\t\t\t\tasset[$(this).data('ob')]\t= $(this).val();\n\n\t\t\t\t\tif (type == 'albums' && self.observers.sidebar.asset.visibility.raw() !== 'public') {\n\t\t\t\t\t\ttype = self.observers.sidebar.asset.visibility.raw() + '_albums';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.observers.sidebar.id() !== 'content' && self.observers.api_url().indexOf('visibility:') === -1 && self.observers.api_url().indexOf('albums/featured') === -1) {\n\t\t\t\t\t\tif (asset.title) self.observers.properties.album.selected().album.title = asset.title;\n\t\t\t\t\t\tif (asset.description) self.observers.properties.album.selected().album.description = asset.description;\n\t\t\t\t\t\tif (asset.summary) self.observers.properties.album.selected().album.summary = asset.summary;\n\t\t\t\t\t}\n\n\t\t\t\t\tself.controllers.update(type, asset, { sidebar: false });\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tthis.observers.sidebar.asset.title.subscribe(function(v) {\n\t\t\t\tif (this.observers.sidebar.asset.album_type()) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar recursiveTitleChange = function(albums) {\n\t\t\t\t\t\t$.each( albums, function() {\n\t\t\t\t\t\t\tif ( this.id === self.observers.sidebar.asset.id() ) {\n\t\t\t\t\t\t\t\tthis.title = v;\n\t\t\t\t\t\t\t} else if ( this.children ) {\n\t\t\t\t\t\t\t\trecursiveTitleChange(this.children);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\trecursiveTitleChange(this.observers.albums());\n\t\t\t\t}\n\t\t\t\t$('#content_list li[data-id=\"' + this.observers.sidebar.asset.id() + '\"]').find('span.ttle').text(v);\n\t\t\t}, this);\n\n\t\t\t// Used for multiselect sidebars to know if asset is album|content\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tself.observers.isMultiAlbum($('#mid-content li.selected').hasClass('album'));\n\t\t\t});\n\n\t\t}, this );\n\n\t\tthis.observers.content.subscribe( function(val) {\n\n\t\t\tif ( this.observers.content_loading && !val.length ) {\n\t\t\t\tthis.observers.loading(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// No content, show the empty view\n\t\t\tif ( val.length <= 0) {\n\t\t\t\tthis.observers.view('empty');\n\t\t\t\tthis.observers.loading(false);\n\t\t\t\tif (this.observers.properties.album.selected().album) {\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.observers.selected_type( val[0].album_type ? 'set' : 'content');\n\t\t\t\tthis.observers.loading(false);\n\t\t\t\tif (this.observers.view() === 'empty') {\n\t\t\t\t\tthis.observers.view('grid');\n\t\t\t\t} else if ( this.observers.view() === 'single' && this.observers.properties.album.selected().album && this.observers.properties.album.selected().album.album_type === 'set') {\n\t\t\t\t\tthis.observers.view('grid');\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.view.subscribe(function(val) {\n\n\t\t\tif ( val === 'grid' || val === 'list' ) {\n\t\t\t\tthis.cookie('library:view',val);\n\t\t\t}\n\n\t\t\tif ( val === 'single' &&\n\t\t\t\t\tthis.observers.content().length > 0 &&\n\t\t\t\t\tthis.observers.selection().length === 0) {\n\n\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: this.observers.content()[0].id });\n\n\t\t\t}\n\n\t\t\tif ( this.observers.content().length <= 0 && (val === 'grid' || val === 'list') ) {\n\t\t\t\tthis.observers.view('empty');\n\t\t\t} else if (val === 'single') {\n\t\t\t\tthis.views.asset_single_view();\n\t\t\t} else {\n\t\t\t\tvar self = this;\n\t\t\t\trequestAnimationFrame( function() {\n\t\t\t\t\tself.controllers.lazy('#content_list');\n\t\t\t\t});\n\t\t\t\tthis.controllers.events_init();\n\t\t\t}\n\n\t\t\tif (val !== 'loading' && val !== 'empty' && val !== 'upload') {\n\t\t\t\tthis.controllers.rewrite_hash({ name: 'view', val: val === 'grid' ? false : val });\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.thumbnail_scale.subscribe(this.events.scale_thumbnails, this);\n\t\tthis.events.scale_thumbnails(this.observers.thumbnail_scale());\n\n\t\tthis.observers.dropdowns.filter.selected.subscribe( function(val) {\n\n\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\tif ( $.inArray(val.trim(), [ 'none', 'any' ]) !== -1 ) {\n\t\t\t\t$('#multi-filter-head').hide();\n\t\t\t} else {\n\t\t\t\tvar self = this;\n\t\t\t\t$.each(this.observers.dropdowns.filter.items(), function(i, item) {\n\t\t\t\t\tif (item.title.toLowerCase() === val) {\n\t\t\t\t\t\tself.observers.dropdowns.filter.title( item.desc.replace('Show', 'Showing') );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('#multi-filter-head').show();\n\t\t\t}\n\n\t\t\tvar v = 1;\n\n\t\t\tswitch(val) {\n\t\t\t\tcase 'public':\n\t\t\t\tcase 'unlisted':\n\t\t\t\tcase 'private':\n\t\t\t\t\tv = val;\n\t\t\t\t\tval = 'visibility';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'photo':\n\t\t\t\tcase 'video':\n\t\t\t\t\tv = val;\n\t\t\t\t\tval = 'types';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'any':\n\t\t\t\t\tv = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (v !== false) {\n\t\t\t\tthis.controllers.rewrite_hash({ name: val, val: v, replace: [ 'favorites', 'covers', 'visibility', 'types', 'independent', 'koken_.*?'] });\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.drawer.state.subscribe(function(val) {\n\n\t\t\tif ( val === 'open' && this.observers.selection().length > 1 && this.observers.drawer.id() === 'tags_edit' ) {\n\n\t\t\t\tvar common = {};\n\n\t\t\t\t$.each(this.observers.selection(), function(i, sel) {\n\t\t\t\t\tvar asset = self.controllers.get_asset_by_id(sel);\n\t\t\t\t\tif (asset) {\n\t\t\t\t\t\tif (asset.tags.length) {\n\t\t\t\t\t\t\tasset.tags.forEach(function(tag) {\n\t\t\t\t\t\t\t\tif (common[tag.title]) {\n\t\t\t\t\t\t\t\t\tcommon[tag.title].count++;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcommon[tag.title] = { count: 1, raw: tag }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.each(common, function(idx, tag) {\n\t\t\t\t\tif (tag.count === self.observers.selection().length) {\n\t\t\t\t\t\t$('#tags_edit_drawer').find('label:contains(' + tag.raw.title + ')').parent().find('input').prop('checked', true);\n\t\t\t\t\t\t$('#tags_edit_drawer').find('label:contains(' + tag.raw.title + ')').parent().find('input').prop('indeterminate', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#tags_edit_drawer').find('label:contains(' + tag.raw.title + ')').parent().find('input').prop('indeterminate', true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( val === 'open' && this.observers.selection().length <= 1 && this.observers.drawer.id() === 'category_edit' ) {\n\t\t\t\t$('[data-event=\"category_actions\"]').each(function() {\n\t\t\t\t\tif ( $(this).find('input').prop('indeterminate') == true ) $(this).find('input').prop('indeterminate', false);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( val === 'open' && this.observers.selection().length > 1 && this.observers.drawer.id() === 'category_edit' ) {\n\n\t\t\t\t// Reset all checkboxes\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$('#category_edit_drawer input[type=\"checkbox\"]').each(function() {\n\t\t\t\t\t\t$(this).prop('indeterminate',false);\n\t\t\t\t\t\t$(this).prop('checked', false);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Check all categories that are all in selected assets\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tif (this.observers.multiselection_categories.common.length) {\n\t\t\t\t\t\tthis.observers.multiselection_categories.common.forEach(function(item) {\n\t\t\t\t\t\t\t$('#right-col-xtra').find('#content_category_' + item).prop('checked',true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t\t// Set indeterminate checkboxes for everything mixed\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tif (this.observers.multiselection_categories.mixed.length) {\n\t\t\t\t\t\tthis.observers.multiselection_categories.mixed.forEach(function(item) {\n\t\t\t\t\t\t\t$('#right-col-xtra').find('#content_category_' + item).prop('indeterminate',true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t}\n\n\t\t\t// Possible cruft, check if can be removed\n\t\t\tif ( val === 'closed' && (this.observers.selection().length <= 1 && this.observers.drawer.id() === 'tags_edit') ) {\n\t\t\t\tvar parent = $('#right-col-data');\n\t\t\t\tif ( parent.find('.data-submit') ) {\n\t\t\t\t\tparent.find('.data-submit').trigger('save_drawer_changes');\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.properties.album.selected.subscribe( function(val) {\n\n\t\t\tif (val.album) {\n\n\t\t\t\tvar a = val.album;\n\n\t\t\t\t$('#mid_multi .container').css('top','0px');\n\n\t\t\t\tthis.observers.header.title( a.title );\n\t\t\t\tthis.observers.header.icon( a.album_type === 'set' ? 'label-album-set' : 'label-album' );\n\n\t\t\t\tthis.map( this.observers.sidebar.asset, a );\n\n\t\t\t\tif (this.observers.view() !== 'single') {\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t}\n\n\t\t\t\t$('#container').trigger('selection.loaded', a);\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.header.title.subscribe( function(val) {\n\t\t\tif (val.toString().toLowerCase() !== 'search') {\n\t\t\t\tthis.observers.header.collection(val.toString());\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.selection.subscribe(function(v) {\n\n\t\t\tvar self = this;\n\n\t\t\t$('ul#content_list li.selected, ul#mid-list li.selected').removeClass('selected');\n\n\t\t\tif ( v.length && !isNaN(v[0]) ) {\n\n\t\t\t\tvar el = $('#list_item_' + v[0]);\n\n\t\t\t\t// TODO: Drawer fix but needs height fixed too\n\t\t\t\t/*\n\t\t\t\tif (!this.observers.drawerOpen) {\n\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\tthis.observers.drawerOpen = false;\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif ( this.observers.sidebar.id() === 'trash' ) {\n\n\t\t\t\t\t$('.restore-all').attr('disabled',false);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif (v.length === 1) {\n\n\t\t\t\t\t\tvar itemId = el.data('id'),\n\t\t\t\t\t\t\titem, index;\n\t\t\t\t\t\t// TODO: Eventually mapping this.observers.content() into an object key map so we can just select by id would be ideal\n\t\t\t\t\t\t$.each(this.observers.content(), function(i, asset) {\n\t\t\t\t\t\t\tif (asset.id == itemId) {\n\t\t\t\t\t\t\t\titem = asset;\n\t\t\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ( !item ) return;\n\n\t\t\t\t\t\tthis.observers.properties.content.selected.index(index);\n\n\t\t\t\t\t\tthis.observers.sidebar.asset.album_type(false);\n\n\t\t\t\t\t\tthis.map( this.observers.sidebar.asset, item );\n\n\t\t\t\t\t\tif (!item.source) this.observers.sidebar.asset.source.url(false);\n\n\t\t\t\t\t\tthis.observers.sidebar.hasgeo( (item.geolocation) ? true: false );\n\n\t\t\t\t\t\tif ( item.album_type ) {\n\t\t\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.views.asset_multi_view(item);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.get_selected_asset_categories();\n\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\t$('#container').trigger('selection.loaded', item);\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.observers.sidebar.id('multi');\n\t\t\t\t\t\t// TODO: Could probably combine properties.multi.selected with\n\t\t\t\t\t\t// content.selected.id, since they are the same value. Just move that code here?\n\t\t\t\t\t\tthis.observers.properties.multi.selected(v);\n\n\t\t\t\t\t\tif ($('#content_list li.content').length) {\n\t\t\t\t\t\t\tthis.observers.isContent(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.isContent(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Resetting common tags\n\t\t\t\t\t\tthis.observers.tagsCommonAcrossAll([]);\n\t\t\t\t\t\tthis.observers.selectionHasTags(false);\n\n\t\t\t\t\t\tvar common = {},\n\t\t\t\t\t\t\titems = [],\n\t\t\t\t\t\t\ttags = [],\n\t\t\t\t\t\t\ttagsToShow = { cache: [], actual: [] }\n\n\t\t\t\t\t\t$.each(this.observers.selection(), function(i, sel) {\n\t\t\t\t\t\t\tvar asset = self.controllers.get_asset_by_id(sel);\n\t\t\t\t\t\t\tif (asset) {\n\t\t\t\t\t\t\t\titems.push(asset);\n\t\t\t\t\t\t\t\tif (!self.observers.selectionHasTags() && asset.tags.length) self.observers.selectionHasTags(true);\n\t\t\t\t\t\t\t\tif (asset.tags.length) {\n\t\t\t\t\t\t\t\t\tasset.tags.forEach(function(tag) {\n\t\t\t\t\t\t\t\t\t\ttags.push(tag);\n\t\t\t\t\t\t\t\t\t\tif (common[tag.title]) {\n\t\t\t\t\t\t\t\t\t\t\tcommon[tag.title].count++;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tcommon[tag.title] = { count: 1, raw: tag }\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.each(common, function(idx, tag) {\n\t\t\t\t\t\t\tif (tag.count === self.observers.selection().length) self.observers.tagsCommonAcrossAll.push(tag.raw);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\ttags.forEach(function(tag, idx) {\n\t\t\t\t\t\t\tif (tagsToShow.cache.indexOf(tag.title) === -1) {\n\t\t\t\t\t\t\t\ttagsToShow.cache.push(tag.title);\n\t\t\t\t\t\t\t\ttagsToShow.actual.push(tag);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.map(this.observers.sidebar.asset, {tags: tagsToShow.actual});\n\n\t\t\t\t\t\t// Start checking other properties\n\n\t\t\t\t\t\tif ($('#content_list li.content').length) {\n\n\t\t\t\t\t\t\tvar licenses = [], visibilities = [], downloads = [],\n\t\t\t\t\t\t\t\tlicense = false, visible = false, download = false;\n\n\t\t\t\t\t\t\t$.each(v, function(i, id) {\n\t\t\t\t\t\t\t\tvar asset = self.controllers.get_asset_by_id(id);\n\n\t\t\t\t\t\t\t\tif (!asset) return;\n\n\t\t\t\t\t\t\t\tlicenses.push(asset.license);\n\t\t\t\t\t\t\t\tvisibilities.push(asset.visibility);\n\t\t\t\t\t\t\t\tdownloads.push(asset.max_download);\n\n\t\t\t\t\t\t\t\tlicense = asset.license;\n\t\t\t\t\t\t\t\tvisible = asset.visibility;\n\t\t\t\t\t\t\t\tdownload = asset.max_download;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$.each(licenses, function(i, l) {\n\t\t\t\t\t\t\t\tif (l.clean != license.clean) {\n\t\t\t\t\t\t\t\t\tlicense = {\n\t\t\t\t\t\t\t\t\t\traw: '',\n\t\t\t\t\t\t\t\t\t\tclean: ''\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$.each(visibilities, function(i, v) {\n\t\t\t\t\t\t\t\tif (v.clean != visible.clean) {\n\t\t\t\t\t\t\t\t\tvisible = {\n\t\t\t\t\t\t\t\t\t\traw: '',\n\t\t\t\t\t\t\t\t\t\tclean: ''\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$.each(downloads, function(i, d) {\n\t\t\t\t\t\t\t\tif (d.clean != download.clean) {\n\t\t\t\t\t\t\t\t\tdownload = {\n\t\t\t\t\t\t\t\t\t\traw: '',\n\t\t\t\t\t\t\t\t\t\tclean: ''\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.map( this.observers.sidebar.asset, {\n\t\t\t\t\t\t\t\tlicense: license,\n\t\t\t\t\t\t\t\tvisibility: visible,\n\t\t\t\t\t\t\t\tmax_download: download\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#container').trigger('selection.loaded', [items]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.classes.app.koken.lastFocused ) {\n\t\t\t\t\t\tthis.classes.app.koken.lastFocused.focus();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t$.each(v, function(i, id) {\n\t\t\t\t\t$('#list_item_' + id).addClass('selected');\n\t\t\t\t});\n\n\t\t\t} else if ( v.length === 0 ) {\n\t\t\t\tif ( this.observers.sidebar.id() === 'trash' ) {\n\t\t\t\t\t$('.restore-all').attr('disabled',true);\n\t\t\t\t}\n\t\t\t\tif (this.observers.properties.album.selected().album) {\n\t\t\t\t\tthis.map( this.observers.sidebar.asset, this.observers.properties.album.selected().album );\n\t\t\t\t\tthis.observers.sidebar.id('album');\n\t\t\t\t\tthis.observers.get_selected_asset_categories();\n\t\t\t\t\t$('#container').trigger('selection.loaded', this.observers.properties.album.selected().album);\n\t\t\t\t} else {\n\t\t\t\t\tif ( this.observers.sidebar.id() !== 'trash' || $('.public').hasClass('selected') ) {\n\t\t\t\t\t\tthis.observers.sidebar.id('fixed');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.observers.view() === 'single' || this.observers.view() === 'empty') {\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.observers.view('grid');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.observers.properties.content.selected.index(-1);\n\t\t\t}\n\n\t\t\t$('#content_sidebar_template div.value input').off('keydown.sidebar').on( 'keydown.sidebar', function(e) {\n\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t$(this).blur();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (v.length > 1) {\n\t\t\t\t$('#multi_sidebar_info_container').find('.value input').val('');\n\t\t\t\t$('#multi_sidebar_info_container').find('.value textarea').val('');\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.quick_collection.subscribe(function(val) {\n\t\t\tif (val.length === 1) {\n\t\t\t\t// Need to fake this, otherwise urls could end up like /content/100, which is not a list)\n\t\t\t\tval.push(0);\n\t\t\t}\n\t\t\tthis.persist('library.quick_collection', val.join(','));\n\t\t}, this);\n\n\t\tthis.observers.api_url.subscribe(function() {\n\t\t\tthis.controllers.set_current_nav();\n\t\t}, this);\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'default': function(url) {\n\n\t\t\t\turl = url || 'content';\n\n\t\t\t\t// If plugin is activated and url hash references plugin reset to content url\n\t\t\t\tvar url_parts = url.split('/');\n\t\t\t\t$.each(this.interfaces.app.observers.plugins(), function(i, plugin) {\n\t\t\t\t\tif (plugin.console && url_parts.indexOf(plugin.php_class_name.replace('Koken', '').toLowerCase().trim()) !== -1) {\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//\n\n\t\t\t\tvar defaultView = this.cookie('library:view') || 'grid';\n\n\t\t\t\tfunction is_orderable(url) {\n\t\t\t\t\treturn url.match(/albums\\/\\d+\\/content$/) ||\n\t\t\t\t\turl.match(/(content|albums)\\/featured(\\/.*)?$/) ||\n\t\t\t\t\turl.match(/favorites/) ||\n\t\t\t\t\turl.match(/quick_collection:true/) ||\n\t\t\t\t\turl.match(/albums\\/visibility:public/);\n\t\t\t\t}\n\n\t\t\t\tthis.observers.is_sortable(\n\t\t\t\t\t(url.match(/^albums\\/\\d+\\/content/) && url.indexOf('visibility') === -1 &&  url.indexOf('types') === -1 && url.indexOf('covers') === -1) ||\n\t\t\t\t\t(url.match(/^content/) && url.indexOf('year') === -1 && url.indexOf('after') === -1 &&  url.indexOf('quick') === -1 && url.indexOf('unlisted') === -1 && url.indexOf('private') === -1) ||\n\t\t\t\t\turl.match(/favorites/) ||\n\t\t\t\t\turl.match(/albums\\/visibility:public/)\n\t\t\t\t);\n\n\t\t\t\tvar upload_match_url = url.replace(/\\/selection:[\\d,]+/, '');\n\t\t\t\tthis.observers.is_uploadable(\n\t\t\t\t\tupload_match_url === 'content' ||\n\t\t\t\t\tupload_match_url.match(/albums\\/\\d+\\/content$/) ||\n\t\t\t\t\tupload_match_url.match(/content\\/featured(\\/.*)?$/) ||\n\t\t\t\t\tupload_match_url.match(/favorites/) ||\n\t\t\t\t\tupload_match_url.match(/content\\/visibility:/)\n\t\t\t\t);\n\n\t\t\t\tvar final_url = url,\n\t\t\t\t\tfilters = [ 'covers', 'types', 'independent', 'koken_.*?' ].concat(url.indexOf('albums') === 0 ? [] : ['visibility']),\n\t\t\t\t\tregex = RegExp('/(' + filters.join('|') + '|selection|view|order_by|year|month|order_direction|search_filter|search|quick_collection):([^\\/]+)', 'g'),\n\t\t\t\t\tnon_api = [ \"selection\", \"view\", \"quick_collection\" ],\n\t\t\t\t\tmatches,\n\t\t\t\t\tobservers = {\n\t\t\t\t\t\t\"selection\": [],\n\t\t\t\t\t\t\"view\": defaultView,\n\t\t\t\t\t\t\"order_by\": \"published_on\",\n\t\t\t\t\t\t\"order_direction\": is_orderable(url) || url.match(/albums\\/visibility:(unlisted|private)/) ? false : 'desc',\n\t\t\t\t\t\t\"search\": '',\n\t\t\t\t\t\t\"search_filter\": ( this.cookie('library:search_filter') === null ) ? 'tags' : this.cookie('library:search_filter'),\n\t\t\t\t\t\t\"year\": false,\n\t\t\t\t\t\t\"month\": false,\n\t\t\t\t\t\t\"filter\": 'none'\n\t\t\t\t\t},\n\t\t\t\t\tself = this,\n\t\t\t\t\tobj = {\n\t\t\t\t\t\tcb: function() {\n\t\t\t\t\t\t\t// Pick out search_filter and run it first so it sticks\n\t\t\t\t\t\t\tif (observers.search_filter) {\n\t\t\t\t\t\t\t\tself.observers.search_filter( observers.search_filter );\n\t\t\t\t\t\t\t\tdelete(observers.search_filter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (var i in observers) {\n\t\t\t\t\t\t\t\tif (i === 'filter') {\n\t\t\t\t\t\t\t\t\tself.observers.dropdowns.filter.selected(observers[i]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (i.indexOf('order_') === 0 && self.observers.is_sortable()) continue;\n\t\t\t\t\t\t\t\t\tself.observers[i]( observers[i] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tload_until: false\n\t\t\t\t\t};\n\n\t\t\t\tif ( this.config.cache && ! $.isEmptyObject(this.internalcache) ) {\n\t\t\t\t\tthis.cache( $('#content_list') );\n\t\t\t\t}\n\n\t\t\t\tthis.observers.sidebar.hasgeo(false);\n\n\t\t\t\tvar order_defined = false,\n\t\t\t\t\torder_direction_defined = false;\n\t\t\t\t\tis_quick = false;\n\n\t\t\t\twhile( (matches = regex.exec(url)) !== null) {\n\n\t\t\t\t\tvar ob = matches[1],\n\t\t\t\t\t\tval = matches[2];\n\n\t\t\t\t\tif (ob === 'quick_collection') {\n\t\t\t\t\t\tvar ids = self.observers.quick_collection();\n\t\t\t\t\t\tif (ids.length < 2) {\n\t\t\t\t\t\t\tif (ids.length) {\n\t\t\t\t\t\t\t\tids.push(ids[0]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tids = [0,0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfinal_url += '/' + ids.join(',') + '/visibility:any';\n\t\t\t\t\t\tis_quick = true;\n\t\t\t\t\t} else if ($.inArray(ob, filters) !== -1) {\n\t\t\t\t\t\tobservers.filter = ob === 'covers' || ob === 'independent' ? ob : val;\n\t\t\t\t\t} else if (/^koken_/.test(ob)) {\n\t\t\t\t\t\tobservers.filter = ob;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (ob === 'selection') {\n\t\t\t\t\t\t\tif (val == 'NaN') self.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\tobj.load_until = Number(val);\n\t\t\t\t\t\t\tval = val.split(',').map( function(id) { return Number(id); });\n\n\t\t\t\t\t\t\tif (url.match(/trash/)) this.observers.trashRestoreDisabled(false);\n\t\t\t\t\t\t\t$('#container').trigger('selection.loaded');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (val.length > 1) this.observers.get_selected_asset_categories(val);\n\n\t\t\t\t\t\t// Fixes for [object,object] appearing after some bogus selections\n\t\t\t\t\t\tif (val[0].toString() == 'NaN') self.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t\t\t\tif (ob === 'view' && (val === 'empty' || val === 'upload')) {\n\t\t\t\t\t\t\tval = 'grid';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobservers[ob] = val;\n\n\t\t\t\t\t\tif (ob === 'order_by') {\n\t\t\t\t\t\t\torder_defined = true;\n\t\t\t\t\t\t} else if (ob === 'order_direction') {\n\t\t\t\t\t\t\torder_direction_defined = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.inArray(ob, non_api) !== -1) {\n\t\t\t\t\t\tfinal_url = final_url.replace(matches[0], '');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.observers.is_quick_collection(is_quick);\n\n\t\t\t\tif (final_url.match(/albums\\/\\d+\\/content/) || is_orderable(final_url) || is_quick) {\n\t\t\t\t\tif (is_orderable(final_url) || is_quick) {\n\t\t\t\t\t\tthis.observers.sortable(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.default_sort('manual');\n\t\t\t\t\tif (!order_defined) {\n\t\t\t\t\t\tobservers.order_by = 'manual';\n\t\t\t\t\t\tobservers.order_direction = false;\n\t\t\t\t\t} else if (observers.order_by !== 'manual' && !order_direction_defined) {\n\t\t\t\t\t\tobservers.order_direction = observers.order_by === 'title' ? 'asc' : 'desc';\n\t\t\t\t\t}\n\t\t\t\t} else if (final_url.match(/albums\\/visibility:/)) {\n\t\t\t\t\tthis.observers.sortable(false);\n\t\t\t\t\tthis.observers.default_sort('title');\n\t\t\t\t\tif (!order_defined || $.inArray(observers.order_by, [ 'title', 'modified_on', 'created_on' ] ) === -1) {\n\t\t\t\t\t\tobservers.order_by = 'title';\n\t\t\t\t\t}\n\t\t\t\t\tif (!order_direction_defined) {\n\t\t\t\t\t\tobservers.order_direction = observers.order_by === 'title' ? 'asc' : 'desc';\n\t\t\t\t\t}\n\t\t\t\t} else if (final_url.match(/content\\/(unlisted|privat)/)) {\n\t\t\t\t\tif (!order_defined) {\n\t\t\t\t\t\tobservers.order_by = 'captured_on';\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.default_sort('captured_on');\n\t\t\t\t\tthis.observers.sortable(false);\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.default_sort('published_on');\n\t\t\t\t\tthis.observers.sortable(false);\n\t\t\t\t}\n\n\t\t\t\tif (observers.order_direction === false && final_url.indexOf('order_direction:') !== -1) {\n\t\t\t\t\tfinal_url = final_url.replace(/\\/order_direction:(asc|desc)/, '');\n\t\t\t\t}\n\n\t\t\t\tif ( this.observers.api_url() !== final_url ) {\n\n\t\t\t\t\t$('#content_list').empty();\n\t\t\t\t\tif (!final_url.match(/search:[^\\/]/)) {\n\t\t\t\t\t\tthis.observers.search('');\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.api_url( final_url );\n\t\t\t\t\tthis.observers.passengers.next_page = false;\n\t\t\t\t\tself.controllers.load_content(obj);\n\n\t\t\t\t} else {\n\t\t\t\t\tobj.cb();\n\t\t\t\t}\n\n\t\t\t\tif ( final_url.match(/trash/) ) {\n\t\t\t\t\tthis.observers.dropdowns.filter.selected('none');\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$.each(self.classes.scrollbar, function(i, scroll) {\n\t\t\t\t\t\tif (this.loopy) {\n\t\t\t\t\t\t\tthis.lastpos = -1;\n\t\t\t\t\t\t\tthis.elements.container.trigger('scroll', {\n\t\t\t\t\t\t\t\tsuppress: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.controllers.events_init();\n\n\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t$('#container').trigger('library.loaded');\n\n\t\t\t\t$(window).off('mousemove').on('mousemove', function(e) {\n\t\t\t\t\tif ( e.pageX > 240 ) {\n\t\t\t\t\t\t$('[data-event=\"toggle_gear_popout\"]').hide();\n\t\t\t\t\t}\n\t\t\t\t}).trigger('resize');\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\tevents: {\n\n\t\tenable_plugin_import: function(el) {\n\t\t\tvar plugin = this.observers.hasPlugin('php_class_name', el.data('php')),\n\t\t\t\tself = this;\n\t\t\tif (plugin) {\n\t\t\t\tthis.controllers.toggle_plugin(plugin, function() {\n\t\t\t\t\tvar selected = $('#import_content li.selected a');\n\t\t\t\t\t$('#container').trigger('library.loaded');\n\t\t\t\t\t$('#container').trigger('sheet.activated', self.observers.sheets.import_content);\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tselected.trigger('click');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\ttoggle_focal: function(el) {\n\t\t\tthis.observers.focal_point( !this.observers.focal_point() );\n\t\t},\n\n\t\tsort_year: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t} else {\n\t\t\t\t$.bbq.pushState( '/library/content/year:' + data.year, 2 );\n\t\t\t}\n\t\t},\n\n\t\tsort_month: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tp = el.parent();\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t} else {\n\t\t\t\t$.bbq.pushState( '/library/content/year:' + data.year + '/month:' + data.month, 2 );\n\t\t\t}\n\t\t},\n\n\t\tinit: function() {\n\n\t\t\tthis.setup_keyboard_bindings();\n\t\t\tthis.setup_drawer_events();\n\t\t\tthis.gear_hovering();\n\n\t\t},\n\n\t\tload_quick_collection: function() {\n\t\t\tvar ids = this.observers.quick_collection();\n\t\t\tif (ids.length) {\n\n\t\t\t} else {\n\t\t\t\tthis.observers.view('empty');\n\t\t\t}\n\t\t},\n\n\t\tsetup_keyboard_bindings: function() {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.controllers.multiselect( '#content_list li', function(sel) {\n\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: sel });\n\t\t\t});\n\n\t\t\t$(document).on('dblclick', '#content_list li', function(e) {\n\n\t\t\t\tif ( self.observers.sidebar.id() !== 'trash' ) {\n\t\t\t\t\tvar li = $(e.target).closest('li');\n\t\t\t\t\tif (li.hasClass('album') || li.hasClass('set')) {\n\t\t\t\t\t\tlocation.hash = '/library/albums/' + li.data('id') + '/content';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: 'single'});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t$(document).on('dblclick', '#mid-single-wrap', function() {\n\t\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: 'grid'});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(window).on('keydown', function(e) {\n\n\t\t\t\tvar bypass = false;\n\n\t\t\t\tif ( $(\"*:focus\").length > 0 && ( e.metaKey || e.ctrlKey ) ) {\n\t\t\t\t\tif ( e.which === 37 || e.which === 39 ) {\n\t\t\t\t\t\t$(\"*:focus\").blur();\n\t\t\t\t\t\tbypass = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( e.target.nodeName !== 'INPUT' && e.target.nodeName !== 'TEXTAREA' && e.target.nodeName !== 'SELECT' || bypass ) {\n\n\t\t\t\t\tswitch (e.which) {\n\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\tif (self.observers.view() === 'grid') {\n\t\t\t\t\t\t\t\tvar index = self.observers.properties.content.selected.index(),\n\t\t\t\t\t\t\t\t\tcols = 0,\n\t\t\t\t\t\t\t\t\toffset = false,\n\t\t\t\t\t\t\t\t\tnew_index = false;\n\n\t\t\t\t\t\t\t\t// This seems more reliable than trying to guess view viewport_area()\n\t\t\t\t\t\t\t\t$('#content_list li').each(function(i, li) {\n\t\t\t\t\t\t\t\t\tif (!offset || offset === $(li).offset().top) {\n\t\t\t\t\t\t\t\t\t\toffset = $(li).offset().top;\n\t\t\t\t\t\t\t\t\t\tcols++;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tnew_index = e.which === 38 ? index - cols : index + cols;\n\n\t\t\t\t\t\t\t\tif (new_index >= 0 && new_index < self.observers.content().length) {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: self.observers.content()[new_index].id});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (self.observers.view() === 'list') {\n\t\t\t\t\t\t\t\tif (e.which === 38) {\n\t\t\t\t\t\t\t\t\tself.observers.prev_item();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.observers.next_item();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 65:\n\t\t\t\t\t\t\tif (e.metaKey && self.observers.view() !== 'single') {\n\t\t\t\t\t\t\t\tself.events.select_all();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 67:\n\t\t\t\t\t\t\tif ( e.metaKey || e.ctrlKey ) { return; }\n\t\t\t\t\t\t\tif ( $('[data-ob=\"caption\"]').length > 0 ) {\n\t\t\t\t\t\t\t\t$('[data-ob=\"caption\"]').focus();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('[data-ob=\"description\"]').focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 84:\n\t\t\t\t\t\t\tif ( e.metaKey || e.ctrlKey ) { return; }\n\t\t\t\t\t\t\t$('[data-ob=\"title\"]').focus();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 70:\n\t\t\t\t\t\t\tif (e.metaKey) {\n\t\t\t\t\t\t\t\t$('#search_form input').focus();\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 73:\n\t\t\t\t\t\t\tif (e.metaKey || e.ctrlKey) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tself.events.toggle_sheet($('[data-sheet=\"import_content\"]'))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\tself.observers.next_item();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\tself.observers.prev_item();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 27:\n\t\t\t\t\t\t\t// TODO: Temp fix until we can refactor dropdowns into a proper class\n\t\t\t\t\t\t\t$('#container').find('.opt-menu').each( function() {\n\t\t\t\t\t\t\t\tvar _ob = ( $(this).closest('#interface_container').length <= 0 ) ? self.interfaces.app.observers : self.observers;\n\t\t\t\t\t\t\t\tid = $(this).attr('id');\n\t\t\t\t\t\t\t\tif ( id && id.indexOf('_dd') >= 0 ) {\n\t\t\t\t\t\t\t\t\tid = id.replace('_dd','');\n\t\t\t\t\t\t\t\t\t_ob.dropdowns[id].active(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif ( self.observers.selection().length > 0 ) {\n\t\t\t\t\t\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: false});\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t},\n\n\t\tsearch_filter: function() {\n\t\t\tvar opt = $('#search_form .opt-menu');\n\t\t\topt.find('.wedge').css('left', '20px');\n\t\t\topt.css('left', '-10px').show();\n\t\t},\n\n\t\tsearch_filter_change: function(el) {\n\t\t\tvar val;\n\t\t\tif (el.hasClass('opt-tags')) {\n\t\t\t\tval = 'tags';\n\t\t\t} else if (el.hasClass('opt-filename')) {\n\t\t\t\tval = 'filename';\n\t\t\t} else if (el.hasClass('opt-title')) {\n\t\t\t\tval = 'title';\n\t\t\t} else {\n\t\t\t\tval = 'category';\n\t\t\t}\n\t\t\tthis.observers.search_filter(val);\n\t\t\tthis.cookie( 'library:search_filter', val );\n\t\t\t$('#search_form input').val('');\n\t\t},\n\n\t\tbadges: function(el,parent,e) {\n\n\t\t\t// Capture clicks with a modifier key being pressed (ALT|SHIFT|CTRL|CMD), create a\n\t\t\t// new event with the modifier and trigger it on the image itself\n\t\t\tif (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) {\n\t\t\t\tvar ev = $.Event('click', {\n\t\t\t\t\tmetaKey: e.metaKey,\n\t\t\t\t\tctrlKey: e.ctrlKey,\n\t\t\t\t\tshiftKey: e.shiftKey\n\t\t\t\t});\n\t\t\t\t$(el).closest('li').trigger(ev);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//\n\n\t\t\tif ( el.hasClass('fave') || el.hasClass('featured') ) {\n\n\t\t\t\tvar type\t= ( el.closest('.album-stack').length > 0 ) ? 'albums' : 'content',\n\t\t\t\t\twhich\t= ( el.hasClass('fave') ) ? 'favorite' : 'featured',\n\t\t\t\t\tdata\t= { id: el.closest('li').data('id'), type: type };\n\n\t\t\t\tdata[which] = 0;\n\n\t\t\t\tif ($('#content_list li[data-id=\"' + el.closest('li').data('id') + '\"]').hasClass('album')) {\n\t\t\t\t\tthis.notify().success( $('#content_list li[data-id=\"' + el.closest('li').data('id') + '\"]').find('.title').text() + ' ' + ( ( el.hasClass('fave') ) ? 'removed from Favorites' : 'removed from Featured albums' ) );\n\t\t\t\t} else {\n\t\t\t\t\tthis.notify().success( $('#content_list li[data-id=\"' + el.closest('li').data('id') + '\"]').find('.title.filename').text() + ' ' + ( ( el.hasClass('fave') ) ? 'removed from Favorites' : 'removed from Featured content' ) );\n\t\t\t\t}\n\n\t\t\t\tif (this.observers.api_url() === 'favorites' || this.observers.api_url() === 'content/featured') {\n\t\t\t\t\tswitch(this.observers.api_url()) {\n\t\t\t\t\t\tcase 'favorites' :\n\t\t\t\t\t\t\tif (which === 'favorite') el.closest('[data-which=\"thumbnail\"]').remove();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'content/featured' :\n\t\t\t\t\t\t\tif (which === 'featured') el.closest('[data-which=\"thumbnail\"]').remove();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!$('#content_list li[data-which=\"thumbnail\"]').length) {\n\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.observers.api_url() === 'albums/featured') {\n\t\t\t\t\tel.closest('li.album.featured.loaded').remove();\n\t\t\t\t\tif (!$('#content_list li.album.featured.loaded').length) {\n\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.controllers.update(type, data, {\n\t\t\t\t\tinstant: true,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tif (type === 'albums' && which === 'featured') {\n\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t},\n\n\t\tsetup_drawer_events: function() {\n\n\t\t\tvar parent\t= $('#right-col-data'),\n\t\t\t\tasset\t= {},\n\t\t\t\tself\t= this,\n\t\t\t\ttype, item;\n\n\t\t\t$('html')\n\t\t\t\t.off('.drawer')\n\t\t\t\t.on('keypress.drawer', parent.find('input'), function(e) {\n\t\t\t\t\tif (e.which == 13 && $(this).val() !== '') {\n\t\t\t\t\t\tvar p = $(this).parents('div:first');\n\t\t\t\t\t\tp.find((p.hasClass('check-edit')) ? 'a[data-event=\"save\"]' : 'button.data-submit').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('click.drawer', parent, function(e) {\n\n\t\t\t\t\tif ( !$(e.target).hasClass('data-submit') ) return true;\n\n\t\t\t\t\ttype = $(e.target).closest('[data-submit]').data('submit');\n\n\t\t\t\t\tvar _asset = { id: self.observers.sidebar.asset.id && self.observers.sidebar.asset.id() },\n\t\t\t\t\t\tasset_type\t= ( self.observers.sidebar.id() === 'album' ) ? 'albums' : 'content',\n\t\t\t\t\t\tel\t\t\t= $(e.target),\n\t\t\t\t\t\titem;\n\n\t\t\t\t\tvar save_asset = function() {\n\n\t\t\t\t\t\tvar item = el.parent().parent().find('input:first'),\n\t\t\t\t\t\t\ttemp = {},\n\t\t\t\t\t\t\tob = $.extend( true, {}, this.properties.multi.labels() ),\n\t\t\t\t\t\t\tbits, clean, ids, selected;\n\n\t\t\t\t\t\tif (type === 'visibility' && self.observers.sidebar.id() === 'album' && (self.classes.channel.library.albumShouldMatchVsibility === null || typeof self.classes.channel.library.albumShouldMatchVsibility === 'undefined')) {\n\n\t\t\t\t\t\t\tvar shouldShowModal = false,\n\t\t\t\t\t\t\t\tallAlbums = $.extend({}, self.observers.albums_flat(), self.observers.unlisted_albums(), self.observers.private_albums());\n\n\t\t\t\t\t\t\tfunction recursive_search(album) {\n\t\t\t\t\t\t\t\tif (album.id == self.observers.sidebar.asset.id() && album.count > 0) {\n\t\t\t\t\t\t\t\t\tshouldShowModal = true;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (album.children) {\n\t\t\t\t\t\t\t\t\treturn $.each(album.children, function(j, a) {\n\t\t\t\t\t\t\t\t\t\treturn recursive_search(a);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$.each(allAlbums, function(i, album) {\n\t\t\t\t\t\t\t\treturn recursive_search(album);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() {\n\t\t\t\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = true;\n\t\t\t\t\t\t\t\t\t$('#right-col-xtra button.data-submit').click();\n\t\t\t\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() {\n\t\t\t\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = false;\n\t\t\t\t\t\t\t\t\t$('#right-col-xtra button.data-submit').click();\n\t\t\t\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (self.observers.sidebar.asset.album_type) {\n\t\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, self.observers.sidebar.asset.visibility.raw(), $('input[name=\"visibility\"]:checked').val(), (self.observers.sidebar.asset.album_type() !== 'set') ? 'album' : 'set');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, self.observers.sidebar.asset.visibility.raw(), $('input[name=\"visibility\"]:checked').val());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = false;\n\t\t\t\t\t\t\t\t$('#right-col-xtra button.data-submit').click();\n\t\t\t\t\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'multi_history') {\n\n\t\t\t\t\t\t\tvar _type = self.observers.multiHistory.drawer();\n\n\t\t\t\t\t\t\tif (self.observers.multiHistory.type() === 'shift') {\n\n\t\t\t\t\t\t\t\tvar _years = self.observers.multiHistory.date.years(),\n\t\t\t\t\t\t\t\t\t_months = self.observers.multiHistory.date.months(),\n\t\t\t\t\t\t\t\t\t_days = self.observers.multiHistory.date.days(),\n\t\t\t\t\t\t\t\t\t_hours = self.observers.multiHistory.date.hours(),\n\t\t\t\t\t\t\t\t\t_mins = self.observers.multiHistory.date.minutes(),\n\t\t\t\t\t\t\t\t\tapiStr = '';\n\n\t\t\t\t\t\t\t\tif (_years === 0 && _months === 0 && _days === 0 && _hours === 0 && _mins === 0) return;\n\n\t\t\t\t\t\t\t\tif (_years !== 0) apiStr += _years + ' years ';\n\t\t\t\t\t\t\t\tif (_months !== 0) apiStr += _months + ' months ';\n\t\t\t\t\t\t\t\tif (_days !== 0) apiStr += _days + ' days ';\n\t\t\t\t\t\t\t\tif (_hours !== 0) apiStr += _hours + ' hours ';\n\t\t\t\t\t\t\t\tif (_mins !== 0) apiStr += _mins + ' minutes ';\n\n\t\t\t\t\t\t\t\ttemp[_type] = apiStr.trim();\n\n\t\t\t\t\t\t\t} else if (self.observers.multiHistory.type() === 'captured') {\n\n\t\t\t\t\t\t\t\tvar itemData = self.controllers.get_asset_by_id(_asset.id);\n\n\t\t\t\t\t\t\t\tif (itemData.captured_on.utc) {\n\t\t\t\t\t\t\t\t\ttemp[_type] = itemData.captured_on.timestamp;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttemp[_type] = 'captured_on';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tvar dt = $('#right-col-data input.datepicker').val().trim(),\n\t\t\t\t\t\t\t\t\titemData = self.controllers.get_asset_by_id(_asset.id),\n\t\t\t\t\t\t\t\t\traw_dt = dt,\n\t\t\t\t\t\t\t\t\tmsg;\n\n\t\t\t\t\t\t\t\tif (_type === 'captured_on' && itemData.captured_on.utc === false) raw_dt += ' GMT';\n\n\t\t\t\t\t\t\t\ttemp[_type] = moment(raw_dt).unix();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( type === 'license' ) {\n\n\t\t\t\t\t\t\tif ($('input[name=lic1]').is(':checked')) {\n\t\t\t\t\t\t\t\ttemp.raw = $('input[name=lic2]:checked').val() + ',' + $('input[name=lic3]:checked').val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttemp.raw = 'all';\n\t\t\t\t\t\t\t\ttemp.clean = ' All rights reserved';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!temp.clean) {\n\n\t\t\t\t\t\t\t\tbits = temp.raw.split(',');\n\n\t\t\t\t\t\t\t\tif (bits[0] == 'y') {\n\t\t\t\t\t\t\t\t\tclean = 'Commercial';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tclean = 'NonCommercial';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tswitch(bits[1]) {\n\t\t\t\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\t\t\t\tclean += '-ShareAlike';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'n':\n\t\t\t\t\t\t\t\t\t\tclean += '-NoDerivs';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttemp.clean = clean;\n\n\t\t\t\t\t\t\t\tself.observers.multiedit.changed.license = clean;\n\n\t\t\t\t\t\t\t\tif ( this.sidebar.id() === 'multi' ) {\n\t\t\t\t\t\t\t\t\tob.license = clean;\n\t\t\t\t\t\t\t\t\tself.observers.properties.multi.labels(ob);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if ( $('div[data-submit=' + type + ']').find('input[name=' + type + ']').length ) {\n\n\t\t\t\t\t\t\ttemp.raw = $('div[data-submit=' + type + ']').find('input[name=' + type + ']:checked').val();\n\n\t\t\t\t\t\t\tif ( type === 'visibility' ) {\n\n\t\t\t\t\t\t\t\tclean = helpers.capitalize(temp.raw);\n\n\t\t\t\t\t\t\t\tif ( this.sidebar.id() === 'multi' ) {\n\t\t\t\t\t\t\t\t\tob.visibility = clean;\n\t\t\t\t\t\t\t\t\tself.observers.properties.multi.labels(ob);\n\n\t\t\t\t\t\t\t\t\tif ( this.sidebar.asset.visibility.clean() != clean ) {\n\t\t\t\t\t\t\t\t\t\tself.observers.multiedit.changed.visibility = clean;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Remove album from site nav href if changing from public to unlisted\n\t\t\t\t\t\t\t\tif ( temp.raw !== 'public' && $('#main-nav a[class~=\"site-interface\"]').attr('href').indexOf(this.sidebar.asset.title().toLowerCase().replace(' ','_')) >= 0 ) {\n\t\t\t\t\t\t\t\t\t$('#main-nav a[class~=\"site-interface\"]').attr('href', '#/site');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else if ( type === 'max_download' ) {\n\n\t\t\t\t\t\t\t\tswitch(temp.raw) {\n\t\t\t\t\t\t\t\t\tcase 'original':\n\t\t\t\t\t\t\t\t\t\tclean = 'Original';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'huge':\n\t\t\t\t\t\t\t\t\t\tclean = 'Huge (2048)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'xlarge':\n\t\t\t\t\t\t\t\t\t\tclean = 'X-Large (1600)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'large':\n\t\t\t\t\t\t\t\t\t\tclean = 'Large (1024)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'medium_large':\n\t\t\t\t\t\t\t\t\t\tclean = 'Medium-Large (800)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'medium':\n\t\t\t\t\t\t\t\t\t\tclean = 'Medium (480)';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tclean = 'None';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( this.sidebar.asset.max_download && this.sidebar.asset.max_download.clean() != clean ) {\n\t\t\t\t\t\t\t\t\tself.observers.multiedit.changed.maxdl = clean;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttemp.clean = clean;\n\n\t\t\t\t\t\t} else if ( type === 'created_on' || type === 'uploaded_on' || type === 'captured_on' || type === 'published_on') {\n\n\t\t\t\t\t\t\tvar dt = item.val().trim(),\n\t\t\t\t\t\t\t\traw_dt = dt;\n\n\t\t\t\t\t\t\tif (dt === 'captured' || dt === 'assign') dt = raw_dt = item.closest('[data-submit]').find('.datepicker').val().trim();\n\n\t\t\t\t\t\t\t// captured_on should not be shifted to UTC\n\t\t\t\t\t\t\tif (type === 'captured_on' && this.sidebar.asset.captured_on.utc() === false) {\n\t\t\t\t\t\t\t\traw_dt += ' GMT';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar ts = moment(raw_dt).unix();\n\n\t\t\t\t\t\t\tswitch(type) {\n\n\t\t\t\t\t\t\t\tcase 'created_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date created';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'uploaded_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date uploaded';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'captured_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date captured';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'published_on' :\n\t\t\t\t\t\t\t\t\tmsg = 'Date published';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.notify().success(msg + ' changed to ' + dt);\n\n\t\t\t\t\t\t\tif (type === 'published_on' && self.observers.singleHistory.type() === 'captured') {\n\t\t\t\t\t\t\t\tif (this.sidebar.asset.captured_on.utc()) {\n\t\t\t\t\t\t\t\t\tts = this.sidebar.asset.captured_on.timestamp();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tts = 'captured_on';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttemp[type] = ts;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttemp[type] = item.val().trim();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_asset[((type !== 'multi_history') ? type : _type)] = temp.raw !== undefined ? temp : temp[((type !== 'multi_history') ? type : _type)];\n\n\t\t\t\t\t\tif (self.classes.channel.library.albumShouldMatchVsibility) _asset['match_album_visibility'] = 1;\n\t\t\t\t\t\tself.classes.channel.library.albumShouldMatchVsibility = null;\n\n\t\t\t\t\t\tvar o = {};\n\n\t\t\t\t\t\tif (type === 'visibility' && (self.observers.dropdowns.filter.selected() == 'public' || self.observers.dropdowns.filter.selected() == 'unlisted' || self.observers.dropdowns.filter.selected() == 'private') && _asset[type] != self.observers.dropdowns.filter.selected()) {\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + _asset.id + '\"]').remove();\n\t\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\tself.observers.properties.overall.counts.images(self.observers.properties.overall.counts.images() - 1);\n\t\t\t\t\t\t\tself.observers.properties.overall.total(self.observers.properties.overall.total() - 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar in_album = false;\n\n\t\t\t\t\t\tif (type === 'visibility' && this.sidebar.id() !== 'multi') {\n\t\t\t\t\t\t\tvar note = this.notify().wait('Changing visibility');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'visibility' || type === 'published_on' || type === 'multi_history') {\n\t\t\t\t\t\t\to.instant = true;\n\n\t\t\t\t\t\t\tif (self.observers.sidebar.id() === 'album') {\n\t\t\t\t\t\t\t\to.finished = function(data) {\n\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility updated to ' + data.visibility.raw);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\t\tself.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\tself.controllers.update_item(data);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar matches = self.observers.api_url().match(/^albums\\/(.*)\\/content/),\n\t\t\t\t\t\t\t\t\tnote;\n\n\t\t\t\t\t\t\t\tif (!self.observers.multiHistory.note && type === 'multi_history') self.observers.multiHistory.note = self.notify().wait('Updating');\n\t\t\t\t\t\t\t\tif (matches) in_album = matches[1];\n\n\t\t\t\t\t\t\t\to.finished = function(data) {\n\t\t\t\t\t\t\t\t\tif (type === 'multi_history') {\n\t\t\t\t\t\t\t\t\t\tself.observers.multiHistory.note && self.observers.multiHistory.note.success('Date ' + _type.split('_')[0] + ' successfully updated for ' + $('#content_list li.selected').length + ' items');\n\t\t\t\t\t\t\t\t\t\tself.observers.multiHistory.note = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.controllers.update_item(data);\n\n\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility updated to ' + data.visibility.raw);\n\n\t\t\t\t\t\t\t\t\t\tif (self.observers.api_url().indexOf('content') === 0) {\n\t\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/content' + (data.visibility.raw !== 'public' ? '/' + data.visibility.raw : '') + '/selection:' + data.id, 2 );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Handles the sidebar updates for multiselect drawer changes (download|visibility|etc..)\n\t\t\t\t\t\tif (self.observers.selection().length > 1 && (type === 'visibility' || type === 'max_download' || type === 'license')) {\n\t\t\t\t\t\t\tself.observers.sidebar.asset[type].clean(_asset[type].clean);\n\t\t\t\t\t\t\tself.observers.sidebar.asset[type].raw(_asset[type].raw);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.controllers.update(asset_type, _asset, o, in_album);\n\n\t\t\t\t\t};\n\n\t\t\t\t\tif (asset_type == 'albums' && self.observers.sidebar.asset.visibility.raw() !== 'public') {\n\t\t\t\t\t\tasset_type = self.observers.sidebar.asset.visibility.raw() + '_albums';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( asset_type === 'content' ) {\n\n\t\t\t\t\t\t$.each( self.observers.selection(), function(k,v) {\n\n\t\t\t\t\t\t\t_asset\t\t\t\t= $.extend( true, {}, _asset ); // Clone the object\n\t\t\t\t\t\t\t_asset.id\t\t\t= v;\n\n\t\t\t\t\t\t\tsave_asset.call(self.observers);\n\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsave_asset.call(self.observers);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t},\n\n\t\tscroll_overlay: function() {\n\n\t\t\tif (!this.observers.is_loading) {\n\n\t\t\t\tvar row\t\t\t= $('#mid_multi').find('.scroll_wrapper').scrollTop() / $('#content_list > li').first().outerHeight(true),\n\t\t\t\t\trow_index\t= Math.floor(row) * ( this.observers.view() === 'grid' ? this.helpers.viewport_area().col : 1 ),\n\t\t\t\t\tdate\t\t= new Date(),\n\t\t\t\t\tsort\t\t= this.observers.order_by(),\n\t\t\t\t\ttime\t\t= '',\n\t\t\t\t\tstr\t\t\t= '';\n\n\t\t\t\tif ( sort === 'created_on' || sort === 'uploaded_on' || sort === 'modified_on' || sort === 'captured_on' || sort === 'published_on' ) {\n\t\t\t\t\ttime = this.observers.content()[row_index][sort].timestamp * 1000;\n\t\t\t\t\tif (time && time > 0) {\n\t\t\t\t\t\tstr = moment( date.setTime(time) ).format('MMMM YYYY');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr = 'No info';\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( sort === 'dimension' ) {\n\t\t\t\t\tstr = this.observers.content()[row_index].width + ' x ' + this.observers.content()[row_index].height;\n\t\t\t\t} else if (sort === 'aspect_ratio') {\n\t\t\t\t\tstr = this.observers.content()[row_index][sort].toFixed(1);\n\t\t\t\t} else if (typeof this.observers.content()[row_index][sort] === 'number') {\n\t\t\t\t\tstr = this.observers.content()[row_index][sort].toString();\n\t\t\t\t} else {\n\t\t\t\t\tstr = this.observers.content()[row_index][sort].substr(0,1).toUpperCase();\n\t\t\t\t}\n\n\t\t\t\t$('#scroll-tick').removeClass('loading');\n\t\t\t\t$('#scroll-tick p:last').text(str);\n\t\t\t\t$('#scroll-tick p:first').text($.trim(helpers.capitalize($.trim(sort.replace(/^koken|_on|_/gi, ' ')))));\n\n\t\t\t\t$('#scroll-tick').css({\n\t\t\t\t\t/* adding 18px makes it actually centered. why, dunno */\n\t\t\t\t\tmarginLeft: '-' + ( $('#scroll-tick').width() / 2 ) - 18 + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\ttrashed: function(el,parent,e) {\n\n\t\t\tvar items\t= {},\n\t\t\t\tids\t\t= [],\n\t\t\t\tself\t= this,\n\t\t\t\treq\t\t= [];\n\n\t\t\tif ( el.hasClass('restore-all') ) {\n\n\t\t\t\tko.utils.arrayForEach( this.observers.content(), function(item) {\n\t\t\t\t\tif ( self.observers.selection().indexOf(item.id) >= 0 ) {\n\t\t\t\t\t\tvar type = (item.album_type) ? 'album' : 'content';\n\t\t\t\t\t\titems[type] = items[type] || '';\n\t\t\t\t\t\titems[type] += item.id + ',';\n\t\t\t\t\t\tids[ids.length] = item.id;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (items.album) {\n\t\t\t\t\treq[req.length] = { request: 'trash/albums:' + helpers.rtrim( items.album, ',' ) };\n\t\t\t\t}\n\t\t\t\tif (items.content) {\n\t\t\t\t\treq[req.length] = { request: 'trash/content:' + helpers.rtrim( items.content, ',' ) };\n\t\t\t\t}\n\n\t\t\t\tvar note = this.notify().wait('Restoring items');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: req,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tvar total = this.observers.properties.trash.total() - ids.length;\n\t\t\t\t\t\tnote.success( ids.length + ' trash items restored');\n\t\t\t\t\t\tif ( total <= 0 ) {\n\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\tthis.observers.properties.trash.total(total);\n\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t} else if ( el.hasClass('empty') ) {\n\n\t\t\t\tif ( $('#content_list li.album').length > 0 ) {\n\t\t\t\t\treq.push({ request: 'albums/trash' });\n\t\t\t\t}\n\t\t\t\tif ( $('#content_list li.content').length > 0 ) {\n\t\t\t\t\treq.push({ request: 'content/trash' });\n\t\t\t\t}\n\n\t\t\t\tvar note = this.notify().wait('Emptying trash');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: req,\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tnote.success('Trash emptied');\n\t\t\t\t\t\tthis.observers.properties.trash.total(0);\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t$('#content_list li.selected').remove();\n\n\t\t},\n\n\t\tshare: function(el,parent) {\n\n\t\t\tvar\turl = encodeURIComponent(this.observers.sidebar.asset.url()),\n\t\t\t\ttext = this.observers.sidebar.asset.title() && this.observers.sidebar.asset.title().length ? this.observers.sidebar.asset.title() : this.observers.sidebar.asset.filename();\n\n\t\t\tif ( parent.find('.opt-twitter').length > 0 ) {\n\t\t\t\twindow.open( 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(text) + '&url=' + url, '_blank', 'width=550,height=420' );\n\t\t\t} else if ( parent.find('.opt-google').length > 0 ) {\n\t\t\t\twindow.open( 'https://plus.google.com/share?url=' + url, '_blank', 'width=550,height=550' );\n\t\t\t} else if ( parent.find('.opt-tumblr').length > 0 ) {\n\t\t\t\ttext = '<p><a href=\"' + this.observers.sidebar.asset.url() + '\" title=\"' + text + '\"><strong>' + text + '</strong></a></p>' + (this.observers.sidebar.asset.caption() ? '<p>' + this.observers.sidebar.asset.caption() + '</p>' : '');\n\t\t\t\tthis.cookie('share_to_tumblr', true);\n\t\t\t\twindow.open( this.observers.sidebar.asset.url(), '_blank', 'width=550,height=550' );\n\t\t\t} else {\n\t\t\t\twindow.open( 'http://www.facebook.com/sharer/sharer.php?u=' + url, '_blank', 'width=550,height=420' );\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t},\n\n\t\tmap: function(el,parent) {\n\n\t\t\tvar _lat\t= this.observers.sidebar.asset.geolocation.latitude(),\n\t\t\t\t_long\t= this.observers.sidebar.asset.geolocation.longitude(),\n\t\t\t\tself\t= this;\n\n\t\t\t$.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + _lat + ',' + _long + '&sensor=false', function(data) {\n\t\t\t\tself.classes.modal.map.show();\n\n\t\t\t\tvar element = $('<div/>').attr('id','map_container').width(640).height(480);\n\n\t\t\t\t$('.map_modal #map_container').remove();\n\t\t\t\t$('.map_modal .wrap').append(element);\n\t\t\t\t$('#map_info').text(data.results[0].formatted_address);\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tvar map = new google.maps.Map(document.getElementById('map_container'), {\n\t\t\t\t\t\tzoom: 13,\n\t\t\t\t\t\tcenter: new google.maps.LatLng(_lat, _long),\n\t\t\t\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\t\t\t\t\t});\n\n\t\t\t\t\tmarker = new google.maps.Marker({\n\t\t\t\t\t\ticon: 'https://maps.google.com/mapfiles/ms/icons/orange-dot.png',\n\t\t\t\t\t\tmap: map,\n\t\t\t\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\t\t\t\tposition: new google.maps.LatLng(_lat, _long)\n\t\t\t\t\t});\n\n\t\t\t\t\t$(window).resize();\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\n\t\ttoggle_share_modal_option: function(el) {\n\t\t\tel.parent().find('input').attr('checked','checked');\n\t\t},\n\n\t\tshare_modal_link: function(el,parent) {\n\n\t\t\tvar ob\t\t= this.observers,\n\t\t\t\tparent\t= parent.closest('.modal-tab-view'),\n\t\t\t\tsrc\t\t= ob.properties.paths.base + 'index.php?/content/',\n\t\t\t\tinp\t\t= parent.find('.output'),\n\t\t\t\tsource, width, height, url;\n\n\t\t\tswitch( parent.find('input[name=\"resize\"]:checked').attr('class') ) {\n\n\t\t\t\tcase 'preset' :\n\t\t\t\t\tsource = ob.sidebar.asset.presets[parent.find('select option:selected').val()];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'custom' :\n\t\t\t\t\tsource = {\n\t\t\t\t\t\twidth: parseInt( parent.find('.wid').val(), 10 ),\n\t\t\t\t\t\theight: parseInt( parent.find('.hei').val(), 10 )\n\t\t\t\t\t};\n\t\t\t\t\tsource.url = ob.sidebar.asset.cache_path.prefix() + [ source.width, source.height, 90, 1 ].join('.');\n\t\t\t\t\t// For some reason, .not(':checked') doesn't work here\n\t\t\t\t\tif ( ! $('#constrain').is(':checked') ) {\n\t\t\t\t\t\tsource.url += '.crop';\n\t\t\t\t\t}\n\t\t\t\t\tsource.url += '.' + ob.sidebar.asset.cache_path.extension();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'orig' :\n\t\t\t\t\tsource = ob.sidebar.asset.original;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\twidth\t= ( source.width instanceof Function ) ? source.width() : source.width;\n\t\t\theight\t= ( source.height instanceof Function ) ? source.height() : source.height;\n\t\t\turl\t\t= ( source.url instanceof Function ) ? source.url() : source.url;\n\n\t\t\tsrc = '<img src=\"' + url + '\" width=\"' + width + '\" height=\"' + height + '\" />';\n\n\t\t\tinp.attr('value',src).removeAttr('disabled');\n\n\t\t\t$('.output').show().focus();\n\n\t\t},\n\n\t\tshare_modal_link_custom: function(el,parent) {\n\n\t\t\tvar parent = parent.closest('.modal-tab-view'),\n\t\t\t\tself = this,\n\t\t\t\twidth;\n\n\t\t\tvar constrain_ratio = function() {\n\t\t\t\tparent.find('.hei').val( Math.round( parent.find('.wid').val() / self.observers.sidebar.asset.aspect_ratio() ) );\n\t\t\t}\n\n\t\t\tif ( el[0].tagName === 'INPUT' ) parent.find('.custom').attr('checked','checked');\n\n\t\t\tif ( el.attr('id') === 'constrain' && el.is(':checked') ) constrain_ratio();\n\n\t\t\t$(document).off('.share_modal_link_custom').on('keyup.share_modal_link_custom', 'li[data-event=\"share_modal_link_custom\"]', function() {\n\t\t\t\tif ( el.parent().find('#constrain').is(':checked') ) constrain_ratio();\n\t\t\t});\n\n\t\t},\n\n\t\tedit_menu: function(el,parent,e) {\n\n\t\t\tvar atag\t\t= el.closest('a'),\n\t\t\t\twhich\t\t= atag.find('.opt-icon'),\n\t\t\t\tids\t\t\t= this.observers.selection(),\n\t\t\t\tself\t\t= this,\n\t\t\t\tfav\t\t\t= ( parent.find('.fav-type').text().toLowerCase().trim() === 'mark' ) ? true : false,\n\t\t\t\tfeat\t\t= ( parent.find('.feat-type').text().toLowerCase().trim() === 'mark' ) ? true : false,\n\t\t\t\tcover\t\t= ( parent.find('.feat-cover').text().toLowerCase().trim() === 'mark' ) ? true : false,\n\t\t\t\tquick\t\t= ( parent.find('.quick-type').text().toLowerCase().trim() === 'add to' ) ? true : false,\n\t\t\t\ttype\t\t= this.observers.selected_type() === 'set' ? 'albums' : 'content',\n\t\t\t\tmethod,\n\t\t\t\tremove_from_mid = function(ids) {\n\n\t\t\t\t\tvar newContentArr = [];\n\t\t\t\t\t$.each(self.observers.content(), function(i, asset) {\n\t\t\t\t\t\tif (ids.indexOf(asset.id) == -1) {\n\t\t\t\t\t\t\tnewContentArr.push(asset);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + asset.id + '\"]').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tself.observers.content(newContentArr);\n\n\t\t\t\t\tif (self.observers.order_by() === 'manual') {\n\t\t\t\t\t\t$.each( $('#content_list li'), function() {\n\t\t\t\t\t\t\tvar count = ( self.observers.view() === 'list' ) ? $(this).find('.cnt') : $(this).find('.count');\n\t\t\t\t\t\t\tcount.text( $(this).index() + 1 );\n\t\t\t\t\t\t\t$(this).data('index', $(this).index());\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tself.observers.properties.overall.total( Math.max(0, self.observers.properties.overall.total() - ids.length) );\n\t\t\t\t};\n\n\t\t\tif ( which.hasClass('opt-cover') ) {\n\n\t\t\t\tvar id;\n\n\t\t\t\t$.each(this.observers.properties.album.selected().album.covers, function(i, cover) {\n\t\t\t\t\tif (cover.id == $('#mid-content li.selected').data('id')) {\n\t\t\t\t\t\tid = cover.id;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (id) {\n\t\t\t\t\t$('.feat-cover').text('Assign');\n\t\t\t\t\tthis.events.assign_cover($('#mid-content li.selected'));\n\t\t\t\t} else {\n\t\t\t\t\t$('.feat-cover').text('Unassign');\n\t\t\t\t\tvar _ids = [];\n\t\t\t\t\t$('#mid-content li.selected').each(function() {\n\t\t\t\t\t\t_ids.push($(this).data('id'))\n\t\t\t\t\t});\n\t\t\t\t\tthis.events.assign_cover('album', this.observers.properties.album.selected().album.id, _ids.join(','));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-quick') ) {\n\n\t\t\t\tvar current = this.observers.quick_collection(),\n\t\t\t\t\tupdates = [],\n\t\t\t\t\tupd_typ = '';\n\n\t\t\t\t$.each(ids, function(i, id) {\n\t\t\t\t\tid = Number(id);\n\t\t\t\t\tvar index = $.inArray(id, current);\n\n\t\t\t\t\tif (quick) {\n\t\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\t\tself.observers.quick_collection.push(id);\n\t\t\t\t\t\t\tupdates.push('add');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index !== -1) {\n\t\t\t\t\t\t// It's possible for quick_collection to have duplicates\n\t\t\t\t\t\twhile (index !== -1) {\n\t\t\t\t\t\t\tself.observers.quick_collection.splice( index, 1 );\n\t\t\t\t\t\t\tindex = $.inArray(id, self.observers.quick_collection());\n\t\t\t\t\t\t\tupdates.push('remove');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.observers.api_url().match(/content\\/\\d+,\\d/)) {\n\t\t\t\t\t\t\t$('#list_item_' + id).remove();\n\t\t\t\t\t\t\tupdates.push('remove');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ( updates.indexOf('add') < 0 ) {\n\t\t\t\t\tupd_type = 'removed';\n\t\t\t\t} else if ( updates.indexOf('remove') < 0 ) {\n\t\t\t\t\tupd_type = 'added';\n\t\t\t\t} else {\n\t\t\t\t\tupd_type = 'mixed';\n\t\t\t\t}\n\n\t\t\t\tif ( upd_type !== 'mixed' ) {\n\t\t\t\t\tif ( $('#content_list li.selected').length > 1 ) {\n\t\t\t\t\t\tself.notify().success( $('#content_list li.selected').length + ' items ' + upd_type );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.notify().success( $('#content_list li.selected').find('.filename').text() + ' ' + upd_type );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.notify().success( 'Quick collection updated' );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-remove') || which.hasClass('opt-trash') ) {\n\n\t\t\t\tif ( this.observers.is_collection() ) {\n\n\t\t\t\t\tids = [];\n\t\t\t\t\t$.each($('#content_list li.selected'), function(i, asset) {\n\t\t\t\t\t\tids.push($(this).data('id'));\n\t\t\t\t\t});\n\n\t\t\t\t\tvar collection = $.grep( self.observers.quick_collection(), function(k,v){\n\t\t\t\t\t\treturn $.inArray(k, ids) == -1;\n\t\t\t\t\t});\n\n\t\t\t\t\tself.observers.quick_collection(collection);\n\n\t\t\t\t}\n\n\t\t\t\t// In single view we need to grab the index being removed prior to remove_from_mid\n\t\t\t\tif (this.observers.view() === 'single') {\n\t\t\t\t\tvar itemRemovedIndex = $('#content_list li[data-id=\"' + ids[0] + '\"]').data('index'),\n\t\t\t\t\t\tnextId = this.observers.content()[(((itemRemovedIndex+1) >= this.observers.content().length) ? 0 : ++itemRemovedIndex)].id;\n\t\t\t\t}\n\n\t\t\t\tvar txt = $('#content_list .selected').find('.' + (type === 'content' ? 'filename' : 'title')).text();\n\n\t\t\t\tremove_from_mid(ids);\n\n\t\t\t\tif ( which.hasClass('opt-remove') ) {\n\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false });\n\n\t\t\t\t\tif ( ids.length > 1 ) {\n\t\t\t\t\t\tthis.notify().success( ids.length + ' items were removed from ' + (($.param.fragment().indexOf('quick_collection:') === -1) ? this.observers.properties.album.selected().album.title : 'quick collection') );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().success( txt + ' was removed from ' + (($.param.fragment().indexOf('quick_collection:') === -1) ? this.observers.properties.album.selected().album.title : 'quick collection') );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.param.fragment().indexOf('quick_collection:') === -1) {\n\n\t\t\t\t\t\tvar _covers = [];\n\t\t\t\t\t\t$.each(self.observers.sidebar.asset.covers(), function(i, cover) {\n\t\t\t\t\t\t\tif (ids.indexOf(cover.id) === -1) _covers.push(cover);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tself.observers.sidebar.asset.covers(_covers);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + this.observers.properties.album.selected().album.id + '/content/' + ids.join(','),\n\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\tcontext: this\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t$.each(self.observers.content(), function(i, asset) {\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + asset.id + '\"]')\n\t\t\t\t\t\t\t\t.data({\n\t\t\t\t\t\t\t\t\tid: asset.id,\n\t\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.attr('data-id', asset.id)\n\t\t\t\t\t\t\t\t.attr('data-index', i)\n\t\t\t\t\t\t\t\t.attr('id', 'list_item_' + asset.id);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tif (this.observers.view() !== 'single') {\n\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.properties.overall.total(this.observers.content().length);\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t// Using trigger here instead of rewrite_hash because the underlying grid view will get out of whack otherwise\n\t\t\t\t\t\t\t$('#content_list li[data-id=\"' + nextId + '\"]').trigger('click');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar note = this.notify();\n\n\t\t\t\t\tif ( ids.length > 1 ) {\n\t\t\t\t\t\tnote.wait('Moving items to trash');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnote.wait('Moving item to trash');\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.properties.trash.total(this.observers.properties.trash.total() + ids.length);\n\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'trash/' + type + ':' + ids.join(','),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif ( ids.length > 1 ) {\n\t\t\t\t\t\t\t\tnote.success( ids.length + ' items were moved to the Trash');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnote.success( txt + ' was moved to the Trash');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t\t\tif (self.observers.view() !== 'single') {\n\t\t\t\t\t\t\t\tthis.observers.sidebar.id('fixed');\n\t\t\t\t\t\t\t\tif (type === 'albums') {\n\t\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.observers.properties.overall.total(self.observers.properties.overall.total() - ids.length);\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-fave') || which.hasClass('opt-feat') ) {\n\n\t\t\t\tvar val = ( which.hasClass('opt-fave') ) ? ( fav ? 1 : 0 ) : ( feat ? 1 : 0 ),\n\t\t\t\t\tmethod = ( val == 0 ) ? 'removed from' : 'added to';\n\n\t\t\t\tvar data = $.map( ids, function(id) {\n\t\t\t\t\tvar obj = { id: id };\n\t\t\t\t\tobj[(which.hasClass('opt-fave')) ? 'favorite' : 'featured'] = val;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\n\t\t\t\tif ( self.observers.api_url().indexOf('albums/visibility') >= 0 ) {\n\t\t\t\t\tif ( this.observers.selection().length > 1 ) {\n\t\t\t\t\t\tthis.notify().success( this.observers.selection().length + ' items ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().success( this.observers.sidebar.asset.title() + ' ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( this.observers.selection().length > 1 ) {\n\t\t\t\t\t\tthis.notify().success( this.observers.selection().length + ' items ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.notify().success( $('#content_list li.selected span.' + (type === 'albums' ? 'title' : 'filename')).text() + ' ' + ( ( which.hasClass('opt-fave') ) ? method + ' Favorites' : method + ' Featured' ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( (which.hasClass('opt-feat') && this.observers.api_url().match(/\\/featured\\/?/) && val === 0) || (which.hasClass('opt-fave') && this.observers.api_url().match(/favorites\\/?/) && val === 0) ) {\n\n\t\t\t\t\tremove_from_mid(ids);\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t\t}\n\n\t\t\t\tvar refreshTree = which.hasClass('opt-feat');\n\n\t\t\t\tthis.controllers.update(type, data, {\n\t\t\t\t\tinstant: true,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tif (this.observers.api_url() === 'favorites' || this.observers.api_url() === 'content/featured') {\n\t\t\t\t\t\t\tif (!$('#content_list li[data-which=\"thumbnail\"]').length || $('#content_list li[data-which=\"thumbnail\"]').length === 0) {\n\t\t\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.observers.api_url() === 'albums/featured') {\n\t\t\t\t\t\t\tif (!$('#content_list li.album.featured.loaded').length || $('#content_list li.album.featured.loaded').length === 0) {\n\t\t\t\t\t\t\t\tthis.observers.view('empty');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (refreshTree) {\n\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-rotate-l') || which.hasClass('opt-rotate-r') ) {\n\n\t\t\t\tvar degree\t= ( which.hasClass('opt-rotate-r') ) ? '90' : '-90',\n\t\t\t\t\timg\t\t= $('#lib-content-sel img'),\n\t\t\t\t\tel\t\t= $('#list_item_' + ids);\n\n\t\t\t\timg.parent().addClass('loading');\n\t\t\t\timg.animate({ opacity: 0 });\n\n\t\t\t\tel.removeClass('loaded').addClass('loading');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'content/' + ids,\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'rotate=' + degree,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tthis.controllers.update_item( data, true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-dl') ) {\n\t\t\t\tvar asset = this.controllers.get_asset_by_id(ids);\n\t\t\t\twindow.location.href = this.config.paths.base + 'dl.php?src=' + asset.original.relative_url;\n\t\t\t}\n\n\t\t\tif ( which.hasClass('opt-bg') ) {\n\t\t\t\tvar notify = this.notify().wait('Assigning sign-in background');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'settings',\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'signin_bg=' + ids[0],\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tnotify.success(this.observers.sidebar.asset.filename() + ' assigned as sign-in background');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t// Replace action is handled by app.controllers.replace\n\n\t\t},\n\n\t\treverse_manual: function() {\n\n\t\t\tvar ids = [];\n\n\t\t\t$.each( $('#content_list li'), function() {\n\t\t\t\tids.push( $(this).data('id') );\n\t\t\t});\n\n\t\t\t$('#content_list li').each(function() {\n\t\t\t\t$('#content_list').prepend($(this));\n\t\t\t});\n\n\t\t\t$('#content_list li').each(function() {\n\t\t\t\t$(this).find('.count').text($(this).index()+1);\n\t\t\t\t$(this).find('.title.cnt').text($(this).index()+1);\n\t\t\t});\n\n\t\t\tids.reverse();\n\t\t\tthis.controllers.lazy('#content_list');\n\n\t\t\tif (this.observers.is_quick_collection()) {\n\t\t\t\tthis.observers.quick_collection(ids);\n\t\t\t} else {\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: this.observers.api_url() + '/order:' + ids.join(','),\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t},\n\n\t\tsave_changes: function(el,parent,e) {\n\n\t\t\tvar btn = $('#right-col-xtra button:contains(\"Done\")');\n\t\t\tthis.observers.drawerOpen = false;\n\n\t\t\tif (!e.isTrigger && btn.length > 0 && !btn.hasClass('data-submit')) {\n\t\t\t\tbtn.trigger('click');\n\t\t\t} else {\n\t\t\t\tthis.views.close_sidebar_drawer();\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_gear_popout: function(el,parent) {\n\n\t\t\tvar top = parent.closest('li').offset().top - 33;\n\n\t\t\tthis.helpers.outside( parent, function() {\n\t\t\t\t$('#gear_pop').hide();\n\t\t\t\t$('.hoverable').removeClass('hoverable');\n\t\t\t\t$('.edit-hoverable').removeClass('edit-hoverable');\n\t\t\t});\n\n\t\t\tif ( parent.parent('li').parent().parent('li').length && parent.parent('li').parent().parent('li').data('type') === 'set' ) {\n\t\t\t\t$('.rm_set').show();\n\t\t\t} else {\n\t\t\t\t$('.rm_set').hide();\n\t\t\t\ttop += 12;\n\t\t\t}\n\n\t\t\tif ( parent.closest('li').closest('.public').length <= 0 ) {\n\t\t\t\t$('.opt-public').closest('li').show();\n\t\t\t\t$('.opt-list .opt-feat').closest('li').hide();\n\t\t\t} else {\n\t\t\t\tif ( parent.closest('li').data('featured') === true ) {\n\t\t\t\t\t$('.opt-list .opt-feat').text('Unmark as featured');\n\t\t\t\t\t$('#gear_pop').data( 'featured', 'unmark' );\n\t\t\t\t} else {\n\t\t\t\t\t$('.opt-list .opt-feat').text('Mark as featured');\n\t\t\t\t\t$('#gear_pop').data( 'featured', 'mark' );\n\t\t\t\t}\n\t\t\t\t$('.opt-list .opt-feat').closest('li').show();\n\t\t\t\t$('.opt-public').closest('li').hide();\n\t\t\t}\n\n\t\t\t$('#gear_pop').data( 'album', parent.closest('li').data('id') ).css( 'top', top ).toggle();\n\t\t\t$('#gear_pop .wedge').css('left','-11px');\n\n\t\t\tparent.closest('li').find('a.item:first-child').addClass('hoverable');\n\n\t\t},\n\n\t\tgear_hovering: function() {\n\n\t\t\t$('body')\n\t\t\t\t.on( 'mouseover', '#content_subnav li:not(.public,.unlisted,.private)', function(e) {\n\t\t\t\t\t$('.item-edit').hide();\n\t\t\t\t\t$(e.target).closest('li').find('.item-edit:first').show().addClass('edit-hoverable');\n\t\t\t\t\t$(e.target).closest('li').find('a.item').first().addClass('hoverable');\n\t\t\t\t})\n\t\t\t\t.on( 'mouseout', '#content_subnav li:not(.public,.unlisted,.private)', function(e) {\n\t\t\t\t\tif ( $('#gear_pop').css('display') !== 'block' || $(e.target).closest('li').data('id') != $('#gear_pop').data('album') ) {\n\t\t\t\t\t\t$(e.target).closest('li').find('a.item').first().removeClass('hoverable');\n\t\t\t\t\t\t$(e.target).closest('li').find('.item-edit:first').removeClass('edit-hoverable');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t},\n\n\t\tgear_popout: function(el,parent) {\n\n\t\t\tvar li = $('#content_subnav li[data-id=\"' + $('#gear_pop').data('album') + '\"]'),\n\t\t\t\tkoData = ko.dataFor(li.get(0));\n\n\t\t\tif ( el.hasClass('opt-trash') ) {\n\n\t\t\t\tthis.models.trash.albums.set( $('#gear_pop').data('album') );\n\t\t\t\tli.remove();\n\n\t\t\t} else if ( el.hasClass('opt-remove') ) {\n\n\t\t\t\tvar set = li.parents('li[data-type=\"set\"]').data('id');\n\n\t\t\t\tli.remove();\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + set + '/content/' + $('#gear_pop').data('album'),\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (this.observers.properties.album.selected().album && this.observers.properties.album.selected().album.id === set) {\n\t\t\t\t\tvar el = $('#list_item_' + $('#gear_pop').data('album'));\n\n\t\t\t\t\tif (el.length) {\n\t\t\t\t\t\tel.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else if ( el.hasClass('opt-feat') ) {\n\n\t\t\t\tif ( $('#gear_pop').data('featured') === 'mark' ) {\n\n\t\t\t\t\tvar data = [{ id: $('#gear_pop').data('album'), featured: 1 }], self = this;\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('albums', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tfinished: function(items) {\n\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\tself.notify().success( koData.title + ' added to Featured albums' );\n\t\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums/featured') === 0 ) {\n\t\t\t\t\t\t\t\t\tself.controllers.load_content();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar data = [{ id: $('#gear_pop').data('album'), featured: 0 }], self = this;\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('albums', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tfinished: function(items) {\n\t\t\t\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\t\t\t\tself.notify().success( koData.title + ' removed from Featured albums' );\n\t\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums/featured') === 0 ) {\n\t\t\t\t\t\t\t\t\tself.controllers.load_content();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t} else if ( el.hasClass('opt-public') ) {\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\tvar note = self.notify().wait('Changing visibility');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\trequest: 'albums/' + $('#gear_pop').data('album'),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'visibility=public',\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\tif (note) note.success('Visibility changed to Public');\n\t\t\t\t\t\t\tvar url = this.observers.api_url();\n\t\t\t\t\t\t\tif (url.match(/^albums\\/visibility:(public|unlisted|private)/) || (this.observers.properties.album.selected().album && url.indexOf('albums/' + this.observers.properties.album.selected().album.id + '/content') === 0)) {\n\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (match) params.data += '&match_album_visibility=1';\n\t\t\t\t\tself.sync(params);\n\t\t\t\t}\n\n\t\t\t\tvar allAlbums = self.observers.albums_flat().concat(self.observers.unlisted_albums()),\n\t\t\t\t\tselectedAlbum;\n\n\t\t\t\tallAlbums.forEach(function(album) {\n\t\t\t\t\tif (album.id == $('#gear_pop').data('album')) {\n\t\t\t\t\t\tselectedAlbum = album;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar fromVisibility = koData.visibility;\n\n\t\t\t\tthis.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() { _syncAPI(true); }\n\t\t\t\tthis.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\t\t\t\tthis.classes.modal.match_album_visibility.show(0, fromVisibility, 'public', (selectedAlbum.album_type !== 'set') ? 'album' : 'set');\n\n\t\t\t}\n\n\t\t\t$('#gear_pop').hide();\n\n\t\t},\n\n\t\tselect_all: function(type) {\n\n\t\t\tif ( this.observers.selection().length > 0 || type === 'deselect' ) {\n\n\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t} else {\n\n\t\t\t\tif (this.observers.passengers.next_page) {\n\t\t\t\t\tthis.controllers.load_content({ cb: this.events.select_all });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar ids = this.observers.content().map(function(item) {\n\t\t\t\t\treturn item.id;\n\t\t\t\t});\n\n\t\t\t\tvar url = ( $.param.fragment().indexOf('trash') < 0 && $.param.fragment().indexOf('albums') < 0 && $.param.fragment().indexOf('/content') < 0 ) ? $.param.fragment() + '/content' : $.param.fragment();\n\n\t\t\t\t$.bbq.pushState( url + '/selection:' + ids, 2);\n\n\t\t\t}\n\n\t\t},\n\n\t\ttag_search: function(el,parent) {\n\n\t\t\tthis.observers.search_filter('tags');\n\t\t\tthis.observers.search( parent.text() );\n\n\t\t},\n\n\t\tcategory_search: function(el,parent) {\n\n\t\t\tthis.observers.search_filter('category');\n\t\t\tthis.observers.search( parent.text() );\n\n\t\t},\n\n\t\ttitle_search: function(el,parent) {\n\n\t\t\tthis.observers.search_filter('title');\n\t\t\tthis.observers.search( parent.text() );\n\n\t\t},\n\n\t\treset_filter: function() {\n\n\t\t\t$('#three-col-left li.selected a').trigger('click');\n\n\t\t},\n\n\t\tsetup_sidebar_pickers: function() {\n\t\t\tvar self = this;\n\t\t\t$('#right-col-xtra .datepicker').each(function(i, p) {\n\t\t\t\tvar p = $(p),\n\t\t\t\t\tapply_timezone = true;\n\n\t\t\t\tif (!isNaN(p.val())) {\n\t\t\t\t\tvar v = Number(p.val());\n\n\t\t\t\t\tvar pad = function(n) {\n\t\t\t\t\t\treturn n < 10 ? '0' + n : n;\n\t\t\t\t\t};\n\n\t\t\t\t\tif (p.data('no-tz-shift')) {\n\t\t\t\t\t\tv = moment.utc(v*1000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tv = moment(v*1000).tz(self.observers.settings.site_timezone());\n\t\t\t\t\t}\n\n\t\t\t\t\tp.val(v.format('YYYY/MM/DD HH:mm:SS'));\n\t\t\t\t}\n\n\t\t\t\tvar max = new Date().getTime();\n\n\t\t\t\tp.datetimepicker({\n\t\t\t\t\ttimeFormat: 'HH:mm:ss',\n\t\t\t\t\tdateFormat: 'yy/mm/dd',\n\t\t\t\t\tmaxDate: max,\n\t\t\t\t\tshowSecond: false\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\n\t\treset_secret_link: function(el) {\n\t\t\tvar type\t= this.observers.sidebar.id() === 'content' ? 'content' : 'albums',\n\t\t\t\tid\t\t= this.observers.sidebar.asset.id();\n\n\t\t\tthis.sync({\n\t\t\t\trequest: type + '/' + id,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: 'reset_internal_id=1',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.controllers.update_item(data);\n\t\t\t\t\tthis.notify().success('New unlisted site link created');\n\t\t\t\t\t$('#' + type + '-link').focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tsidebar: function(el,parent,e) {\n\n\t\t\tif (el.hasClass('edit-link') && !el.hasClass('panel-hover-link') && !el.hasClass('no-drawer')) {\n\n\t\t\t\tvar type = el.closest('div').parent().find('label').attr('class');\n\n\t\t\t\tif (type) {\n\t\t\t\t\tthis.observers.drawer.id(type);\n\t\t\t\t\tthis.views.open_sidebar_drawer(el);\n\t\t\t\t\tthis.events.setup_sidebar_pickers();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tcreate_collection: function() {\n\n\t\t\tvar o\t\t\t= this.observers.sheets.create_collection,\n\t\t\t\tbutton\t\t= $('#lay-three-col li[data-event=\"create_collection\"] button'),\n\t\t\t\torigText\t= button.text(),\n\t\t\t\tnote = this.notify().wait('Creating'),\n\t\t\t\tvisibility = o.properties.visibility();\n\n\t\t\tbutton.addClass('disabled');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'albums',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'title=' + encodeURIComponent(o.properties.title()) + '&album_type=' + o.properties.type() + '&visibility=' + visibility,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tnote.success(o.properties.title() + ' ' + ((data.album_type === 'set') ? 'set' : 'album') + ' created');\n\n\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\tbutton.text(origText);\n\n\t\t\t\t\t$('#create_sheet_categories li input:checked').each( function() {\n\t\t\t\t\t\to.properties.categories.push( $(this).val() );\n\t\t\t\t\t});\n\n\t\t\t\t\tvar more_properties = ( o.properties.tags().length > 0 || o.properties.categories().length > 0 || o.properties.summary().trim() !== '' || o.properties.description().trim() !== '' ) ? true : false,\n\t\t\t\t\t\t_finish\t\t\t= function() {\n\t\t\t\t\t\t\to.active(false);\n\t\t\t\t\t\t\to.validated(false);\n\t\t\t\t\t\t\to.reset();\n\t\t\t\t\t\t\t$.bbq.pushState( '/library/albums/' + data.id + '/content', 2 );\n\t\t\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\t\t\t$('#create_collection').find('input[type=\"checkbox\"]').each(function() {\n\t\t\t\t\t\t\t\t$(this).prop('checked', false);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t$('#content_subnav .scroll_wrapper').scrollTop( $('#content_subnav .scroll_content').height() );\n\t\t\t\t\t\t\t}, 120);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif (more_properties) {\n\n\t\t\t\t\t\tvar moreData = {\n\t\t\t\t\t\t\tid: data.id,\n\t\t\t\t\t\t\tsummary: o.properties.summary().length ? o.properties.summary() : this.observers.truncate(o.properties.description(), 252),\n\t\t\t\t\t\t\tdescription: o.properties.description(),\n\t\t\t\t\t\t\ttags: o.properties.tags().join(',')\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.controllers.update( 'albums', moreData, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tvar categories = o.properties.categories();\n\t\t\t\t\t\t\t\tif (categories.length) {\n\t\t\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\t\t\trequest: 'categories/' + categories + '/albums/' + data.id,\n\t\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t_finish.call(this);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_finish.call(this);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_finish.call(this);\n\t\t\t\t\t}\n\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\ttoggle_license: function(el,parent) {\n\n\t\t\tvar wrap = $('#license-sub');\n\n\t\t\twrap.toggleClass('hide');\n\n\t\t\tif ( el.is(':checked') ) {\n\n\t\t\t\tel.data('val', '');\n\t\t\t\tel.data('check', false);\n\n\t\t\t} else {\n\n\t\t\t\twrap.find('input').removeAttr('checked');\n\t\t\t\tel.data('val', 'all');\n\t\t\t\tel.data('check', true);\n\n\t\t\t}\n\n\t\t},\n\n\t\t'album-visibility': function(el,parent) {\n\n\t\t\tvar parent\t= el.closest('li'),\n\t\t\t\ttype\t= el.closest('li').hasClass('public') ? 'public' : (el.closest('li').hasClass('unlisted') ?  'unlisted' : 'private');\n\n\t\t\tif ( this.observers.content().length ) {\n\n\t\t\t\tparent.find('div').toggle();\n\t\t\t\tparent.find('a:first').toggleClass('open');\n\n\t\t\t}\n\n\t\t},\n\n\t\tarrow_toggle: function(el,parent) {\n\n\t\t\tvar id\t\t= parseInt( el.closest('li').find('span').closest('li').data('id'), 10 ),\n\t\t\t\topen\t= this.observers.open_sets(),\n\t\t\t\tindex\t= $.inArray(id, open);\n\n\t\t\tif ( parseInt(ko.dataFor($('#three-col-left li.selected').closest('ol').parent().get(0)), 10) === id ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.observers.open_sets.splice(index, 1);\n\t\t\t} else {\n\t\t\t\tthis.observers.open_sets.push(id);\n\t\t\t}\n\n\t\t\tthis.cookie( 'library:open_sets', ( this.observers.open_sets().length >= 1 ) ? this.observers.open_sets().toString() : null );\n\n\t\t\tthis.controllers.events_init();\n\n\t\t},\n\n\t\tarrow_toggle_date: function(el,parent) {\n\n\t\t\tparent.toggleClass('open');\n\t\t\tparent.closest('li').find('ol').toggle();\n\n\t\t},\n\n\t\t// KO will look for and call these functions after the library sidebar for the template has loaded\n\t\tsidebar_callback: {\n\n\t\t\talbum: function() {\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tshow_cover: function(data,noShow) {\n\n\t\t\tvar win = $(window),\n\t\t\t\tcoversHeight = ($('#lib-covers li').length / 3)*79,\n\t\t\t\tself = this;\n\n\t\t\tif (data) {\n\t\t\t\t$('#lib-covers li[data-id=\"' + parseInt(data.id, 10) + '\"]').find('img').fadeIn(1000, function() {\n\t\t\t\t\t$(this).closest('li').removeClass('loading');\n\t\t\t\t});\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#lib-covers').height( ($('#lib-covers li').length <= 9) ? '100%' : coversHeight );\n\t\t\t$('#lib-covers [data-event=\"toggle_visibility\"]').on('click', function() {\n\t\t\t\tif ($('#lib-covers').height() <= 30) {\n\t\t\t\t\t$('#lib-covers').height('');\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t$('#lib-covers').height($('#lib-covers .scroll_content').height());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#lib-covers').height('');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar h = $('#album_sidebar_info_container').height(),\n\t\t\t\tsel = $('#album_sidebar_info_container').find('.col-select');\n\n\t\t\tif (sel.is(':visible')) {\n\t\t\t\th -= $('#album_sidebar_info_container').find('.col-select').outerHeight(true) - 1;\n\t\t\t}\n\n\t\t\t$('#album_side').css('height', h);\n\n\t\t\tif (this.observers.sidebar.asset.album_type && this.observers.sidebar.asset.album_type() === 'standard' && $('#three-col-left li[data-id=\"' + this.observers.sidebar.asset.id() + '\"]').closest('li[data-type=\"set\"]').length > 0) {\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + $('#three-col-left li[data-id=\"' + this.observers.sidebar.asset.id() + '\"]').closest('li[data-type=\"set\"]').data('id'),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t$.each(data.covers, function(i,cover) {\n\t\t\t\t\t\t\t$('#mid-content li[data-id=\"' + cover.id + '\"]').find('.badge.cover-set').show();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.observers.api_url().indexOf('albums/visibility:') != -1) {\n\t\t\t\tthis.controllers.events_init();\n\t\t\t}\n\n\t\t},\n\n\t\tassign_cover: function(type,set,asset) {\n\n\t\t\t// Matched when a cover is being deleted\n\t\t\tif (type.context) {\n\t\t\t\tif (this.observers.properties.album.selected().album.covers.length <= 3) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar self = this,\n\t\t\t\t\tnote = this.notify().wait('Deleting cover'),\n\t\t\t\t\tdel;\n\t\t\t\t$.each(this.observers.sidebar.asset.covers(), function(i,cover) {\n\t\t\t\t\tif (cover.id == type.closest('li').data('id')) {\n\t\t\t\t\t\tdel = cover;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar _ids = [];\n\t\t\t\tif (!type.hasClass('remcover')) {\n\t\t\t\t\ttype.each(function() {\n\t\t\t\t\t\t_ids.push($(this).data('id'));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t_ids.push(type.closest('li').data('id'));\n\t\t\t\t}\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + this.observers.properties.album.selected().album.id + '/covers/' + _ids.join(','),\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (_ids.length <= 1) {\n\t\t\t\t\t\t\tnote.success(del.filename + ' unassigned as cover');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.success(_ids.length + ' items unassigned as covers');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar ol = type.closest('ol');\n\n\t\t\t\t\t\t$('#lib-covers li[data-id=\"' + type.closest('li').data('id') + '\"]').remove();\n\n\t\t\t\t\t\tthis.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t\tif (this.observers.properties.album.selected().album.covers.length <= 3) {\n\t\t\t\t\t\t\t$('#lib-covers a.remcover').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Matched when a cover is being reordered\n\t\t\tif (type === 'update') {\n\n\t\t\t\tvar ids = [],\n\t\t\t\t\tself = this,\n\t\t\t\t\tidsclone;\n\n\t\t\t\t$('#lib-covers li').each(function() {\n\t\t\t\t\tids.push(parseInt($(this).data('id'), 10));\n\t\t\t\t});\n\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'albums/' + self.observers.sidebar.asset.id() + '/covers/' + ids.reverse(),\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: self,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (this.observers.properties.album.selected().album) this.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t// Matched when a cover is being added to a set\n\t\t\tif (type === 'set') {\n\t\t\t\tvar note = this.notify().wait('Assigning cover');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + set + '/covers/' + asset,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\tallCovers = asset.split(',');\n\n\t\t\t\t\t\t$.each(allCovers, function(i, cover) {\n\t\t\t\t\t\t\t$('#mid-content li[data-id=\"' + cover + '\"]').find('.badge.cover-set').show();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (allCovers.length <= 1) {\n\t\t\t\t\t\t\t$.each(data.covers, function(i,cover) {\n\t\t\t\t\t\t\t\tif (cover.id == asset) {\n\t\t\t\t\t\t\t\t\tnote.success(cover.filename + ' assigned as primary cover');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.success(allCovers.length + ' items assigned as covers');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Matched when a cover is being added to an album\n\t\t\tif (type === 'album') {\n\t\t\t\tvar exists = false,\n\t\t\t\t\tnote = this.notify().wait('Assigning cover');\n\t\t\t\t$.each( this.observers.sidebar.asset.covers(), function(i,cover) {\n\t\t\t\t\tif (parseInt(cover.id, 10) === parseInt(asset, 10)) {\n\t\t\t\t\t\texists = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (exists && asset.split && asset.split(',').length <= 1) {\n\t\t\t\t\tnote.warn('This image has already been assigned as a cover');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'albums/' + set + '/covers/' + asset,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\tallCovers = asset.split && asset.split(',');\n\n\t\t\t\t\t\tif (allCovers && allCovers.length <= 1) {\n\t\t\t\t\t\t\t$.each(data.covers, function(i,cover) {\n\t\t\t\t\t\t\t\tif (cover.id == asset) {\n\t\t\t\t\t\t\t\t\tnote.success(cover.filename + ' assigned as primary cover');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (allCovers) {\n\t\t\t\t\t\t\tnote.success(allCovers.length + ' items assigned as covers');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnote.success($('#mid-content li[data-id=\"' + asset + '\"]').find('span.filename').text() + ' assigned as primary cover');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.sidebar.asset.covers(data.covers);\n\t\t\t\t\t\tthis.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t\tthis.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tcover_draggable: function() {\n\n\t\t\tvar el = $('#lib-covers ol'),\n\t\t\t\tself = this,\n\t\t\t\torig, primary;\n\n\t\t\tel.sortable({\n\t\t\t\tcontainment: '#lib-covers-contain',\n\t\t\t\tdistance: 5, // Adding small distance for pen inputs\n\t\t\t\trevert: 100,\n\t\t\t\tstart: function(e,ui) {\n\t\t\t\t\torig = ui.helper;\n\t\t\t\t\tui.helper.find('a').hide();\n\t\t\t\t\tprimary = $('#lib-covers li').eq(0);\n\t\t\t\t\t$('.ui-sortable-placeholder').css('visibility','visible');\n\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\t\t\t\t},\n\t\t\t\tstop: function(e,ui) {\n\t\t\t\t\tif (primary.data('id') != $('#lib-covers li').eq(0).data('id')) {\n\t\t\t\t\t\tif (self.observers.api_url().indexOf('albums/visibility') !== -1) self.controllers.load_content();\n\t\t\t\t\t\tself.notify().success( ko.dataFor($('#lib-covers li[data-id=\"' + primary.data('id') + '\"]').get(0)).filename + ' assigned as primary cover' )\n\t\t\t\t\t}\n\t\t\t\t\torig.find('a').css('display','');\n\t\t\t\t},\n\t\t\t\tupdate: function(e,ui) {\n\t\t\t\t\tself.events.assign_cover('update');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tel.dblclick(function(e, ui) {\n\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: $(e.target).closest('li').data('id') });\n\t\t\t\tself.controllers.rewrite_hash({ name: 'view', val: 'single'});\n\t\t\t});\n\n\t\t},\n\n\t\tcover_droppable: function() {\n\n\t\t\tvar el = $('#lib-covers ol'),\n\t\t\t\tself = this;\n\n\t\t\tif (this.observers.sidebar.asset.album_type && this.observers.sidebar.asset.album_type() == 'standard' && this.observers.api_url().indexOf('albums/visibility') === -1) {\n\t\t\t\tel.droppable({\n\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\thoverClass: 'cover-hover',\n\t\t\t\t\taccept: '#content_list li',\n\t\t\t\t\tover: function(e,ui) {\n\t\t\t\t\t\t$('.ui-draggable-dragging').find('span.content').css('cursor','copy');\n\t\t\t\t\t},\n\t\t\t\t\tout: function() {\n\t\t\t\t\t\t$('.ui-draggable-dragging').find('span.content').css('cursor','all-scroll');\n\t\t\t\t\t},\n\t\t\t\t\tdrop: function(e,ui) {\n\t\t\t\t\t\tvar id = ui.draggable.data('id'),\n\t\t\t\t\t\t\talreadyDropped = false;\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tel.find('li').each(function() {\n\t\t\t\t\t\t\tif ($(this).data('id') == id) {\n\t\t\t\t\t\t\t\talreadyDropped = true;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (alreadyDropped) {\n\t\t\t\t\t\t\tself.notify().warn('This image has already been assigned as a cover');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.events.assign_cover('album', self.observers.sidebar.asset.id(), ui.draggable.data('id'));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\talbum_draggable: function() {\n\n\t\t\tvar el = $('.public li').add('.unlisted li').add('.private li');\n\n\t\t\tel.draggable({\n\t\t\t\tappendTo: '#three-col-left',\n\t\t\t\trevert: 'invalid',\n\t\t\t\teasing: config.easing,\n\t\t\t\tdistance: 10,\n\t\t\t\topacity: 0.4,\n\t\t\t\taxis: 'y',\n\t\t\t\thelper: 'clone',\n\t\t\t\tzIndex: 41,\n\t\t\t\tstart: function(e,ui) {\n\n\t\t\t\t\t$(this).css('opacity', 0.2);\n\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\n\t\t\t\t\t// Counts the <li> to determine the necessary padding to keep treeview looking correctly when dragged\n\t\t\t\t\tui.helper.closest('li').css('padding-left', 8 + ( $(this).parents('li').length * 8 ) ).addClass('trashable');\n\n\t\t\t\t},\n\t\t\t\tstop: function() {\n\t\t\t\t\t$(this).css('opacity', 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\troot_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('#u_albums').add('#p_albums').add('#pr_albums');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\n\t\t\t\t\tvar parent_viz = el.parent().parent().attr('id');\n\t\t\t\t\tvar equal = parent_viz && $(this).closest('li').hasClass(parent_viz.replace('_albums', ''));\n\n\t\t\t\t\tif ( el.hasClass('content') || self.observers.sidebar.id() === 'trash' ) { return false; }\n\t\t\t\t\tif ( el.closest('ol').parent().data('type') === 'set' || !equal || el.closest('li').hasClass('album') ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar index\t\t= ui.draggable.closest('li').index(),\n\t\t\t\t\t\tlisted\t\t= $(this).closest('li').hasClass('private') ? 'private' : ($(this).closest('li').hasClass('unlisted') ? 'unlisted' : 'public'),\n\t\t\t\t\t\turl_match\t= self.observers.api_url().match(/albums\\/(\\d+)/),\n\t\t\t\t\t\talbum_set\t= ui.draggable.closest('ol').closest('li').data('id') || ui.draggable.closest('ul').attr('id') === 'content_list' && url_match && url_match[1],\n\t\t\t\t\t\tnote, id;\n\n\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\tid = self.classes.app.koken.itemsBeingSortedDragged;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( ui.draggable.hasClass('album') && $('#content_list li.selected').length ) {\n\t\t\t\t\t\t\tid = $.map($('#content_list li.selected'), function(k,v) {\n\t\t\t\t\t\t\t\treturn $(k).data('id');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tid = [ui.draggable.data('id')];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar shouldBeNotified = true;\n\t\t\t\t\t$.each(id, function(i, album) {\n\t\t\t\t\t\tvar isInPublic = $('#al-nav li[data-id=\"' + album + '\"]').closest('#public_albums').length;\n\t\t\t\t\t\tif (isInPublic && $(e.target).attr('id') === 'p_albums' || !isInPublic && $(e.target).attr('id') !== 'p_albums') {\n\t\t\t\t\t\t\tshouldBeNotified = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\tvar remove_from_set = function(cb) {\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + album_set + '/content/' + id.join(','),\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: '_method=delete',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tif (this.observers.api_url().match( RegExp('albums\\/' + album_set) )) this.controllers.load_content();\n\t\t\t\t\t\t\t\tcb.call(self);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tvar change_listed = function() {\n\n\t\t\t\t\t\tvar _reqs = [],\n\t\t\t\t\t\t\t_albumIds = [];\n\t\t\t\t\t\t$.each(id, function(i, _id) {\n\t\t\t\t\t\t\t_albumIds.push(_id);\n\t\t\t\t\t\t\t_reqs.push({ request: 'albums/' + _id });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\t\t\tif (shouldBeNotified) note = self.notify().wait('Changing visibility');\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\trequest: _reqs,\n\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\tdata: 'visibility=' + listed,\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tvar ids = helpers.unique(id);\n\t\t\t\t\t\t\t\t\tif (note && ids.length > 1) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + data.visibility.raw + ' for ' + ids.length + ' items');\n\t\t\t\t\t\t\t\t\t} else if (note && ids.length === 1) {\n\t\t\t\t\t\t\t\t\t\t$.each(this.observers.albums(), function(i, album) {\n\t\t\t\t\t\t\t\t\t\t\tif (album.id === ids[0]) note.success('Visibility of ' + album.title + ' changed to ' + album.visibility.raw);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + data.visibility.raw);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// If album is selected update the observers.properties as well\n\t\t\t\t\t\t\t\t\tif (self.observers.properties.album.selected().album && ids.indexOf(self.observers.properties.album.selected().album.id) !== -1) self.observers.properties.album.selected().album = data;\n\n\t\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\t\tif (shouldShowModal) this.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\tif (this.observers.selection().length > 0) self.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t\tif (self.observers.properties.album.selected().album) {\n\t\t\t\t\t\t\t\t\t\tself.observers.sidebar.asset.visibility.raw(data.visibility.raw);\n\t\t\t\t\t\t\t\t\t\tself.observers.sidebar.asset.visibility.clean(data.visibility.clean);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (this.observers.api_url().match(/^albums\\/visibility:(public|unlisted|private)/)) {\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (match) params.data += '&match_album_visibility=1';\n\n\t\t\t\t\t\t\tself.sync(params);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar shouldShowModal = true,\n\t\t\t\t\t\t\tallAlbums = self.observers.albums_flat().concat(self.observers.unlisted_albums()).concat(self.observers.private_albums()),\n\t\t\t\t\t\t\tselectedAlbum;\n\n\t\t\t\t\t\tfunction recursive_search(album) {\n\t\t\t\t\t\t\tif ($.inArray(album.id, _albumIds) !== -1) {\n\t\t\t\t\t\t\t\tif (album.count <= 0 || ui.draggable.closest($(e.target).closest('li')).length) {\n\t\t\t\t\t\t\t\t\tshouldShowModal = false;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tselectedAlbum = album;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (album.children) {\n\t\t\t\t\t\t\t\treturn $.each(album.children, function(j, a) {\n\t\t\t\t\t\t\t\t\treturn recursive_search(a);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$.each(allAlbums, function(i, album) {\n\t\t\t\t\t\t\treturn recursive_search(album);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() { _syncAPI(true); };\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, selectedAlbum.visibility, listed, (!selectedAlbum || selectedAlbum.album_type !== 'set') ? 'album' : 'set');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_syncAPI(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( album_set ) {\n\t\t\t\t\t\tremove_from_set( change_listed );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchange_listed();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tside_droppable: function() {\n\n\t\t\tvar self = this;\n\n\t\t\t$('.label-unlisted, .label-private, .label-photo').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\t// Do not allow drops to happen from the trash view\n\t\t\t\t\tif (self.observers.sidebar.id() === 'trash') return false;\n\n\t\t\t\t\t// Only accept content, no albums or sets\n\t\t\t\t\tif (!el.hasClass('__content__') && !el.hasClass('content')) return false;\n\n\t\t\t\t\tvar item = self.observers.getContentById(el.data('id'));\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\t// If item visibility matches droppable visibility disable drop\n\t\t\t\t\t\tif ($(this).find('.label-photo').length && item.visibility.raw === 'public') return false;\n\t\t\t\t\t\tif ($(this).find('.label-unlisted').length && item.visibility.raw === 'unlisted') return false;\n\t\t\t\t\t\tif ($(this).find('.label-private').length && item.visibility.raw === 'private') return false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// All other cases we allow\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\t\t\t\t\tvar items = [],\n\t\t\t\t\t\tfinished = [],\n\t\t\t\t\t\twhich = ($(e.target).find('.label-unlisted').length) ? 'unlisted' : 'private',\n\t\t\t\t\t\tdata = [],\n\t\t\t\t\t\tdroppableContext = this;\n\n\t\t\t\t\tif ($(e.target).find('.label-photo').length) which = 'public';\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn { id: $(el).data('id'), visibility: { clean: helpers.capitalize(which), raw: which}}\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: this, visibility: { clean: helpers.capitalize(which), raw: which}});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar note = self.notify().wait('Changing visibility');\n\n\t\t\t\t\tif (self.observers.api_url().indexOf('albums/') === -1) $('#mid-content li.selected').remove();\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('content', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tfinished: function(item) {\n\t\t\t\t\t\t\t\tfinished.push(item);\n\n\t\t\t\t\t\t\t\t// Keeps the album count in sync if being dropped from a selected album, ignore for private viz\n\t\t\t\t\t\t\t\tif ((self.observers.properties.album.selected().id && $('#al-nav li.selected').data('id')) && self.observers.properties.album.selected().id == $('#al-nav li.selected').data('id') && !$(droppableContext).find('.label-private').length) {\n\t\t\t\t\t\t\t\t\tself.observers.update_album_counts($('#al-nav li.selected').data('id'));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (finished.length == data.length) {\n\t\t\t\t\t\t\t\t\tif (finished.length > 1) {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + which + ' for ' + finished.length + ' items');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnote.success('Visibility changed to ' + which + ' for ' + item.filename);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (!$('#mid-content li').length) self.controllers.load_content(null, true);\n\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-quick').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif (el.closest('li').find('.album-stack').length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn self.classes.app.koken.sortToDrag === true || el.hasClass('__content__') && self.observers.sidebar.id() !== 'trash' && self.observers.api_url().indexOf('visibility') < 0;\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar data = [];\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn Number($(el).data('id'));\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push(Number(this));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( data.length > 1 ) {\n\t\t\t\t\t\tself.notify().success( data.length + ' items added to Quick collection');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.notify().success( $('#content_list li[data-id=\"' + data[0] + '\"]').find('.filename').text() + ' added to Quick collection' );\n\t\t\t\t\t}\n\n\t\t\t\t\tself.observers.quick_collection( self.observers.quick_collection().concat( data ) );\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-faves').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\treturn $('.lib-nav li.selected').data('type') !== 'set' && self.observers.api_url().indexOf('visibility:') < 0 && self.classes.app.koken.sortToDrag === true || el.hasClass('__content__') && self.observers.sidebar.id() !== 'trash';\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar data = [],\n\t\t\t\t\t\thasBeenAdded = false,\n\t\t\t\t\t\twasSupposedToBeAdded = 0,\n\t\t\t\t\t\taccept = [];\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn { id: $(el).data('id'), favorite: 1 };\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: this, favorite: 1 });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t\twasSupposedToBeAdded = data.length;\n\n\t\t\t\t\t$.each( data, function(k,v) {\n\t\t\t\t\t\tif ( $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.fave').css('display') === 'none' ) {\n\t\t\t\t\t\t\taccept.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thasBeenAdded = $('#content_list li[data-id=\"' + v.id + '\"]').find('.filename').text();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tdata = accept;\n\n\t\t\t\t\tif (hasBeenAdded !== false && data.length === 0) {\n\t\t\t\t\t\tself.notify().warn( ((wasSupposedToBeAdded > 0) ? wasSupposedToBeAdded + ' items' : hasBeenAdded) + ' already in destination and was not added.' );\n\t\t\t\t\t}\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.controllers.update('content', data, {\n\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\tupdated: function(items) {\n\t\t\t\t\t\t\t\tif (items.length === 1) {\n\t\t\t\t\t\t\t\t\tself.notify().success(items[0].filename + ' added to Favorites');\n\t\t\t\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\t\t\t\tself.notify().success(items.length + ' items added to Favorites');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-featured').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\treturn $('.lib-nav li.selected').data('type') !== 'set' && self.observers.api_url().indexOf('visibility:') < 0 && self.classes.app.koken.sortToDrag === true || el.hasClass('__content__') && self.observers.sidebar.id() !== 'trash';\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar data = [],\n\t\t\t\t\t\thasBeenAdded = false,\n\t\t\t\t\t\tnumNotAdded = 0;\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\n\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\treturn { id: $(el).data('id'), featured: 1 };\n\t\t\t\t\t\t}).get();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: this, featured: 1 });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each( data, function(k,v) {\n\t\t\t\t\t\tif ( $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.featured').css('display') !== 'none' ) {\n\t\t\t\t\t\t\thasBeenAdded = $('#content_list li[data-id=\"' + v.id + '\"]').find('.filename').text();\n\t\t\t\t\t\t\tnumNotAdded++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (hasBeenAdded !== false && data.length <= 1) {\n\t\t\t\t\t\tself.notify().warn( hasBeenAdded + ' already in destination and was not added.' );\n\t\t\t\t\t} else if (hasBeenAdded !== false && data.length > 1 && data.length === numNotAdded) {\n\t\t\t\t\t\tself.notify().warn( data.length + ' items already in destination and were not added.' );\n\t\t\t\t\t}\n\n\t\t\t\t\tself.models.featured.content.set(data);\n\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.label-album-featured').closest('a').droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif ( el.closest('#public_albums').length <= 0 && el.closest('#mid-content').length <= 0 ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (el.hasClass('__album__') && el.hasClass('unlisted')) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn $('.lib-nav li.selected').data('type') === 'set' || self.observers.api_url().indexOf('visibility:') > 0 || el.hasClass('__album__') && self.observers.sidebar.id() !== 'trash' || el.data('type') === 'standard' || el.data('type') === 'set';\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\t$(ui.draggable).draggable({\n\t\t\t\t\t\trevert: true,\n\t\t\t\t\t\trevertDuration: 0\n\t\t\t\t\t});\n\n\t\t\t\t\tvar data = [];\n\n\t\t\t\t\tif ( ! self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\tif ( ui.helper.hasClass('__album__') ) {\n\t\t\t\t\t\t\tdata = $('#content_list li.selected').map( function(i, el) {\n\t\t\t\t\t\t\t\treturn { id: $(el).data('id'), featured: 1 };\n\t\t\t\t\t\t\t}).get();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata = { id: ui.helper.data('id'), featured: 1 }\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function() {\n\t\t\t\t\t\t\tdata.push({ id: parseInt(this, 10), featured: 1 });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tself.models.featured.albums.set(data);\n\t\t\t\t\tself.controllers.load_tree();\n\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t$.each(data, function(i,album) {\n\t\t\t\t\t\t\t$('#mid-content li[data-id=\"' + album.id + '\"]').addClass('featured');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\talbum_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('.lib-nav li[data-type=\"standard\"]').find('a');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\tgreedy: true,\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif (el.closest('li').find('.album-stack').length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif ( self.classes.app.koken.sortToDrag === true && self.observers.api_url().indexOf('visibility:') < 0 || el.hasClass('__content__') && ! el.closest('li').hasClass('album') && ! el.closest('li').hasClass('set') && self.observers.sidebar.id() !== 'trash' ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tif ( $(this).closest('li').offset().top > ( $('#trash_drop').parent().offset().top - 10 ) ) { return; }\n\n\t\t\t\t\tvar id = '',\n\t\t\t\t\t\tel = this,\n\t\t\t\t\t\tselected, item;\n\n\t\t\t\t\tif ( !self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\t$('#content_list li.selected').each( function(k,v) {\n\t\t\t\t\t\t\tid += $(v).data('id') + ',';\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tid = self.classes.app.koken.itemsBeingSortedDragged.join(',');\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($(this).closest('li').hasClass('selected')) {\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tvar ids = [];\n\t\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\t\tids = self.classes.app.koken.itemsBeingSortedDragged;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#content_list li.selected').each(function() {\n\t\t\t\t\t\t\t\tids.push( parseInt($(this).data('id'), 10) );\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tids = ids.join(',');\n\t\t\t\t\t\tself.events.assign_cover('album', $(this).closest('li').data('id'), ids);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar __ids = id.split(','),\n\t\t\t\t\t\tshouldShowModal = true,\n\t\t\t\t\t\timagesBeingMoved = {\n\t\t\t\t\t\t\tpublic: [],\n\t\t\t\t\t\t\tprivate: [],\n\t\t\t\t\t\t\tunlisted: []\n\t\t\t\t\t\t};\n\n\t\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\trequest: 'albums/' + $(el).closest('li').data('id') + '/content/' + helpers.rtrim(id,','),\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.update_album_counts(data);\n\t\t\t\t\t\t\t\tthis.observers.get_selected_asset_albums();\n\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\n\t\t\t\t\t\t\t\t// Only update mid col if they changed visibility\n\t\t\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (match) params.data = 'match_album_visibility=1';\n\n\t\t\t\t\t\tself.sync(params);\n\n\t\t\t\t\t\timagesBeingMoved = imagesBeingMoved.public.concat(imagesBeingMoved.private, imagesBeingMoved.unlisted)\n\t\t\t\t\t\tvar _added = ( !self.classes.app.koken.sortToDrag ) ? imagesBeingMoved.length : self.classes.app.koken.itemsBeingSortedDragged.length;\n\n\t\t\t\t\t\tself.notify().success( _added + ' items added to \"' + $(el).text().trim() + '\"' );\n\t\t\t\t\t\tself.classes.app.koken.itemsBeingSortedDragged = [];\n\n\t\t\t\t\t\tif (self.observers.api_url().indexOf('independent:1') != -1) {\n\t\t\t\t\t\t\t$('#content_list li.selected').each( function(k,v) {\n\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.observers.properties.overall.total($('#content_list li').length);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each(self.observers.content(), function(i, item) {\n\t\t\t\t\t\tif (__ids.indexOf(item.id.toString()) !== -1) imagesBeingMoved[item.visibility.raw].push(item);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Ignore modals for private images\n\t\t\t\t\tif (imagesBeingMoved.public.length <= 0 && imagesBeingMoved.unlisted.length <= 0 && imagesBeingMoved.private.length > 0) shouldShowModal = false;\n\n\t\t\t\t\t// Ignore modal because only `unlisted` images are being moved to an already unlisted album\n\t\t\t\t\tif (imagesBeingMoved.public.length <= 0 && imagesBeingMoved.private.length <= 0 && imagesBeingMoved.unlisted.length > 0 && $(this).closest('.unlisted').length) shouldShowModal = false;\n\n\t\t\t\t\t// Ignore modal because only `public` images are being moved to an already public album\n\t\t\t\t\tif (imagesBeingMoved.unlisted.length <= 0 && imagesBeingMoved.private.length <= 0 && imagesBeingMoved.public.length > 0 && $(this).closest('.public').length) shouldShowModal = false;\n\n\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() { _syncAPI(true); }\n\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\n\t\t\t\t\t\tif ($(el).closest('.private').length) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(imagesBeingMoved.public.concat(imagesBeingMoved.unlisted), '', 'private');\n\t\t\t\t\t\t} else if ($(el).closest('.unlisted').length) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(imagesBeingMoved.public, 'public', 'unlisted');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(imagesBeingMoved.unlisted, 'unlisted', 'public');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_syncAPI(false);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t},\n\n\t\talbum_set_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('.lib-nav li[data-type=\"set\"]').add('#content_list li[data-type=\"set\"]').find('.label-album-set:first').closest('a');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\taccept: function(el) {\n\n\t\t\t\t\t// Checking if selected album is child of droppable for dropping to make covers\n\t\t\t\t\tvar droppableId = $(this).closest('li').data('id'),\n\t\t\t\t\t\tisParent = false;\n\n\t\t\t\t\t$('#three-col-left li.selected').parentsUntil('#three-col-left').each(function(i,parent) {\n\t\t\t\t\t\tif ($(parent).data('id') === droppableId) {\n\t\t\t\t\t\t\tisParent = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Ensures that parent albums cannot be dropped onto their children\n\t\t\t\t\tif (self.observers.api_url().indexOf('visibility') !== -1 && $('#three-col-left li[data-id=\"' + el.data('id') + '\"]').find('li[data-id=\"' + droppableId + '\"]').length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ensures that albums cannot be dropped onto themselves\n\t\t\t\t\tif (el.data('id') === droppableId) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isParent) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t//\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t! $(this).hasClass('arrow-toggle') &&\n\t\t\t\t\t\tel.closest('li').parent().closest('li').data('id') != $(this).closest('li').data('id') &&\n\t\t\t\t\t\t($(this).closest('li').data('type') == 'set' && !el.hasClass('content')) &&\n\n\t\t\t\t\t\t// Fix for sets showing underneath trash button when scrolling still being active droppables\n\t\t\t\t\t\t$(this).closest('li').offset().top < ( $('#trash_drop').offset().top - 20 )\n\t\t\t\t\t) { return true; }\n\t\t\t\t},\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar album_set\t= $(this).closest('li').data('id'),\n\t\t\t\t\t\talbum;\n\n\t\t\t\t\tif (ui.draggable.hasClass('content')) {\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\t\t\t\t\t\tvar ids = _ids = [];\n\t\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\t\tids = self.classes.app.koken.itemsBeingSortedDragged;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#content_list li.selected').each(function() {\n\t\t\t\t\t\t\t\tids.push($(this).data('id'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_ids = ids;\n\t\t\t\t\t\tids = ids.join(',');\n\t\t\t\t\t\tif ( _ids.length > 1 ) {\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'albums/' + album_set,\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tif ( _ids.length > 1 ) {\n\t\t\t\t\t\t\t\t\t\tvar exists = false;\n\t\t\t\t\t\t\t\t\t\t$.each( data.covers, function(i,cover) {\n\t\t\t\t\t\t\t\t\t\t\tif (parseInt(cover.id, 10) === parseInt(ids, 10)) {\n\t\t\t\t\t\t\t\t\t\t\t\texists = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (exists) {\n\t\t\t\t\t\t\t\t\t\t\tthis.notify().warn('This asset already exists as a cover for this album.');\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.classes.modal.cover.show(album_set, ids);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.classes.modal.cover.show(album_set, ids);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif (self.classes.app.koken.itemsBeingSortedDragged.length > 0) {\n\t\t\t\t\t\t\talbum = self.classes.app.koken.itemsBeingSortedDragged.join(',');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( ui.draggable.hasClass('album') && $('#content_list li.selected').length ) {\n\t\t\t\t\t\t\t\talbum = $.map($('#content_list li.selected'), function(k,v) {\n\t\t\t\t\t\t\t\t\treturn $(k).data('id');\n\t\t\t\t\t\t\t\t}).join(',');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talbum = ui.draggable.data('id');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false});\n\n\t\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\t\tvar _syncAPI = function(match) {\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\trequest: 'albums/' + album_set + '/content/' + album,\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\t\t\t\t\tif (album.split) {\n\t\t\t\t\t\t\t\t\t\tvar _totalDrops = album.split(',').length;\n\t\t\t\t\t\t\t\t\t\tif (_totalDrops > 1) {\n\t\t\t\t\t\t\t\t\t\t\tthis.notify().success(_totalDrops + ' collections added to ' + data.album.title);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthis.notify().success(ui.draggable.find('span.title').text().trim() + ' added to ' + data.album.title);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar clone = self.observers.albums().slice(),\n\t\t\t\t\t\t\t\t\t\t_clone;\n\n\t\t\t\t\t\t\t\t\t$.each( clone, function(k,v) {\n\t\t\t\t\t\t\t\t\t\tif ( v && v.id == album && ! v.children ) {\n\t\t\t\t\t\t\t\t\t\t\tclone.splice( k, 1 );\n\t\t\t\t\t\t\t\t\t\t} else if( v && v.children ) {\n\t\t\t\t\t\t\t\t\t\t\t_clone = v.children.slice();\n\t\t\t\t\t\t\t\t\t\t\t$.each( _clone, function(j,w) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( w && w.id == album ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t_clone.splice(j,1);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tclone[k].children = _clone;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t$.each( clone, function(k,v) {\n\t\t\t\t\t\t\t\t\t\tif ( v.id == album_set ) {\n\t\t\t\t\t\t\t\t\t\t\tclone[k].children = data.albums;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tself.observers.albums(clone);\n\n\t\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\t\tif ( self.observers.properties.album.selected().album && self.observers.properties.album.selected().album.id == album_set ) {\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content(album_set,'set');\n\t\t\t\t\t\t\t\t\t} else if (this.observers.api_url().match(/^albums/)) {\n\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.controllers.events_init();\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (match) params.data = 'match_album_visibility=1';\n\t\t\t\t\t\t\tself.sync(params);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar dropVisibility = $(this).closest('li.public').length ? 'public' : ($(this).closest('li.unlisted').length ? 'unlisted' : 'private'),\n\t\t\t\t\t\t\tshouldShowModal = false;\n\n\t\t\t\t\t\t// If droppable and draggable visibility doesnt match we need to show the modal\n\t\t\t\t\t\tif (dropVisibility !== ui.draggable.data('visibility')) shouldShowModal = true;\n\n\t\t\t\t\t\t// Check if we are dropping a set and if it has children, if not we can skip the modal\n\t\t\t\t\t\tif (ui.draggable.data('type') === 'set' && !ui.draggable.data('children')) shouldShowModal = false;\n\n\t\t\t\t\t\tif (shouldShowModal) {\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.keepFn = function() {\n\t\t\t\t\t\t\t\tui.draggable.remove();\n\t\t\t\t\t\t\t\t_syncAPI(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.options.hasKeepCancel.cancelFn = function() { _syncAPI(false); };\n\t\t\t\t\t\t\tself.classes.modal.match_album_visibility.show(0, ui.draggable.data('visibility'), dropVisibility, (ui.draggable.data('type') === 'standard') ? 'album' : ui.draggable.data('type'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tui.draggable.remove();\n\t\t\t\t\t\t\t_syncAPI(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\ttrash_droppable: function() {\n\n\t\t\tvar self\t= this,\n\t\t\t\tel\t\t= $('#trash_drop');\n\n\t\t\tel.droppable({\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\taccept: function(el) {\n\t\t\t\t\tif ( self.observers.sidebar.id() !== 'trash' || el.data('type') ) return true;\n\t\t\t\t},\n\t\t\t\thoverClass: 'dragover',\n\t\t\t\tdrop: function(e,ui) {\n\n\t\t\t\t\tvar id\t\t\t= '',\n\t\t\t\t\t\tids\t\t\t= [],\n\t\t\t\t\t\tselected, items, item, collect, ndex;\n\n\t\t\t\t\tself.observers.isBeingDropped = true;\n\n\t\t\t\t\tif ( !self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\titems = $('#content_list li.selected');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar selector = '';\n\t\t\t\t\t\t$.each( self.classes.app.koken.itemsBeingSortedDragged, function(k,v) {\n\t\t\t\t\t\t\tselector += '#content_list li[data-id=\"' + v + '\"],'\n\t\t\t\t\t\t});\n\t\t\t\t\t\titems = $(helpers.rtrim(selector, ','));\n\t\t\t\t\t}\n\n\t\t\t\t\tcollect\t= self.observers.content().slice(0);\n\n\t\t\t\t\titems.each( function(k,v) {\n\n\t\t\t\t\t\tvar item\t= $(this),\n\t\t\t\t\t\t\tid\t\t= item.data('id');\n\n\t\t\t\t\t\tndex\t\t\t= item.index();\n\t\t\t\t\t\tids[ids.length]\t= id;\n\n\t\t\t\t\t\t$.each( collect, function(a,b) {\n\t\t\t\t\t\t\tif ( b && b.id == id ) {\n\t\t\t\t\t\t\t\tcollect.splice(a,1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\n\t\t\t\t\tif ( ui.helper.data('which') === 'thumbnail' ) {\n\n\t\t\t\t\t\tif ($('#mid-content li.selected').length <= 1) {\n\n\t\t\t\t\t\t\tvar note = self.notify().wait('Moving to trash');\n\n\t\t\t\t\t\t\tself.observers.properties.trash.total(self.observers.properties.trash.total() + 1);\n\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'trash/content:' + ui.draggable.data('id'),\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: false});\n\t\t\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\t\t\tthis.controllers.update_summary();\n\t\t\t\t\t\t\t\t\tthis.load_content(null, true);\n\t\t\t\t\t\t\t\t\tnote.success( $('#list_item_' + ui.draggable.data('id')).find('.title.filename').text() + ' was moved to the Trash' );\n\t\t\t\t\t\t\t\t\tif (self.observers.view() !== 'single') this.observers.sidebar.id('fixed');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('.opt-icon.opt-trash[data-bind]').trigger('click');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar isSingle = false;\n\n\t\t\t\t\t\tif ( ui.draggable.hasClass('__album__') || ui.draggable.hasClass('album') ) {\n\t\t\t\t\t\t\t$.each( ids, function(i, id) {\n\t\t\t\t\t\t\t\t$('#list_item_' + id).remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tui.draggable.remove();\n\t\t\t\t\t\t\tids = [ui.draggable.data('id')];\n\t\t\t\t\t\t\tisSingle = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar msg;\n\t\t\t\t\t\tif ( items.length  > 1 ) {\n\t\t\t\t\t\t\tmsg = items.length + ' items were moved to the Trash';\n\t\t\t\t\t\t} else if ( self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\t\tmsg = ui.draggable.find('.title').text().trim() + ' was moved to the Trash';\n\t\t\t\t\t\t} else if ( ui.draggable.data('type') === 'set' ) {\n\t\t\t\t\t\t\tmsg = ui.draggable.find('.label-album-set:first').text().trim() + ' and all child albums were moved to the Trash';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmsg = ui.draggable.find('.label-album').text().trim() + ' was moved to the Trash';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.notify().success(msg);\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'trash/albums:' + ids.join(','),\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\t\tthis.controllers.load_tree();\n\t\t\t\t\t\t\t\tif ( !isSingle ) {\n\n\t\t\t\t\t\t\t\t\tif ( !$.isEmptyObject( self.observers.properties.album.selected() ) && self.observers.properties.album.selected().album.id == ui.draggable.data('id') ) {\n\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tself.load_content();\n\n\t\t\t\t\t\t\t\t} else if ( !self.classes.app.koken.sortToDrag ) {\n\t\t\t\t\t\t\t\t\tif (this.observers.api_url().indexOf('albums/' + ids[0]) !== -1) {\n\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tself.load_content();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tscale_thumbnails: function(val) {\n\t\t\tvar thumCSS =  $('#thumbnail-styles'),\n\t\t\t  listHW = Math.floor(val * 0.56);\n\n\t\t\tthis.cookie('library:thumbnail_scale', val);\n\n\t\t\tif (!thumCSS.length) {\n\t\t\t\tthumCSS = $('<style id=\"thumbnail-styles\"></style>').appendTo(document.head);\n\t\t\t}\n\n\t\t\tvar rules = 'ul.lib-content li a.content, .ui-draggable a.content, ul.lib-content li span.content { width: ' + val + 'px; max-width: ' + val + 'px; height: ' + val + 'px; }\\\n\t\t\t\tul.lib-content.grid img.media { max-height: ' + val + 'px; }\\\n\t\t\t\tul.lib-content.list li span.list-cell.tn { width: ' + listHW + 'px; height: ' + listHW + 'px; }';\n\n\t\t\tthumCSS.text(rules);\n\n\t\t\tthis.controllers.lazy('#content_list','suppress');\n\t\t}\n\n\t},\n\n\n\tcontrollers: {\n\n\t\tset_current_nav: function() {\n\t\t\tvar lis = $('ol.lib-nav li'),\n\t\t\t\ttrash = $('#trash_drop').parents('li'),\n\t\t\t\ttitle = 'Content',\n\t\t\t\ticon = 'every',\n\t\t\t\tval = this.observers.api_url();\n\n\t\t\ttrash.removeClass('selected');\n\n\t\t\tthis.observers.is_collection(false);\n\t\t\tthis.observers.show_root_site_links(false);\n\n\t\t\tvar plugin_sel = false;\n\t\t\t$.each($('.plugin-library-nav-item'), function(i, li) {\n\t\t\t\tvar $li = $(li),\n\t\t\t\t\t$a = $li.find('a:first');\n\n\t\t\t\tif (location.hash.indexOf($a.attr('href')) === 0) {\n\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t$li.addClass('selected');\n\t\t\t\t\tplugin_sel = true;\n\t\t\t\t\ttitle = $a.text();\n\t\t\t\t\ticon = $a.find('span.icon16').get(0).className.replace('icon16 label-', '');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!plugin_sel) {\n\t\t\t\tif (val.match(/albums\\/\\d/)) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id])').removeClass('selected');\n\t\t\t\t\treturn;\n\t\t\t\t} else if (val.indexOf('albums/visibility:public') === 0) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id], .public)').removeClass('selected');\n\t\t\t\t\ttitle = 'Public';\n\t\t\t\t\ticon = 'album-set';\n\t\t\t\t\tthis.observers.show_root_site_links(true);\n\t\t\t\t} else if (val.indexOf('albums/visibility:unlisted') === 0) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id], .unlisted)').removeClass('selected');\n\t\t\t\t\ttitle = 'Unlisted';\n\t\t\t\t\ticon = 'album-set';\n\t\t\t\t} else if (val.indexOf('albums/visibility:private') === 0) {\n\t\t\t\t\t$('ol.lib-nav li:not([data-id], .private)').removeClass('selected');\n\t\t\t\t\ttitle = 'Private';\n\t\t\t\t\ticon = 'album-set';\n\t\t\t\t} else if (val.indexOf('albums/featured') === 0) {\n\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t$('#al-nav li:first').addClass('selected');\n\t\t\t\t\ttitle = 'Featured albums';\n\t\t\t\t\ticon = 'album-featured';\n\t\t\t\t} else if (val.indexOf('trash') === 0) {\n\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\ttrash.addClass('selected');\n\t\t\t\t\ttitle = 'Trash';\n\t\t\t\t\ticon = 'trash';\n\t\t\t\t\tthis.observers.sidebar.id('trash');\n\t\t\t\t} else {\n\t\t\t\t\tif (this.observers.sidebar.id() !== 'content' && this.observers.sidebar.id() !== 'multi') {\n\t\t\t\t\t\tthis.observers.sidebar.id('fixed');\n\t\t\t\t\t}\n\t\t\t\t\tif (val.indexOf('content/after:') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[1]).addClass('selected');\n\t\t\t\t\t\ttitle = 'Last import';\n\t\t\t\t\t\ticon = 'recent';\n\t\t\t\t\t} else if (val.indexOf('favorites') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[2]).addClass('selected');\n\t\t\t\t\t\tthis.observers.show_root_site_links(this.observers.form_site_link('favorites') !== false);\n\t\t\t\t\t\ttitle = 'Favorites';\n\t\t\t\t\t\ticon = 'faves';\n\t\t\t\t\t} else if (val.indexOf('content/featured') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[3]).addClass('selected');\n\t\t\t\t\t\ttitle = 'Featured content';\n\t\t\t\t\t\ticon = 'featured';\n\t\t\t\t\t} else if (val.match(/content\\/\\d+,\\d/)) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[4]).addClass('selected');\n\t\t\t\t\t\ttitle = 'Quick collection';\n\t\t\t\t\t\ticon = 'quick';\n\t\t\t\t\t\tthis.observers.is_collection(true);\n\t\t\t\t\t} else if (val.match(/content\\/(unlisted|privat)/)) {\n\t\t\t\t\t\tif (val.indexOf('/private') === -1) {\n\t\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t\t$(lis[5]).addClass('selected');\n\t\t\t\t\t\t\ttitle = 'Unlisted content';\n\t\t\t\t\t\t\ticon = 'unlisted';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t\t$(lis[6]).addClass('selected');\n\t\t\t\t\t\t\ttitle = 'Private content';\n\t\t\t\t\t\t\ticon = 'private';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (val.indexOf('content') === 0) {\n\t\t\t\t\t\tlis.removeClass('selected');\n\t\t\t\t\t\t$(lis[0]).addClass('selected');\n\t\t\t\t\t\tthis.observers.show_root_site_links(this.observers.form_site_link('contents') !== false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.header.title(title);\n\t\t\tthis.observers.header.icon('label-' + icon);\n\t\t},\n\n\t\tget_asset_by_id: function(id) {\n\t\t\treturn this.observers.content()[ $('#content_list [data-id=\"' + id + '\"]').data('index') ];\n\t\t},\n\n\t\tfocal_draggable: function() {\n\n\t\t\tvar el = $('#focal_point'),\n\t\t\t\tself = this;\n\n\t\t\tel.draggable({\n\t\t\t\tcontainment: '#focal_point_wrapper',\n\t\t\t\tstart: function() {\n\t\t\t\t\t$('a[data-event=\"toggle_dropdown\"].selected').parent().trigger('click');\n\t\t\t\t},\n\t\t\t\tstop: function() {\n\t\t\t\t\tvar l = parseInt(el.css('left'), 10) + 25,\n\t\t\t\t\t\tt = parseInt(el.css('top'), 10) + 25,\n\t\t\t\t\t\tparent = el.parent(),\n\t\t\t\t\t\tx = Math.round((l / parent.width()) * 100),\n\t\t\t\t\t\ty = Math.round((t / parent.height()) * 100),\n\t\t\t\t\t\tn = self.notify().wait('Assigning focal point');\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'content/' + self.observers.sidebar.asset.id(),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'focal_point={\"x\":' + x + ',\"y\":' + y + '}',\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.controllers.update_item(data);\n\t\t\t\t\t\t\tn.success('New focal point assigned');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tupdate_summary: function() {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'events/limit_to:content/content_column:published_on',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar years = [],\n\t\t\t\t\t\ty = false,\n\t\t\t\t\t\tm = [];\n\t\t\t\t\t$.each( data.events, function(i, date) {\n\t\t\t\t\t\tif (date.year != y) {\n\t\t\t\t\t\t\tif (y) {\n\t\t\t\t\t\t\t\tyears.push({ year: y, months: m });\n\t\t\t\t\t\t\t\tm = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ty = date.year;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm.push({ month: date.month, year: date.year });\n\t\t\t\t\t});\n\n\t\t\t\t\tif (m.length) {\n\t\t\t\t\t\tyears.push({ year: y, months: m });\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.years(years);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdate_item: function(data, rewrite_ui) {\n\t\t\trewrite_ui = rewrite_ui || false;\n\t\t\tvar li = $('#list_item_' + data.id),\n\t\t\t\tindex = li.data('index');\n\n\t\t\tif (data.uploaded_on instanceof Object === false) {\n\t\t\t\tvar ts = new Date(data.uploaded_on).getTime()/1000;\n\n\t\t\t\tdata.uploaded_on = {\n\t\t\t\t\tdatetime: ts,\n\t\t\t\t\ttimestamp: data.uploaded_on\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.captured_on instanceof Object === false) {\n\t\t\t\tvar ts = new Date(data.captured_on).getTime()/1000;\n\n\t\t\t\tdata.captured_on = {\n\t\t\t\t\tdatetime: ts,\n\t\t\t\t\ttimestamp: data.captured_on\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.content.splice(index, 1, data);\n\n\t\t\tif (rewrite_ui) {\n\t\t\t\tli.replaceWith( this.controllers.create_node(data, index) );\n\t\t\t\tthis.controllers.events_init();\n\t\t\t\tthis.controllers.lazy('#content_list');\n\t\t\t}\n\n\t\t\tif (this.observers.sidebar.asset.id && this.observers.sidebar.asset.id() == data.id && this.observers.selection().length <= 1) {\n\t\t\t\tthis.map(this.observers.sidebar.asset, data);\n\t\t\t\tif (this.observers.sidebar.id() === 'content' && rewrite_ui) {\n\t\t\t\t\tthis.views.asset_multi_view(data);\n\t\t\t\t}\n\n\t\t\t\t$('#container').trigger('selection.loaded', data);\n\t\t\t}\n\n\t\t\t$('body').fitVids();\n\n\t\t},\n\n\t\trewrite_hash: function(arr) {\n\n\t\t\tif (!$.isArray(arr)) {\n\t\t\t\tarr = [ arr ];\n\t\t\t}\n\n\t\t\tvar frag = $.param.fragment();\n\t\t\tif (frag.match(/^\\/library\\/?$/)) {\n\t\t\t\tfrag = '/library/content';\n\t\t\t}\n\n\t\t\t$.each(arr, function(i, obj) {\n\t\t\t\tvar replace = obj.replace || [ obj.name ];\n\n\t\t\t\tif ($.isArray(obj.val)) {\n\t\t\t\t\tobj.val = obj.val.join(',');\n\t\t\t\t}\n\n\t\t\t\t$.each( replace, function(i, str) {\n\t\t\t\t\tfrag = frag.replace(RegExp('\\/' + str + ':[^\\/]+'), '');\n\t\t\t\t});\n\n\t\t\t\tif (obj.name !== 'none' && obj.val) {\n\t\t\t\t\tfrag += '/' + obj.name + ':' + obj.val;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.bbq.pushState( frag, 2 );\n\t\t},\n\n\t\tmid_scroll_finish: function() {\n\t\t\tif (this.observers.passengers.next_page && !this.observers.is_loading) {\n\t\t\t\tthis.controllers.load_content();\n\t\t\t}\n\t\t},\n\n\t\tsave: function() {\n\n\t\t\tvar q\t= this.observers.passengers.queue,\n\t\t\t\tc\t= 0,\n\t\t\t\tnow = +new Date,\n\t\t\t\treq = [];\n\n\t\t\tfor (var i in q) {\n\n\t\t\t\tvar item = q[i];\n\n\t\t\t\t// Don't update until the item has been untouched for 3s\n\t\t\t\tif ((now - item.last) > 2000) {\n\n\t\t\t\t\tdelete(this.observers.passengers.queue[i]);\n\n\t\t\t\t\tthis.controllers._save(item);\n\t\t\t\t}\n\n\t\t\t\tc++;\n\n\t\t\t}\n\n\t\t\tif (c === 0) {\n\t\t\t\tclearInterval(this.observers.passengers.interval);\n\t\t\t}\n\t\t},\n\n\t\t_save: function(item, cb, context) {\n\n\t\t\tif (item.type === 'unlisted_albums' || item.type === 'private_albums' || item.type === 'albums_flat') {\n\t\t\t\titem.type = 'albums';\n\t\t\t}\n\n\t\t\tvar params = {\n\t\t\t\tcontext: context || this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (cb) {\n\t\t\t\t\t\tcb.apply(this, [ data ]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (Object.keys(item).length === 3 && (item.hasOwnProperty('featured') || item.hasOwnProperty('favorite'))) {\n\t\t\t\tparams.request = (item.hasOwnProperty('featured') ? item.type + '/featured' : 'favorites') + '/' + item.id;\n\t\t\t\tparams.method = ((item.featured && item.featured === 1) || (item.favorite && item.favorite === 1)) ? 'POST' : 'DELETE';\n\t\t\t} else {\n\t\t\t\tparams.request = item.type + '/' + item.id + (item.in_album ? '/context:' + item.in_album : '');\n\t\t\t\tparams.method = 'PUT';\n\t\t\t\tvar props = [];\n\n\t\t\t\tfor (var i in item) {\n\t\t\t\t\tif (i !== 'type' && i !== 'id' && i !== 'last' && item[i] !== null) {\n\t\t\t\t\t\tvar val = item[i]['raw'] || item[i]['timestamp'] || item[i];\n\t\t\t\t\t\tif (val === true) {\n\t\t\t\t\t\t\tval = 1;\n\t\t\t\t\t\t} else if (val === false) {\n\t\t\t\t\t\t\tval = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprops.push(i + '=' + encodeURIComponent(val));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tparams.data = props.join('&');\n\n\t\t\t\tif (item.type === 'content' && item.hasOwnProperty('title')) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tparams.finished = function(data) {\n\t\t\t\t\t\tself.controllers.update_item(data);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.sync(params);\n\n\t\t},\n\n\t\tupdate: function(type, data, o, in_album) {\n\n\t\t\tin_album = in_album || false;\n\n\t\t\tvar ob\t\t= this.observers,\n\t\t\t\tself\t= this,\n\t\t\t\tupdated\t= [],\n\t\t\t\to\t\t= $.extend({ instant: false, updated: false, finished: false, sidebar: true}, o);\n\n\t\t\tif (!$.isArray(data)) {\n\t\t\t\tdata = [ data ];\n\t\t\t}\n\n\t\t\t$.each( data, function(index, item) {\n\n\t\t\t\titem.type = type;\n\t\t\t\tif (in_album) {\n\t\t\t\t\titem.in_album = in_album;\n\t\t\t\t}\n\n\t\t\t\tif (o.instant) {\n\t\t\t\t\tself.controllers._save(item, o.finished, o.context);\n\t\t\t\t} else {\n\t\t\t\t\tvar key = type + '-' + item.id;\n\n\t\t\t\t\titem.last = +new Date;\n\n\t\t\t\t\tif (ob.passengers.queue[key]) {\n\t\t\t\t\t\tob.passengers.queue[key] = $.extend(ob.passengers.queue[key], item);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tob.passengers.queue[key] = item;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar el = $('#list_item_' + item.id),\n\t\t\t\t\td;\n\n\t\t\t\tif (type !== 'content' && item.title) {\n\t\t\t\t\t$('.lib-nav li[data-id=\"' + item.id + '\"]').find('span.replace-title:first').text(item.title);\n\t\t\t\t}\n\n\t\t\t\tif (el.length && el.hasClass(type.replace('s', ''))) {\n\t\t\t\t\tvar badges = [ 'featured', 'favorite' ];\n\t\t\t\t\td = $.extend({}, ob.content()[el.data('index')], item);\n\n\t\t\t\t\t$.each( badges, function(i, badge) {\n\t\t\t\t\t\tif (item.hasOwnProperty(badge)) {\n\t\t\t\t\t\t\tif (item[badge]) {\n\t\t\t\t\t\t\t\tel.addClass(badge);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (self.observers.api_url().match( RegExp('\\/' + badge + 's?:1\\/?') )) {\n\t\t\t\t\t\t\t\t\t$('#list_item_' + item.id).remove();\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tel.removeClass(badge);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw !== 'unlisted') {\n\t\t\t\t\t\tel.removeClass('unlisted');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw === 'unlisted') {\n\t\t\t\t\t\tel.addClass('unlisted');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw !== 'private') {\n\t\t\t\t\t\tel.removeClass('private');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.visibility && item.visibility.raw === 'private') {\n\t\t\t\t\t\tel.addClass('private');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type !== 'content' && item.title) {\n\t\t\t\t\t\tel.find('.ttle').text(item.title);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type !== 'content' && item.visibility && self.observers.api_url().indexOf('visibility:' + item.visibility.raw) !== -1) {\n\t\t\t\t\t\t$('#list_item_' + item.id).remove();\n\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t}\n\n\t\t\t\t\t// This is used to show notifications for multiple item edits since we dont update the sidebar\n\t\t\t\t\tvar selected\t= self.observers.multiedit.selected,\n\t\t\t\t\t\tmsg\t\t\t= '',\n\t\t\t\t\t\ttot\t\t\t= 0;\n\n\t\t\t\t\tif ( selected() <= 0 ) {\n\t\t\t\t\t\tselected( $('#content_list li.selected') );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( selected().length > 0 ) {\n\t\t\t\t\t\tselected( selected.splice(1) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( selected().length <= 0 ) {\n\n\t\t\t\t\t\ttot = $('#content_list li.selected').length;\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.tags ) {\n\t\t\t\t\t\t\tself.notify().success( 'Tag ' + self.observers.multiedit.changed.tags[0] + ' added to ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.maxdl ) {\n\t\t\t\t\t\t\tself.notify().success( 'Max download changed to ' + self.observers.multiedit.changed.maxdl + ' for ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.license ) {\n\t\t\t\t\t\t\tself.notify().success( 'License changed to ' + self.observers.multiedit.changed.license + ' for ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( self.observers.multiedit.changed.visibility ) {\n\t\t\t\t\t\t\tself.notify().success( 'Visibility changed to ' + self.observers.multiedit.changed.visibility + ' for ' + tot + ' items' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.multiedit.changed = {};\n\n\t\t\t\t\t}\n\t\t\t\t\tself.controllers.update_item(d);\n\t\t\t\t} else {\n\t\t\t\t\tif (type === 'albums') {\n\t\t\t\t\t\ttype = 'albums_flat';\n\t\t\t\t\t}\n\t\t\t\t\tvar obs = ob[type](),\n\t\t\t\t\t\tcopy = ko.utils.arrayFirst( obs, function(i) {\n\t\t\t\t\t\t\treturn item.id == i.id;\n\t\t\t\t\t\t});\n\t\t\t\t\td = $.extend({}, copy, item);\n\n\t\t\t\t\tif (self.observers.sidebar.id() === 'album' && type.indexOf('albums') !== -1 && item.id === self.observers.sidebar.asset.id()) {\n\t\t\t\t\t\tself.map(self.observers.sidebar.asset, d);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.observers.properties.album.selected().album && self.observers.properties.album.selected().album.id === item.id) {\n\t\t\t\t\t\tvar a = $.extend({}, self.observers.properties.album.selected().album, d);\n\t\t\t\t\t\ta = $.extend({}, self.observers.properties.album.selected(), {album: a});\n\t\t\t\t\t\tself.observers.properties.album.selected(a);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdated.push(d);\n\n\t\t\t});\n\n\t\t\tclearInterval(ob.passengers.interval);\n\t\t\tob.passengers.interval = window.setInterval(function() { self.controllers.save.call(self); }, 1000);\n\n\t\t\tif (o.updated) {\n\t\t\t\to.updated.apply(self, [ updated ]);\n\t\t\t}\n\n\t\t\tif (this.observers.selection().length > 1 && (data[0].categories || data[0].tags)) {\n\t\t\t\tthis.observers.selection.valueHasMutated();\n\t\t\t}\n\n\t\t},\n\n\t\tevents_init: function() {\n\n\t\t\tthis.interfaces.app.controllers.upload.cleanup();\n\n\t\t\tif (this.observers.is_uploadable()) {\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tvar buildUploader = function() {\n\t\t\t\t\tvar uploader;\n\n\t\t\t\t\tuploader = self.classes.channel.library.uploader = $.extend(self.config.uploader, {}, true);\n\n\t\t\t\t\tuploader.properties.filters = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Image files\",\n\t\t\t\t\t\t\textensions\t: \"jpg,gif,png,jpeg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t\t: \"Videos\",\n\t\t\t\t\t\t\textensions\t: \"mp4,m4v\"\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\n\t\t\t\t\tuploader.properties.browse_button\t= 'mid-content';\n\t\t\t\t\tuploader.properties.drop_element\t= 'mid-content';\n\t\t\t\t\tuploader.properties.url\t\t\t\t= self.config.paths.base_relative + 'api.php?/content';\n\n\t\t\t\t\tuploader.instance\t\t\t\t\t= new plupload.Uploader(uploader.properties);\n\t\t\t\t\tuploader.instance.context\t\t\t= self;\n\t\t\t\t\tuploader.instance.uploaded\t\t\t= [];\n\n\t\t\t\t\tuploader.instance.bind('PostInit', function( up, params ) {\n\n\t\t\t\t\t\tup.disableBrowse(true);\n\n\t\t\t\t\t\tif ( up.features.chunks ) {\n\t\t\t\t\t\t\tup.settings.max_file_size\t= plupload.parseSize('5gb');\n\t\t\t\t\t\t\tup.settings.chunk_size\t\t= self.system.upload_limit;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tup.settings.max_file_size\t= self.system.upload_limit;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t\tuploader.instance.bind('QueueChanged', function( up, e ) {\n\t\t\t\t\t\tif (up.files && up.files.length > 0 && !self.classes.channel.library.isUploading) {\n\t\t\t\t\t\t\tself.controllers.upload.init.call(self, uploader);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn uploader;\n\t\t\t\t}\n\n\t\t\t\tif (this.classes.channel.library.uploader) this.classes.channel.library.uploader.instance.refresh();\n\n\t\t\t\tif (!self.classes.channel.library.uploaderIsBeingInitialized) {\n\t\t\t\t\tself.classes.channel.library.uploaderIsBeingInitialized = true;\n\t\t\t\t\tbuildUploader().instance.init();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Event initialization only\n\t\t\tthis.events.album_draggable.call(this);\n\t\t\tthis.events.cover_draggable.call(this);\n\t\t\tthis.events.cover_droppable.call(this);\n\t\t\tthis.events.root_droppable.call(this);\n\t\t\tthis.events.album_droppable.call(this);\n\t\t\tthis.events.album_set_droppable.call(this);\n\t\t\tthis.events.trash_droppable.call(this);\n\t\t\tthis.events.side_droppable.call(this);\n\n\t\t\tvar ob\t\t= this.observers,\n\t\t\t\tself\t= this;\n\n\t\t\t$('#search_form input').autocomplete({\n\t\t\t\tselect: function(event, ui) {\n\t\t\t\t\tself.observers.search(ui.item.label);\n\t\t\t\t},\n\t\t\t\tsource: function(req, cb) {\n\t\t\t\t\tvar term = req.term;\n\t\t\t\t\tvar matches = [];\n\t\t\t\t\tswitch( ob.search_filter() ) {\n\t\t\t\t\t\tcase 'tags':\n\t\t\t\t\t\t\t$.each(ob.tags(), function(i, t) {\n\t\t\t\t\t\t\t\tif (t.title.match(RegExp(term, 'gi'))) {\n\t\t\t\t\t\t\t\t\tmatches.push(t.title);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'filename':\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'content/search:' + term + '/search_filter:filename/limit:10',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t$.each(data.content, function(i,c) {\n\t\t\t\t\t\t\t\t\t\tmatches.push(c.filename);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'category':\n\t\t\t\t\t\t\t$.each(ob.categories(), function(i, t) {\n\t\t\t\t\t\t\t\tif (t.title.match(RegExp(term, 'gi'))) {\n\t\t\t\t\t\t\t\t\tmatches.push(t.title);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcb.apply(this, [ matches ]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tappendTo: '#search_form'\n\t\t\t}).off('.asearch').on('keydown.asearch', function(e) {\n\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\tself.observers.search($(e.target).val());\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tcreate_node: function(content, index) {\n\t\t\tvar str,\n\t\t\t\tklass = [],\n\t\t\t\talbum\t= this.observers.properties.album.selected().album,\n\t\t\t\tcover_ids = [];\n\n\t\t\tif (album && album.id) {\n\t\t\t\tcover_ids = album.covers.map(function(img) {\n\t\t\t\t\treturn img.id;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (content.featured) {\n\t\t\t\tklass.push('featured');\n\t\t\t}\n\n\t\t\tif ($.inArray(content.id, this.observers.selection()) !== -1) {\n\t\t\t\tklass.push('selected');\n\t\t\t}\n\n\t\t\tif (content.album_type) {\n\n\t\t\t\tif (content.visibility && content.visibility.raw !== 'public') {\n\t\t\t\t\tklass.push(content.visibility.raw);\n\t\t\t\t}\n\n\t\t\t\tvar ttl = (content.title !== null) ? content.title : '',\n\t\t\t\t\tpublished = (content.published_on ? this.observers.format_date( content.published_on.timestamp, 'MMM D YYYY' ) : ''),\n\t\t\t\t\tmodified = this.observers.format_date( content.modified_on.timestamp, 'MMM D YYYY' ),\n\t\t\t\t\tcreated = this.observers.format_date( content.created_on.timestamp, 'MMM D YYYY' ),\n\n\t\t\t\tstr = '<li id=\"list_item_' + content.id + '\" class=\"album ' + klass.join(' ') + '\" data-id=\"' + content.id + '\" data-index=\"' + index + '\">\\\n\t\t\t\t\t<a class=\"album-stack\" href=\"#\" title=\"' + content.title + '\">\\\n\t\t\t\t\t\t<span class=\"stack stack1\">\\\n\t\t\t\t\t\t\t<img class=\"media\" data-src=\"' + (content.covers.length > 1 ? content.covers[1].presets.small.cropped[this.config.retina ? 'hidpi_url' : 'url'] : 'images/no-preview.png') + '\" width=\"70\" height=\"70\" style=\"opacity:0.8 !important;\" />\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"stack stack2\">\\\n\t\t\t\t\t\t\t<span class=\"badge-count\">' + content.counts.total + '</span>\\\n\t\t\t\t\t\t\t<span data-event=\"badges\" class=\"img-badges\">\\\n\t\t\t\t\t\t\t\t<span class=\"badge featured\"></span>\\\n\t\t\t\t\t\t\t\t<span class=\"badge unlisted\"></span>\\\n\t\t\t\t\t\t\t\t<span class=\"badge private\"></span>\\\n\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t\t<img class=\"media\" data-src=\"' + (content.covers.length > 0 ? content.covers[0].presets.small.cropped[this.config.retina ? 'hidpi_url' : 'url'] : 'images/no-preview.png') + '\" width=\"70\" height=\"70\" />\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"stack stack3\">\\\n\t\t\t\t\t\t\t<img class=\"media\" data-src=\"' + (content.covers.length > 2 ? content.covers[2].presets.small.cropped[this.config.retina ? 'hidpi_url' : 'url'] : 'images/no-preview.png') + '\" width=\"70\" height=\"70\" style=\"opacity:0.8 !important;\" />\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t</a>\\\n\t\t\t\t\t<span class=\"count\">' + (index + 1) + '</span>\\\n\t\t\t\t\t<span class=\"title ttle\">' + ttl + '</span>\\\n\t\t\t\t\t<span class=\"title published_on\">' + published + '</span>\\\n\t\t\t\t\t<span class=\"title modified_on\">' + modified + '</span>\\\n\t\t\t\t\t<span class=\"title created_on\">' + created + '</span>\\\n\t\t\t\t</li>';\n\t\t\t} else {\n\n\t\t\t\tvar w = content.presets ? Math.min(content.presets.small.width, 100) : 70,\n\t\t\t\t\th = content.presets ? Math.min(content.presets.small.height, 100) : 70,\n\t\t\t\t\thr = Math.min(h/w, 1).toFixed(2),\n\t\t\t\t\twr = Math.min(w/h, 1).toFixed(2),\n\t\t\t\t\tstyle = 'style=\"width: calc(100% * ' + wr + '); min-height: calc(100% * ' + hr + ');\"';\n\n\t\t\t\tif (content.favorite) {\n\t\t\t\t\tklass.push('favorite');\n\t\t\t\t}\n\n\t\t\t\tif (content.visibility.raw === 'unlisted') {\n\t\t\t\t\tklass.push('unlisted');\n\t\t\t\t} else if (content.visibility.raw === 'private') {\n\t\t\t\t\tklass.push('private');\n\t\t\t\t}\n\n\t\t\t\tif (cover_ids.length) {\n\t\t\t\t\tvar v = $.inArray(content.id, cover_ids);\n\t\t\t\t\tif (v === 0) {\n\t\t\t\t\t\tklass.push('cover-top');\n\t\t\t\t\t} else if (v > 0) {\n\t\t\t\t\t\tklass.push('cover');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontent.koken_rating_average = content.koken_rating_average ? +(content.koken_rating_average * 10).toFixed(1) : '';\n\n\t\t\t\tvar ttl = content.title.length ? content.title : content.filename,\n\t\t\t\t\tpublished = (content.published_on ? this.observers.format_date( content.published_on.timestamp, 'MMM D YYYY' ) : ''),\n\t\t\t\t\tuploaded = this.observers.format_date( content.uploaded_on.timestamp, 'MMM D YYYY' ),\n\t\t\t\t\tcaptured = this.observers.format_date( content.captured_on.timestamp, 'MMM D YYYY', content.captured_on.timestamp.utc );\n\t\t\t\t\tmodified = this.observers.format_date( content.modified_on.timestamp, 'MMM D YYYY' ),\n\n\t\t\t\tstr = '<li data-id=\"' + content.id + '\" id=\"list_item_' + content.id + '\" class=\"content ' + klass.join(' ') + '\" data-index=\"' + index + '\" data-which=\"thumbnail\"> \\\n\t\t\t\t\t<span class=\"grid-data\">\\\n\t\t\t\t\t\t<span class=\"content\">\\\n\t\t\t\t\t\t\t<span ' + style + ' class=\"img-wrap\">\\\n\t\t\t\t\t\t\t\t' + ((content.duration && content.duration.clean) ? '<span class=\"vid_time\">' + content.duration.clean + '</span>' : '') + '\\\n\t\t\t\t\t\t\t\t<span data-event=\"badges\" class=\"img-badges\">\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge fave\"></span>\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge featured\"></span>\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge unlisted\"></span>\\\n\t\t\t\t\t\t\t\t\t<span class=\"badge private\"></span>\\\n\t\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t\t\t<img class=\"media\" data-url=\"' + content.presets.medium[this.config.retina ? 'hidpi_url' : 'url'] + '\" />\\\n\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"count\">' + (index + 1) + '</span>\\\n\t\t\t\t\t\t<span class=\"title filename\">' + content.filename + '</span>\\\n\t\t\t\t\t\t<span class=\"title visibility\">' + content.visibility.clean + '</span>\\\n\t\t\t\t\t\t<span class=\"title published_on\">' + published + '</span>\\\n\t\t\t\t\t\t<span class=\"title uploaded_on\">' + uploaded + '</span>\\\n\t\t\t\t\t\t<span class=\"title modified_on\">' + modified + '</span>\\\n\t\t\t\t\t\t<span class=\"title captured_on\">' + captured + '</span>\\\n\t\t\t\t\t\t<span class=\"title dimension\">' + content.width + ' x ' + content.height + '</span>\\\n\t\t\t\t\t\t<span class=\"title ttle\">' + ttl + '</span>\\\n\t\t\t\t\t\t<span class=\"title aspect_ratio\">' + content.aspect_ratio + '</span>\\\n\t\t\t\t\t\t<span class=\"title koken_rating_count\">' + content.koken_rating_count + '</span>\\\n\t\t\t\t\t\t<span class=\"title koken_rating_average\">' + content.koken_rating_average + '</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"list-cell tn\">\\\n\t\t\t\t\t\t<span class=\"tn-wrap\"><img class=\"media\" /></span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"list-cell fn\">' + ( ttl.length ? ttl + '<br>' : '' ) + content.filename + '</span>\\\n\t\t\t\t\t<span class=\"list-cell\">\\\n\t\t\t\t\t\t<span class=\"title visibility\">' + content.visibility.clean + '</span>\\\n\t\t\t\t\t\t<span class=\"title published_on\">' + published + '</span>\\\n\t\t\t\t\t\t<span class=\"title uploaded_on\">' + uploaded + '</span>\\\n\t\t\t\t\t\t<span class=\"title modified_on\">' + modified + '</span>\\\n\t\t\t\t\t\t<span class=\"title captured_on\">' + captured + '</span>\\\n\t\t\t\t\t\t<span class=\"title dimension\">' + content.width + ' x ' + content.height + '</span>\\\n\t\t\t\t\t\t<span class=\"title ttle\">' + ttl + '</span>\\\n\t\t\t\t\t\t<span class=\"title aspect_ratio\">' + content.aspect_ratio + '</span>\\\n\t\t\t\t\t\t<span class=\"title koken_rating_count\">' + content.koken_rating_count + '</span>\\\n\t\t\t\t\t\t<span class=\"title koken_rating_average\">' + content.koken_rating_average + '</span>\\\n\t\t\t\t\t\t<span class=\"title cnt\">' + (index + 1) + '</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"list-cell vis\">' + content.visibility.clean + '</span>\\\n\t\t\t\t</li>';\n\n\t\t\t}\n\n\t\t\treturn str;\n\t\t},\n\n\t\tload_content: function(obj, restart) {\n\n\t\t\trestart = restart || false;\n\t\t\tobj = obj || { load_until: false, cb: false };\n\t\t\tthis.observers.is_loading = true;\n\n\t\t\tvar url\t\t\t\t\t= this.observers.api_url() + '/limit:50',\n\t\t\t\ttimer\t\t\t\t= +new Date(),\n\t\t\t\tloaded_from_cache\t= false;\n\n\t\t\tif (this.observers.passengers.next_page && !restart) {\n\n\t\t\t\tvar start = (this.observers.passengers.next_page*50) - 50,\n\t\t\t\t\tend = Math.min(start+50, this.observers.properties.overall.total());\n\n\t\t\t\t$('#scroll-tick p:last').text(start + ' - ' + end);\n\t\t\t\t$('#scroll-tick p:first').text('Loading');\n\t\t\t\t$('#scroll-tick').addClass('loading');\n\t\t\t\t$('#scroll-tick').css({\n\t\t\t\t\tmarginLeft: '-' + ( $('#scroll-tick').width() / 2 ) + 'px'\n\t\t\t\t});\n\n\t\t\t\turl += '/page:' + this.observers.passengers.next_page;\n\n\t\t\t}\n\n\t\t\tthis.observers.loadstamp = timer;\n\n\t\t\tif ( this.config.cache && this.internalcache[url] ) {\n\n\t\t\t\tvar parts = url.split('/'),\n\t\t\t\t\tval;\n\n\t\t\t\t$.each( this.internalcache, function(k,v) {\n\n\t\t\t\t\tvar _parts = k.split('/');\n\n\t\t\t\t\tif ( parts[0] === _parts[0] && parts[1] === _parts[1] ) {\n\t\t\t\t\t\tval = v;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\t$('#content_list').hide().html(val.src).show();\n\t\t\t\t$('#content_list').closest('.scroll_wrapper').scrollTop(val.scroll);\n\n\t\t\t\tloaded_from_cache = true;\n\n\t\t\t}\n\n\t\t\tthis.cache(url);\n\n\t\t\t// This prevents loading spinners when the user has no content uploaded.\n\t\t\tif (!this.observers.properties.hasUploadedContent) {\n\t\t\t\tthis.observers.loading(false);\n\t\t\t} else if (!this.observers.passengers.next_page || restart) {\n\t\t\t\tthis.observers.loading(true);\n\t\t\t}\n\n\t\t\tif (this.classes.channel.library.firstLoad) {\n\t\t\t\tthis.classes.channel.library.firstLoad = false;\n\t\t\t\tthis.observers.loading(true);\n\t\t\t}\n\n\t\t\tthis.sync({ context: this, request: [\n\t\t\t\t{\n\t\t\t\trequest: url,\n\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tif ( data.total > 0 ) {\n\t\t\t\t\t\tthis.observers.properties.hasUploadedContent = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If it errors for any reason, jump back to the default view\n\t\t\t\t\tif ( data.error ) {\n\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.firstTime(false);\n\n\t\t\t\t\tif (timer !== this.observers.loadstamp) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar xhr_queue\t= [],\n\t\t\t\t\t\tpages\t\t= data.pages,\n\t\t\t\t\t\t_data\t\t= [],\n\t\t\t\t\t\tself\t\t= this,\n\t\t\t\t\t\ti,\n\n\t\t\t\t\tdone = function(d, first, page) {\n\n\t\t\t\t\t\tif (data.trash) {\n\t\t\t\t\t\t\td = d.map( function(item) {\n\t\t\t\t\t\t\t\treturn item.data;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar fragment = [];\n\n\t\t\t\t\t\t$.each( d, function(i, content) {\n\t\t\t\t\t\t\tnew self.klass.asset(content);\n\t\t\t\t\t\t\tfragment.push( self.controllers.create_node( content, i + (page - 1)*50 ) );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (first) {\n\t\t\t\t\t\t\tself.observers.properties.overall.total(data.total);\n\t\t\t\t\t\t\tif (data.counts) {\n\t\t\t\t\t\t\t\t$.each(data.counts, function(n, c) {\n\t\t\t\t\t\t\t\t\tself.observers.properties.overall.counts[n](c);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.observers.content(d);\n\n\t\t\t\t\t\t\tif ( !self.config.cache || !loaded_from_cache ) {\n\t\t\t\t\t\t\t\t$('#content_list').html(fragment.join(''));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (obj.load_until) {\n\t\t\t\t\t\t\t\tvar ids = $.map( d, function(c) {\n\t\t\t\t\t\t\t\t\treturn c.id;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif ($.inArray( obj.load_until, ids) === -1) {\n\t\t\t\t\t\t\t\t\tif (self.observers.passengers.next_page) {\n\t\t\t\t\t\t\t\t\t\tself.controllers.load_content( obj );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tobj.load_until = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.classes.scrollbar.mid_multi.reset();\n\t\t\t\t\t\t\tself.controllers.lazy('#content_list');\n\t\t\t\t\t\t\tself.views.album_fan();\n\t\t\t\t\t\t\tself.controllers.events_init();\n\n\t\t\t\t\t\t\tif ( obj.cb && typeof obj.cb === 'function' ) { obj.cb.call(self, d); }\n\n\t\t\t\t\t\t\tif (self.observers.view() === 'single') {\n\t\t\t\t\t\t\t\tif (d[0].album_type) {\n\t\t\t\t\t\t\t\t\tself.observers.view('grid');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: (self.observers.selection().length > 0) ? self.observers.selection() : [d[0]] });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.observers.content( self.observers.content().concat( d ) );\n\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\n\t\t\t\t\t\t\t\tif ( !self.config.cache || !loaded_from_cache ) {\n\t\t\t\t\t\t\t\t\t$('#content_list').append(fragment.join(''));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (obj.load_until) {\n\t\t\t\t\t\t\t\t\tvar ids = $.map( d, function(c) {\n\t\t\t\t\t\t\t\t\t\treturn c.id;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tif ($.inArray( obj.load_until, ids) === -1) {\n\t\t\t\t\t\t\t\t\t\tif (self.observers.passengers.next_page) {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.load_content( obj );\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tself.controllers.lazy('#content_list');\n\t\t\t\t\t\t\t\tself.views.album_fan();\n\t\t\t\t\t\t\t\tself.controllers.events_init();\n\n\t\t\t\t\t\t\t\tif ( obj.cb && typeof obj.cb === 'function' ) { obj.cb.call(self, d); }\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\tif (data.page === 1) {\n\n\t\t\t\t\t\tif (data.album) {\n\t\t\t\t\t\t\tthis.observers.properties.album.selected(data);\n\n\t\t\t\t\t\t\tthis.observers.order_by(data.album.sort.by);\n\t\t\t\t\t\t\tthis.observers.order_direction(data.album.sort.direction);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.properties.album.selected({});\n\n\t\t\t\t\t\t\tif (data.sort) {\n\t\t\t\t\t\t\t\tthis.observers.order_by(data.sort.by);\n\t\t\t\t\t\t\t\tthis.observers.order_direction(data.sort.direction);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.observers.search().length || url.match(/search:[^\\/]/)) {\n\t\t\t\t\t\t\t$('#multi-search-head').show();\n\t\t\t\t\t\t\tthis.observers.sidebar.id('search');\n\t\t\t\t\t\t\tthis.observers.header.title('Search');\n\t\t\t\t\t\t\tthis.observers.header.icon('label-search');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#multi-search-head').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.total === 0) {\n\n\t\t\t\t\t\t\t$.each(self.observers.properties.overall.counts, function(n) {\n\t\t\t\t\t\t\t\tself.observers.properties.overall.counts[n](0);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tself.observers.properties.overall.total(0);\n\n\t\t\t\t\t\t\tthis.observers.content( [] );\n\n\t\t\t\t\t\t\tif ( obj.cb && typeof obj.cb === 'function' ) { obj.cb.apply(self); }\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdone(data.content || data.albums || data.trash, true, data.page);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdone(data.content || data.albums || data.trash, false, data.page);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.pages > 1 && data.pages != data.page) {\n\t\t\t\t\t\tthis.observers.passengers.next_page = data.page + 1;\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tif (self.observers.view() !== 'single' && $('#content_list li:last-child').offset().top < $(window).height()) {\n\t\t\t\t\t\t\t\tself.controllers.load_content( obj );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.passengers.next_page = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.is_loading = false;\n\n\t\t\t\t}\n\n\t\t\t}]});\n\t\t}\n\n\t},\n\n\tviews: {\n\n\t\talbum_fan: function() {\n\n\t\t\tvar stacks\t= $('#content_list a.album-stack'),\n\t\t\t\tindex\t= 0,\n\t\t\t\tloaded\t= 0,\n\t\t\t\ttotal\t= 0,\n\t\t\t\tself\t= this,\n\n\n\t\t\tfinish = function(li) {\n\t\t\t\tli.addClass('loaded');\n\n\t\t\t\tvar a = self.observers.content()[index];\n\t\t\t\tif (a) a.loaded = true;\n\n\t\t\t\tloaded = 0;\n\t\t\t\tindex++;\n\t\t\t\tload();\n\t\t\t},\n\n\t\t\tload = function() {\n\t\t\t\tvar imgs\t= stacks.eq(index).find('img');\n\t\t\t\t\ttotal\t= imgs.length;\n\n\t\t\t\timgs.bind( 'load', function() {\n\t\t\t\t\t$(this).fadeIn();\n\t\t\t\t\tloaded++;\n\t\t\t\t\tif (loaded === total) {\n\t\t\t\t\t\tfinish($(this).parents('li'));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\timgs.each(function(i, img) {\n\t\t\t\t\t$(img).attr('src', $(img).data('src'));\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tload();\n\t\t},\n\n\t\topen_sidebar_drawer: function(el) {\n\n\t\t\tvar head\t= el.closest('#content_sidebar_info_container').find('.col-select'),\n\t\t\t\tsidebar = $('#right-col-xtra'),\n\t\t\t\tlabel\t= '',\n\t\t\t\tself\t= this;\n\n\t\t\tthis.observers.drawerOpen = el;\n\n\t\t\tswitch( this.observers.drawer.id() ) {\n\t\t\t\tcase 'iptc_edit':\n\t\t\t\t\tlabel = 'IPTC';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'exif_edit':\n\t\t\t\t\tlabel = 'EXIF';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'license_edit':\n\t\t\t\t\tlabel = 'Edit license';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'maxdl_edit':\n\t\t\t\t\tlabel = 'Edit max download size';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'site_link_edit':\n\t\t\t\t\tlabel = 'Edit site link';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'captured_uploaded_edit':\n\t\t\t\t\tlabel = 'Edit date captured';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'multi_history':\n\t\t\t\t\tvar _type = el.closest('.col-row').data('type');\n\t\t\t\t\tthis.observers.multiHistory.drawer(_type);\n\t\t\t\t\tif (_type === 'published_on') {\n\t\t\t\t\t\tlabel = 'Edit date published';\n\t\t\t\t\t} else if (_type === 'uploaded_on') {\n\t\t\t\t\t\tlabel = 'Edit date uploaded';\n\t\t\t\t\t} else if (_type === 'captured_on') {\n\t\t\t\t\t\tlabel = 'Edit date captured';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'history_published_edit':\n\t\t\t\t\tlabel = 'Edit date published';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'history_uploaded_edit':\n\t\t\t\t\tlabel = ( this.observers.sidebar.id() === 'content' ) ? 'Edit date uploaded' : 'Edit date created';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'visibility_edit':\n\t\t\t\t\tlabel = 'Edit visibility';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'album_visibility_edit':\n\t\t\t\t\tlabel = 'Edit album visibility';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'tags_edit':\n\t\t\t\t\tlabel = 'Edit tags';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'category_edit':\n\t\t\t\t\tlabel = 'Edit category';\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (this.observers.drawer.id() === 'history_published_edit') {\n\t\t\t\t$('#right-col-data [name=\"pub_on\"]').on('click', function() {\n\t\t\t\t\tself.observers.singleHistory.type($(this).val());\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.observers.drawer.id() === 'history_published_edit') {\n\t\t\t\tif (this.observers.singleHistory.type() === 'assign') {\n\t\t\t\t\t$('#date_pub_single').prop('checked', false);\n\t\t\t\t\t$('#date_new_single').prop('checked', true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.observers.multiHistory.drawer() === 'published_on' || this.observers.multiHistory.drawer() === 'captured_on' || this.observers.multiHistory.drawer() === 'uploaded_on') {\n\t\t\t\tif (this.observers.multiHistory.type() === 'assign') {\n\t\t\t\t\t$('#date_new').prop('checked', true);\n\t\t\t\t\t$('#date_shift').prop('checked', false);\n\t\t\t\t\t$('#date_pub').prop('checked', false);\n\t\t\t\t}\n\t\t\t\t$('#right-col-data [name=\"multi_history\"]').on('click', function() {\n\t\t\t\t\tself.observers.multiHistory.type($(this).val());\n\t\t\t\t});\n\t\t\t\t$('#right-col-data input[type=\"number\"]').on('change', function() {\n\t\t\t\t\tself.observers.multiHistory.date[$(this).data('type')]($(this).val());\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( this.observers.drawer.id() === 'category_edit' ) {\n\n\t\t\t\tthis.pubsub( 'category.save', function(e,data) {\n\n\t\t\t\t\tvar ids = (self.observers.selection().length > 0) ? self.observers.selection() : [self.observers.sidebar.asset],\n\t\t\t\t\t\tidsToSend = [],\n\t\t\t\t\t\tcatsToAdd = [],\n\t\t\t\t\t\tcatsToDelete = [],\n\t\t\t\t\t\tasset_type;\n\n\t\t\t\t\tids.forEach(function(item) {\n\t\t\t\t\t\tidsToSend.push((item.id) ? item.id() : item);\n\t\t\t\t\t\tasset_type = (this.observers.sidebar.id() === 'album' || $( '#list_item_' + idsToSend[idsToSend.length - 1]).find('.album-stack').length > 0 ) ? 'albums' : 'content';\n\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\t$('div#category_edit_drawer').find('input:checked').each(function(idx, item) {\n\t\t\t\t\t\t// For some reason, dupes can get into this and can cause problems with deletes\n\t\t\t\t\t\tif ($(item).is(':visible')) {\n\t\t\t\t\t\t\tcatsToAdd.push(parseInt($(item).closest('div[data-id]').data('id'), 10));\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\t$('div#category_edit_drawer').find('input:checkbox').each(function() {\n\t\t\t\t\t\tif ($(this).prop('indeterminate') == false && $(this).prop('checked') == false) catsToDelete.push(parseInt($(this).attr('id').replace('content_category_',''), 10));\n\t\t\t\t\t});\n\n\t\t\t\t\tif (catsToDelete.length) {\n\t\t\t\t\t\tself.observers.selection_categories('Loading...');\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'categories/' + catsToDelete.join(',') + '/' + asset_type + '/' + idsToSend.join(','),\n\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tif (!catsToAdd.length) this.observers.get_selected_asset_categories(ids);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (catsToAdd.length) {\n\t\t\t\t\t\tself.observers.selection_categories('Loading...');\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'categories/' + catsToAdd.join(',') + '/' + asset_type + '/' + idsToSend.join(','),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tthis.observers.get_selected_asset_categories(ids);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tself.views.close_sidebar_drawer();\n\n\t\t\t\t});\n\n\t\t\t\tif (this.observers.sidebar.asset.categories) {\n\t\t\t\t\t// Reset all the checkboxes\n\t\t\t\t\t$('#right-col-xtra').find('.col-row input').prop('checked',false);\n\n\t\t\t\t\t// Loop through and activate necessary checkboxes\n\t\t\t\t\tif ($.isArray(this.observers.selection_categories())) {\n\t\t\t\t\t\tthis.observers.categories().forEach(function(allCategory) {\n\t\t\t\t\t\t\tthis.observers.selection_categories().forEach(function(selectedCategory) {\n\t\t\t\t\t\t\t\tif ((typeof selectedCategory == 'object' ? selectedCategory.id : selectedCategory) == allCategory.id ) $('#right-col-xtra').find('.col-row[data-id=\"' + allCategory.id + '\"] input').attr('checked', 'checked');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.observers.drawer.id() === 'tags_edit' ) {\n\n\t\t\t\tthis.classes.autocomplete.library.tags($('#enterTagsInput input'), '#enterTagsInput', $('#tags_edit_drawer').find('button.create-tag'));\n\n\t\t\t\tthis.pubsub( 'tags.delete', function(e, data) {\n\t\t\t\t\tvar\tasset_type = self.observers.sidebar.id() === 'album' ? 'albums' : 'content';\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: asset_type + '/' + self.observers.sidebar.asset.id(),\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(updatedData) {\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.tags(updatedData.tags);\n\t\t\t\t\t\t\tthis.observers.content().forEach(function(item) {\n\t\t\t\t\t\t\t\titem.tags = $.grep(item.tags, function(tag) {\n\t\t\t\t\t\t\t\t\treturn tag.id !== data.id;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.pubsub( 'tags.save', function(e, data) {\n\n\t\t\t\t\tvar ids = (self.observers.selection().length) ? self.observers.selection() : [self.observers.sidebar.asset],\n\t\t\t\t\t\tidsToSend = [],\n\t\t\t\t\t\ttagsToAdd = [];\n\n\t\t\t\t\tids.forEach(function(item) {\n\t\t\t\t\t\tidsToSend.push((item.id) ? item.id() : item);\n\t\t\t\t\t\tasset_type = (this.observers.sidebar.id() === 'album' || $( '#list_item_' + idsToSend[idsToSend.length - 1]).find('.album-stack').length > 0 ) ? 'albums' : 'content';\n\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: asset_type + '/' + idsToSend.join(','),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tdata: 'tags=' + data.data,\n\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.observers.sidebar.asset.tags(data.tags);\n\t\t\t\t\t\t\tthis.observers.content().forEach(function(item) {\n\t\t\t\t\t\t\t\tif (item.id == data.id) item.tags = data.tags;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\tvar hasBeenEdited = false;\n\t\t\t\t$('div#tags_edit_drawer').on('click', 'input:checkbox', function(e) {\n\t\t\t\t\thasBeenEdited = true;\n\t\t\t\t});\n\n\t\t\t\tthis.pubsub('tags.multisave', function(e, data) {\n\t\t\t\t\tif (self.observers.selection().length > 1) {\n\t\t\t\t\t\tif (data && data.type === 'create') {\n\t\t\t\t\t\t\t$.each(data.data.split(','), function(i, tag) {\n\t\t\t\t\t\t\t\tself.observers.sidebar.asset.tags.push({title: tag});\n\t\t\t\t\t\t\t\t$('#tags_edit_drawer label:contains(' + tag + ')').parent().find('input').prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\thasBeenEdited = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!hasBeenEdited) return;\n\t\t\t\t\t\t\thasBeenEdited = false;\n\n\t\t\t\t\t\t\tvar toBeAdded = [],\n\t\t\t\t\t\t\t\ttoBeRemoved = [],\n\t\t\t\t\t\t\t\ttoBeDetermined = [],\n\t\t\t\t\t\t\t\ttagsCommonAcrossAll = [];\n\n\t\t\t\t\t\t\t$('div#tags_edit_drawer').find('input:checkbox').each(function() {\n\t\t\t\t\t\t\t\tif ( $(this).prop('indeterminate') == false && $(this).prop('checked') == false ) {\n\t\t\t\t\t\t\t\t\ttoBeRemoved.push($(this).parent().find('label').text());\n\t\t\t\t\t\t\t\t} else if ( $(this).prop('indeterminate') == false && $(this).prop('checked') == true ) {\n\t\t\t\t\t\t\t\t\ttoBeAdded.push($(this).parent().find('label').text());\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttoBeDetermined.push($(this).parent().find('label').text());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\ttoBeAdded.forEach(function(tag) {\n\t\t\t\t\t\t\t\ttagsCommonAcrossAll.push({title: tag});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (toBeRemoved.length) {\n\t\t\t\t\t\t\t\tvar sidebarTags = [];\n\t\t\t\t\t\t\t\tself.observers.sidebar.asset.tags().forEach(function(tag) {\n\t\t\t\t\t\t\t\t\tif (toBeRemoved.indexOf(tag.title) === -1) sidebarTags.push(tag);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tself.observers.sidebar.asset.tags(sidebarTags);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar note = this.notify().wait('Updating tags');\n\n\t\t\t\t\t\t\t$.each(self.observers.selection(), function(i, asset) {\n\n\t\t\t\t\t\t\t\tvar item = self.controllers.get_asset_by_id(asset),\n\t\t\t\t\t\t\t\t\tdataType = (self.observers.sidebar.id() === 'album' || $('#content_list li.album').length) ? 'albums' : 'content',\n\t\t\t\t\t\t\t\t\ttoBeAddedClone = toBeAdded.slice();\n\n\t\t\t\t\t\t\t\t// Add back indeterminate tags to the toBeAdded tags array\n\t\t\t\t\t\t\t\titem.tags.forEach(function(tag) {\n\t\t\t\t\t\t\t\t\tif (toBeDetermined.indexOf(tag.title) !== -1) toBeAddedClone.push(tag.title);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\trequest: dataType + '/' + item.id,\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\tdata: 'tags=' + self.helpers.unique(toBeAddedClone).join(','),\n\t\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\tthis.observers.content().forEach(function(item) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.id == data.id) {\n\t\t\t\t\t\t\t\t\t\t\t\titem.tags = data.tags;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (!data.tags.length) self.observers.selectionHasTags(false);\n\t\t\t\t\t\t\t\t\t\tif (note) {\n\t\t\t\t\t\t\t\t\t\t\tnote.success('Tags updated for ' + self.observers.selection().length + ' items');\n\t\t\t\t\t\t\t\t\t\t\tdelete note;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tself.observers.tagsCommonAcrossAll(tagsCommonAcrossAll);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tsidebar.find('.col-top-panel:first h5').text(label).closest('.col-top-panel').css('zIndex','1');\n\n\t\t\tthis.observers.drawer.state('open');\n\n\t\t\tif (this.observers.drawer.id() === 'site_link_edit') {\n\t\t\t\tvar input = $('[data-submit=\"site_link\"]').find('input[type=\"text\"]'),\n\t\t\t\t\thidden = $('[data-submit=\"site_link\"]').find('input[type=\"hidden\"]');\n\n\t\t\t\tinput.val(hidden.val());\n\n\t\t\t\tinput.off('keyup.slug').on('keyup.slug', function(e) {\n\n\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\t$(this).parents('[data-submit]').find('button').trigger('click');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t    var start = this.selectionStart,\n\t\t\t\t    \tend = this.selectionEnd;\n\n\t\t\t\t\tinput.val(input.val().toLowerCase().replace(/\\s/g, '-'));\n\n\t\t\t\t\tthis.setSelectionRange(start, end);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$(window).trigger('resize');\n\n\t\t\tsidebar.show().animate({\n\t\t\t\tright: '0px'\n\t\t\t}, {\n\t\t\t\teasing: config.easing,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tif (self.observers.drawer.id() === 'tags_edit') {\n\t\t\t\t\t\t$('#tags_edit_drawer input[placeholder=\"Enter tags\"]').focus();\n\t\t\t\t\t}\n\t\t\t\t\tif (self.observers.drawer.id() === 'category_edit') {\n\t\t\t\t\t\t$('#category_edit_drawer input[placeholder=\"Enter categories\"]').focus();\n\t\t\t\t\t}\n\n\t\t\t\t\t$('[data-submit=\"site_link\"] input[type=\"text\"]').focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('input.field').off('.drawer_e').on('keydown.drawer_e', function(e) {\n\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t// Fix for sheets losing ENTER priority\n\t\t\t\t\tif ($(e.target).closest('.ui-sheet').length >= 1) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif ($(e.target).val() !== '' && !$(e.target).hasClass('autocompleting')) {\n\t\t\t\t\t\t$(e.target).parent().next().find('button').length && $(e.target).parent().next().find('button').trigger('click');\n\t\t\t\t\t\t$(e.target).parent().next().find('button').length && $(e.target).val('').focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tclose_sidebar_drawer: function() {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.observers.drawer.state('closed');\n\n\t\t\t$('#right-col-xtra').animate({\n\t\t\t\tright: '-250px'\n\t\t\t}, {\n\t\t\t\teasing: config.easing,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tself.observers.multiHistory.reset();\n\t\t\t\t\tself.observers.singleHistory.reset();\n\t\t\t\t\t$(this).height(1).hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tasset_multi_view: function(asset) {\n\n\t\t\tthis.observers.sidebar.id('content');\n\n\t\t\tvar sel\t\t= $('#lib-content-sel'),\n\t\t\t\timg\t\t= sel.find('img'),\n\t\t\t\tself\t= this,\n\t\t\t\tw, h, path;\n\n\t\t\tif (asset.html) {\n\t\t\t\timg.hide();\n\t\t\t\tsel.find('.mejs-container').remove();\n\t\t\t\tsel.fitVids();\n\t\t\t\tsel.css('height', sel.find('div').height());\n\n\t\t\t\tif (this.observers.view() === 'single') {\n\t\t\t\t\tthis.views.asset_single_view();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.observers.sidebar.last.id === asset.id &&\n\t\t\t\tthis.observers.sidebar.last.modified === asset.modified_on.timestamp)\n\t\t\t{\n\t\t\t\tsel.height(this.observers.sidebar.last.height);\n\t\t\t\tthis.views.asset_single_view()\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( asset.visibility.raw === 'private' ) {\n\t\t\t\t$('#mid-menu-top [data-menu=\"share_dropdown_menu\"]').addClass('disabled');\n\t\t\t} else {\n\t\t\t\t$('#mid-menu-top [data-menu=\"share_dropdown_menu\"]').removeClass('disabled');\n\t\t\t}\n\n\t\t\tif (asset.file_type === 'image') {\n\n\t\t\t\tif ( asset.aspect_ratio > (219/165) ) {\n\t\t\t\t\tw = 219;\n\t\t\t\t\th = Math.round( 219 / asset.aspect_ratio );\n\t\t\t\t} else {\n\t\t\t\t\tw = Math.round( 165 * asset.aspect_ratio );\n\t\t\t\t\th = 165;\n\t\t\t\t}\n\n\t\t\t\tpath = asset.presets.medium[this.config.retina ? 'hidpi_url' : 'url'];\n\n\t\t\t} else {\n\n\t\t\t\tw = 219;\n\t\t\t\th = 165;\n\t\t\t\tpath = asset.original.url;\n\n\t\t\t}\n\n\t\t\tsel.addClass('loading');\n\n\t\t\tif ( this.observers.sidebar.last.id ) {\n\t\t\t\tsel.height(this.observers.sidebar.last.height);\n\t\t\t} else {\n\t\t\t\tsel.height(h);\n\t\t\t}\n\n\t\t\tif (asset.file_type === 'image') {\n\t\t\t\tsel.find('.mejs-container').remove();\n\t\t\t\timg.show();\n\t\t\t\tif (path !== img.attr('src')) {\n\n\t\t\t\t\timg.attr( 'width', w )\n\t\t\t\t\t\t.attr( 'height', h )\n\t\t\t\t\t\t.css({ opacity: 0 })\n\t\t\t\t\t\t.unbind('load')\n\t\t\t\t\t\t.bind( 'load', function() {\n\t\t\t\t\t\t\tsel.stop().animate({\n\t\t\t\t\t\t\t\theight: $(this).height() + 'px'\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tduration: 300,\n\t\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t\tsel.removeClass('loading');\n\t\t\t\t\t\t\t\t\timg.animate({ opacity: 1 }, 300);\n\t\t\t\t\t\t\t\t\t$(window).trigger('library.resize');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.attr( 'src', path );\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\timg.hide();\n\n\t\t\t\tif (sel.find('video') && sel.find('video').attr('src') !== path) {\n\n\t\t\t\t\tsel.find('.mejs-container').remove();\n\t\t\t\t\tvar vid = $('<video/>')\n\t\t\t\t\t\t\t\t.attr('width', w)\n\t\t\t\t\t\t\t\t.attr('height', h)\n\t\t\t\t\t\t\t\t.attr('src', path);\n\n\t\t\t\t\tvid.appendTo(sel);\n\n\t\t\t\t\tsel.removeClass('loading');\n\t\t\t\t\tsel.animate({\n\t\t\t\t\t\theight: h +'px'\n\t\t\t\t\t});\n\n\t\t\t\t\tsel.stop().animate({\n\t\t\t\t\t\theight: h + 'px'\n\t\t\t\t\t}, {\n\t\t\t\t\t\tduration: 300,\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$(window).trigger('library.resize');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tvid.mediaelementplayer({\n\t\t\t\t\t\tpluginPath: 'js/',\n\t\t\t\t\t\tvideoWidth: w,\n\t\t\t\t\t\tvideoHeight: h,\n\t\t\t\t\t\tflashName: 'flashmediaelement.swf'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.observers.sidebar.last = {\n\t\t\t\tid: asset.id,\n\t\t\t\twidth: w,\n\t\t\t\theight: h,\n\t\t\t\tmodified: asset.modified_on.timestamp\n\t\t\t};\n\n\t\t\tif (this.observers.view() === 'single') {\n\t\t\t\tthis.views.asset_single_view();\n\t\t\t}\n\n\t\t},\n\n\t\tasset_position_focal: function() {\n\t\t\tvar id\t\t= this.observers.selection()[0],\n\t\t\t\tindex\t= $('#list_item_' + id).data('index'),\n\t\t\t\tasset = this.observers.content()[index],\n\t\t\t\timg = $('#mid-single-wrap').find('img');\n\n\t\t\tvar wrap_offset = $('#mid-single-wrap').offset();\n\t\t\tvar img_offset = img.offset();\n\n\t\t\tif (img.length) {\n\t\t\t\t$('#focal_point_wrapper').css({\n\t\t\t\t\twidth: img.width(),\n\t\t\t\t\theight: img.height(),\n\t\t\t\t\ttop: img_offset.top - wrap_offset.top,\n\t\t\t\t\tleft: img_offset.left - wrap_offset.left\n\t\t\t\t});\n\n\t\t\t\t$('#focal_point').css({\n\t\t\t\t\ttop: img.height() * (asset.focal_point.y / 100) - 25,\n\t\t\t\t\tleft: img.width() * (asset.focal_point.x / 100) - 25\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tasset_single_view: function() {\n\n\t\t\tif ( this.observers.selection().length ) {\n\n\t\t\t\tvar id\t\t= this.observers.selection()[0],\n\t\t\t\t\tindex\t= $('#list_item_' + id).data('index'),\n\t\t\t\t\tasset = this.observers.content()[index];\n\n\t\t\t\tif (asset) {\n\n\t\t\t\t\tvar mid_single = $('#mid-single-img'),\n\t\t\t\t\t\tmid_div\t= $('#mid-single-wrap'),\n\t\t\t\t\t\tdims,\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tmid_single.addClass('loading');\n\t\t\t\t\tmid_div.children().not('#focal_point_wrapper,#focal_point,#custom_single_html,.kspinner').remove();\n\n\t\t\t\t\tif (asset.html) {\n\t\t\t\t\t\tmid_single.removeClass('loading');\n\t\t\t\t\t\tmid_single.fitVids();\n\t\t\t\t\t}\n\t\t\t\t\telse if ( asset.file_type === 'image' ) {\n\n\t\t\t\t\t\t$('<img/>').css({ opacity: 0 })\n\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\tmid_single.removeClass('loading');\n\t\t\t\t\t\t\t\t$(this).animate({ 'opacity': 1 });\n\n\t\t\t\t\t\t\t\tself.asset_position_focal();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.appendTo(mid_div);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmid_single.removeClass('loading');\n\n\t\t\t\t\t\tdims = this.helpers.viewport_area();\n\n\t\t\t\t\t\tvar vid = $('<video/>')\n\t\t\t\t\t\t\t\t\t.attr('src', asset.original.url)\n\t\t\t\t\t\t\t\t\t.attr('poster', asset.presets ? asset.presets.medium[this.config.retina ? 'hidpi_url' : 'url'] : '');\n\n\t\t\t\t\t\t$('<div/>')\n\t\t\t\t\t\t\t.attr('id', 'mid-single-video')\n\t\t\t\t\t\t\t.append(vid)\n\t\t\t\t\t\t\t.prependTo(mid_div);\n\n\t\t\t\t\t\t\tvid.mediaelementplayer({\n\t\t\t\t\t\t\t\tpluginPath: 'js/',\n\t\t\t\t\t\t\t\tenableAutosize: true,\n\t\t\t\t\t\t\t\tvideoWidth: '100%',\n\t\t\t\t\t\t\t\tvideoHeight: '100%',\n\t\t\t\t\t\t\t\tflashName: 'flashmediaelement.swf',\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tself.asset_resize(asset);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.asset_resize(asset);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tasset_resize: function(asset) {\n\t\t\tif (!asset) {\n\t\t\t\tvar id\t\t= this.observers.selection()[0],\n\t\t\t\t\tindex\t= $('#list_item_' + id).data('index');\n\n\t\t\t\tasset = this.observers.content()[index];\n\n\t\t\t\tif (!asset) { return; }\n\t\t\t}\n\n\t\t\tif (asset.html) {\n\n\t\t\t\tvar el = $('#custom_single_html').children().first(),\n\t\t\t\t\th = el.outerHeight(),\n\t\t\t\t\ttop = (($('#custom_single_html').height() - h) / 2);\n\n\t\t\t\tel.css('top', top);\n\n\t\t\t\tif (h === 0) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.asset_resize(asset);\n\t\t\t\t\t}, 100);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t} else if (asset.file_type === 'image') {\n\t\t\t\tvar dims\t= this.asset_dimensions(asset);\n\n\t\t\t\tvar w = dims.width,\n\t\t\t\t\th = dims.height;\n\n\t\t\t\tthis.asset_position_focal();\n\n\t\t\t\tvar img = $('#mid-single-img img'),\n\t\t\t\t\tsrc;\n\n\t\t\t\tif (asset.presets) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\t$.each(asset.presets, function(i, p) {\n\t\t\t\t\t\tif (p.width > w && p.height > h) {\n\t\t\t\t\t\t\tsrc = p[self.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsrc = p[self.config.retina ? 'hidpi_url' : 'url'];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsrc = this.config.fallback_previews[asset.file_type];\n\t\t\t\t}\n\n\t\t\t\timg.attr('src', src);\n\n\t\t\t\tthis.controllers.focal_draggable();\n\t\t\t} else {\n\t\t\t\tthis.observers.focal_point(false);\n\t\t\t}\n\n\t\t},\n\n\t\tasset_dimensions: function(asset) {\n\n\t\t\tvar dims\t\t= this.helpers.viewport_area(),\n\t\t\t\tmid_w\t\t= dims.width - 60,\n\t\t\t\tmid_h\t\t= dims.height - 60,\n\t\t\t\tmid_aspect\t= mid_w / mid_h,\n\t\t\t\th\t\t\t= mid_h,\n\t\t\t\taspect\t\t= asset.aspect_ratio === null ? 1 : asset.aspect_ratio,\n\t\t\t\tw\t\t\t= Math.round( h * aspect );\n\n\t\t\tif ( aspect >= mid_aspect ) {\n\t\t\t\tw = mid_w;\n\t\t\t\th = Math.round( w / asset.aspect_ratio );\n\t\t\t}\n\n\t\t\tif (asset.width && asset.width < w) {\n\t\t\t\tw = asset.width;\n\t\t\t\th = Math.round( w / asset.aspect_ratio );\n\t\t\t}\n\n\t\t\tif (asset.height && asset.height < h) {\n\t\t\t\th = asset.height;\n\t\t\t\tw = Math.round( h * aspect );\n\t\t\t}\n\n\t\t\treturn { mid_w: mid_w, mid_h: mid_h, width: w, height: h };\n\n\t\t}\n\n\t},\n\n\tmodels: function() {\n\n\t\tvar self = this;\n\n\t\treturn {\n\n\t\t\talbums: {\n\n\t\t\t\tcovers: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + val.album + '/covers/' + val.ids,\n\t\t\t\t\t\t\tmethod: val.type,\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tif ( data !== null ) {\n\t\t\t\t\t\t\t\t\tself.observers.properties.album.selected().album.covers = data.covers;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (val.rmId) {\n\t\t\t\t\t\t\t\t\t\tvar cov = [];\n\t\t\t\t\t\t\t\t\t\t$.each( self.observers.properties.album.selected().album.covers, function(k,v) {\n\t\t\t\t\t\t\t\t\t\t\tif ( v.id != val.rmId ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcov.push(v);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tself.observers.properties.album.selected().album.covers = cov;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$.each( val.ids, function(i, id) {\n\t\t\t\t\t\t\t\t\t\tif (self.observers.api_url().match(/covers:1/)) {\n\t\t\t\t\t\t\t\t\t\t\t$('#list_item_' + id).remove();\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$('#list_item_' + id).removeClass('cover');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(self,data); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfeatured: {\n\n\t\t\t\tcontent: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\tvar accept = [];\n\n\t\t\t\t\t\t$.each( val, function(k,v) {\n\t\t\t\t\t\t\tif ( $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.featured').css('display') === 'none' && $('#content_list li[data-id=\"' + v.id + '\"]').find('.badge.featured').css('display') === 'none' ) {\n\t\t\t\t\t\t\t\taccept.push(v);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tval = accept;\n\n\t\t\t\t\t\tif ( val.length > 0 ) {\n\n\t\t\t\t\t\t\trequestAnimationFrame( function() {\n\t\t\t\t\t\t\t\tself.controllers.update('content', val, {\n\t\t\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\t\t\tupdated: function(items) {\n\n\t\t\t\t\t\t\t\t\t\tif (items.length === 1) {\n\t\t\t\t\t\t\t\t\t\t\tself.notify().success(items[0].filename + ' added to Featured content');\n\t\t\t\t\t\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\t\t\t\t\t\tself.notify().success(items.length + ' items added to Featured content');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(self,false); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\talbums: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\t\tself.controllers.update('albums', val, {\n\t\t\t\t\t\t\t\tinstant: true,\n\t\t\t\t\t\t\t\tupdated: function(items) {\n\t\t\t\t\t\t\t\t\tif (items.length === 1) {\n\t\t\t\t\t\t\t\t\t\tself.notify().success('\"' + items[0].title + '\" added to Featured albums');\n\t\t\t\t\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\t\t\t\t\tself.notify().success(items.length + ' albums added to Featured albums');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( self.observers.api_url().indexOf('albums/featured') === 0 ) {\n\t\t\t\t\t\t\t\t\t\trequestAnimationFrame( function() {\n\t\t\t\t\t\t\t\t\t\t\tself.controllers.load_content();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(self,false); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\ttrash: {\n\n\t\t\t\talbums: {\n\n\t\t\t\t\tset: function(val,cb) {\n\n\t\t\t\t\t\tvar album = $('#content_subnav li[data-id=\"' + val + '\"]');\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'trash/albums:' + val,\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.properties.trash.total(data.total);\n\t\t\t\t\t\t\t\tthis.notify().success( album.find('.item').text() + ' was moved to the Trash');\n\t\t\t\t\t\t\t\tif (this.observers.api_url().indexOf('albums/' + val) !== -1) {\n\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library', 2 );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.controllers.load_content();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( cb && typeof cb === 'function' ) { cb.call(this,false); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\tobservers: function() {\n\n\t\tvar self = this,\n\t\tcookies = {};\n\n\t\tcookies.search_filter = ( this.cookie('library:search_filter') !== null ) ? this.cookie('library:search_filter') : 'tags';\n\t\tcookies.open_sets = ( this.cookie('library:open_sets') !== null ) ? $.map( this.cookie('library:open_sets').split(','), function(k,v) { return parseInt(k,10); }) : [];\n\t\tcookies.thumbnail_scale = ( this.cookie('library:thumbnail_scale') !== null ) ? parseInt(this.cookie('library:thumbnail_scale'), 10) : 100;\n\n\t\treturn {\n\n\t\t\tis_uploadable: ko.observable(false),\n\t\t\tis_sortable: ko.observable(false),\n\t\t\tis_quick_collection: ko.observable(false),\n\t\t\tisContent: ko.observable(true),\n\t\t\tshow_root_site_links: ko.observable(false),\n\t\t\tdefault_sort: ko.observable('published_on'),\n\t\t\tsortable: ko.observable(false),\n\t\t\tsession: self.session(),\n\t\t\tapi_url: ko.observable(''),\n\t\t\tselection: ko.observableArray([]),\n\t\t\tview: ko.observable('grid'),\n\t\t\tthumbnail_scale: ko.observable(cookies.thumbnail_scale),\n\t\t\torder_by: ko.observable('published_on'),\n\t\t\torder_direction: ko.observable('desc'),\n\t\t\tloading: ko.observable(false),\n\t\t\tsearch_filter: ko.observable(cookies.search_filter),\n\t\t\tsearch: ko.observable(''),\n\t\t\tquick_collection: ko.observableArray( self.persist('library.quick_collection') ? self.persist('library.quick_collection').split(',').map( function(id) { return Number(id); }) : [] ),\n\t\t\tyear: ko.observable(false),\n\t\t\tmonth: ko.observable(false),\n\t\t\tyears: ko.observableArray([]),\n\t\t\tfirstTime: ko.observable(true),\n\t\t\tis_collection: ko.observable(false),\n\t\t\tisBeingDropped: false,\n\t\t\tdrawerOpen: false,\n\t\t\tpluginPath: ko.observable(''),\n\t\t\tfocal_point: ko.observable(false),\n\t\t\tmultiTagsBeingPushed: ko.observableArray([]),\n\t\t\ttagsCommonAcrossAll: ko.observableArray([]),\n\t\t\tselectionHasTags: ko.observable(false),\n\t\t\ttrashRestoreDisabled: ko.observable('disabled'),\n\n\t\t\tsingleHistory: {\n\t\t\t\ttype: ko.observable('assign'),\n\t\t\t\treset: function() {\n\t\t\t\t\tthis.type('assign');\n\t\t\t\t}\n\t\t\t},\n\t\t\tmultiHistory: {\n\t\t\t\tnote: null,\n\t\t\t\tdrawer: ko.observable(''),\n\t\t\t\ttype: ko.observable('assign'),\n\t\t\t\tdate: {\n\t\t\t\t\tyears: ko.observable(0),\n\t\t\t\t\tmonths: ko.observable(0),\n\t\t\t\t\tdays: ko.observable(0),\n\t\t\t\t\thours: ko.observable(0),\n\t\t\t\t\tminutes: ko.observable(0)\n\t\t\t\t},\n\t\t\t\tgetNow: function() {\n\t\t\t\t\treturn moment(Date()).format('YYYY/MM/DD HH:mm:SS');\n\t\t\t\t},\n\t\t\t\treset: function() {\n\t\t\t\t\tthis.date.years(0);\n\t\t\t\t\tthis.date.months(0);\n\t\t\t\t\tthis.date.days(0);\n\t\t\t\t\tthis.date.hours(0);\n\t\t\t\t\tthis.date.minutes(0);\n\t\t\t\t\tthis.type('assign');\n\t\t\t\t\tthis.drawer('');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tnext_item: function() {\n\t\t\t\t$('object, embed').remove();\n\t\t\t\tvar new_index = this.observers.properties.content.selected.index() + 1;\n\t\t\t\tif (new_index < this.observers.content().length) {\n\t\t\t\t\tvar item  = this.observers.content()[ new_index ];\n\t\t\t\t\tnew_index = item.id;\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: new_index });\n\t\t\t\t} else if (this.observers.content().length < this.observers.properties.overall.total()) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.controllers.load_content({\n\t\t\t\t\t\tcb: function(data) {\n\t\t\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: data[0].id });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tprev_item: function() {\n\t\t\t\t$('object, embed').remove();\n\t\t\t\tvar new_index = this.observers.properties.content.selected.index() - 1;\n\t\t\t\tif (new_index >= 0) {\n\t\t\t\t\tvar item  = this.observers.content()[ new_index ];\n\t\t\t\t\tnew_index = item.id;\n\t\t\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: new_index });\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tloadstamp: 0,\n\t\t\tis_loading: false,\n\t\t\tpassengers: {\n\t\t\t\tqueue: {},\n\t\t\t\tinterval: false,\n\t\t\t\tnext_page: false\n\t\t\t},\n\t\t\theader: {\n\t\t\t\ttitle: ko.observable('Content'),\n\t\t\t\ticon: ko.observable('label-every'),\n\t\t\t\tcollection: ko.observable('Content')\n\t\t\t},\n\t\t\tproperties: {\n\t\t\t\thasUploadedContent: false,\n\t\t\t\tcollections: {\n\t\t\t\t\tselected: ko.observable('Everything')\n\t\t\t\t},\n\t\t\t\tpaths: self.config.paths,\n\t\t\t\toverall: {\n\t\t\t\t\ttotal: ko.observable(0),\n\t\t\t\t\tcounts: {\n\t\t\t\t\t\timages: ko.observable(0),\n\t\t\t\t\t\tvideos: ko.observable(0),\n\t\t\t\t\t\taudio: ko.observable(0),\n\t\t\t\t\t\talbums: ko.observable(0),\n\t\t\t\t\t\tsets: ko.observable(0),\n\t\t\t\t\t\ttotal: ko.observable(0)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tselected: {\n\t\t\t\t\t\tid: ko.observable([]),\n\t\t\t\t\t\tindex: ko.observable(-1),\n\t\t\t\t\t\ttotal: ko.observable(0),\n\t\t\t\t\t\ttext: ko.observable('Select all')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talbum: {\n\t\t\t\t\tselected: ko.observable({})\n\t\t\t\t},\n\t\t\t\tmulti: {\n\t\t\t\t\tselected: ko.observable({}),\n\t\t\t\t\tlabels: ko.observable({})\n\t\t\t\t},\n\t\t\t\ttrash: {\n\t\t\t\t\ttotal: ko.observable(0)\n\t\t\t\t}\n\t\t\t},\n\t\t\topen_sets: ko.observableArray(cookies.open_sets),\n\t\t\tisMultiAlbum: ko.observable(false),\n\t\t\tsidebar: {\n\t\t\t\tid: ko.observable('fixed'),\n\t\t\t\tlast: {},\n\t\t\t\thasgeo: ko.observable(false),\n\t\t\t\tasset: {\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\talbum_type: ko.observable(false),\n\t\t\t\t\ttags: ko.observableArray([]),\n\t\t\t\t\tcategories: {\n\t\t\t\t\t\tcount: ko.observable(0),\n\t\t\t\t\t\turl: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tmax_download: {\n\t\t\t\t\t\tclean: ko.observable(''),\n\t\t\t\t\t\traw: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tsource: {\n\t\t\t\t\t\turl: ko.observable(false)\n\t\t\t\t\t},\n\t\t\t\t\tlicense: {\n\t\t\t\t\t\tclean: ko.observable(''),\n\t\t\t\t\t\traw: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tvisibility: {\n\t\t\t\t\t\tclean: ko.observable(''),\n\t\t\t\t\t\traw: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\turl: ko.observable(false),\n\t\t\t\t\thtml: ko.observable(false)\n\t\t\t\t},\n\t\t\t\tmulti: {\n\t\t\t\t\ttags: {\n\t\t\t\t\t\tcommon: ko.observableArray([]),\n\t\t\t\t\t\tall: ko.observableArray([])\n\t\t\t\t\t},\n\t\t\t\t\tcategories: ko.observableArray([])\n\t\t\t\t}\n\t\t\t},\n\t\t\tdropdowns: {\n\t\t\t\tsearch: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Search by tag',\n\t\t\t\t\t\t\t'class': 'opt-tags',\n\t\t\t\t\t\t\tevent: 'search_filter_change'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Search by category',\n\t\t\t\t\t\t\t'class': 'opt-category',\n\t\t\t\t\t\t\tevent: 'search_filter_change'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Search by file name',\n\t\t\t\t\t\t\t'class': 'opt-filename',\n\t\t\t\t\t\t\tevent: 'search_filter_change'\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('search'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t},\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tif ( this.observers.api_url().indexOf('albums') >= 0 ) {\n\t\t\t\t\t\t\t$('#search_dd li:last .w span').text('Search by title').removeClass('opt-filename').addClass('opt-title');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#search_dd li:last .w span').text('Search by file name').removeClass('opt-title').addClass('opt-filename');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tedit: {\n\t\t\t\t\tfeatured: function(c) {\n\n\t\t\t\t\t\tvar selected\t= c.selection().slice(),\n\t\t\t\t\t\t\tcontent\t\t= c.content(),\n\t\t\t\t\t\t\tret\t\t\t= true;\n\n\t\t\t\t\t\t$.each( selected, function(k,v) {\n\t\t\t\t\t\t\t$.each( content, function(j,w) {\n\t\t\t\t\t\t\t\tif ( w.id == v ) {\n\t\t\t\t\t\t\t\t\tif ( w.featured == 0 ) {\n\t\t\t\t\t\t\t\t\t\tret = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn (ret) ? 'Unmark' : 'Mark';\n\n\t\t\t\t\t},\n\n\t\t\t\t\tfavorite: function(c) {\n\n\t\t\t\t\t\tvar selected\t= c.selection().slice(),\n\t\t\t\t\t\t\tcontent\t\t= c.content(),\n\t\t\t\t\t\t\tret\t\t\t= true;\n\n\t\t\t\t\t\t$.each( selected, function(k,v) {\n\t\t\t\t\t\t\t$.each( content, function(j,w) {\n\t\t\t\t\t\t\t\tif ( w.id == v ) {\n\t\t\t\t\t\t\t\t\tif ( w.favorite == 0 ) {\n\t\t\t\t\t\t\t\t\t\tret = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn (ret) ? 'Unmark' : 'Mark';\n\n\t\t\t\t\t},\n\n\t\t\t\t\tquick: function(c) {\n\n\t\t\t\t\t\tvar selected\t= c.selection().slice(),\n\t\t\t\t\t\t\tquick\t\t= c.quick_collection(),\n\t\t\t\t\t\t\tret\t\t\t= true;\n\n\t\t\t\t\t\t$.each( selected, function(k,v) {\n\t\t\t\t\t\t\tif ($.inArray(v, quick) === -1) {\n\t\t\t\t\t\t\t\tret = false;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn (ret) ? 'Remove from' : 'Add to';\n\n\t\t\t\t\t},\n\n\t\t\t\t\tcovers: function(c,bool) {\n\n\t\t\t\t\t\tif ( ! c.properties.album.selected().album ) { return ''; }\n\n\t\t\t\t\t\tvar selected\t= c.selection(),\n\t\t\t\t\t\t\tcontent\t\t= c.properties.album.selected().album.covers,\n\t\t\t\t\t\t\tret\t\t\t= [];\n\n\t\t\t\t\t\t$.each(self.observers.properties.album.selected().album.covers, function(i, cover) {\n\t\t\t\t\t\t\tif ($('#mid-content li.selected').data('id') == cover.id) {\n\t\t\t\t\t\t\t\tret.push(cover)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ( content.length > 3 ) {\n\t\t\t\t\t\t\t$('#al-covers').show();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( ret.length > 0 ) {\n\t\t\t\t\t\t\t\t$('#al-covers').hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#al-covers').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( c.properties.album.selected().album.album_type == 'set' ) {\n\t\t\t\t\t\t\t$('#al-covers').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (content.length <= 3 && ret.length > 0) {\n\t\t\t\t\t\t\t$('#al-covers').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn ( ret.length > 0 ) ? 'Unassign' : 'Assign';\n\n\t\t\t\t\t},\n\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Rotate left',\n\t\t\t\t\t\t\tdesc\t: 'Rotate original counter-clockwise',\n\t\t\t\t\t\t\t'class'\t: 'opt-rotate-l',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length === 1 && sidebar.asset.file_type && sidebar.asset.file_type() != 'video' && sidebar.asset.file_type() != 'audio'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Rotate right',\n\t\t\t\t\t\t\tdesc\t: 'Rotate original clockwise',\n\t\t\t\t\t\t\t'class'\t: 'opt-rotate-r',\n\t\t\t\t\t\t\tbind\t: \"visible: sidebar.asset && selected_type() === 'content' && selection().length === 1 && sidebar.asset.file_type && sidebar.asset.file_type() != 'video' && sidebar.asset.file_type() != 'audio'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Replace original',\n\t\t\t\t\t\t\tdesc\t: 'Replace original with new upload',\n\t\t\t\t\t\t\tid\t\t: 'replace_content',\n\t\t\t\t\t\t\t'class'\t: 'opt-replace',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length === 1 && (!sidebar.asset.html || !sidebar.asset.html())\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Download original',\n\t\t\t\t\t\t\tdesc\t: 'Download original file to hard drive',\n\t\t\t\t\t\t\t'class'\t: 'opt-dl',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length === 1 && (!sidebar.asset.html || !sidebar.asset.html())\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml\t: '<span class=\"feat-type bind\" data-bind=\"text: dropdowns.edit.featured(observers)\"></span></span> as featured',\n\t\t\t\t\t\t\tdesc\t: 'Mark selection as featured',\n\t\t\t\t\t\t\t'class'\t: 'opt-feat',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() !== ''\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml\t: '<span class=\"fav-type bind\" data-bind=\"text: dropdowns.edit.favorite(observers)\"></span></span> as favorite',\n\t\t\t\t\t\t\tdesc\t: 'Mark selection as a favorite',\n\t\t\t\t\t\t\t'class'\t: 'opt-fave',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml\t: '<span class=\"feat-cover bind\" data-bind=\"text: dropdowns.edit.covers(observers)\"></span></span> as cover',\n\t\t\t\t\t\t\tdesc\t: 'Add selection to album covers',\n\t\t\t\t\t\t\t'class'\t: 'opt-cover',\n\t\t\t\t\t\t\tid\t\t: 'al-covers',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && selection().length == 1 && properties.album.selected().album\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Display at sign-in',\n\t\t\t\t\t\t\tdesc\t: 'Use selection as background image',\n\t\t\t\t\t\t\t'class'\t: 'opt-bg',\n\t\t\t\t\t\t\tbind\t: \"visible: sidebar.asset && selected_type() === 'content' && selection().length === 1 && sidebar.asset.file_type && sidebar.asset.file_type() != 'video' && sidebar.asset.file_type() != 'audio'\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Remove from album',\n\t\t\t\t\t\t\tdesc\t: 'Remove selection from this album',\n\t\t\t\t\t\t\t'class'\t: 'opt-remove',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && properties.album.selected().album\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Remove from set',\n\t\t\t\t\t\t\tdesc\t: 'Remove album from this set',\n\t\t\t\t\t\t\t'class'\t: 'opt-remove',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'set' && properties.album.selected().album\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Remove from collection',\n\t\t\t\t\t\t\tdesc\t: 'Remove selection from this collection',\n\t\t\t\t\t\t\t'class'\t: 'opt-remove',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'content' && is_collection()\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Move to trash',\n\t\t\t\t\t\t\tdesc\t: 'Move selection to trash',\n\t\t\t\t\t\t\t'class'\t: 'opt-trash'\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tif ( $('.opt-replace').closest('li').css('display') !== 'none' ) {\n\t\t\t\t\t\t\tthis.interfaces.app.controllers.replace.init.call(self);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tevent: ko.observable('edit_menu'),\n\t\t\t\t\tid: ko.observable('edit'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '8px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsort: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Manual',\n\t\t\t\t\t\t\tdesc\t: 'User defined sort order',\n\t\t\t\t\t\t\tbind\t: \"visible: sortable() === true || api_url().match(/^albums\\\\/\\\\d+\\\\/content/), css: { check: order_by() === 'manual' }, click: function() { change_order_by('manual'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Aspect ratio',\n\t\t\t\t\t\t\tdesc\t: 'Sort by aspect ratio',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'aspect_ratio' }, click: function() { change_order_by('aspect_ratio'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date captured',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date captured',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'captured_on' }, click: function() { change_order_by('captured_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date created',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date created',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() === 'set', css: { check: order_by() === 'created_on' }, click: function() { change_order_by('created_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date modified',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date modified',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'modified_on' }, click: function() { change_order_by('modified_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date published',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date published',\n\t\t\t\t\t\t\tbind\t: \"visible: !api_url().match(/\\\\/(unlisted|privat)/), css: { check: order_by() === 'published_on' }, click: function() { change_order_by('published_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date uploaded',\n\t\t\t\t\t\t\tdesc\t: 'Sort by date uploaded',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'uploaded_on' }, click: function() { change_order_by('uploaded_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Dimension',\n\t\t\t\t\t\t\tdesc\t: 'Sort by dimension',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'dimension' }, click: function() { change_order_by('dimension'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Filename',\n\t\t\t\t\t\t\tdesc\t: 'Sort by filename',\n\t\t\t\t\t\t\tbind\t: \"visible: selected_type() != 'set', css: { check: order_by() === 'filename' }, click: function() { change_order_by('filename'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Title',\n\t\t\t\t\t\t\tdesc\t: 'Sort by title',\n\t\t\t\t\t\t\tbind\t: \"visible: sortable() === true, css: { check: order_by() === 'title' }, click: function() { change_order_by('title'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'insert_break'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Ascending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results ascending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'asc' }, click: function() { change_order_direction('asc'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Descending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results descending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'desc' }, click: function() { change_order_direction('desc'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('sort'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '42px',\n\t\t\t\t\tposition: ko.observable('above'),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'None',\n\t\t\t\t\t\t\tdesc\t: 'No filters',\n\t\t\t\t\t\t\tbind\t: \"css: { check: dropdowns.filter.selected() === 'none' }, click: function() { dropdowns.filter.selected('none'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Covers',\n\t\t\t\t\t\t\tdesc\t: 'Show album cover images only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album, css: { check: dropdowns.filter.selected() === 'covers' }, click: function() { dropdowns.filter.selected('covers'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Public',\n\t\t\t\t\t\t\tdesc\t: 'Show public content only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album && order_by() !== 'published_on', css: { check: dropdowns.filter.selected() === 'public' }, click: function() { dropdowns.filter.selected('public'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Unlisted',\n\t\t\t\t\t\t\tdesc\t: 'Show unlisted content only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album && order_by() !== 'published_on', css: { check: dropdowns.filter.selected() === 'unlisted' }, click: function() { dropdowns.filter.selected('unlisted'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Private',\n\t\t\t\t\t\t\tdesc\t: 'Show private content only',\n\t\t\t\t\t\t\tbind\t: \"visible: properties.album.selected().album && order_by() !== 'published_on', css: { check: dropdowns.filter.selected() === 'private' }, click: function() { dropdowns.filter.selected('private'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Independent',\n\t\t\t\t\t\t\tdesc\t: 'Show content not in a collection',\n\t\t\t\t\t\t\tbind\t: \"visible: !properties.album.selected().album, css: { check: dropdowns.filter.selected() === 'independent' }, click: function() { dropdowns.filter.selected('independent'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Photo',\n\t\t\t\t\t\t\tdesc\t: 'Show photos only',\n\t\t\t\t\t\t\tbind\t: \"css: { check: dropdowns.filter.selected() === 'photo' }, click: function() { dropdowns.filter.selected('photo'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Video',\n\t\t\t\t\t\t\tdesc\t: 'Show videos only',\n\t\t\t\t\t\t\tbind\t: \"css: { check: dropdowns.filter.selected() === 'video' }, click: function() { dropdowns.filter.selected('video'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tselected: ko.observable('none'),\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\tid: ko.observable('filter'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '42px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshare: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Twitter',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-twitter'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Facebook',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-facebook'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Google+',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-google'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Tumblr',\n\t\t\t\t\t\t\tevent\t: 'share',\n\t\t\t\t\t\t\t'class'\t: 'opt-tumblr'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Embed',\n\t\t\t\t\t\t\t'class'\t: 'opt-embed',\n\t\t\t\t\t\t\tbind\t: \"click: function() { this.classes.modal.share_asset.show(); }, visible: sidebar.asset.file_type() === 'image'\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('share'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '82px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdrawer: {\n\t\t\t\tid: ko.observable('default_edit'),\n\t\t\t\tstate: ko.observable('closed'),\n\t\t\t\ttemplate: function(c) {\n\t\t\t\t\treturn c.drawer.id();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent_type: function(c) {\n\t\t\t\tif ( c.album_type ) {\n\t\t\t\t\treturn 'mid_multi_album_item';\n\t\t\t\t} else if ( c.data ) {\n\t\t\t\t\treturn 'mid_multi_trash_item';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'mid_multi_content_item';\n\t\t\t\t}\n\t\t\t},\n\t\t\talbum_class: function(data) {\n\n\t\t\t\tvar type = '';\n\n\t\t\t\tif ( data.album_type === 'smart' ) {\n\t\t\t\t\ttype = '-smart';\n\t\t\t\t} else if ( data.album_type === 'set' ) {\n\t\t\t\t\ttype = '-set';\n\t\t\t\t}\n\n\t\t\t\treturn 'icon16 label-album' + type;\n\n\t\t\t},\n\t\t\t// Selected assets need to call a separate API request to get the albums\n\t\t\t// they are a part of, these get pushed into the `selection_albums` observable\n\t\t\tselection_albums: ko.observable([]),\n\t\t\tget_selected_asset_albums: function() {\n\t\t\t\tthis.selection_albums('Loading...');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'content/' + this.sidebar.asset.id() + '/albums/context',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.albums.length) {\n\t\t\t\t\t\t\tthis.selection_albums(data.albums);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selection_albums('- none -');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//\n\t\t\tselection_categories: ko.observable([]),\n\t\t\tmultiselection_categories: [],\n\t\t\tget_selected_asset_categories: function(val) {\n\t\t\t\tthis.selection_categories('Loading...');\n\t\t\t\tif ($.isArray(val) && val.length > 1) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: ((this.sidebar.asset.album_type && this.sidebar.asset.album_type()) ? 'albums' : 'content') + '/' + val.join(',') + '/categories',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.multiselection_categories = data;\n\n\t\t\t\t\t\t\tif (!data.common.length && data.mixed.length) {\n\t\t\t\t\t\t\t\tthis.selection_categories('- mixed -');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!data.common.length && !data.mixed.length) {\n\t\t\t\t\t\t\t\tthis.selection_categories('- none -');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.common.length) {\n\t\t\t\t\t\t\t\tvar commonCats = [];\n\t\t\t\t\t\t\t\t$.each(this.observers.categories(), function(idx, cat) {\n\t\t\t\t\t\t\t\t\tif (data.common.indexOf(cat.id) !== -1) commonCats.push(cat.title);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.selection_categories(commonCats.join(', '));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.selection_categories('- error -');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (this.sidebar.asset.categories.url && this.sidebar.asset.categories.url().length) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: this.sidebar.asset.categories.url(),\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data.categories.length) {\n\t\t\t\t\t\t\t\tthis.selection_categories(data.categories);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.selection_categories('- none -');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\thas_tag: function(t) {\n\t\t\t\treturn $.inArray(t, this.sidebar.asset.tags()) === -1;\n\t\t\t},\n\t\t\tis_closed: function(item) {\n\t\t\t\tvar check = $.inArray(item.id, this.open_sets());\n\t\t\t\tif (check !== -1) { return false; }\n\t\t\t\tvar current = this.properties.album.selected().album;\n\t\t\t\tif ( $('#three-col-left .selected').closest('ol').parent().data('id') == item.id ) { return true; }\n\t\t\t\tif (!current || current.level == 1) { return true; }\n\t\t\t\tif ( item.album_type === 'set' ) {\n\t\t\t\t\tvar isChild = false;\n\t\t\t\t\t$.each(item.children, function(i,child) {\n\t\t\t\t\t\tif (current && child.id === current.id) {\n\t\t\t\t\t\t\tisChild = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!isChild) { return true; }\n\t\t\t\t}\n\t\t\t\tif (parseInt(current.left_id, 10) > parseInt(item.left_id, 10) && parseInt(current.level, 10) > parseInt(item.level, 10)) { return false; }\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tselected_type: ko.observable('content'),\n\t\t\tis_cover: function(d) {\n\t\t\t\tvar album\t= this.properties.album.selected().album,\n\t\t\t\t\tv\t\t= -1;\n\t\t\t\tif (album && album.id) {\n\t\t\t\t\tvar cover_ids = album.covers.map(function(img) {\n\t\t\t\t\t\treturn img.id;\n\t\t\t\t\t});\n\t\t\t\t\tv = $.inArray(d.id, cover_ids);\n\t\t\t\t}\n\t\t\t\tif (v === -1) {\n\t\t\t\t\treturn ' hide';\n\t\t\t\t} else if (v === 0) {\n\t\t\t\t\treturn '-top';\n\t\t\t\t} else {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t},\n\t\t\tin_array: function(needle, haystack) {\n\t\t\t\treturn $.inArray(needle, haystack) !== -1;\n\t\t\t},\n\t\t\texif_label: function() {\n\t\t\t\tvar exif = $.extend(true, {}, this.sidebar.asset.exif());\n\t\t\t\tvar fields = [ 'iso_speed_ratings', 'focal_length', 'aperture', 'exposure' ];\n\t\t\t\tvar out = [];\n\t\t\t\t$.each(exif, function(i, obj) {\n\t\t\t\t\tif ($.inArray(obj.key, fields) !== -1) {\n\t\t\t\t\t\tif (obj.key === 'aperture') {\n\t\t\t\t\t\t\tobj.clean = obj.clean.replace('f', '<span class=\"fstop\">f</span>');\n\t\t\t\t\t\t} else if (obj.clean) {\n\t\t\t\t\t\t\tobj.clean = obj.clean.replace(' ', '&nbsp;');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tout.push( obj.clean || obj.raw);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn out.join(' &nbsp;');\n\t\t\t},\n\t\t\tsheets: {\n\t\t\t\tcreate_collection: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_collection'),\n\t\t\t\t\tvalidated: ko.observable(),\n\t\t\t\t\tcategory: ko.observable(),\n\t\t\t\t\ttag: ko.observable(),\n\t\t\t\t\tonload: function(el) {\n\t\t\t\t\t\tel.find('input:first').focus();\n\t\t\t\t\t\tthis.classes.autocomplete.library.tags($('#cc_tag_input'), $('#cc_tag_input').parent(), $('#cc_tag_input').parent().find('button'));\n\n\t\t\t\t\t\tthis.observers.sheets.create_collection.properties.visibility(this.observers.settings.uploading_default_album_visibility());\n\n\t\t\t\t\t\t// Reset collection type to album on sheet load\n\t\t\t\t\t\tthis.observers.sheets.create_collection.collection.call(this.observers.sheets.create_collection.properties, 0);\n\t\t\t\t\t},\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\tthis.properties.type(0);\n\t\t\t\t\t\tthis.validated(null);\n\t\t\t\t\t\tfor ( var k in this.properties ) {\n\t\t\t\t\t\t\tif ( k !== 'type' ) {\n\t\t\t\t\t\t\t\tthis.properties[k].reset();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\ttype: ko.observable(0),\n\t\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\t\tsummary: ko.observable(''),\n\t\t\t\t\t\tdescription: ko.observable(''),\n\t\t\t\t\t\ttags: ko.observableArray([]),\n\t\t\t\t\t\tcategories: ko.observableArray([]),\n\t\t\t\t\t\tvisibility: ko.observable('public')\n\t\t\t\t\t},\n\t\t\t\t\tcollection: function(type) {\n\t\t\t\t\t\tthis.type(type);\n\t\t\t\t\t\tif (type === 0) {\n\t\t\t\t\t\t\t$('#create_collection').find('li[data-event=\"create_collection\"] button').text('Create album');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#create_collection').find('li[data-event=\"create_collection\"] button').text('Create set');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( this.title().trim().length <= 0 ) {\n\t\t\t\t\t\t\t$('#create_collection').find('input:first').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tadd_tag: function(data) {\n\n\t\t\t\t\t\tvar self\t= this.interfaces.library.observers,\n\t\t\t\t\t\t\tt\t\t= ( typeof data.tag === 'function' ) ? this.helpers.parse_tag_input( ko.utils.unwrapObservable( $('#cc_tag_input').val() ) ) : [data.title];\n\n\t\t\t\t\t\t$.each( t, function(o) {\n\t\t\t\t\t\t\tself.sheets.create_collection.properties.tags.push(this.toString());\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.sheets.create_collection.properties.tags( self.helpers.unique( self.sheets.create_collection.properties.tags() ) );\n\t\t\t\t\t\tself.sheets.create_collection.tag('');\n\n\t\t\t\t\t},\n\t\t\t\t\tremove_tag: function(data) {\n\n\t\t\t\t\t\tvar self = this.interfaces.library.observers;\n\n\t\t\t\t\t\t$.each( self.sheets.create_collection.properties.tags(), function(i,tag) {\n\t\t\t\t\t\t\tif ( tag === data ) {\n\t\t\t\t\t\t\t\tself.sheets.create_collection.properties.tags.splice(i,1);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timport_content: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('import_content'),\n\t\t\t\t\tvalidate: false,\n\t\t\t\t\tonload: function(sheet) {\n\t\t\t\t\t\t// TODO: Cleanup this selectors nightmare\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\tinitUpload = function() {\n\t\t\t\t\t\t\t\tself.interfaces.app.controllers.upload.cleanup();\n\t\t\t\t\t\t\t\tself.interfaces.app.controllers.upload.init.call(self.interfaces.library);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t_selected = $.param.fragment(),\n\t\t\t\t\t\t\tlastSelected;\n\n\t\t\t\t\t\tvar setSelected = function(name, plugin) {\n\t\t\t\t\t\t\tif (lastSelected) $('#import_content').removeClass(lastSelected);\n\t\t\t\t\t\t\t$('#import_content').addClass(lastSelected = name.toLowerCase());\n\n\t\t\t\t\t\t\t// Update scrollbars\n\t\t\t\t\t\t\tif (plugin && plugin.activated) {\n\t\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t\tswitch(plugin.php_class_name) {\n\t\t\t\t\t\t\t\t\t\tcase 'KokenVimeo':\n\t\t\t\t\t\t\t\t\t\t\tself.classes.scrollbar['vimeo-browse-middle-scroll'] && self.classes.scrollbar['vimeo-browse-middle-scroll'].update();\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 'KokenInstagram':\n\t\t\t\t\t\t\t\t\t\t\tself.classes.scrollbar['inst-browse-middle-scroll'] && self.classes.scrollbar['inst-browse-middle-scroll'].update();\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#upload_visibility').val(self.observers.settings.uploading_default_visibility());\n\n\t\t\t\t\t\t// Used when route includes instagram to prevent flashing of elements caused by a trigger\n\t\t\t\t\t\tif (_selected.indexOf('instagram') !== -1) {\n\t\t\t\t\t\t\t$('.option_square_grid').find('.selected').removeClass('selected');\n\t\t\t\t\t\t\t$('.option_square_grid').find('a.import_inst').closest('li').addClass('selected');\n\n\t\t\t\t\t\t\t$('#import_content_url').hide();\n\t\t\t\t\t\t\t$('#import_upload_content').hide();\n\t\t\t\t\t\t\t$('.section_selected').hide();\n\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tsetSelected('kokeninstagram');\n\t\t\t\t\t\t\t\t$('section#import_content_inst').addClass('section_selected').show();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//\n\n\t\t\t\t\t\tif (this.observers.properties.album.selected().album && this.observers.properties.album.selected().album.album_type === 'standard') {\n\t\t\t\t\t\t\tself.observers.shouldUploadToAlbum(true);\n\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance) self.interfaces.app.controllers.upload.instance.toAlbum = true;\n\t\t\t\t\t\t\t$('.al-display', sheet).show();\n\t\t\t\t\t\t\t$('.al-title', sheet).text('Add to ' + self.observers.truncate(this.observers.properties.album.selected().album.title, 25) + ' after import');\n\t\t\t\t\t\t\t$('.al-display', sheet).off('.rm').on('click.rm', function(e) {\n\t\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance) self.interfaces.app.controllers.upload.instance.toAlbum = $(this).find('input').is(':checked');\n\t\t\t\t\t\t\t\tself.observers.shouldUploadToAlbum($(this).find('input').is(':checked'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance) self.interfaces.app.controllers.upload.instance.toAlbum = false;\n\t\t\t\t\t\t\tself.observers.shouldUploadToAlbum(false);\n\t\t\t\t\t\t\t$('.al-display', sheet).hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#upload_visibility', sheet).off('.uv').on('change.uv', function(e) {\n\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance && self.interfaces.app.controllers.upload.instance.settings.multipart_params) self.interfaces.app.controllers.upload.instance.settings.multipart_params.visibility = $(this).find('option:selected').val();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('#upload_queued_num').text('0');\n\t\t\t\t\t\t$('#upload-drop-start').show();\n\t\t\t\t\t\t$('#upload-drop-queued').hide();\n\n\t\t\t\t\t\t// Import service button events\n\t\t\t\t\t\t$('#import_content').off('.importservice').on('click.importservice', '.option_square_grid li', function() {\n\t\t\t\t\t\t\t// Show/hide selected states for import buttons\n\t\t\t\t\t\t\t$(this).closest('ul').find('.selected').removeClass('selected');\n\t\t\t\t\t\t\t$(this).addClass('selected');\n\n\t\t\t\t\t\t\t$('.import_sheet_sections input').val('');\n\t\t\t\t\t\t\t$('button.import').addClass('disabled');\n\t\t\t\t\t\t\t$('.valerror').removeClass('valerror');\n\t\t\t\t\t\t\t$('.form-error-msg').hide();\n\t\t\t\t\t\t\tself.observers.valid(false);\n\n\t\t\t\t\t\t\t// Show/hide sections\n\t\t\t\t\t\t\t$('#import_content_plugin_disabled').hide();\n\t\t\t\t\t\t\t$('#import_content_plugin_activate').hide();\n\t\t\t\t\t\t\t$('.section_selected').hide();\n\t\t\t\t\t\t\t$('#import_content_url').hide();\n\t\t\t\t\t\t\t$('#import_upload_content').hide();\n\n\t\t\t\t\t\t\tvar a = $(this).find('a'),\n\t\t\t\t\t\t\t\tphp = a.data('plugin-php'),\n\t\t\t\t\t\t\t\tplugin = false;\n\n\t\t\t\t\t\t\tif (php) {\n\t\t\t\t\t\t\t\tplugin = self.observers.hasPlugin('php_class_name', php) || {};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (plugin.php_class_name) {\n\t\t\t\t\t\t\t\tsetSelected(plugin.php_class_name, plugin);\n\t\t\t\t\t\t\t} else if ($(this).find('a').attr('class') === 'import_link') {\n\t\t\t\t\t\t\t\tsetSelected('importlink');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetSelected('');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ($('section.' + a.attr('class')).length) {\n\t\t\t\t\t\t\t\t$('section.' + a.attr('class')).show().addClass('section_selected');\n\t\t\t\t\t\t\t} else if (plugin && !plugin.activated) {\n\t\t\t\t\t\t\t\tif (plugin.activated === false) {\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_activate .title').text(a.data('title'));\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_activate').show();\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_activate a').data('php', php);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar\turl = a.data('plugin');\n\t\t\t\t\t\t\t\t\tvar bttn = $('#import_content_plugin_disabled a');\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled .title').text(a.data('title'));\n\t\t\t\t\t\t\t\t\tif (url) {\n\t\t\t\t\t\t\t\t\t\tbttn.attr('href', url).show();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tbttn.hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled').show();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ($(this).find('a').attr('class') === 'import_link') {\n\t\t\t\t\t\t\t\tself.classes.form_validation.library.valid('import_content_url', true);\n\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled').hide();\n\t\t\t\t\t\t\t\t$('#import_content_plugin_activate').hide();\n\t\t\t\t\t\t\t\t$('#import_content_url').show();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#import_upload_content').show();\n\t\t\t\t\t\t\t\t$('#import_content_plugin_disabled').hide();\n\t\t\t\t\t\t\t\t$('#import_content_plugin_activate').hide();\n\t\t\t\t\t\t\t\t$('#import_content_url').hide();\n\t\t\t\t\t\t\t\tif (self.interfaces.app.controllers.upload.instance.files.length > 0) {\n\t\t\t\t\t\t\t\t\t$('button.import').removeClass('disabled');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinitUpload();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.classes.form_validation.library.valid('import_content', true);\n\n\t\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Import button click event\n\t\t\t\t\t\t$('#import_content_url input').val('').focus();\n\t\t\t\t\t\t$('#import_content .import').off('.importev').on('click.importev', function(e) {\n\t\t\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ($('#import_upload_content:visible').length > 0) return;\n\t\t\t\t\t\t\t$(this).addClass('disabled');\n\n\t\t\t\t\t\t\tvar kguid = $('#import_content .option_square_grid li.selected').data('kguid');\n\t\t\t\t\t\t\tif (!kguid) {\n\t\t\t\t\t\t\t\tvar stamp = Math.floor(new Date().getTime() / 1000),\n\t\t\t\t\t\t\t\t\turl = $('#import_content_url input').val(),\n\t\t\t\t\t\t\t\t\tn = self.notify().wait('Importing ' + url);\n\n\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\trequest: 'content',\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\tdata: 'from_url=' + encodeURIComponent(url) + '&visibility=' + $('#upload_visibility').val(),\n\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\t\t\t\tn.warn('Error importing file from URL. Check the URL and try again');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tn.success('Import complete');\n\n\t\t\t\t\t\t\t\t\t\t\tif ($('#import_tar_coll:checked:visible').length) {\n\t\t\t\t\t\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest: 'albums/' + self.observers.properties.album.selected().album.id + '/content/' + data.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.controllers.load_content(null, true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#import_content .modal-close').trigger('click');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$.bbq.pushState( '/library/content/order_by:uploaded_on/visibility:any/after:' + stamp + '/selection:' + data.id + '/view:single', 2 );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$.each(self.plugins[kguid].events, function(i, ev) {\n\t\t\t\t\t\t\t\t\tif (ev._type === 'import') {\n\t\t\t\t\t\t\t\t\t\tev._callback.call(self.plugins[kguid]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tinitUpload();\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function() {\n\t\t\t\t\t\t$('#upload_visibility option:eq(0)').prop('selected', true);\n\t\t\t\t\t\t$('#import_upload_content').find('.open').removeClass('open');\n\t\t\t\t\t\t$('#import_upload_content [data-event=\"toggle_visibility\"]').next().hide();\n\t\t\t\t\t\tthis.classes.channel.library.isUploading = false;\n\t\t\t\t\t\tthis.controllers.events_init();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmultiedit: {\n\t\t\t\tselected: ko.observableArray([]),\n\t\t\t\tchanged: {}\n\t\t\t},\n\t\t\tcontent: ko.observableArray([]),\n\t\t\tgetContentById: function(id) {\n\t\t\t\tvar found;\n\t\t\t\tself.observers.content().forEach(function(item) {\n\t\t\t\t\tif (item.id == id) {\n\t\t\t\t\t\tfound = item;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn found;\n\t\t\t},\n\t\t\tcontent_loading: false\n\t\t};\n\n\t}\n\n};\n\t_Koken.prototype.login = {\n\n\tinit: function() {\n\t\tvar self = this;\n\t\twindow.setTimeout(function() {\n\t\t\tif (location.hash === '#/reset') {\n\t\t\t\tlocation.hash = '';\n\t\t\t\tself.observers.message_state('after_reset');\n\t\t\t\tself.observers.change_state('after_reset');\n\t\t\t} else {\n\t\t\t\tself.observers.change_state('login');\n\t\t\t}\n\t\t}, location.hash === '#/reset' ? 500 : 0);\n\n\t\tvar message_interval;\n\n\t\tthis.observers.message_state.subscribe( function() {\n\t\t\tclearTimeout(message_interval);\n\t\t\tmessage_interval = setTimeout(function() {\n\t\t\t\t$('#help').removeClass('active');\n\t\t\t}, 5000);\n\t\t}, this);\n\t},\n\n\tobservers: function() {\n\n\t\treturn {\n\n\t\t\tstate: ko.observable(''),\n\t\t\tmessage_state: ko.observable(''),\n\t\t\tmessage_interval: false,\n\n\t\t\tchange_state: function(new_state) {\n\t\t\t\tif ($('#login_form').get(0)) {\n\t\t\t\t\t$('#login_form')[0].reset();\n\t\t\t\t\t$('#reset_form')[0].reset();\n\t\t\t\t\tif (new_state === 'after_reset') {\n\t\t\t\t\t\t$('#help').addClass('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#help').removeClass('active');\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.state(new_state);\n\n\t\t\t\t\tif (new_state === 'reset' || new_state === 'login') {\n\t\t\t\t\t\t$('#' + new_state + '_form input').first().focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tretrieve_password: function() {\n\t\t\t\tthis.observers.change_state('reset');\n\t\t\t},\n\n\t\t\tback_to_login: function() {\n\t\t\t\tthis.observers.change_state('login');\n\t\t\t},\n\n\t\t\treset: function() {\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'users/reset_password',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tdata: $('form#reset_form').serialize(),\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif ( data && data.success ) {\n\t\t\t\t\t\t\tthis.observers.message_state('reset_init');\n\t\t\t\t\t\t\tthis.observers.change_state('login');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.observers.message_state('reset_fail');\n\t\t\t\t\t\t\t$('#reset_form')[0].reset();\n\t\t\t\t\t\t\t$('#reset_form input:first').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('#help').addClass('active');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\tlogin: function() {\n\n\t\t\t\t$('#login_submit').addClass('disabled').text('Signing in');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'sessions',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tdata: $('#login_form').serialize(),\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t$('#login_submit').removeClass('disabled').text('Sign in');\n\t\t\t\t\t\t\tthis.observers.message_state('login_incorrect');\n\t\t\t\t\t\t\t$('#help').addClass('active');\n\t\t\t\t\t\t\t$('#login_form input[name=\"password\"]').val('');\n\t\t\t\t\t\t\t$('#login_form input:first').focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n};\n\t_Koken.prototype.settings = {\n\n\tinit: function() {\n\n\t\tvar self = this;\n\n\t\t// Start listening for sliders\n\t\tnew this.klass.slider_number_toggle('settings');\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('settings');\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$('.help-toggle').bind( 'click', function() {\n\n\t\t\tvar self = $(this);\n\n\t\t\tif ( ! self.hasClass('open') ) {\n\t\t\t\tself.addClass('open');\n\t\t\t\t$('div',this).slideDown();\n\t\t\t} else {\n\t\t\t\t$('div',this).slideUp( 250, function() {\n\t\t\t\t\tself.removeClass('open');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t});\n\n\t\t$(document).off('.pluginSettings').on('input.pluginSettings change.pluginSettings', '#plugin_settings .row', function(e) {\n\n\t\t\tvar preview = $(this).find('span.display_value');\n\n\t\t\tif (preview.length) {\n\t\t\t\tpreview.html($(this).find('input').val());\n\t\t\t}\n\n\t\t\t$.each(self.observers.edit_plugin_data(), function(i, option) {\n\t\t\t\tif (option.dependencies) {\n\t\t\t\t\tvar strict = option.dependencies.evaluate === 'all',\n\t\t\t\t\t\tpass = false;\n\n\t\t\t\t\t$.each(option.dependencies.conditions, function(i, condition) {\n\t\t\t\t\t\tvar input = $('#plugin-edit-' + condition.option);\n\t\t\t\t\t\tif (condition.equals !== undefined) {\n\t\t\t\t\t\t\tpass = condition.equals === ( input.attr('type') === 'checkbox' ? input.is(':checked') : input.val());\n\t\t\t\t\t\t} else if (condition.not !== undefined) {\n\t\t\t\t\t\t\tpass = condition.not !== ( input.attr('type') === 'checkbox' ? input.is(':checked') : input.val());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (pass && !strict || !pass && strict) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t\t$('#plugin-edit-' + option.key).parents('.row')[pass ? 'show' : 'hide']();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('input:visible').trigger('keyup');\n\t\t});\n\n\t\t$(document).on('keyup', '.plural', function() {\n\t\t\tvar parent = $(this).parents('li'),\n\t\t\t\toptions = parent.find('option'),\n\t\t\t\tstat = parent.find('.static'),\n\t\t\t\tval = $(this).val(),\n\t\t\t\tsingular = val.singularize();\n\n\t\t\tparent.find('.singular').val( singular.length ? singular : val ).trigger('keydown');\n\t\t});\n\n\t\tthis.observers.console_url( this.config.paths.admin );\n\t\tthis.observers.base_url( this.config.paths.base );\n\n\t\tthis.observers.settings.site_url.subscribe(function(val) {\n\t\t\tthis.observers.settings.__site_url_has_changed(true);\n\t\t\tvar base = window.location.protocol + '//' + window.location.host + '/';\n\t\t\tif (val.indexOf(base) === -1) {\n\t\t\t\tthis.observers.settings.site_url(base);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.view.subscribe(function(val) {\n\n\t\t\tswitch(val) {\n\t\t\t\tcase 'console' :\n\t\t\t\t\tthis.observers.state.view_clean('Console');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'administrator' :\n\t\t\t\t\tthis.observers.state.view_clean('Administrator');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importing' :\n\t\t\t\t\tthis.observers.state.view_clean('Importing');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'publishing' :\n\t\t\t\t\tthis.observers.state.view_clean('Site publishing');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'photos' :\n\t\t\t\t\tthis.observers.state.view_clean('Image publishing');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'applications' :\n\t\t\t\t\tthis.observers.state.view_clean('Applications');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'system' :\n\t\t\t\t\tthis.observers.state.view_clean('System');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'plugins' :\n\t\t\t\t\tthis.observers.state.view_clean('Plugins');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'email' :\n\t\t\t\t\tthis.observers.state.view_clean('Email');\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (val !== 'plugins' && val !== 'plugins_edit') {\n\t\t\t\tvar self = this;\n\t\t\t\tself.observers.valid(false);\n\t\t\t\t$(document)\n\t\t\t\t\t.off('.settings_change')\n\t\t\t\t\t.on('input.settings_change change.settings_change', '.rangeinput input, select,:checkbox, input[type=\"radio\"], input[type=\"number\"]', function(evt) {\n\t\t\t\t\t\tif (evt.originalEvent) {\n\t\t\t\t\t\t\tself.observers.valid(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\t\tthis.observers.state.view.valueHasMutated(); // Forcing handlers in subscribe to setup\n\n\t\tthis.observers.settings.image_use_defaults.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\tvar quality_defaults = {\n\t\t\t\t\t\ttiny: 80,\n\t\t\t\t\t\tsmall: 80,\n\t\t\t\t\t\tmedium: 85,\n\t\t\t\t\t\tmedium_large: 85,\n\t\t\t\t\t\tlarge: 85,\n\t\t\t\t\t\txlarge: 90,\n\t\t\t\t\t\thuge: 90\n\t\t\t\t\t},\n\t\t\t\t\tsharpening_defaults = {\n\t\t\t\t\t\ttiny: 0.7,\n\t\t\t\t\t\tsmall: 0.6,\n\t\t\t\t\t\tmedium: 0.6,\n\t\t\t\t\t\tmedium_large: 0.6,\n\t\t\t\t\t\tlarge: 0.6,\n\t\t\t\t\t\txlarge: 0.3,\n\t\t\t\t\t\thuge: 0\n\t\t\t\t\t};\n\n\t\t\t\t$.each(quality_defaults, function(name, value) {\n\t\t\t\t\tself.observers.settings['image_' + name + '_quality'](value);\n\t\t\t\t});\n\n\t\t\t\t$.each(sharpening_defaults, function(name, value) {\n\t\t\t\t\tself.observers.settings['image_' + name + '_sharpening'](value);\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tvar tz = [];\n\t\t$.each(moment.tz._zones, function(i, t) {\n\t\t\tvar offset = moment().tz(t.name).zone()/60;\n\t\t\t\toffset_label = '';\n\n\t\t\tif (offset > 0) {\n\t\t\t\toffset_label = ' (-' + offset + ' GMT)';\n\t\t\t} else if (offset < 0) {\n\t\t\t\toffset_label = ' (+' + Math.abs(offset) + ' GMT)';\n\t\t\t}\n\n\t\t\toffset_label = offset_label.replace('.5', ':30').replace('.75', ':45');\n\n\t\t\ttz.push({\n\t\t\t\tvalue: t.name,\n\t\t\t\tlabel: t.name.replace('_', ' ') + offset_label\n\t\t\t});\n\t\t});\n\n\t\tthis.observers.timezones = tz;\n\n\t\tthis.sync({\n\t\t\trequest: 'auth',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.applications(data.applications);\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.settings.use_default_labels_links.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\tvar defaults = {\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tsingular: 'Content',\n\t\t\t\t\t\tplural: 'Content',\n\t\t\t\t\t\turl: 'slug'\n\t\t\t\t\t},\n\t\t\t\t\talbum: {\n\t\t\t\t\t\tsingular: 'Album',\n\t\t\t\t\t\tplural: 'Albums',\n\t\t\t\t\t\turl: 'slug'\n\t\t\t\t\t},\n\t\t\t\t\tset: {\n\t\t\t\t\t\tsingular: 'Set',\n\t\t\t\t\t\tplural: 'Sets'\n\t\t\t\t\t},\n\t\t\t\t\tessay: {\n\t\t\t\t\t\tsingular: 'Essay',\n\t\t\t\t\t\tplural: 'Essays',\n\t\t\t\t\t\turl: 'date+slug'\n\t\t\t\t\t},\n\t\t\t\t\tpage: {\n\t\t\t\t\t\tsingular: 'Page',\n\t\t\t\t\t\tplural: 'Pages',\n\t\t\t\t\t\turl: 'slug'\n\t\t\t\t\t},\n\t\t\t\t\ttag: {\n\t\t\t\t\t\tsingular: 'Tag',\n\t\t\t\t\t\tplural: 'Tags'\n\t\t\t\t\t},\n\t\t\t\t\tcategory: {\n\t\t\t\t\t\tsingular: 'Category',\n\t\t\t\t\t\tplural: 'Categories'\n\t\t\t\t\t},\n\t\t\t\t\ttimeline: {\n\t\t\t\t\t\tsingular: 'Timeline',\n\t\t\t\t\t\tplural: 'Timeline'\n\t\t\t\t\t},\n\t\t\t\t\thome: 'Home'\n\t\t\t\t};\n\n\t\t\t\t$.each(defaults, function(key, info) {\n\t\t\t\t\tvar o = self.observers.url_data[key];\n\t\t\t\t\tif (key === 'home') {\n\t\t\t\t\t\to(info);\n\t\t\t\t\t} else {\n\t\t\t\t\t\to.singular(info.singular);\n\t\t\t\t\t\to.plural(info.plural);\n\t\t\t\t\t}\n\t\t\t\t\tif (info.url) {\n\t\t\t\t\t\to.url(info.url);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\t$(document).on('change', 'select.update-observer', function() {\n\t\t\tself.observers.url_data[$(this).attr('data-obs')].url( $(this).val() );\n\t\t});\n\n\t\t$(document).trigger('settings.loaded');\n\n\t},\n\n\tevents: {\n\n\t\tclear_image_cache: function() {\n\t\t\tvar n = this.notify();\n\t\t\tn.wait('Clearing image cache');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'content/cache',\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tn.success('Image cache cleared');\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tclear_system_cache: function() {\n\t\t\tvar n = this.notify();\n\t\t\tn.wait('Clearing system caches');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'update/migrate/schema',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'system/clear_caches',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tn.success('System caches cleared');\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tbuild_image_cache: function() {\n\t\t\tvar _this = this;\n\t\t\tvar n = this.notify();\n\t\t\t_n = n.wait('Building image cache');\n\n\t\t\t(function _next(page) {\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'content/cache/page:' + page,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.next_page) {\n\t\t\t\t\t\t\tvar pct = parseInt((data.next_page - 1) / data.total_pages * 100);\n\n\t\t\t\t\t\t\t_n.wait('Building image cache ' + pct + '% complete');\n\t\t\t\t\t\t\t_next.call(this, data.next_page);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tn.success('Image cache built');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).call(this, 1);\n\t\t},\n\n\t\tcreate_api_token: function() {\n\t\t\tvar o = this.observers.sheets.new_api_token,\n\t\t\t\tnotify = this.notify();\n\n\t\t\tnotify.wait('Creating');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'auth',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: \"name=\" + o.name() + '&role=' + o.role(),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tnotify.success('Token successfully created');\n\t\t\t\t\tthis.events.toggle_sheet('new_api_token');\n\t\t\t\t\tthis.observers.applications( data.applications );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\ttoggle_plugin: function(el) {\n\t\t\tthis.controllers.toggle_plugin(ko.dataFor(el[0]));\n\t\t},\n\n\t\tdeny_app_access: function() {\n\t\t\tvar cb = this.observers.application_request.callback();\n\n\t\t\tif (cb === 'oob') {\n\t\t\t\t$.bbq.pushState('/settings/applications', 2);\n\t\t\t} else {\n\t\t\t\tlocation.href = cb;\n\t\t\t}\n\t\t},\n\n\t\trevoke_app_access: function(el, parent) {\n\t\t\tvar d = ko.dataFor(el[0]),\n\t\t\t\tnotify = this.notify();\n\n\t\t\tnotify.wait('Revoking');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'auth/' + d.id,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.applications( data.applications );\n\t\t\t\t\tnotify.success(d.name + ' access has been revoked');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgrant_app_access: function() {\n\n\t\t\tvar props = [];\n\t\t\t$.each( this.observers.application_request, function(i, obs) {\n\t\t\t\tif (i === 'callback' || i === 'active') return;\n\t\t\t\tprops.push( i + '=' + obs() );\n\t\t\t});\n\n\t\t\tprops.push('user_id=' + this.session().user.id);\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'auth/grant',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: props.join('&'),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar cb = this.observers.application_request.callback();\n\t\t\t\t\tthis.observers.applications( data.applications );\n\t\t\t\t\tif (cb === 'oob') {\n\t\t\t\t\t\t$.bbq.pushState('/settings/applications/granted', 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.href = cb;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsend_test_email: function() {\n\t\t\tvar delivery_address = this.observers.settings.email_delivery_address(),\n\t\t\t\tsender = this.observers.settings.email_handler();\n\n\t\t\tvar n = this.notify().wait('Sending test email');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'settings/test_email',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'delivery_address=' + encodeURIComponent(delivery_address) + '&sender=' + sender,\n\t\t\t\tfinished: function() {\n\t\t\t\t\tn.success('Test email sent to ' + delivery_address);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsave_plugin: function() {\n\t\t\tvar payload = [],\n\t\t\t\tvalid = true,\n\t\t\t\tnew_data = [],\n\t\t\t\tself = this;\n\n\t\t\t$.each( this.observers.edit_plugin_data(), function(i, data) {\n\t\t\t\tvar val;\n\t\t\t\tif (data.type === 'hidden') {\n\t\t\t\t\tval = data.value;\n\t\t\t\t} else {\n\t\t\t\t\tvar input = $('#plugin-edit-' + data.key);\n\t\t\t\t\tval = input.val();\n\n\t\t\t\t\tif (input.attr('type') === 'checkbox') {\n\t\t\t\t\t\tval = input.is(':checked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = val || '';\n\t\t\t\t\t\tval = val.toString().trim();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnew_data.push( $.extend({}, data, { value: val }));\n\t\t\t\tpayload.push(data.key + '=' + encodeURIComponent(val));\n\t\t\t});\n\n\t\t\tif (valid) {\n\t\t\t\tvar plugin = ko.utils.arrayFirst( this.observers.plugins(), function(item) {\n\t\t\t\t\treturn item.path == self.observers.edit_plugin().path;\n\t\t\t\t});\n\n\t\t\t\tplugin.data = new_data;\n\n\t\t\t\tvar notify = this.notify();\n\n\t\t\t\tnotify.wait('Saving');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'plugins/' + this.observers.edit_plugin().id,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: payload.join('&'),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data && data.error) {\n\t\t\t\t\t\t\tthis.observers.edit_plugin_error(data.error);\n\t\t\t\t\t\t\tnotify.warn('Settings did not save.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplugin.setup = true;\n\t\t\t\t\t\t\tthis.observers.edit_plugin_error(false);\n\t\t\t\t\t\t\tnotify.success('Settings successfully saved');\n\t\t\t\t\t\t\tlocation.hash = '#/settings/plugins';\n\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'settings',\n\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.observers.reset_settings(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tsave: function() {\n\t\t\tvar props = [],\n\t\t\t\tself = this,\n\t\t\t\tvalid = true;\n\n\t\t\t$.each( this.observers.settings, function(i, obs) {\n\t\t\t\tif (i === '__site_url_has_changed') return true;\n\n\t\t\t\tvar val = obs();\n\t\t\t\tif (i === 'site_url') {\n\t\t\t\t\tif (self.observers.settings.__site_url_has_changed()) {\n\t\t\t\t\t\tval = val.replace(window.location.protocol + '//' + window.location.host, '');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!/object object/i.test(val)) {\n\t\t\t\t\tprops.push( i + '=' + encodeURIComponent(val) );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each(this.observers.url_data, function(key, data) {\n\t\t\t\tif (data.plural && data.plural().toLowerCase() === 'admin') {\n\t\t\t\t\tself.notify().warn('\"Admin\" is a reserved path and cannot be used for URLs. Please choose another label.');\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!valid) { return; }\n\n\t\t\tprops.push('url_data=' + encodeURIComponent(JSON.stringify(this.unmap(this.observers.url_data))));\n\n\t\t\tvar notify = this.notify();\n\t\t\tnotify.wait('Saving');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'settings',\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: props.join('&'),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tthis.notify().warn(data.error);\n\t\t\t\t\t\t$('#Publishing input:first').get(0).focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnotify.success('Settings successfully saved');\n\t\t\t\t\t\tthis.observers.reset_settings(data);\n\t\t\t\t\t\tthis.observers.valid(false);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsave_user: function() {\n\n\t\t\tvar old = $('#oldpw').val(),\n\t\t\t\tnew_pwd = $('#pw1').val(),\n\t\t\t\tconfirm_pwd = $('#pw2').val(),\n\t\t\t\tsave_password = false;\n\n\t\t\tvar save = $.proxy( function() {\n\n\t\t\t\tvar props = [];\n\t\t\t\t$.each( this.observers.user, function(i, obs) {\n\t\t\t\t\tif (/_on$/.test(i)) return;\n\n\t\t\t\t\tif (typeof obs() === 'string') {\n\t\t\t\t\t\tprops.push( i + '=' + encodeURIComponent(obs()) );\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (save_password) {\n\t\t\t\t\tprops.push('password=' + encodeURIComponent(save_password));\n\t\t\t\t}\n\n\t\t\t\tvar notify = this.notify();\n\t\t\t\tnotify.wait('Saving');\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'users/' + this.observers.user.id(),\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: props.join('&'),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tnotify.success('Administrator information saved');\n\t\t\t\t\t\tvar old = this._session;\n\t\t\t\t\t\told.user = data;\n\t\t\t\t\t\tthis.session( old );\n\t\t\t\t\t\tthis.map( this.observers.user, data);\n\t\t\t\t\t\tthis.observers.valid(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, this);\n\n\t\t\tif (old.length || new_pwd.length || confirm_pwd.length) {\n\t\t\t\tif (!old.length) {\n\t\t\t\t\t$('#pwd_error').text('To change your password you must first enter your current password.').show();\n\t\t\t\t\t$('#oldpw')[0].focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!new_pwd.length) {\n\t\t\t\t\t$('#pwd_error').text('Please enter a new password.').show();\n\t\t\t\t\t$('#pw1')[0].focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (new_pwd !== confirm_pwd) {\n\t\t\t\t\t$('#pwd_error').text('Your new password must match in both new password fields.').show();\n\t\t\t\t\t$('#pw2')[0].focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: 'users/verify_password',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: 'password=' + encodeURIComponent(old),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif ( data && data.error ) {\n\t\t\t\t\t\t\t$('#pwd_error').text('The current password you entered is not correct.').show();\n\t\t\t\t\t\t\t$('#oldpw')[0].focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#pwd_error').hide();\n\t\t\t\t\t\t\tsave_password = new_pwd;\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$('#pwd_error').hide();\n\t\t\t\tsave();\n\t\t\t}\n\n\t\t},\n\n\t\thelp: function(el,parent) {\n\n\t\t\tif ( ! parent.hasClass('open') ) {\n\t\t\t\tparent.addClass('open');\n\t\t\t\tparent.parent().find('div').slideDown();\n\t\t\t} else {\n\t\t\t\tparent.parent().find('div').slideUp( 250, function() {\n\t\t\t\t\tparent.removeClass('open');\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_license: function(el,parent) {\n\n\t\t\tvar commons = $('#commons_group');\n\n\t\t\tif ( el.is(':checked') ) {\n\t\t\t\tthis.observers.settings.uploading_default_license('n,n');\n\n\t\t\t\t// Because KO keeps wanting to override this checkbox with its own internal checking we are circumventing it\n\t\t\t\tif (this.observers.settings.uploading_default_license().substr(0,1) === 'n' || this.observers.settings.uploading_default_license() == 'all') {\n\t\t\t\t\t$('#l_n2').prop('checked', true);\n\t\t\t\t} else {\n\t\t\t\t\t$('#l_n2').prop('checked', false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.observers.settings.uploading_default_license('all');\n\t\t\t}\n\n\t\t},\n\n\t\tcommons_change: function(el, parent) {\n\t\t\tthis.observers.settings.uploading_default_license(\n\t\t\t\tparent.find('input[name=lic2]:checked').val() + ',' + parent.find('input[name=lic3]:checked').val()\n\t\t\t);\n\t\t}\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'(console|administrator|importing|publishing|photos|applications|plugins|email|system|cache|advanced)(\\/(.*))?': function(matches) {\n\n\t\t\t\tif (matches[1] === 'system' && this.observers.settings.disable_system_info && this.observers.settings.disable_system_info()) {\n\t\t\t\t\t$.bbq.pushState('/settings', 2);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'applications' && matches[2]) {\n\t\t\t\t\tif (matches[2] === '/granted') {\n\t\t\t\t\t\tthis.observers.application_request.active(false);\n\t\t\t\t\t\tthis.observers.application_request.complete(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar r = /([a-z_]+):([^\\/]+)/g;\n\n\t\t\t\t\t\twhile (( param = r.exec(matches[2])) !== null ) {\n\t\t\t\t\t\t\tthis.observers.application_request[param[1]]( decodeURIComponent(param[2]) );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.observers.application_request.active(true);\n\t\t\t\t\t\tthis.observers.application_request.complete(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.application_request.active(false);\n\t\t\t\t\tthis.observers.application_request.complete(false);\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'plugins' && matches[2]) {\n\t\t\t\t\tif (matches[2].indexOf('/install/') === 0 && /[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/.test(matches[2])) {\n\t\t\t\t\t\tthis.observers.state.view('plugins');\n\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\turi = matches[2].replace('/install/', '').split(':'),\n\t\t\t\t\t\t\tslug = uri[0],\n\t\t\t\t\t\t\tguids = uri[1].split('/'),\n\t\t\t\t\t\t\tguid = guids[0],\n\t\t\t\t\t\t\tpurchase = guids.length > 1 ? '&purchase=' + guids[1] : '',\n\t\t\t\t\t\t\tpath = 'plugins/' + slug + '-' + guid,\n\t\t\t\t\t\t\tn = '&new=1';\n\n\t\t\t\t\t\t$.each(this.observers.user_plugins(), function(i, plugin) {\n\t\t\t\t\t\t\tif (plugin.koken_store_guid === guid) {\n\t\t\t\t\t\t\t\tpath = 'plugins/' + plugin.path + (plugin.id ? '&id=' + plugin.id : '');\n\t\t\t\t\t\t\t\tn = '';\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetTimeout( $.proxy(function() {\n\t\t\t\t\t\t\tthis.classes.modal.install_plugin.show();\n\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'update/plugin',\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\tdata: 'local_path=' + path + '&guid=' + guid + '&uuid=' + this.observers.settings.uuid() + n + purchase,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tif (data.done) {\n\t\t\t\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\t\t\t\trequest: 'plugins',\n\t\t\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.observers.process_plugin_data(d, true);\n\t\t\t\t\t\t\t\t\t\t\t\t// Not using bbq here as it doesn't have a replaceState\n\t\t\t\t\t\t\t\t\t\t\t\t// and we don't want the install URL in the history\n\t\t\t\t\t\t\t\t\t\t\t\t// TODO: still ends up in lastHash, which can cause probs.\n\t\t\t\t\t\t\t\t\t\t\t\thistory.replaceState('', '', '#/settings/plugins');\n\t\t\t\t\t\t\t\t\t\t\t\tthis.classes.modal.install_plugin.hide();\n\t\t\t\t\t\t\t\t\t\t\t\tthis.notify().success(data.info.name + ' installed');\n\n\t\t\t\t\t\t\t\t\t\t\t\tthis.store_api({\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'plugin_installed',\n\t\t\t\t\t\t\t\t\t\t\t\t\tguid: guid,\n\t\t\t\t\t\t\t\t\t\t\t\t\tversion: data.info.version\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// TODO\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, this), 500);\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar plugin = ko.utils.arrayFirst( this.observers.plugins(), function(item) {\n\t\t\t\t\t\t\treturn item.path == matches[2].substr(1);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (plugin) {\n\t\t\t\t\t\t\tthis.observers.edit_plugin(plugin);\n\t\t\t\t\t\t\tthis.observers.edit_plugin_data(plugin.data || []);\n\t\t\t\t\t\t\tthis.observers.edit_plugin_error(false);\n\n\t\t\t\t\t\t\t// Check if plugin has validations to determine if the save button\n\t\t\t\t\t\t\t// should be enabled/disabled on page load\n\t\t\t\t\t\t\tvar doesNotHaveValidations = true;\n\t\t\t\t\t\t\t$.each(plugin.data, function(i,plugin) {\n\t\t\t\t\t\t\t\tif (plugin.validation) {\n\t\t\t\t\t\t\t\t\tdoesNotHaveValidations = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.observers.valid(doesNotHaveValidations);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlocation.hash = '#/settings/plugins';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.edit_plugin(false);\n\t\t\t\t\tthis.observers.edit_plugin_data([]);\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'plugins' && matches[2]) {\n\t\t\t\t\tthis.observers.state.view('plugins_edit');\n\t\t\t\t\t$('#container').trigger('settings.edit.' + plugin.php_class_name);\n\t\t\t\t\tif ($('#plugin_settings input').length) {\n\t\t\t\t\t\t$('#plugin_settings input:first').trigger('change');\n\n\t\t\t\t\t\t$('input[type=\"ccolor\"]').spectrum({\n\t\t\t\t\t\t\tshowInput: true,\n\t\t\t\t\t\t\thide: function(color) {\n\t\t\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ($('.plugin-upload').length) {\n\t\t\t\t\t\t\tthis.interfaces.app.controllers.plugin_upload.init.call(this.interfaces.settings, $('.plugin-upload'));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.state.view(matches[1]);\n\t\t\t\t}\n\n\t\t\t\t$(window).trigger('resize');\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\tobservers: function() {\n\n\t\treturn {\n\n\t\t\tdate: function(format, timestamp) {\n\t\t\t\tvar that = this,\n\t\t\t\t\tjsdate, f, formatChr = /\\\\?([a-z])/gi,\n\t\t\t\t\tformatChrCb,\n\t\t\t\t\t// Keep this here (works, but for code commented-out\n\t\t\t\t\t// below for file size reasons)\n\t\t\t\t\t//, tal= [],\n\t\t\t\t\t_pad = function (n, c) {\n\t\t\t\t\t\tif ((n = n + '').length < c) {\n\t\t\t\t\t\t\treturn new Array((++c) - n.length).join('0') + n;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn n;\n\t\t\t\t\t},\n\t\t\t\t\ttxt_words = [\"Sun\", \"Mon\", \"Tues\", \"Wednes\", \"Thurs\", \"Fri\", \"Satur\", \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\t\t\t\tformatChrCb = function (t, s) {\n\t\t\t\t\treturn f[t] ? f[t]() : s;\n\t\t\t\t};\n\t\t\t\tf = {\n\t\t\t\t\t// Day\n\t\t\t\t\td: function () { // Day of month w/leading 0; 01..31\n\t\t\t\t\t\treturn _pad(f.j(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tD: function () { // Shorthand day name; Mon...Sun\n\t\t\t\t\t\treturn f.l().slice(0, 3);\n\t\t\t\t\t},\n\t\t\t\t\tj: function () { // Day of month; 1..31\n\t\t\t\t\t\treturn jsdate.getDate();\n\t\t\t\t\t},\n\t\t\t\t\tl: function () { // Full day name; Monday...Sunday\n\t\t\t\t\t\treturn txt_words[f.w()] + 'day';\n\t\t\t\t\t},\n\t\t\t\t\tN: function () { // ISO-8601 day of week; 1[Mon]..7[Sun]\n\t\t\t\t\t\treturn f.w() || 7;\n\t\t\t\t\t},\n\t\t\t\t\tS: function () { // Ordinal suffix for day of month; st, nd, rd, th\n\t\t\t\t\t\tvar j = f.j();\n\t\t\t\t\t\treturn j < 4 | j > 20 && ['st', 'nd', 'rd'][j%10 - 1] || 'th';\n\t\t\t\t\t},\n\t\t\t\t\tw: function () { // Day of week; 0[Sun]..6[Sat]\n\t\t\t\t\t\treturn jsdate.getDay();\n\t\t\t\t\t},\n\t\t\t\t\tz: function () { // Day of year; 0..365\n\t\t\t\t\t\tvar a = new Date(f.Y(), f.n() - 1, f.j()),\n\t\t\t\t\t\t\tb = new Date(f.Y(), 0, 1);\n\t\t\t\t\t\treturn Math.round((a - b) / 864e5) + 1;\n\t\t\t\t\t},\n\n\t\t\t\t\t// Week\n\t\t\t\t\tW: function () { // ISO-8601 week number\n\t\t\t\t\t\tvar a = new Date(f.Y(), f.n() - 1, f.j() - f.N() + 3),\n\t\t\t\t\t\t\tb = new Date(a.getFullYear(), 0, 4);\n\t\t\t\t\t\treturn _pad(1 + Math.round((a - b) / 864e5 / 7), 2);\n\t\t\t\t\t},\n\n\t\t\t\t\t// Month\n\t\t\t\t\tF: function () { // Full month name; January...December\n\t\t\t\t\t\treturn txt_words[6 + f.n()];\n\t\t\t\t\t},\n\t\t\t\t\tm: function () { // Month w/leading 0; 01...12\n\t\t\t\t\t\treturn _pad(f.n(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tM: function () { // Shorthand month name; Jan...Dec\n\t\t\t\t\t\treturn f.F().slice(0, 3);\n\t\t\t\t\t},\n\t\t\t\t\tn: function () { // Month; 1...12\n\t\t\t\t\t\treturn jsdate.getMonth() + 1;\n\t\t\t\t\t},\n\t\t\t\t\tt: function () { // Days in month; 28...31\n\t\t\t\t\t\treturn (new Date(f.Y(), f.n(), 0)).getDate();\n\t\t\t\t\t},\n\n\t\t\t\t\t// Year\n\t\t\t\t\tL: function () { // Is leap year?; 0 or 1\n\t\t\t\t\t\tvar j = f.Y();\n\t\t\t\t\t\treturn j%4==0 & j%100!=0 | j%400==0;\n\t\t\t\t\t},\n\t\t\t\t\to: function () { // ISO-8601 year\n\t\t\t\t\t\tvar n = f.n(),\n\t\t\t\t\t\t\tW = f.W(),\n\t\t\t\t\t\t\tY = f.Y();\n\t\t\t\t\t\treturn Y + (n === 12 && W < 9 ? -1 : n === 1 && W > 9);\n\t\t\t\t\t},\n\t\t\t\t\tY: function () { // Full year; e.g. 1980...2010\n\t\t\t\t\t\treturn jsdate.getFullYear();\n\t\t\t\t\t},\n\t\t\t\t\ty: function () { // Last two digits of year; 00...99\n\t\t\t\t\t\treturn (f.Y() + \"\").slice(-2);\n\t\t\t\t\t},\n\n\t\t\t\t\t// Time\n\t\t\t\t\ta: function () { // am or pm\n\t\t\t\t\t\treturn jsdate.getHours() > 11 ? \"pm\" : \"am\";\n\t\t\t\t\t},\n\t\t\t\t\tA: function () { // AM or PM\n\t\t\t\t\t\treturn f.a().toUpperCase();\n\t\t\t\t\t},\n\t\t\t\t\tB: function () { // Swatch Internet time; 000..999\n\t\t\t\t\t\tvar H = jsdate.getUTCHours() * 36e2,\n\t\t\t\t\t\t\t// Hours\n\t\t\t\t\t\t\ti = jsdate.getUTCMinutes() * 60,\n\t\t\t\t\t\t\t// Minutes\n\t\t\t\t\t\t\ts = jsdate.getUTCSeconds(); // Seconds\n\t\t\t\t\t\treturn _pad(Math.floor((H + i + s + 36e2) / 86.4) % 1e3, 3);\n\t\t\t\t\t},\n\t\t\t\t\tg: function () { // 12-Hours; 1..12\n\t\t\t\t\t\treturn f.G() % 12 || 12;\n\t\t\t\t\t},\n\t\t\t\t\tG: function () { // 24-Hours; 0..23\n\t\t\t\t\t\treturn jsdate.getHours();\n\t\t\t\t\t},\n\t\t\t\t\th: function () { // 12-Hours w/leading 0; 01..12\n\t\t\t\t\t\treturn _pad(f.g(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tH: function () { // 24-Hours w/leading 0; 00..23\n\t\t\t\t\t\treturn _pad(f.G(), 2);\n\t\t\t\t\t},\n\t\t\t\t\ti: function () { // Minutes w/leading 0; 00..59\n\t\t\t\t\t\treturn _pad(jsdate.getMinutes(), 2);\n\t\t\t\t\t},\n\t\t\t\t\ts: function () { // Seconds w/leading 0; 00..59\n\t\t\t\t\t\treturn _pad(jsdate.getSeconds(), 2);\n\t\t\t\t\t},\n\t\t\t\t\tu: function () { // Microseconds; 000000-999000\n\t\t\t\t\t\treturn _pad(jsdate.getMilliseconds() * 1000, 6);\n\t\t\t\t\t},\n\n\t\t\t\t\t// Timezone\n\t\t\t\t\te: function () { // Timezone identifier; e.g. Atlantic/Azores, ...\n\t\t\t\t\t\t// The following works, but requires inclusion of the very large\n\t\t\t\t\t\t// timezone_abbreviations_list() function.\n\t\t\t/*              return that.date_default_timezone_get();\n\t\t\t*/\n\t\t\t\t\t\tthrow 'Not supported (see source code of date() for timezone on how to add support)';\n\t\t\t\t\t},\n\t\t\t\t\tI: function () { // DST observed?; 0 or 1\n\t\t\t\t\t\t// Compares Jan 1 minus Jan 1 UTC to Jul 1 minus Jul 1 UTC.\n\t\t\t\t\t\t// If they are not equal, then DST is observed.\n\t\t\t\t\t\tvar a = new Date(f.Y(), 0),\n\t\t\t\t\t\t\t// Jan 1\n\t\t\t\t\t\t\tc = Date.UTC(f.Y(), 0),\n\t\t\t\t\t\t\t// Jan 1 UTC\n\t\t\t\t\t\t\tb = new Date(f.Y(), 6),\n\t\t\t\t\t\t\t// Jul 1\n\t\t\t\t\t\t\td = Date.UTC(f.Y(), 6); // Jul 1 UTC\n\t\t\t\t\t\treturn 0 + ((a - c) !== (b - d));\n\t\t\t\t\t},\n\t\t\t\t\tO: function () { // Difference to GMT in hour format; e.g. +0200\n\t\t\t\t\t\tvar tzo = jsdate.getTimezoneOffset(),\n\t\t\t\t\t\t\ta = Math.abs(tzo);\n\t\t\t\t\t\treturn (tzo > 0 ? \"-\" : \"+\") + _pad(Math.floor(a / 60) * 100 + a % 60, 4);\n\t\t\t\t\t},\n\t\t\t\t\tP: function () { // Difference to GMT w/colon; e.g. +02:00\n\t\t\t\t\t\tvar O = f.O();\n\t\t\t\t\t\treturn (O.substr(0, 3) + \":\" + O.substr(3, 2));\n\t\t\t\t\t},\n\t\t\t\t\tT: function () { // Timezone abbreviation; e.g. EST, MDT, ...\n\t\t\t\t\t\t// The following works, but requires inclusion of the very\n\t\t\t\t\t\t// large timezone_abbreviations_list() function.\n\t\t\t/*              var abbr = '', i = 0, os = 0, default = 0;\n\t\t\t\t\t\tif (!tal.length) {\n\t\t\t\t\t\t\ttal = that.timezone_abbreviations_list();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (that.php_js && that.php_js.default_timezone) {\n\t\t\t\t\t\t\tdefault = that.php_js.default_timezone;\n\t\t\t\t\t\t\tfor (abbr in tal) {\n\t\t\t\t\t\t\t\tfor (i=0; i < tal[abbr].length; i++) {\n\t\t\t\t\t\t\t\t\tif (tal[abbr][i].timezone_id === default) {\n\t\t\t\t\t\t\t\t\t\treturn abbr.toUpperCase();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (abbr in tal) {\n\t\t\t\t\t\t\tfor (i = 0; i < tal[abbr].length; i++) {\n\t\t\t\t\t\t\t\tos = -jsdate.getTimezoneOffset() * 60;\n\t\t\t\t\t\t\t\tif (tal[abbr][i].offset === os) {\n\t\t\t\t\t\t\t\t\treturn abbr.toUpperCase();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t*/\n\t\t\t\t\t\treturn 'UTC';\n\t\t\t\t\t},\n\t\t\t\t\tZ: function () { // Timezone offset in seconds (-43200...50400)\n\t\t\t\t\t\treturn -jsdate.getTimezoneOffset() * 60;\n\t\t\t\t\t},\n\n\t\t\t\t\t// Full Date/Time\n\t\t\t\t\tc: function () { // ISO-8601 date.\n\t\t\t\t\t\treturn 'Y-m-d\\\\TH:i:sP'.replace(formatChr, formatChrCb);\n\t\t\t\t\t},\n\t\t\t\t\tr: function () { // RFC 2822\n\t\t\t\t\t\treturn 'D, d M Y H:i:s O'.replace(formatChr, formatChrCb);\n\t\t\t\t\t},\n\t\t\t\t\tU: function () { // Seconds since UNIX epoch\n\t\t\t\t\t\treturn jsdate / 1000 | 0;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.date = function (format, timestamp) {\n\t\t\t\t\tthat = this;\n\t\t\t\t\tjsdate = (timestamp == null ? new Date() : // Not provided\n\t\t\t\t\t\t(timestamp instanceof Date) ? new Date(timestamp) : // JS Date()\n\t\t\t\t\t\tnew Date(timestamp * 1000) // UNIX timestamp (auto-convert to int)\n\t\t\t\t\t);\n\t\t\t\t\treturn format.replace(formatChr, formatChrCb);\n\t\t\t\t};\n\t\t\t\treturn this.date(format, timestamp);\n\t\t\t},\n\t\t\tconsole_url: ko.observable(''),\n\t\t\tbase_url: ko.observable(''),\n\t\t\tapplications: ko.observableArray([]),\n\t\t\tedit_plugin: ko.observable(false),\n\t\t\tedit_plugin_error: ko.observable(false),\n\t\t\tedit_plugin_data: ko.observableArray([]),\n\t\t\tdate_options: [\n\t\t\t\t'F j, Y',\n\t\t\t\t'j F Y',\n\t\t\t\t'Y/m/d',\n\t\t\t\t'm/d/Y',\n\t\t\t\t'd/m/Y'\n\t\t\t],\n\t\t\ttime_options: [\n\t\t\t\t'g:i a',\n\t\t\t\t'g:i A',\n\t\t\t\t'H:i'\n\t\t\t],\n\t\t\tstate: {\n\t\t\t\tview: ko.observable('console'),\n\t\t\t\tview_clean: ko.observable('Console')\n\t\t\t},\n\n\t\t\tapplication_request: {\n\t\t\t\tname: ko.observable(''),\n\t\t\t\trole: ko.observable(''),\n\t\t\t\tcallback: ko.observable(''),\n\t\t\t\tnonce: ko.observable(''),\n\t\t\t\tactive: ko.observable(false),\n\t\t\t\tcomplete: ko.observable(false)\n\t\t\t},\n\n\t\t\tsheets: {\n\t\t\t\tnew_api_token: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('new_api_token'),\n\t\t\t\t\tname: ko.observable(''),\n\t\t\t\t\trole: ko.observable('read'),\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\tthis.name('');\n\t\t\t\t\t\tthis.role('read');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdate_is_custom: ko.observable(false),\n\t\t\ttime_is_custom: ko.observable(false),\n\n\t\t\tcustom_time_change: function(obs, el) {\n\t\t\t\tobs.time_is_custom(true);\n\t\t\t\tvar val = $(el.target).val();\n\n\t\t\t\tif (val.length) {\n\t\t\t\t\tobs.settings.site_time_format( val );\n\t\t\t\t\t$('#custom_time_format_preview').text( obs.date(val) );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttime_change: function(obs, el) {\n\t\t\t\tvar val = $(el.target).val(),\n\t\t\t\t\tcustom = $('#custom_time_format').val() || '';\n\t\t\t\tif (val === 'custom') {\n\t\t\t\t\tif (custom.length) {\n\t\t\t\t\t\tobs.settings.site_time_format( custom );\n\t\t\t\t\t}\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').show();\n\t\t\t\t\tobs.time_is_custom(true);\n\t\t\t\t} else {\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').hide();\n\t\t\t\t\tobs.settings.site_time_format( val );\n\t\t\t\t\tobs.time_is_custom(false);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcustom_date_change: function(obs, el) {\n\t\t\t\tobs.date_is_custom(true);\n\t\t\t\tvar val = $(el.target).val();\n\n\t\t\t\tif (val.length) {\n\t\t\t\t\tobs.settings.site_date_format( val );\n\t\t\t\t\t$('#custom_date_format_preview').text( obs.date(val) );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdate_change: function(obs, el) {\n\t\t\t\tvar val = $(el.target).val(),\n\t\t\t\t\tcustom = $('#custom_date_format').val() || '';\n\n\t\t\t\tif (val === 'custom') {\n\t\t\t\t\tif (custom.length) {\n\t\t\t\t\t\tobs.settings.site_date_format( custom );\n\t\t\t\t\t}\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').show();\n\t\t\t\t\tobs.date_is_custom(true);\n\t\t\t\t} else {\n\t\t\t\t\t$(el.target).parents('ol').find('li:last').hide();\n\t\t\t\t\tobs.settings.site_date_format( val );\n\t\t\t\t\tobs.date_is_custom(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\tremove_selected: function(a) {\n\t\t\t\t// Stupid hack to remove empty selected statements in inputs that KO insists on putting in\n\t\t\t\t$('[selected=\"\"]').removeAttr('selected');\n\t\t\t}\n\t\t};\n\n\t}\n\n};\n\n\t_Koken.prototype.site = {\n\n\tinit: function() {\n\n\t\tvar self\t\t= this,\n\t\t\tfirstRun\t= true;\n\n\t\t// Start listening for sliders\n\t\tnew this.klass.slider_number_toggle('site');\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('site');\n\t\t// Start autocomplete\n\t\tnew this.klass.autocomplete('site');\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$(window).on('keydown', function(e) {\n\n\t\t\tif (e.target.tagName === 'INPUT') return;\n\n\t\t\tswitch( e.which ) {\n\n\t\t\t\tcase 83 :\n\t\t\t\t\tif ( e.metaKey || e.ctrlKey ) {\n\t\t\t\t\t\t$('a[data-state=\"settings_panel\"]').first().trigger('click');\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 39 :\n\t\t\t\t\t$('a.fwd').trigger('click');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 37 :\n\t\t\t\t\t$('a.back').trigger('click');\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t});\n\n\t\t// Exposing functions to window for access from iframe\n\t\twindow.__koken__ = {\n\t\t\tshortcuts: function(e) {\n\t\t\t\tvar ev = $.Event('keydown',e);\n\t\t\t\t$(window).trigger(e);\n\t\t\t},\n\t\t\tpanel: function() {\n\t\t\t\t$('#siteui-panel-settings').removeClass('move_offscreen');\n\t\t\t}\n\t\t};\n\n\t\tvar _self = this;\n\n\t\tvar run_expand = function(val) {\n\n\t\t\tvar self = this;\n\n\t\t\tif (!val) {\n\n\t\t\t\tvar panel\t= $('#siteui-panel-settings'),\n\t\t\t\t\tleft\t= parseInt( panel.css('left'), 10 );\n\n\t\t\t\tif ( !isNaN(left) && ( left + panel.width() ) > ( $('#siteui-iframe').width() - 200 ) ) {\n\t\t\t\t\tpanel.css({\n\t\t\t\t\t\tleft: 'auto',\n\t\t\t\t\t\tright: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (val) {\n\t\t\t\t$('#app').addClass('site-expand');\n\t\t\t} else {\n\t\t\t\t$('#app').removeClass('site-expand');\n\t\t\t}\n\n\t\t\tif (_self.classes.editor && _self.classes.editor.css) {\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.classes.editor.css.editorWindow.focus();\n\t\t\t\t\tself.classes.editor.css.editorWindow.resize(true);\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t\tvar isNavBeingDragged;\n\t\t$('body')\n\t\t\t.on( 'mouseover', '.lib-nav li', function(e) {\n\t\t\t\tif (isNavBeingDragged) { return; }\n\t\t\t\t$(e.target).closest('li').find('.item-edit').show().addClass('edit-hoverable');\n\t\t\t\t$(e.target).closest('li').find('a.item').first().addClass('hoverable');\n\t\t\t})\n\t\t\t.on( 'mouseout', '.lib-nav li', function(e) {\n\t\t\t\tif (isNavBeingDragged) { return; }\n\t\t\t\tif ( $('#gear_pop').css('display') !== 'block' || $(e.target).closest('li').attr('id') != $('#gear_pop').data('id') ) {\n\t\t\t\t\t$(e.target).closest('li').find('.item-edit').show().removeClass('edit-hoverable');\n\t\t\t\t\t$(e.target).closest('li').find('a.item').first().removeClass('hoverable');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on( 'mousedown', '.lib-nav li', function(e) {\n\t\t\t\tisNavBeingDragged = true;\n\t\t\t})\n\t\t\t.on ( 'mouseup', '.lib-nav li', function(e) {\n\t\t\t\tisNavBeingDragged = false;\n\t\t\t});\n\n\t\tfunction settings_visibility(skip_deps) {\n\t\t\tskip_deps = skip_deps || false;\n\t\t\tvar els = skip_deps ? $('.group-wrap:not(.dependent)') : $('.group-wrap');\n\t\t\tels.show().each( function(i, g) {\n\t\t\t\tvar el = $(g);\n\t\t\t\tif (!el.find('div.theme_option').filter(function() {\n\t\t\t\t\treturn $(this).css('display') !== 'none';\n\t\t\t\t}).length) {\n\t\t\t\t\tel.hide();\n\t\t\t\t} else {\n\t\t\t\t\tel.show();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!$('#site-inspector .scroll_content div.group-wrap:visible').length) {\n\t\t\t\t$('#empty_settings').show();\n\t\t\t} else {\n\t\t\t\t$('#empty_settings').hide();\n\t\t\t}\n\t\t\t$(window).trigger('resize');\n\t\t}\n\n\t\t$(document).off('previewdomready').on('previewdomready', function(e) {\n\n\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument),\n\t\t\t\tpulses = win.find('[data-pulse-group]');\n\n\t\t\tif ( self.cookie('editor:state') && self.cookie('editor:state') === 'on' && $('.ace_editor').length <= 0 ) {\n\t\t\t\t$('a.button-ui[data-event=\"toggle_css_editor\"]').trigger('click');\n\t\t\t}\n\n\t\t\t$.each(pulses, function(i, pulse) {\n\n\t\t\t\tvar gear = $('<div/>').on('click', function() {\n\n\t\t\t\t\tself.observers.state.settings_panel(false);\n\t\t\t\t\twin.find('[data-pulse-group] div.cover').removeClass('active');\n\n\t\t\t\t\tif ( self.observers.sitepanel_pulse.title() == $(pulse).data('pulse-group') ) {\n\t\t\t\t\t\tself.observers.sitepanel_pulse.title('');\n\t\t\t\t\t\tself.observers.sitepanel_pulse.active( false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.sitepanel_pulse.active( true );\n\t\t\t\t\t\tself.observers.sitepanel_pulse.id( $(pulse).attr('id') );\n\t\t\t\t\t\tself.observers.sitepanel_pulse.title( $(pulse).data('pulse-group') );\n\t\t\t\t\t\t$(this).parent().addClass('active');\n\n\t\t\t\t\t\tvar $K = document.getElementById('siteui-iframe').contentWindow.$K,\n\t\t\t\t\t\t\toverrides = $K.pulse.groups[$(pulse).data('pulse-group')];\n\n\t\t\t\t\t\tself.observers.override_pulse_settings(overrides);\n\n\t\t\t\t\t\tcheck_dependencies();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\t$(pulse).find('div.cover').remove();\n\n\t\t\t\t$('<div/>')\n\t\t\t\t\t.addClass('cover')\n\t\t\t\t\t.append(gear)\n\t\t\t\t\t.appendTo(pulse);\n\n\t\t\t});\n\t\t});\n\n\t\tfunction check_dependencies() {\n\n\t\t\tsettings_visibility();\n\n\t\t\t$('div.plugin-enabler').each(function(i, div) {\n\t\t\t\tvar $div = $(div);\n\t\t\t\tif ($div.find('input').is(':checked')) {\n\t\t\t\t\t$div.siblings('div.theme_option').show();\n\t\t\t\t} else {\n\t\t\t\t\t$div.siblings('div.theme_option').hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ($('#pulse_option_transition_type').is(':visible')) {\n\t\t\t\tvar val = $('#pulse_option_transition_type').val();\n\t\t\t\t$('#pulse_option_transition_easing').parents('.theme_option')[ $.inArray( val, self.observers.pulse_transitions_that_ease() ) === -1 ? 'hide' : 'show' ]();\n\t\t\t}\n\n\t\t\t$('div.dependent').each( function(i, d) {\n\n\t\t\t\tvar data = ko.dataFor(d),\n\t\t\t\t\tel = $(d),\n\t\t\t\t\tshow = true;\n\n\t\t\t\tif (data.setting.scope && $.inArray(self.observers.state.loaded_page().path, data.setting.scope) === -1) {\n\t\t\t\t\tshow = false;\n\t\t\t\t} else if (data.setting.dependencies && data.setting.dependencies.conditions) {\n\t\t\t\t\tvar all = data.setting.dependencies.evaluate === \"all\";\n\n\t\t\t\t\t$.each( data.setting.dependencies.conditions, function(i, d) {\n\n\t\t\t\t\t\tvar c = $('#' + data.prefix + 'option_' + d.option);\n\n\t\t\t\t\t\tif (!c.length) {\n\t\t\t\t\t\t\tc = $('#' + data.prefix + 'option___scoped_' + self.observers.state.loaded_page().path.replace('.', '-') + '_' + d.option);\n\t\t\t\t\t\t\tif (!c.length) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tval = c.val();\n\t\t\t\t\t\tif (c.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\tval = c.is(':checked');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar compare = ( d.hasOwnProperty('equals') && d.equals ) || ( d.hasOwnProperty('not') && d.not ) || ( d.hasOwnProperty('greater_than') && d.greater_than ) || ( d.hasOwnProperty('less_than') && d.less_than );\n\n\t\t\t\t\t\tif (compare === 'true') {\n\t\t\t\t\t\t\tcompare = true;\n\t\t\t\t\t\t} else if (compare === 'false') {\n\t\t\t\t\t\t\tcompare = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (c.is(':visible') && (d.hasOwnProperty('equals') && val == compare ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.hasOwnProperty('not') && val != compare ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.hasOwnProperty('greater_than') && val > compare ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td.hasOwnProperty('less_than') && val < compare)) {\n\t\t\t\t\t\t\tshow = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (show && !all || !show && all) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\tif (show) {\n\t\t\t\t\tel.show();\n\t\t\t\t} else {\n\t\t\t\t\tel.hide();\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tsettings_visibility(true);\n\t\t}\n\n\t\t$(document).off('previewready').on('previewready', function(e, url) {\n\n\t\t\t$('.sp-container').remove();\n\t\t\turl = url || false;\n\t\t\tvar siteframe\t= $('#siteui-iframe'),\n\t\t\t\tiframe\t\t= document.getElementById('siteui-iframe').contentWindow;\n\n\t\t\tif (url) {\n\t\t\t\tif (self.observers.state.iframe.cache) {\n\t\t\t\t\tself.observers.state.iframe.history.push(url);\n\t\t\t\t\tif ( self.observers.state.iframe.updateloc && ! firstRun ) {\n\t\t\t\t\t\tself.observers.state.iframe.location( self.observers.state.iframe.location() + 1 );\n\t\t\t\t\t\tself.observers.state.iframe.historycache().push(url);\n\t\t\t\t\t}\n\t\t\t\t\tif ( firstRun ) {\n\t\t\t\t\t\tself.observers.state.iframe.historycache([url]);\n\t\t\t\t\t\tfirstRun = false;\n\t\t\t\t\t}\n\t\t\t\t\tself.observers.state.iframe.updateloc = true;\n\t\t\t\t}\n\t\t\t\t// Need to force a switch here so that path updates on a page refresh (settings change, etc)\n\t\t\t\tself.observers.state.iframe.path(false);\n\t\t\t\tself.observers.state.iframe.path( url.replace(/&rand=[0-9]+/, '') );\n\t\t\t}\n\n\t\t\tcheck_dependencies();\n\n\t\t\tsiteframe.show();\n\t\t\t$('#siteui-frame').removeClass('loading');\n\n\t\t\t$( iframe.document ).bind('click', function() {\n\n\t\t\t\t// Hide the gear menu if its open when the iframe is clicked\n\t\t\t\tif ( $('.lib-nav').find('.hoverable').length > 0 ) {\n\t\t\t\t\t$(document).trigger('click.outside');\n\t\t\t\t}\n\n\t\t\t\tif ( self.observers.state.iframe.path() !== url ) {\n\t\t\t\t\tself.observers.state.iframe.cache = true;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tnew self.klass.colorpicker('site', $('input[type=\"ccolor\"]'));\n\n\t\t\t$('#siteui-panel-settings').draggable({\n\t\t\t\thandle: '.panel-handle h5',\n\t\t\t\tiframeFix: true,\n\t\t\t\tcontainment: 'parent'\n\t\t\t});\n\n\t\t\t$('#siteui-panel-pulse .modal-close').on('click', function() {\n\t\t\t\tself.observers.sitepanel_pulse.active(false);\n\t\t\t});\n\n\t\t\t$('#siteui-panel-pulse').draggable({\n\t\t\t\thandle: '.panel-handle h5',\n\t\t\t\tiframeFix: true,\n\t\t\t\tcontainment: 'parent'\n\t\t\t});\n\n\t\t});\n\n\t\t$(document).off('.siteinspector').on('keydown.siteinspector', '#site-inspector input', function(e) {\n\t\t\tif (e.which === 13) {\n\t\t\t\t$(this).blur();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\tvar range_listen = false;\n\n\t\t// Listen for site settings and save when changed\n\t\t$(document).off('.settings').on('input.settings change_trigger.settings change.settings mouseup.settings colorupdate.settings', 'div.theme_option input, div.theme_option select', function(e) {\n\n\t\t\tif ( $(e.target).attr('type') === 'text' && e.type !== 'change_trigger' ) {\n\t\t\t\tvar el = $(e.target);\n\n\t\t\t\tif (el.data('timeout_id')) {\n\t\t\t\t\tclearTimeout(el.data('timeout_id'));\n\t\t\t\t}\n\n\t\t\t\tel.data('timeout_id', setTimeout(function() {\n\t\t\t\t\tel.trigger('change_trigger');\n\t\t\t\t}, 2000));\n\t\t\t}\n\n\t\t\tif (Object.keys(self.observers.site.settings_flat).length === 0) return;\n\n\t\t\tclearTimeout(range_listen);\n\t\t\tif (e.type === 'mouseup' && (e.target.tagName.toLowerCase() === 'select' || (e.target.tagName.toLowerCase() === 'input' && e.target.type === 'checkbox'))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If an input with type=\"number\" stop\n\t\t\tif ( $(e.target).attr('type') === 'number' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar n = $(this).attr('name'),\n\t\t\t\twin = document.getElementById('siteui-iframe').contentDocument,\n\t\t\t\tlive_updates = n === '__style' ? 'reload' : self.observers.site.live_updates && (!self.observers.site.settings_flat[n] || !self.observers.site.settings_flat[n].reload_preview) && self.observers.site.live_updates[n] && self.observers.site.live_updates[n](),\n\t\t\t\tsave = true,\n\t\t\t\tli = $(this).parents('div.theme_option'),\n\t\t\t\tis_pulse = $(this).attr('id') && $(this).attr('id').indexOf('pulse') === 0,\n\t\t\t\tv;\n\n\t\t\tif (this.type === 'checkbox') {\n\t\t\t\tvar data = ko.dataFor(this);\n\t\t\t\tif (data.setting.values) {\n\t\t\t\t\tv = $(this).is(':checked') ? data.setting.values['true'] : data.setting.values['false'];\n\t\t\t\t} else {\n\t\t\t\t\tv = $(this).is(':checked');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tv = $(this).val();\n\t\t\t}\n\n\t\t\tif (n === '__style') {\n\n\t\t\t\tvar current = self.observers.site.style.key(),\n\t\t\t\t\tcurrent_style_defaults = [],\n\t\t\t\t\tnew_style_variables;\n\n\t\t\t\t$.each(self.observers.site.styles(), function(i, style) {\n\t\t\t\t\tif (style.key === v) {\n\t\t\t\t\t\tnew_style_variables = style.variables || {};\n\t\t\t\t\t} else if (style.key === current) {\n\t\t\t\t\t\tcurrent_style_defaults = style.variables || {};\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.each(self.observers.styled_settings, function(i, setting) {\n\n\t\t\t\t\tvar el = $('[name=' + setting + ']'),\n\t\t\t\t\t\tel_val = el.val();\n\t\t\t\t\t\tval = false,\n\t\t\t\t\t\tcurrent_style_default = current_style_defaults[setting] || false;\n\n\t\t\t\t\tif (current_style_default && typeof(current_style_default) === 'string' && ((m = current_style_default.match(/^#([a-z0-9]{3})$/)))) {\n\t\t\t\t\t\tcurrent_style_default += m[1];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el.length && (m = el_val.match(/^#([a-z0-9]{3})$/))) {\n\t\t\t\t\t\tel_val += m[1];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (new_style_variables[setting] !== undefined) {\n\t\t\t\t\t\tval = new_style_variables[setting];\n\t\t\t\t\t} else if (!current_style_default || el_val === current_style_default || Number(el_val) === current_style_default) {\n\t\t\t\t\t\tval = el.data('default-value');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (val !== false) {\n\n\t\t\t\t\t\tif (el.is(':checkbox')) {\n\t\t\t\t\t\t\tif (val === true || val === el.data('true-val')) {\n\t\t\t\t\t\t\t\tel.attr('checked', true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.attr('checked', false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (typeof val === 'string' && val.indexOf('rgba') === 0) {\n\t\t\t\t\t\t\t\tvar alpha,\n\t\t\t\t\t\t\t\t\tcolor = val.replace('rgba', 'rgb').replace(/,\\s?([0-9\\.]+)\\)$/, function(match) {\n\t\t\t\t\t\t\t\t\t\talpha = match.replace(/[^0-9\\.]/g, '')*100;\n\t\t\t\t\t\t\t\t\t\treturn ')';\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tvar alphaInput = el.parents('.theme_option').find('.coloralpha');\n\t\t\t\t\t\t\t\talphaInput.val(alpha);\n\t\t\t\t\t\t\t\talphaInput.siblings('span.display_value').text(alpha);\n\t\t\t\t\t\t\t\tel.spectrum('set', color);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (el.attr('type') === 'ccolor') {\n\t\t\t\t\t\t\t\t\tel.spectrum('set', val);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tel.val(val);\n\t\t\t\t\t\t\t\t\tif (el.siblings('span.display_value')) {\n\t\t\t\t\t\t\t\t\t\tel.siblings('span.display_value').text(val);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.site.settings_send[setting] = val;\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t// Mouseup only for range elements\n\t\t\tif (e.type === 'mouseup' && this.type != 'range') {\n\t\t\t\tif (live_updates) {\n\t\t\t\t\tsave = false;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.type === 'colorupdate') {\n\t\t\t\tsave = false;\n\t\t\t}\n\n\t\t\tif ($(this).siblings('span.display_value').length) {\n\t\t\t\t$(this).siblings('span.display_value').html(v);\n\t\t\t}\n\n\t\t\tif (li.find('.coloralpha').length && li.find('input[type=\"ccolor\"]').length) {\n\t\t\t\tvar root = li.find('input[type=\"ccolor\"]');\n\t\t\t\tis_pulse = root.attr('id').indexOf('pulse_') === 0;\n\t\t\t\tvar r = root.spectrum('get').toRgbString().replace('rgb(', 'rgba(');\n\t\t\t\tv = r.substr(0, r.length-1) + ',' + li.find('.coloralpha').val() / 100 + ')';\n\t\t\t\tn = root.attr('name');\n\t\t\t\tlive_updates = self.observers.site.live_updates && self.observers.site.live_updates[n] && self.observers.site.live_updates[n]();\n\t\t\t}\n\n\t\t\tif (live_updates && typeof live_updates === 'object') {\n\n\t\t\t\tvar style_text = '', lb_style_text = '';\n\n\t\t\t\t$.each( live_updates, function(i, obj) {\n\n\t\t\t\t\tvar template = obj.template.replace(/\\[?\\$([a-z_0-9]+)\\]?/g, function() {\n\n\t\t\t\t\t\tvar field = arguments[1];\n\n\t\t\t\t\t\tif (n === field) {\n\t\t\t\t\t\t\treturn v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $('#option_' + field).val();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}).replace(/to_rgb\\(#([0-9a-zA-z]{3,6})\\)/g, function() {\n\t\t\t\t\t\tvar color = arguments[1];\n\t\t\t\t\t\tif (color.length === 3) {\n\t\t\t\t\t\t\tcolor = color + color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn parseInt(color.substr(0, 2), 16) + ',' + parseInt(color.substr(2, 2), 16) + ',' + parseInt(color.substr(4, 2), 16);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (obj.lightbox) {\n\t\t\t\t\t\tlb_style_text += obj.selector + ' {' + obj.property + ': ' + template + '}';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyle_text += obj.selector + ' {' + obj.property + ': ' + template + '}';\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tself.controllers.live_update_css(style_text, true);\n\t\t\t\tself.controllers.live_update_css(lb_style_text, true, true);\n\n\t\t\t} else if (self.observers.site.settings_flat[n] && !self.observers.site.settings_flat[n].reload_preview && $(win).find('[data-' + n + ']').length) {\n\n\t\t\t\tlive_updates = true;\n\n\t\t\t\tvar clean_v;\n\n\t\t\t\t$.each($(win).find('[data-' + n + ']'), function(i, control) {\n\t\t\t\t\tvar condition = $(control).data('control-condition').replace(/__setting.([a-z\\-_]+)/g, function(m) {\n\t\t\t\t\t\tvar el = $('#option_' + m.replace('__setting.', '')),\n\t\t\t\t\t\t\t_v;\n\n\t\t\t\t\t\tif (el.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\tvar data = ko.dataFor(el.get(0));\n\t\t\t\t\t\t\tif (data.setting.values) {\n\t\t\t\t\t\t\t\t_v = el.is(':checked') ? data.setting.values['true'] : data.setting.values['false'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_v = el.is(':checked');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_v = el.val();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (_v !== true && _v !== false) {\n\t\t\t\t\t\t\t_v = \"'\" + _v + \"'\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn _v;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (eval(condition)) {\n\t\t\t\t\t\t$(control).css('display', 'inline');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(control).css('display', 'none');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tif (live_updates) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t// Okkaaaaaay...for some reason we have to use the iframe's copy of jQuery to trigger the resize\n\t\t\t\t\tdocument.getElementById('siteui-iframe').contentWindow.$(document.getElementById('siteui-iframe').contentWindow).trigger('resize');\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tif (save) {\n\t\t\t\tif (is_pulse) {\n\t\t\t\t\tself.observers.site.pulse_settings_group = self.observers.sitepanel_pulse.title();\n\t\t\t\t\tself.observers.site.pulse_settings_send[n] = v;\n\t\t\t\t\tlive_updates = 'pulse';\n\t\t\t\t} else {\n\t\t\t\t\tvar s = self.observers.site.settings_flat[n];\n\t\t\t\t\tif (s.send_as) {\n\t\t\t\t\t\t$('[data-send-as=\"' + s.send_as() + '\"]').each(function(i, input) {\n\t\t\t\t\t\t\tvar el = $(input);\n\t\t\t\t\t\t\tif (el.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\t\tvar data = ko.dataFor(input),\n\t\t\t\t\t\t\t\t\tchecked;\n\t\t\t\t\t\t\t\tif (data.setting.values) {\n\t\t\t\t\t\t\t\t\tchecked = v === data.settings.values[v ? 'true' : 'false'];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tchecked = v;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tel.attr('checked', v);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.val(v);\n\t\t\t\t\t\t\t\tif (el.siblings('span.display_value')) {\n\t\t\t\t\t\t\t\t\tel.siblings('span.display_value').text(v);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tself.observers.site.settings_send[s.send_as ? s.send_as() : n] = v;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Only continue to save for ranges if the drag is finished\n\t\t\tif (this.type === 'range' && save) {\n\t\t\t\tclearTimeout(range_listen);\n\t\t\t\trange_listen = setTimeout(function() {\n\t\t\t\t\tself.events.save(false, live_updates);\n\t\t\t\t}, 1000);\n\t\t\t} else if (save) {\n\t\t\t\tself.events.save(false, live_updates);\n\t\t\t}\n\n\t\t});\n\n\t\t$(document).on('change', '#edit_link_data select.filter', function(e) {\n\n\t\t\tvar s = $(e.target),\n\t\t\t\tval = s.val(),\n\t\t\t\tp = s.parents('ol');\n\n\t\t\tp.find('select:not(.filter),input:not(.filter),').hide();\n\t\t\tp.find('.filter_' + val).show();\n\n\t\t});\n\n\t\tthis.events.refresh_site_data();\n\n\t\tthis.controllers.fetch_themes(function() {\n\t\t\tif (this.observers.state.type() === 'themes') {\n\t\t\t\tthis.controllers.load_theme_previews();\n\t\t\t}\n\t\t});\n\n\t\tthis.controllers.load_albums_full();\n\n\t\tthis.sync({\n\t\t\trequest: 'text/type:page',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.pages( data.text );\n\t\t\t}\n\t\t});\n\n\t\tthis.sync({\n\t\t\trequest: 'drafts',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.sitepanel_pulse.active.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\t$('#siteui-panel-pulse').removeClass('move_offscreen');\n\t\t\t} else {\n\t\t\t\t$('#siteui-panel-pulse').addClass('move_offscreen');\n\t\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument);\n\t\t\t\twin.find('[data-pulse-group] div.cover').removeClass('active');\n\t\t\t\tthis.observers.sitepanel_pulse.title('');\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.source_filter.filter.subscribe( function(val) {\n\t\t\tsetTimeout( function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t}, 0);\n\t\t});\n\n\t\t$(document).on('change', '#source_filter_filter', function() {\n\t\t\tself.observers.sheets.source_filter.filter($(this).val());\n\t\t});\n\n\t\tthis.observers.sheets.source_filter.type.subscribe( function(val) {\n\t\t\tif (val === 'archive' || val === 'index') {\n\t\t\t\tif (val === 'archive') {\n\t\t\t\t\tthis.observers.sheets.source_filter.filter('date');\n\t\t\t\t\tthis.observers.sheets.source_filter.index_route = this.observers.sheets.source_filter.route;\n\t\t\t\t\tthis.observers.sheets.source_filter.route = {};\n\t\t\t\t\tthis.observers.sheets.source_filter.current(false);\n\t\t\t\t} else {\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tself.observers.sheets.source_filter.filter('none');\n\t\t\t\t\t});\n\t\t\t\t\tthis.observers.sheets.source_filter.route = this.observers.sheets.source_filter.index_route;\n\t\t\t\t}\n\t\t\t\tthis.observers.sheets.source_filter.category(0);\n\t\t\t\tthis.observers.sheets.source_filter.tags([]);\n\t\t\t\tthis.observers.sheets.source_filter.year(0);\n\t\t\t\tthis.observers.sheets.source_filter.month(0);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.source_filter.tags.subscribe(function(val) {\n\t\t\tif (val.length <= 0) {\n\t\t\t\tvar self = this;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.classes.autocomplete.site.tags($('#source_filter input.widefilter_tag'), $('#source_filter input.widefilter_tag').parent(), $('#source_filter [data-event=\"add_filter_tag\"]'));\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.source_filter.order_by.subscribe( function(val) {\n\t\t\tif (val.match(/_on$/) || val === 'count') {\n\t\t\t\tthis.observers.sheets.source_filter.order_direction('desc');\n\t\t\t} else {\n\t\t\t\tthis.observers.sheets.source_filter.order_direction('asc');\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.preview.subscribe( function(val) {\n\n\t\t\tvar frame = $('#preview-frame'),\n\t\t\t\twrap = $('#preview-frame-wrap'),\n\t\t\t\tthumb = $('#preview-thumb-' + val),\n\t\t\t\ttop = $('#siteui-lcol-themes'),\n\t\t\t\tself = this,\n\t\t\t\tspeed = 400;\n\n\t\t\tif (val) {\n\n\t\t\t\tvar shade = $('<div />').attr('id', 'theme-preview-shade').appendTo('#theme-selection'),\n\t\t\t\t\tspriteCoords = {\n\t\t\t\t\t\ttop: thumb.offset().top - 54,\n\t\t\t\t\t\tleft: thumb.offset().left\n\t\t\t\t\t},\n\t\t\t\t\tsprite = thumb\n\t\t\t\t\t\t.clone()\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: spriteCoords.top,\n\t\t\t\t\t\t\tleft: spriteCoords.left\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.data('coords', spriteCoords)\n\t\t\t\t\t\t.on('load', function() {\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tshade.animate({\n\t\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t\t}, speed);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.attr('id', 'theme-preview-sprite')\n\t\t\t\t\t\t.appendTo($('#themes-browse'));\n\n\t\t\t\t$('#theme-preview-info .theme-info').css('margin-top', thumb.height() + 33);\n\n\t\t\t\tframe.off('load').on('load', function() {\n\t\t\t\t\tif (frame.attr('src') === 'templates/blank.html') {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tvar css = {\n\t\t\t\t\t\t\t\tleft: 20\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t// Necessary due to an odd issue in animated-enhanced\n\t\t\t\t\t\t\t// https://github.com/benbarnett/jQuery-Animate-Enhanced/issues/97\n\t\t\t\t\t\t\tif (spriteCoords.top !== 103) {\n\t\t\t\t\t\t\t\tcss.top = 103;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$('#theme-preview-sprite').animate(css, speed);\n\t\t\t\t\t\t\t$('#theme-preview-wrap').animate({ left: 0 }, speed, function() {\n\t\t\t\t\t\t\t\tframe.attr('src', self.config.paths.base + 'preview.php?/&preview=' + val);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tframe.attr('src', 'templates/blank.html');\n\n\t\t\t} else {\n\t\t\t\t$('#theme-preview-shade').animate({opacity: 0}, speed, function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\n\t\t\t\tvar coords = $('#theme-preview-sprite').data('coords');\n\n\t\t\t\tif (parseInt($('#theme-preview-sprite').css('top'), 10) === coords.top) {\n\t\t\t\t\tcoords = {\n\t\t\t\t\t\tleft: coords.left\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t$('#theme-preview-sprite').animate(coords, speed, function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\n\t\t\t\tframe.off('load');\n\t\t\t\t$('#theme-preview-wrap').animate({ left: -$(window).width() }, speed, function() {\n\t\t\t\t\tframe.attr('src', 'templates/blank.html');\n\t\t\t\t\t$(this).css('left', '-100%');\n\t\t\t\t});\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.state.type.subscribe( function(val) {\n\n\t\t\tif (val === 'themes') {\n\t\t\t\t$('#theme-preview-shade').add('#theme-preview-sprite').remove();\n\t\t\t\tthis.controllers.load_theme_previews();\n\t\t\t\tif ( this.observers.state.expand() ) {\n\t\t\t\t\tthis.observers.state.expand(false);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar iframe = $('#siteui-iframe'),\n\t\t\t\tcurrent = iframe.attr('src') || '';\n\n\t\t\tif (val === 'live') {\n\t\t\t\tiframe.attr('src', this.config.paths.base).show();\n\t\t\t} else if (current.indexOf('/preview.php?/') === -1) {\n\t\t\t\tiframe.attr('src', this.config.paths.base + 'preview.php?/');\n\t\t\t}\n\n\t\t\tif (val === 'draft' && this.cookie('editor:state') && this.cookie('editor:state') === 'on' && $('#docked_editor').css('display') !== 'block') {\n\t\t\t\t$('.item[data-event=\"toggle_css_editor\"]').trigger('click');\n\t\t\t}\n\n\t\t}, this);\n\n\t\tthis.observers.state.expand.subscribe( run_expand, this );\n\n\t\tif ( this.observers.state.expand() === true ) {\n\t\t\trun_expand(true);\n\t\t}\n\n\t\tthis.observers.state.sidebar.subscribe( function(val) {\n\t\t\tsetTimeout( function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t\tsettings_visibility();\n\t\t\t}, 0);\n\t\t});\n\n\t\tthis.observers.site.custom_css.subscribe(function(val) {\n\t\t\tif (this.classes.editor && this.classes.editor.css.editorWindow.getValue() !== val) {\n\t\t\t\tthis.classes.editor.css.editorWindow.autosave = false;\n\t\t\t\tthis.classes.editor.css.editorWindow.setValue(val);\n\t\t\t\tthis.classes.editor.css.editorWindow.autosave = true;\n\t\t\t\tvar self = this;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself.classes.editor.css.editorWindow.gotoLine(1);\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.editor_type.subscribe(function(val) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.controllers.live_update_css( self.classes.editor.css.editorWindow.getValue() );\n\n\t\t\tif ( val === 'dock' ) {\n\t\t\t\t$('#docked_editor').empty();\n\t\t\t\t$('#siteui-css-editor-frame').appendTo('#docked_editor');\n\t\t\t} else {\n\t\t\t\t$('#undocked_editor').empty();\n\t\t\t\t$('#siteui-css-editor-frame').appendTo('#undocked_editor');\n\t\t\t}\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tself.classes.editor.css.editorWindow.focus();\n\t\t\t\tself.classes.editor.css.editorWindow.resize(true);\n\t\t\t});\n\n\t\t}, this);\n\n\t\tthis.observers.state.settings_panel.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\tself.observers.sitepanel_pulse.active(false);\n\t\t\t\t$('#siteui-panel-pulse').addClass('move_offscreen');\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.iframe.path.subscribe( function(val) {\n\n\t\t\tif (!val) return;\n\n\t\t\tval = val.replace( RegExp('^' + this.helpers.rtrim( this.config.paths.base, '/') + '(/(index|preview).php\\\\?)?'), '').replace(/&.*=.*$/, '');\n\n\t\t\tif (this.observers.state.type() != 'themes') {\n\t\t\t\tlocation.hash = '/site/' + this.observers.state.type() + '/' + this.observers.state.sidebar() + '/url:' + ( val || '/' );\n\t\t\t}\n\n\t\t\tif (this.observers.state.type() === 'draft') {\n\t\t\t\tvar self = this,\n\t\t\t\t\tt;\n\n\t\t\t\tthis.observers.state.iframe.rel_path( val );\n\n\t\t\t\tif (val === '/') {\n\t\t\t\t\t$.each(this.observers.site.navigation.items(), function(i, obj) {\n\t\t\t\t\t\tif (obj.front) {\n\t\t\t\t\t\t\tval = obj.path;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tval = val.replace(/\\/[a-z_]+:[^\\/]+/g, '').replace(/\\/$/, '') + '/';\n\n\t\t\t\t$.each(this.observers.site.routes(), function(i, obj) {\n\t\t\t\t\tif (obj.template && obj.template.indexOf('redirect:') === 0) return true;\n\t\t\t\t\tvar p = '^/?' + obj.path.substring(1).replace(/\\:[a-z_-]+/g, function(match) {\n\t\t\t\t\t\tif (match === ':year') {\n\t\t\t\t\t\t\treturn '[0-9]{4}';\n\t\t\t\t\t\t} else if (match === ':month' || match === ':day') {\n\t\t\t\t\t\t\treturn '[0-9]{1,2}';\n\t\t\t\t\t\t} else if (match === ':id') {\n\t\t\t\t\t\t\treturn '(?:(?:[0-9]+)|(?:[0-9a-z]{32}))';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn '[^/]+';\n\t\t\t\t\t\t}\n\t\t\t\t\t}).replace(/\\?P<[^>]+>/, '').replace(/\\/\\$$/, '/?$').replace(/\\$$/, '') + '$';\n\n\t\t\t\t\tif (val.match(RegExp(p))) {\n\t\t\t\t\t\tt = obj;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!t) {\n\t\t\t\t\tt = {\n\t\t\t\t\t\ttemplate: val.replace(/\\//g, ''),\n\t\t\t\t\t\tpath: val\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (t) {\n\n\t\t\t\t\t$.each( this.observers.site.templates(), function(i, obj) {\n\t\t\t\t\t\tif (obj.path === t.template) {\n\t\t\t\t\t\t\tif (t.source) {\n\t\t\t\t\t\t\t\tobj.info.source = t.source;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (t.filters) {\n\t\t\t\t\t\t\t\tobj.info.filters = t.filters;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (obj.info.source) {\n\t\t\t\t\t\t\t\tvar label = '', hash, filters = [];\n\t\t\t\t\t\t\t\tif (obj.info.source.collection) {\n\t\t\t\t\t\t\t\t\tlabel = 'All public ' + obj.info.source.collection;\n\n\t\t\t\t\t\t\t\t\tif (obj.info.source.featured) {\n\t\t\t\t\t\t\t\t\t\tlabel.replace('public', 'featured');\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (obj.info.source.category) {\n\t\t\t\t\t\t\t\t\t\tvar cat = ko.utils.arrayFirst(self.observers.categories(), function(item) {\n\t\t\t\t\t\t\t\t\t\t\treturn item.id == obj.info.source.category;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tlabel += ' in category \"' + cat.title + '\"';\n\t\t\t\t\t\t\t\t\t} else if (obj.info.source.tag) {\n\t\t\t\t\t\t\t\t\t\tlabel += ' tagged with \"' + obj.info.source.tag + '\"';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tobj.info.source_label = label;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.observers.state.loaded_route(t);\n\t\t\t\t\t\t\tself.observers.state.loaded_page(obj);\n\n\t\t\t\t\t\t\tvar is_sub_archive = false,\n\t\t\t\t\t\t\t\tcurrent_page_nav =  $('.lib-nav .selected').length;\n\n\t\t\t\t\t\t\tif (obj.info.source === 'timeline') {\n\t\t\t\t\t\t\t\tvar matches = self.observers.state.iframe.rel_path().match(RegExp(t.path.substr(1).replace(':year', '([0-9]{4})').replace(':month', '([0-9]{1,2})')));\n\t\t\t\t\t\t\t\tis_sub_archive = matches && matches.length > 1 && !isNaN(matches[1]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.observers.sheets.source_filter.available(\n\t\t\t\t\t\t\t\t(obj.info.source === 'timeline' && (!t.section || (is_sub_archive && current_page_nav))) ||\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t$.inArray(obj.info.source, ['contents', 'favorites', 'featured_albums', 'albums', 'sets', 'album', 'set', 'essays', 'tags', 'categories']) !== -1 &&\n\t\t\t\t\t\t\t\t\t(!t.section || $.inArray(obj.info.source, ['contents', 'favorites', 'albums', 'album', 'set', 'sets', 'essays']) === -1)\n\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t( $.inArray(obj.info.source, [ 'tag', 'category', 'archive' ]) !== -1 && ( current_page_nav || t.path.indexOf(':') === -1 ))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, this );\n\n\t\tthis.observers.sheets.edit_nav.active.subscribe( function(val) {\n\t\t\tif ( val === true ) {\n\t\t\t\tvar self = this;\n\t\t\t\t$('#primary_links').sortable({\n\t\t\t\t\taxis: 'y',\n\t\t\t\t\tplaceholder: 'links-place',\n\t\t\t\t\tcontainment: 'parent',\n\t\t\t\t\tcancel: '#primary_links .head',\n\t\t\t\t\thandle: '.drag',\n\t\t\t\t\titems: 'li.listed',\n\t\t\t\t\tupdate: function() {\n\t\t\t\t\t\tvar nav = [];\n\t\t\t\t\t\t$('#primary_links li').not('.head').each( function(k,v) {\n\t\t\t\t\t\t\tnav.push(ko.dataFor(v));\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Necessary for some reason, otherwise the table gets funky\n\t\t\t\t\t\tself.observers.site.navigation_draft([]);\n\t\t\t\t\t\tself.observers.site.navigation_draft(nav);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.site.templates.subscribe( function(val) {\n\n\t\t\tvar index = [],\n\t\t\t\tspecial = [],\n\t\t\t\tspecial_paths = [],\n\t\t\t\tarchives = [],\n\t\t\t\ttmp = {},\n\t\t\t\tself = this;\n\n\t\t\tthis.observers.site.has_page_template(false);\n\n\t\t\t$.each( val, function(i, template) {\n\t\t\t\ttmp[template.path] = template;\n\t\t\t\tif (template.info.source === 'page') {\n\t\t\t\t\tself.observers.site.has_page_template(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.sheets.source_filter.templates.supported_archives([]);\n\n\t\t\t$.each( this.observers.site.templates(), function(i, template) {\n\n\t\t\t\tif (/.rss$/.test(template.path)) return true;\n\n\t\t\t\ttemplate.info.path = template.path;\n\n\t\t\t\tif (template.path === 'timeline' || (template.info.source && $.inArray(template.info.source, [ 'albums', 'contents', 'essays', 'featured_albums', 'featured_content', 'favorites']) !== -1)) {\n\t\t\t\t\tif (template.path === 'timeline') {\n\t\t\t\t\t\ttemplate.info.source = 'timeline';\n\t\t\t\t\t// If template path === source, it is a core section, so skip. UNLESS featured, which aren't core\n\t\t\t\t\t} else if (template.path !== template.info.source || template.info.source.indexOf('featured') === 0) {\n\t\t\t\t\t\tindex.push(template.info);\n\t\t\t\t\t}\n\t\t\t\t} else if ($.inArray(template.path, [ 'archive.essays', 'archive.contents', 'archive.albums']) !== -1) {\n\t\t\t\t\tself.observers.sheets.source_filter.templates.supported_archives.push( template.path.match(/archive\\.(essays|contents|albums)/)[1] );\n\t\t\t\t} else if (template.path === 'date') {\n\t\t\t\t\tself.observers.sheets.source_filter.templates.supported_archives.push('date');\n\t\t\t\t} else if (!template.info.source) {\n\t\t\t\t\tspecial.push(template.info);\n\t\t\t\t\tspecial_paths.push(template.info.path);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tthis.observers.site.templates_grouped.indexes( index.reverse() );\n\t\t\tthis.observers.site.templates_grouped.specials( special );\n\t\t\tthis.observers.site.templates_grouped.special_paths( special_paths );\n\n\t\t}, this);\n\n\t},\n\n\tcontrollers: {\n\n\t\tlive_update_css: function(cssText, append, lightbox) {\n\n\t\t\tappend = append || false;\n\t\t\tlightbox = lightbox || false;\n\n\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument);\n\n\t\t\tif (lightbox) {\n\t\t\t\tvar lb = win.find('#k-lightbox-iframe');\n\t\t\t\tif (lb.length) {\n\t\t\t\t\twin = $(lb.get(0).contentDocument);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar\tstyle = append ? win.find('style.__live') : win.find('#koken_custom_css');\n\n\t\t\tif (!style.length) {\n\t\t\t\tstyle = $('<style/>').addClass('__live');\n\t\t\t\twin.find('#koken_custom_css').before(style);\n\t\t\t}\n\n\t\t\tif (append) {\n\t\t\t\tcssText = style.text() + cssText;\n\t\t\t}\n\n\t\t\tstyle.text( cssText );\n\t\t},\n\n\t\tload_theme_previews: function() {\n\t\t\tvar intId = setInterval(function() {\n\t\t\t\tif (!$('#themes-browse li.loading').length) return;\n\t\t\t\tclearInterval(intId);\n\t\t\t\t$('#themes-browse li.loading').each(function(i, li) {\n\t\t\t\t\tvar img = $(li).find('img:first');\n\t\t\t\t\tif (img.attr('src') && img.attr('src').indexOf('data:') === -1) return;\n\t\t\t\t\timg.bind('load', function() {\n\t\t\t\t\t\t$(this).animate({opacity: 1}, 400, function() {\n\t\t\t\t\t\t\t$(li).removeClass('loading');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\timg.attr('src', img.data('src'));\n\t\t\t\t});\n\t\t\t}, 20);\n\t\t},\n\n\t\tparse_filters: function(filters) {\n\t\t\tvar obj = {};\n\t\t\t$.each(filters, function(i, f) {\n\t\t\t\tif (f.indexOf('=') === 0) {\n\t\t\t\t\tobj[f] = true;\n\t\t\t\t} else {\n\t\t\t\t\tvar bits = f.split('=');\n\t\t\t\t\tobj[bits[0]] = bits[0] === 'tags' ? bits[1].split(',') : bits[1];\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn obj;\n\t\t}\n\n\t},\n\n\tevents: {\n\n\t\ttoggle_css_editor: function() {\n\n\t\t\tif ( this.observers.state.mid_col() === 'preview' && $('#undocked_editor').html() !== '' && this.classes.editor ) {\n\t\t\t\tthis.observers.state.mid_col('custom_css');\n\t\t\t\tthis.cookie( 'editor:state', 'on' );\n\t\t\t} else if ( this.observers.state.mid_col() === 'preview' && this.observers.state.editor_type() === 'dock' ) {\n\t\t\t\tthis.observers.state.mid_col('custom_css');\n\t\t\t\tthis.cookie( 'editor:state', 'on' );\n\t\t\t\tnew this.klass.editor('css', this.observers.site.custom_css(), 'siteui-css-editor');\n\t\t\t} else {\n\t\t\t\tthis.cookie( 'editor:state', 'off' );\n\t\t\t\tthis.observers.state.mid_col('preview');\n\t\t\t}\n\n\t\t\tif (this.observers.state.mid_col() === 'custom_css') {\n\t\t\t\tvar self = this,\n\t\t\t\t\tid;\n\t\t\t\tthis.classes.editor.css.editorWindow.focus();\n\t\t\t\tthis.classes.editor.css.editorWindow.clearSelection();\n\t\t\t\tthis.classes.editor.css.editorWindow.gotoLine(1);\n\t\t\t\tthis.classes.editor.css.editorWindow.on('change', function(e) {\n\t\t\t\t\tif (!self.classes.editor.css.editorWindow.autosave) return;\n\t\t\t\t\tclearTimeout(id);\n\t\t\t\t\tvar val = self.classes.editor.css.editorWindow.getValue();\n\t\t\t\t\tself.observers.site.custom_css(val);\n\t\t\t\t\tif (self.observers.state.editor_type() === 'dock') {\n\t\t\t\t\t\tself.controllers.live_update_css(val);\n\t\t\t\t\t}\n\t\t\t\t\tid = setTimeout(function() {\n\t\t\t\t\t\tself.events.save(false, true);\n\t\t\t\t\t}, 1000);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.classes.editor.css.editorWindow.resize(true);\n\n\t\t},\n\n\t\ttoggle_editor_theme: function() {\n\n\t\t\tvar editor = this.classes.editor.css.editorWindow,\n\t\t\t\tkokentheme = 'ace/theme/koken',\n\t\t\t\tkokenlighttheme = 'ace/theme/kokenlight';\n\n\t\t\tif ( editor.getTheme() === kokentheme ) {\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#fff');\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokenlighttheme + '\"' );\n\t\t\t\teditor.setTheme(kokenlighttheme);\n\t\t\t} else {\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#141414');\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokentheme + '\"' );\n\t\t\t\teditor.setTheme(kokentheme);\n\t\t\t}\n\n\t\t\teditor.focus();\n\n\t\t},\n\n\t\tcheck_for_custom_styling: function() {\n\t\t\tvar style = this.observers.site.style,\n\t\t\t\tself = this,\n\t\t\t\tcustom = false;\n\n\t\t\tif (!style) return;\n\n\t\t\tif (style.variables) {\n\t\t\t\t$.each(style.variables, function(i, v) {\n\t\t\t\t\tif (self.observers.site.settings_flat[i] && self.observers.site.settings_flat[i].value() != v()) {\n\t\t\t\t\t\tcustom = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.observers.site.custom_style(custom);\n\t\t\t\t// Needed to make Style <select> to update with the proper selected style\n\t\t\t\tthis.observers.site.styles.valueHasMutated();\n\t\t\t}\n\t\t},\n\n\t\tmanage_filter_tag: function(el, parent) {\n\t\t\tvar d = ko.dataFor(el[0]),\n\t\t\t\to = this.observers.sheets.source_filter.tags,\n\t\t\t\ttag = d.title || d;\n\n\t\t\tif ($.inArray(tag, o()) === -1) {\n\t\t\t\to.push(tag);\n\t\t\t} else {\n\t\t\t\to.remove(tag);\n\t\t\t}\n\n\t\t},\n\n\t\tadd_filter_tag: function(el, parent) {\n\t\t\tvar tag = el.parents('ul').find('input').val(),\n\t\t\t\to = this.observers.sheets.source_filter.tags;\n\n\t\t\tif (tag.length && $.inArray(tag, o()) === -1) {\n\t\t\t\to.push(tag);\n\t\t\t}\n\n\t\t\tel.parents('ul').find('input').val('');\n\t\t},\n\n\t\tapply_filters: function(el, parent) {\n\n\t\t\tvar o = this.observers.sheets.source_filter,\n\t\t\t\tr = o.current() ? this.observers.state.loaded_route() : o.route,\n\t\t\t\tnew_route = o.current() ? $.extend({}, r) : $.extend(r, {\n\t\t\t\t\tpath: '/' + this.observers.make_url_safe(o.label()) + '/'\n\t\t\t\t}),\n\t\t\t\treplace = o.current() && $('.lib-nav .selected').length ? ko.dataFor($('.lib-nav .selected').get(0)) : false,\n\t\t\t\ttype = o.type(),\n\t\t\t\turl_data = this.observers.site.url_data[ o.source().replace(/s$/, '') ];\n\n\n\t\t\tif (o.type() === 'index' &&\n\t\t\t\t\to.display() === 'all' &&\n\t\t\t\t\to.section() &&\n\t\t\t\t\turl_data && url_data.order &&\n\t\t\t\t\turl_data.order().toLowerCase() === o.order_by() + ' ' + o.order_direction() &&\n\t\t\t\t\to.filter() !== 'none' &&\n\t\t\t\t\t$.inArray(o.source(), this.observers.sheets.source_filter.templates.supported_archives()) !== -1) {\n\t\t\t\ttype = 'archive';\n\t\t\t}\n\n\t\t\tif (o.source() === 'timeline') {\n\n\t\t\t\tvar m = o.month() > 0 ? ( o.month() < 10 ? '0' + o.month() : o.month() ) : false;\n\t\t\t\tthis.events._manage_link({\n\t\t\t\t\tlabel: o.current() ? $('.lib-nav .selected').find('span.icon16').text() : o.label(),\n\t\t\t\t\tallow_label: true,\n\t\t\t\t\tauto: 'timeline',\n\t\t\t\t\tyear: o.year(),\n\t\t\t\t\tmonth: m,\n\t\t\t\t\tpath: this.observers.urls['timeline'] + o.year() + ( m ? '/' + m : '' ) + '/'\n\t\t\t\t}, false, replace);\n\n\t\t\t} else if (o.current() && o.section()) {\n\n\t\t\t\tthis.observers.site.url_data_send = {\n\t\t\t\t\t'source': o.source(),\n\t\t\t\t\t'order': 'order',\n\t\t\t\t\t'value': o.order_by() + ' ' + o.order_direction()\n\t\t\t\t};\n\n\t\t\t} else if (type === 'archive') {\n\n\t\t\t\tvar key = (o.filter() === 'date' ? 'archive' : o.filter()) + '_' + o.source(),\n\t\t\t\t\tpath = this.observers.urls[key].replace(/(\\(\\?\\:)|(\\)\\?)/g, ''),\n\t\t\t\t\tobj = {\n\t\t\t\t\t\tlabel: o.current() ? $('.lib-nav .selected').find('span.icon16').text() : o.label(),\n\t\t\t\t\t\tauto: key\n\t\t\t\t\t};\n\n\t\t\t\tif (o.filter() === 'date') {\n\t\t\t\t\tobj.month = o.month() === 'any' ? '' : o.month();\n\t\t\t\t\tobj.year = o.year();\n\t\t\t\t\tobj.day = '';\n\n\t\t\t\t\tif (!isNaN(obj.month) && obj.month < 10) {\n\t\t\t\t\t\tobj.month = '0' + obj.month;\n\t\t\t\t\t}\n\t\t\t\t} else if (o.filter() === 'category') {\n\t\t\t\t\tobj.id = o.category();\n\t\t\t\t} else {\n\t\t\t\t\tobj.slug = o.tags().join(',');\n\t\t\t\t}\n\n\t\t\t\tobj.path = path.replace(/\\:[a-z_]+/g, function(match) {\n\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\treturn obj[m];\n\t\t\t\t}).replace(/\\/+$/, '/');\n\n\t\t\t\tthis.events._manage_link(obj, false, replace);\n\n\t\t\t} else {\n\n\t\t\t\tnew_route.source = o.is_album() ? (o.source() === 'contents' ? 'album' : 'set' ) : o.source();\n\t\t\t\tnew_route.filters = new_route.filters || [];\n\t\t\t\tif (o.is_album() && r.filters) {\n\t\t\t\t\t$.each(r.filters, function(i, f) {\n\t\t\t\t\t\tif (f && f.match(/^id=/)) {\n\t\t\t\t\t\t\tnew_route.filters = [ f ];\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (o.display() === 'all') {\n\t\t\t\t\tnew_route.filters = $.grep(new_route.filters, function(filter) {\n\t\t\t\t\t\tvar f = filter.split('=')[0];\n\t\t\t\t\t\treturn $.inArray(f, ['featured', 'favorites', 'category', 'tags', 'year', 'month']) === -1;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnew_route.filters.push( o.display() );\n\t\t\t\t}\n\n\t\t\t\tif (o.filter() === 'category') {\n\t\t\t\t\tnew_route.filters.push('category=' + o.category());\n\t\t\t\t} else if (o.filter() === 'tag') {\n\t\t\t\t\tnew_route.filters.push('tags=' + o.tags().join(','));\n\t\t\t\t} else if (o.source() === 'archives') {\n\t\t\t\t\tnew_route.filters.push('year=' + o.year());\n\t\t\t\t\tif (o.month() != 'any') {\n\t\t\t\t\t\tnew_route.filters.push('month=' + o.month());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (o.type() === 'index') {\n\t\t\t\t\tnew_route.filters.push('order_by=' + o.order_by());\n\t\t\t\t\tnew_route.filters.push('order_direction=' + o.order_direction());\n\t\t\t\t}\n\n\t\t\t\tif (o.current()) {\n\t\t\t\t\tthis.observers.site.routes.remove( r );\n\t\t\t\t}\n\n\t\t\t\tvar filterTmp = [];\n\t\t\t\tvar filterObj = {};\n\n\t\t\t\t// Weed out duplicates\n\t\t\t\t// Last in take precedence\n\t\t\t\t$.each(new_route.filters, function(i, f) {\n\t\t\t\t\tif (f.indexOf('=') === -1) {\n\t\t\t\t\t\tfilterTmp.push(f);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar parts = f.split('=');\n\t\t\t\t\t\tfilterObj[parts[0]] = parts[1];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.each(filterObj, function(key, value) {\n\t\t\t\t\tfilterTmp.push(key + '=' + value);\n\t\t\t\t});\n\n\t\t\t\t// Remove dupes from filters\n\t\t\t\tnew_route.filters = $.grep(filterTmp, function(el, index) {\n\t\t\t        return index === $.inArray(el, filterTmp);\n\t\t\t    });\n\n\t\t\t\tnew_route = this.events.push_route(new_route);\n\n\t\t\t}\n\n\t\t\tif (o.current() || type === 'archive' || o.source() === 'timeline') {\n\t\t\t\tthis.events.save.call(this);\n\t\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t} else {\n\n\t\t\t\tthis.events._manage_link({\n\t\t\t\t\tlabel: o.label(),\n\t\t\t\t\tpath: new_route.path\n\t\t\t\t}, false);\n\n\t\t\t\tthis.events.save_nav(el, parent);\n\t\t\t}\n\n\t\t},\n\n\t\tfilter_current: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.source_filter,\n\t\t\t\tobj = this.observers.state.loaded_page().info,\n\t\t\t\tc = false;\n\n\t\t\tif (obj.path.indexOf('archive') !== 0 && obj.path !== 'timeline') {\n\t\t\t\to.set( obj, this.observers.state.loaded_route(), this.observers.site.url_data );\n\t\t\t} else {\n\n\t\t\t\tif ($('.lib-nav .selected').length) {\n\t\t\t\t\tc = ko.dataFor($('.lib-nav .selected').get(0));\n\t\t\t\t}\n\n\t\t\t\tvar filters = false;\n\t\t\t\tif (obj.filters) {\n\t\t\t\t\tfilters = this.controllers.parse_filters(obj.filters);\n\t\t\t\t}\n\n\t\t\t\tif (obj.path === 'timeline') {\n\t\t\t\t\to.source('timeline');\n\t\t\t\t\to.type('timeline');\n\t\t\t\t} else {\n\t\t\t\t\tif (filters && filters.members) {\n\t\t\t\t\t\to.source(filters.members);\n\t\t\t\t\t}\n\t\t\t\t\to.type('archive');\n\t\t\t\t}\n\n\t\t\t\to.display('all');\n\t\t\t\to.category(0);\n\t\t\t\to.month('any');\n\t\t\t\to.year(o.years[0]);\n\t\t\t\to.tags([]);\n\n\t\t\t\tif (c && c.auto) {\n\t\t\t\t\tvar parts = c.auto.split('_');\n\t\t\t\t\to.filter( parts[0].indexOf('archive') === 0  ? 'date' : parts[0]);\n\t\t\t\t\tif (o.filter() === 'date' || o.source() === 'timeline') {\n\t\t\t\t\t\to.year(c.year);\n\t\t\t\t\t\to.month(c.month || 'any');\n\t\t\t\t\t} else if (o.filter() === 'category') {\n\t\t\t\t\t\to.category(c.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\to.tags(c.slug.split(','));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\to.filter(obj.source);\n\t\t\t\t\tif (obj.source === 'tag') {\n\t\t\t\t\t\to.tags( filters.id.split(',') );\n\t\t\t\t\t} else if (obj.source === 'archive' || obj.source === 'timeline') {\n\t\t\t\t\t\to.year( filters.year );\n\t\t\t\t\t\tif (filters.month) {\n\t\t\t\t\t\t\to.month(filters.month);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\to.category( filters.id );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\to.current(true);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\ttoggle_gear_popout: function(el,parent) {\n\n\t\t\tvar group\t= parent.closest('ol'),\n\t\t\t\ttop\t\t= parent.closest('li').position().top + 50,\n\t\t\t\tself\t= this;\n\n\t\t\tparent.closest('li').find('a.item').addClass('hoverable');\n\t\t\t$('#gear_pop').data( 'id', el.closest('li').attr('id') );\n\n\t\t\tthis.events.update_state( '', 'gear' );\n\n\t\t\tthis.helpers.outside( $('#gear_pop'), function() {\n\t\t\t\tself.events.update_state( '', 'gear' );\n\t\t\t\t$('.lib-nav').find('.hoverable').removeClass('hoverable');\n\t\t\t\t$('.lib-nav').find('.edit-hoverable').removeClass('edit-hoverable');\n\t\t\t});\n\n\t\t\t$('#gear_pop li').show();\n\n\t\t\tif ( group.hasClass('primary') ) {\n\t\t\t\tvar data = ko.dataFor(parent[0]);\n\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\tif ( v.path === data.path && v.front === true ) {\n\t\t\t\t\t\t$('#gear_pop li.front').hide();\n\t\t\t\t\t\t$('#gear_pop li.delete').hide();\n\t\t\t\t\t\tif (v.hide) {\n\t\t\t\t\t\t\t$('#gear_pop li.hide-home').hide();\n\t\t\t\t\t\t\t$('#gear_pop li.show-home').show();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#gear_pop li.hide-home').show();\n\t\t\t\t\t\t\t$('#gear_pop li.show-home').hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttop += 13;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#gear_pop li.hide-home').hide();\n\t\t\t\t\t\t$('#gear_pop li.show-home').hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (data.path.indexOf('http://') === 0 || (data.auto && data.auto === 'profile')) {\n\t\t\t\t\t$('#gear_pop li.front').hide();\n\t\t\t\t\ttop += 13;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('#gear_pop li.front').hide();\n\t\t\t\t$('#gear_pop li.hide-home').hide();\n\t\t\t\t$('#gear_pop li.show-home').hide();\n\t\t\t\ttop += 13;\n\t\t\t}\n\n\t\t\t$('#gear_pop').css( 'top', top ).data('ref',parent);\n\n\t\t},\n\n\t\tgear_menu: function(el,parent) {\n\n\t\t\tvar data\t= $('#gear_pop').data(),\n\t\t\t\tgroup\t= data.ref.closest('ol'),\n\t\t\t\tlink = ko.dataFor($('#' + data.id)[0]),\n\t\t\t\tref, items;\n\n\t\t\tif ( el.hasClass('opt-edit') ) {\n\t\t\t\tthis.events.edit_link(data.ref,data.ref);\n\t\t\t}\n\n\t\t\tif ( el.hasClass('opt-front') ) {\n\n\t\t\t\tvar front = false;\n\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\tif ( v.path === link.path ) {\n\t\t\t\t\t\tv.front = true;\n\t\t\t\t\t\tfront = v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tv.front = false;\n\t\t\t\t\t\tdelete(v.hide);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (front) {\n\t\t\t\t\tthis.observers.site.navigation.items.remove(front);\n\t\t\t\t\tthis.observers.site.navigation.items.unshift(front);\n\t\t\t\t}\n\n\t\t\t\t$.each( this.observers.site.navigation.groups(), function(k,v) {\n\t\t\t\t\tvar front = false;\n\t\t\t\t\t$.each(v.items, function(i, item) {\n\t\t\t\t\t\tif ( item.path === link.path ) {\n\t\t\t\t\t\t\tfront = i;\n\t\t\t\t\t\t\titem.front = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.front = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (front) {\n\t\t\t\t\t\tvar push = v.items[front];\n\t\t\t\t\t\tv.items.splice(front, 1);\n\t\t\t\t\t\tv.items.unshift(push);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.events.save_nav();\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('opt-delete') ) {\n\n\t\t\t\tvar selectedLabel = $('.lib-nav .selected .in span:first').text();\n\n\t\t\t\tvar label;\n\t\t\t\tif ( group.hasClass('primary') ) {\n\t\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\t\tif ( v.path === link.path ) {\n\t\t\t\t\t\t\tref = k;\n\t\t\t\t\t\t\tlabel = link.label;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.observers.site.navigation.items.splice( ref, 1 );\n\t\t\t\t} else {\n\t\t\t\t\t$.each( this.observers.site.navigation.groups(), function(k,v) {\n\t\t\t\t\t\tif ( ( 'group-' + v.key ) === group.attr('id') ) {\n\t\t\t\t\t\t\t$.each( v.items, function(j,w) {\n\t\t\t\t\t\t\t\tif ( w.path === link.path ) {\n\t\t\t\t\t\t\t\t\tref = j;\n\t\t\t\t\t\t\t\t\tlabel = link.label;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tv.items.splice(ref,1);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (selectedLabel === label) this.observers.state.iframe.path(this.config.paths.base  + 'preview.php?/');\n\n\t\t\t\tthis.events.save_nav();\n\t\t\t\tthis.notify().success('Link to \"' + label + '\" removed');\n\n\t\t\t}\n\n\t\t\tif ( el.hasClass('opt-hide') || el.hasClass('opt-show') ) {\n\n\t\t\t\tvar replace = false;\n\n\t\t\t\t$.each( this.observers.site.navigation.items(), function(k,v) {\n\t\t\t\t\tif ( v.path === link.path ) {\n\t\t\t\t\t\treplace = v;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar n = $.extend({}, replace),\n\t\t\t\t\tmsg;\n\n\t\t\t\tif (n.hide) {\n\t\t\t\t\tdelete(n.hide);\n\t\t\t\t\tmsg = 'Front link set to show in navigation';\n\t\t\t\t} else {\n\t\t\t\t\tn.hide = true;\n\t\t\t\t\tmsg = 'Front link hidden from navigation';\n\t\t\t\t}\n\n\t\t\t\tthis.observers.site.navigation.items.replace( replace, n );\n\t\t\t\tthis.notify().success(msg);\n\n\t\t\t\tthis.events.save_nav();\n\n\t\t\t}\n\n\t\t\tthis.events.update_state( '', 'gear' );\n\n\t\t\t$('.lib-nav').find('.hoverable').removeClass('hoverable');\n\t\t\t$('.lib-nav').find('.edit-hoverable').removeClass('edit-hoverable');\n\n\t\t},\n\n\t\tnavigation_sort: function() {\n\n\t\t\tvar self\t\t= this,\n\t\t\t\tsortables\t= $('ol.lib-nav').not('.template_nav,.single');\n\n\t\t\tsortables.sortable({\n\t\t\t\taxis: 'y',\n\t\t\t\tcontainment: 'parent',\n\t\t\t\titems: 'li:not(.create_new)',\n\t\t\t\tupdate: function(e,ui) {\n\n\t\t\t\t\tvar current_nav, index, clone, key = '', new_nav = [];\n\n\t\t\t\t\tif ( $(e.target).hasClass('primary') ) {\n\t\t\t\t\t\tcurrent_nav = self.observers.site.navigation.items();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$.each( self.observers.site.navigation.groups(), function(k,v) {\n\t\t\t\t\t\t\tif ( $(e.target).attr('id') === 'group-' + v.key ) {\n\t\t\t\t\t\t\t\tcurrent_nav = v.items;\n\t\t\t\t\t\t\t\tindex = k;\n\t\t\t\t\t\t\t\tkey = v.key + '_';\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each( $(this).sortable('toArray'), function(k,v) {\n\t\t\t\t\t\tnew_nav.push( current_nav[parseInt( v.replace( key + 'nav_item_', '' ), 10 )] );\n\t\t\t\t\t});\n\n\t\t\t\t\tif ( $(e.target).hasClass('primary') ) {\n\t\t\t\t\t\tself.observers.site.navigation.items([]);\n\t\t\t\t\t\tself.observers.site.navigation.items(new_nav);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.observers.site.navigation.groups()[index].items = new_nav;\n\t\t\t\t\t}\n\n\t\t\t\t\tself.events.save_nav();\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\ttheme_view: function() {\n\t\t\tlocation.hash = '/site/draft/theme/url:' + this.observers.state.iframe.rel_path();\n\t\t},\n\n\t\tpage_view: function() {\n\t\t\tlocation.hash = '/site/draft/page/url:' + this.observers.state.iframe.rel_path();\n\t\t},\n\n\t\tiframe_loaded: function() {\n\t\t\tif (this.observers.state.type() === 'live') {\n\t\t\t\tthis.observers.state.iframe.path( document.getElementById('siteui-iframe').contentWindow.location.href );\n\t\t\t}\n\t\t},\n\n\t\tnav_from_link: function(el) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\t\t\tif (/^https?:\\/\\//.test(data.path)) {\n\t\t\t\twindow.open(data.path);\n\t\t\t} else {\n\t\t\t\tthis.events.refresh( data.front ? '/' : data.path );\n\t\t\t}\n\t\t},\n\n\t\treset_link_form: function() {\n\t\t\t$('select.filter_list').val('off').trigger('change');\n\t\t\t$('select.collection_albums').val('default').trigger('change');\n\t\t\t$('select.collection_content').val('default').trigger('change');\n\t\t\t$('select.single_album').val(0).trigger('change');\n\t\t\t$('input.single_tag').val('').trigger('change');\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.front(false);\n\t\t},\n\n\t\tlink_to_current: function(el, parent) {\n\t\t\tvar loaded = this.observers.state.loaded_page(),\n\t\t\t\troute = this.observers.state.loaded_route(),\n\t\t\t\tcurrent_path = this.observers.state.iframe.rel_path(),\n\t\t\t\tpage = {\n\t\t\t\t\ttemplate: loaded.path\n\t\t\t\t},\n\t\t\t\tlbl = $('#link_to_current_label').val(),\n\t\t\t\tlink,\n\t\t\t\talbum_content = false;\n\n\t\t\tif (route.section) {\n\t\t\t\tvar type,\n\t\t\t\t\tmatches;\n\n\t\t\t\t$.each(this.observers.site.urls, function(i, url) {\n\t\t\t\t\turl = url();\n\t\t\t\t\tif (i === 'timeline') {\n\t\t\t\t\t\turl += ':year(/:month)?/';\n\t\t\t\t\t}\n\t\t\t\t\tvar regex = url.replace(':slug', '((?!lightbox)\\\\d*[\\\\-_a-z][\\\\-_a-z0-9]*)')\n\t\t\t\t\t\t\t\t\t\t.replace(':id', '((?:[0-9]+)|(?:[0-9a-z]{32}))')\n\t\t\t\t\t\t\t\t\t\t.replace(':year', '([0-9]{4})')\n\t\t\t\t\t\t\t\t\t\t.replace(':month', '([0-9]{1,2})')\n\t\t\t\t\t\t\t\t\t\t.replace(':day', '([0-9]{1,2})');\n\t\t\t\t\tmatches = current_path.match(RegExp('^' + regex + '(?:lightbox/)?$'));\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\ttype = i;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!type) {\n\t\t\t\t\tvar content_url = this.observers.site.url_data.content.plural().toLowerCase() + '/:' + ( this.observers.site.url_data.content.url().indexOf('slug') !== -1 ? 'slug' : 'id') + '/';\n\t\t\t\t\tvar album = this.observers.site.urls.album() + content_url;\n\t\t\t\t\tvar regex = album.replace(/:(?:album_)?slug/g, '((?!lightbox)\\\\d*[\\\\-_a-z][\\\\-_a-z0-9]*)')\n\t\t\t\t\t\t\t\t\t\t.replace(/:(?:album_)?id/g, '((?:[0-9]+)|(?:[0-9a-z]{32}))')\n\t\t\t\t\t\t\t\t\t\t.replace(':year', '([0-9]{4})')\n\t\t\t\t\t\t\t\t\t\t.replace(':month', '([0-9]{1,2})')\n\t\t\t\t\t\t\t\t\t\t.replace(':day', '([0-9]{1,2})');\n\t\t\t\t\tmatches = current_path.match(RegExp('^' + regex + '(?:lightbox/)?$'));\n\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\ttype = 'content';\n\t\t\t\t\t\talbum_content = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (type) {\n\t\t\t\t\tlink = {\n\t\t\t\t\t\tlabel: lbl,\n\t\t\t\t\t\tallow_label: true,\n\t\t\t\t\t\tpath: current_path,\n\t\t\t\t\t\tauto: type\n\t\t\t\t\t};\n\n\t\t\t\t\tif (/\\/lightbox\\/$/.test(current_path)) {\n\t\t\t\t\t\tlink.lightbox = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tif (type.indexOf('archive') === 0 || type === 'timeline') {\n\t\t\t\t\t\t\tlink.year = matches[1];\n\t\t\t\t\t\t\tlink.month = matches[2] || false;\n\t\t\t\t\t\t\tlink.day = matches[3] || false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink.id = matches.pop();\n\t\t\t\t\t\t\tif (album_content) {\n\t\t\t\t\t\t\t\tlink.album_id = matches.pop();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$.each( this.observers.site.routes(), function(i, p) {\n\n\t\t\t\t\tif (p.template === loaded.path) {\n\n\t\t\t\t\t\tvar _magics = [],\n\t\t\t\t\t\t\t_p = p.path.replace(/\\:[a-z_]+/g, function(match) {\n\t\t\t\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\t\t\t\t_magics.push(m);\n\t\t\t\t\t\t\t\treturn '([^/]+)';\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_p = RegExp(_p);\n\n\t\t\t\t\t\tif (_p.test(current_path)) {\n\n\t\t\t\t\t\t\tvar matches = current_path.match(_p),\n\t\t\t\t\t\t\t\tmatch_data = {};\n\n\t\t\t\t\t\t\t$.each(_magics, function(i, name) {\n\t\t\t\t\t\t\t\tmatch_data[name] = matches[i+1];\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (p.variables) {\n\t\t\t\t\t\t\t\tpage.variables = p.variables;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (loaded.info.source) {\n\t\t\t\t\t\t\t\tpage.source = loaded.info.source;\n\t\t\t\t\t\t\t\tpage.filters = loaded.info.filters || [];\n\n\t\t\t\t\t\t\t\t$.each(match_data, function(key, val) {\n\t\t\t\t\t\t\t\t\tpage.filters.push(key + '=' + val);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tpage.path = '/' + this.observers.make_url_safe(lbl.toLowerCase()) + '/';\n\t\t\t\tpage = this.events.push_route(page);\n\n\t\t\t\tlink = {\n\t\t\t\t\tlabel: lbl,\n\t\t\t\t\tpath: page.path\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.observers.site.navigation.groups().length) {\n\t\t\t\t$('input[data-current-group]:checked').each( function() {\n\t\t\t\t\tvar group = ko.dataFor(this);\n\t\t\t\t\tgroup.items.push(link);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ($('#current_link_primary').is(':checked') || !$('#current_link_primary').is(':visible')) {\n\t\t\t\tthis.observers.site.navigation.items.push(link);\n\t\t\t}\n\n\t\t\tthis.events.save_nav(el, parent);\n\n\t\t\t$('#link_to_current_label').val('');\n\t\t\t$('input[data-current-group]:checked').attr('checked', false);\n\t\t\t$('#current_link_primary').attr('checked', true);\n\t\t},\n\n\t\tupdate_link: function(el, parent) {\n\t\t\tvar\tlink = this.observers.sheets.edit_nav.link_to_edit,\n\t\t\t\tupdated = {\n\t\t\t\t\tlabel: link.label(),\n\t\t\t\t\tpath: link.path(),\n\t\t\t\t\tfront: link.front()\n\t\t\t\t};\n\n\t\t\tif (link.auto && link.auto()) {\n\t\t\t\tupdated.auto = link.auto();\n\t\t\t\tif (link.id && link.id()) {\n\t\t\t\t\tupdated.id = link.id();\n\t\t\t\t}\n\t\t\t\tupdated.allow_label = true;\n\t\t\t}\n\n\t\t\tthis.events._manage_link(updated, false, link.clone);\n\t\t\tthis.events.save_nav(el, parent);\n\t\t},\n\n\t\tedit_link: function(el, parent) {\n\n\t\t\tvar clone = ko.dataFor(el[0]),\n\t\t\t\tdata = $.extend({}, clone),\n\t\t\t\tgroup = $(el).closest('a').data('group'),\n\t\t\t\tpage, template, source = false,\n\t\t\t\tindex;\n\n\t\t\tif (!data.front) {\n\t\t\t\tdata.front = false;\n\t\t\t}\n\n\t\t\tif (!data.id) {\n\t\t\t\tdata.id = false;\n\t\t\t}\n\n\t\t\tif (!data.auto) {\n\t\t\t\tdata.auto = false;\n\t\t\t}\n\n\t\t\tif (!group) {\n\t\t\t\tgroup = false;\n\t\t\t}\n\n\t\t\tthis.observers.site.navigation.active.group( group );\n\n\t\t\tdata.checked = data.target && data.target === '_blank' ? true : false;\n\t\t\tdata.is_new = false;\n\n\t\t\t$.each(this.observers.site.routes(), function(i, p) {\n\t\t\t\tif (p.path === data.path) {\n\t\t\t\t\tpage = p;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (page) {\n\t\t\t\tif (page.source) {\n\t\t\t\t\tsource = $.extend({}, page.source);\n\t\t\t\t} else {\n\t\t\t\t\t$.each( this.observers.site.templates(), function(i, t) {\n\t\t\t\t\t\tif (t.path === page.template) {\n\t\t\t\t\t\t\tif (t.info.source) {\n\t\t\t\t\t\t\t\tsource = $.extend({}, t.info.source);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (source && source.collection) {\n\t\t\t\tdata.source = source;\n\t\t\t} else {\n\t\t\t\tthis.observers.sheets.edit_nav.link_to_edit.source.collection(false);\n\t\t\t}\n\n\t\t\tthis.map( this.observers.sheets.edit_nav.link_to_edit, $.extend({}, data) );\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.clone = clone;\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tthis.observers.valid(true);\n\n\t\t\tif (data.source) {\n\t\t\t\tif (source.featured || source.filter === 'featured') {\n\t\t\t\t\t$('select.collection_filter').val('featured');\n\t\t\t\t} else if (source.type) {\n\t\t\t\t\t$('select.collection_filter').val(source.type);\n\t\t\t\t} else {\n\t\t\t\t\t$('select.collection_filter').val('default');\n\t\t\t\t}\n\n\t\t\t\tif (source.category) {\n\t\t\t\t\t$('select.filter_list').val('category').trigger('change');\n\t\t\t\t\t$('select.filter_category').val( source.category );\n\t\t\t\t} else if (source.tag) {\n\t\t\t\t\t$('select.filter_list').val('tag').trigger('change');\n\t\t\t\t\t$('input.filter_tag').val( source.tag );\n\t\t\t\t} else {\n\t\t\t\t\t$('select.filter_list').val('off').trigger('change');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tadd_custom_link: function(el, parent) {\n\t\t\tvar clean = {\n\t\t\t\tlabel: '',\n\t\t\t\tpath: '',\n\t\t\t\tchecked: false,\n\t\t\t\tis_new: true\n\t\t\t};\n\t\t\tthis.map( this.observers.sheets.edit_nav.link_to_edit, clean );\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.clone = false;\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t$('#create_custom_link input:first').focus();\n\t\t},\n\n\t\tcreate_custom_link: function(el, parent) {\n\t\t\tvar obj = this.observers.sheets.edit_nav.link_to_edit,\n\t\t\t\tinfo = {\n\t\t\t\t\tlabel: obj.label(),\n\t\t\t\t\ttarget: obj.checked() ? '_blank' : false,\n\t\t\t\t\tcustom: true,\n\t\t\t\t\tpath: obj.path()\n\t\t\t\t};\n\n\t\t\tif (info.path.indexOf(this.config.paths.base) === 0) {\n\t\t\t\tinfo.path = '/' + info.path.replace(RegExp(this.config.paths.base + '((index|preview).php\\\\?/)?'), '');\n\t\t\t\tdelete(info.custom);\n\t\t\t} else if (!/^(mailto|https?)/.test(info.path)) {\n\t\t\t\tinfo.path = 'http://' + info.path;\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, false, obj.clone);\n\t\t\tthis.events.save_nav(el, parent);\n\t\t},\n\n\t\tedit_nav_group: function(el, parent) {\n\t\t\tvar items;\n\t\t\tvar group = $(el).parents('li').data('group');\n\n\t\t\tif (group) {\n\t\t\t\t$.each( this.observers.site.navigation.groups(), function(i, g) {\n\t\t\t\t\tif (g.key === group) {\n\t\t\t\t\t\titems = g.items;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\titems = this.observers.site.navigation.items();\n\t\t\t\tgroup = false;\n\t\t\t}\n\n\t\t\tthis.observers.site.navigation.active.group(group);\n\n\t\t\tvar map = {},\n\t\t\t\tused = [],\n\t\t\t\tused_albums = [],\n\t\t\t\tused_pages = [],\n\t\t\t\tused_sections = [],\n\t\t\t\tsupported_sections = [],\n\t\t\t\trss = [],\n\t\t\t\tpages = this.observers.site.routes(),\n\t\t\t\tself = this;\n\n\t\t\t$.each( ['albums', 'sets', 'contents', 'essays', 'favorites', 'tags', 'categories', 'timeline'], function(i, section) {\n\t\t\t\tif (self.observers.site.urls[section]) {\n\t\t\t\t\tsupported_sections.push(section);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each( pages, function(i, page) {\n\t\t\t\tmap[page.path] = page;\n\t\t\t});\n\n\t\t\tthis.observers.site.navigation.active.profiles([]);\n\n\t\t\t$.each( items, function(i, item) {\n\t\t\t\tif (item.auto && (item.auto === 'album' || item.auto === 'set' || item.auto === 'page') && item.id) {\n\t\t\t\t\tif (item.auto === 'page') {\n\t\t\t\t\t\tused_pages.push(item.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tused_albums.push(item.id);\n\t\t\t\t\t}\n\t\t\t\t} else if (item.auto && item.auto === 'profile') {\n\t\t\t\t\tself.observers.site.navigation.active.profiles.push(item.id);\n\t\t\t\t} else if (item.auto && item.auto === 'rss') {\n\t\t\t\t\trss.push(item.id);\n\t\t\t\t} else if (item.auto && (item.auto === 'timeline' || /s$/.test(item.auto))) {\n\t\t\t\t\tused_sections.push(item.auto);\n\t\t\t\t} else if (item.path) {\n\t\t\t\t\tvar info = map[item.path];\n\t\t\t\t\tif ($.inArray(( info ? info.path : item.path.substr(1) ), self.observers.site.templates_grouped.special_paths()) !== -1) {\n\t\t\t\t\t\tused.push( info ? info.path: item.path.substr(1) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.site.navigation.active.internals( used );\n\t\t\tthis.observers.site.navigation.active.rss( rss );\n\t\t\tthis.observers.site.navigation.active.albums( used_albums );\n\t\t\tthis.observers.site.navigation.active.sections( used_sections );\n\t\t\tthis.observers.site.navigation.active.supported_sections( supported_sections );\n\t\t\tthis.observers.site.navigation.active.pages( used_pages );\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\ttoggle_link_specials: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tactive = $.inArray(data.path, this.observers.site.navigation.active.internals()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tpath: '/' + data.path + '/',\n\t\t\t\t\tlabel: data.name\n\t\t\t\t};\n\n\t\t\tthis.events._manage_link(info, active);\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.internals.remove(data.path);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.internals.push(data.path);\n\t\t\t}\n\t\t},\n\n\t\t_manage_link: function(info, remove, replace) {\n\t\t\tvar group = this.observers.site.navigation.active.group(),\n\t\t\t\treplace = replace || false,\n\t\t\t\tindex,\n\t\t\t\tlabel = info.label;\n\n\t\t\tif (group) {\n\t\t\t\t$.each( this.observers.site.navigation.groups(), function(i, g) {\n\t\t\t\t\tif (g.key === group) {\n\t\t\t\t\t\tgroup = g;\n\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (remove) {\n\t\t\t\tif (group) {\n\t\t\t\t\tgroup.items = ko.utils.arrayFilter( group.items, function(item) {\n\t\t\t\t\t\tif (item.path === info.path) {\n\t\t\t\t\t\t\tlabel = item.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (info.auto) {\n\t\t\t\t\t\t\tif (info.auto !== item.auto) return true;\n\n\t\t\t\t\t\t\tif (info.id) {\n\t\t\t\t\t\t\t\treturn info.id !== item.id;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn info.auto !== item.auto;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn item.path !== info.path;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.site.navigation.items.remove( function(item) {\n\t\t\t\t\t\tif (item.path === info.path) {\n\t\t\t\t\t\t\tlabel = item.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (info.auto) {\n\t\t\t\t\t\t\treturn item.auto === info.auto && (!item.id || item.id === info.id);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn item.path === info.path;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (replace) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar _index = ko.utils.arrayIndexOf( group.items, replace );\n\t\t\t\t\t\tgroup.items.splice(_index, 1, info);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.site.navigation.items.replace( replace, info );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tgroup.items.push(info);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.site.navigation.items.push(info);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (group) {\n\t\t\t\tthis.observers.site.navigation.groups.replace( this.observers.site.navigation.groups()[index], $.extend({}, group) );\n\t\t\t}\n\n\t\t\tif (!remove && !info.path.match(/\\.rss$/)) {\n\t\t\t\tthis.observers.refresh_destination = info.front ? '/' : info.path.replace(/\\(.*\\/$/, '/');\n\t\t\t}\n\n\t\t\tthis.notify().success('Link to \"' + label + '\" ' + ( remove ? 'removed' : (replace ? 'updated' : 'created') ) );\n\n\t\t},\n\n\t\tadd_index_link: function(el, parent) {\n\n\t\t\tvar data = {};\n\t\t\tif (parent.data('index')) {\n\t\t\t\tdata.source = parent.data('index');\n\t\t\t\tdata.path = parent.data('index');\n\t\t\t} else {\n\t\t\t\tdata = ko.dataFor(el[0]);\n\t\t\t}\n\n\t\t\tthis.observers.sheets.source_filter.current(false);\n\n\t\t\tthis.observers.sheets.source_filter.set( {\n\t\t\t\tsource: data.source,\n\t\t\t\tsheet_title: data.name,\n\t\t\t\tfilters: [],\n\t\t\t\tlabel: ''\n\t\t\t} );\n\n\t\t\tthis.observers.sheets.source_filter.route = {\n\t\t\t\ttemplate: data.template || data.path,\n\t\t\t\tfilters: data.filters || []\n\t\t\t};\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tthis.observers.valid(false);\n\n\t\t},\n\n\t\tadd_archive_link: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.source_filter;\n\n\t\t\to.sheet_title('Add ' + ( el.data('type') === 'archive' ? 'date' : el.data('type') ) + ' archive');\n\t\t\to.display('all');\n\t\t\to.filter('none');\n\t\t\to.category(0);\n\t\t\to.month('any');\n\t\t\to.year(o.years[0]);\n\t\t\to.tags([]);\n\t\t\to.label('');\n\t\t\to.route = {};\n\t\t\to.current(false);\n\t\t\to.type('archive');\n\t\t\to.filter('tag');\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\ttoggle_link_sections: function(el, parent) {\n\t\t\tvar section = el.data('section'),\n\t\t\t\tsingular = section === 'categories' ? 'category' : section.replace(/s$/, ''),\n\t\t\t\tactive = $.inArray(section, this.observers.site.navigation.active.sections()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: section,\n\t\t\t\t\tlabel: this.observers.site.url_data[singular].plural(),\n\t\t\t\t\tpath: this.observers.site.urls[section]()\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.sections.remove(section);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.sections.push(section);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_rss: function(el, parent) {\n\t\t\tvar type = el.data('type'),\n\t\t\t\tactive = $.inArray(type, this.observers.site.navigation.active.rss()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: 'rss',\n\t\t\t\t\tid: type,\n\t\t\t\t\tlabel: this.observers.site.url_data[type].plural() + ' RSS',\n\t\t\t\t\tpath: '/feed/' + type + ( type === 'essay' ? 's' : '' ) + '/recent.rss'\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.rss.remove(type);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.rss.push(type);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_profiles: function(el, parent) {\n\t\t\tvar service = $(el).data('service'),\n\t\t\t\tservice_key = service.toLowerCase(),\n\t\t\t\tactive = $.inArray(service_key, this.observers.site.navigation.active.profiles()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: 'profile',\n\t\t\t\t\tid: service_key,\n\t\t\t\t\tlabel: service === 'Google' ? 'Google+' : service,\n\t\t\t\t\tallow_label: true\n\t\t\t\t};\n\n\t\t\tswitch(service_key) {\n\t\t\t\tcase 'twitter':\n\t\t\t\t\tinfo.path = 'https://twitter.com/' + this.observers.user.twitter();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tinfo.path = this.observers.user[service_key]();\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (active) {\n\t\t\t\tthis.observers.site.navigation.active.profiles.remove(service_key);\n\t\t\t} else {\n\t\t\t\tthis.observers.site.navigation.active.profiles.push(service_key);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_pages: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tactive = this.observers.multi_in_array([ data.id, data.slug ], this.observers.site.navigation.active.pages()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: 'page',\n\t\t\t\t\tid: data.id,\n\t\t\t\t\tlabel: data.title\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tif ($.inArray(data.slug, this.observers.site.navigation.active.pages()) === -1) {\n\t\t\t\t\tthis.observers.site.navigation.active.pages.remove(data.id);\n\t\t\t\t} else {\n\t\t\t\t\tinfo.id = data.slug;\n\t\t\t\t\tthis.observers.site.navigation.active.pages.remove(data.slug);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar path = this.observers.site.urls.page();\n\t\t\t\tpath = path.replace(/\\:[a-z_]+/, function(match) {\n\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\treturn data[m];\n\t\t\t\t});\n\t\t\t\tinfo.path = path;\n\t\t\t\tthis.observers.site.navigation.active.pages.push(data.id);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\ttoggle_link_albums: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tactive = this.observers.multi_in_array([ data.id, data.slug ], this.observers.site.navigation.active.albums()) !== -1,\n\t\t\t\tinfo = {\n\t\t\t\t\tauto: data.album_type === 'set' ? 'set' : 'album',\n\t\t\t\t\tid: data.id,\n\t\t\t\t\tlabel: data.title\n\t\t\t\t};\n\n\t\t\tif (active) {\n\t\t\t\tif ($.inArray(data.slug, this.observers.site.navigation.active.albums()) === -1) {\n\t\t\t\t\tthis.observers.site.navigation.active.albums.remove(data.id);\n\t\t\t\t} else {\n\t\t\t\t\tinfo.id = data.slug;\n\t\t\t\t\tthis.observers.site.navigation.active.albums.remove(data.slug);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar url = this.observers.site.urls[info.auto],\n\t\t\t\t\tpath;\n\t\t\t\tif (!url) {\n\t\t\t\t\tpath = '#';\n\t\t\t\t} else {\n\t\t\t\t\tpath = this.observers.site.urls[info.auto]();\n\t\t\t\t\tpath = path.replace(/\\:[a-z_]+/, function(match) {\n\t\t\t\t\t\tvar m = match.replace(':', '');\n\t\t\t\t\t\treturn data[m];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tinfo.path = path;\n\t\t\t\tthis.observers.site.navigation.active.albums.push(data.id);\n\t\t\t}\n\n\t\t\tthis.events._manage_link(info, active);\n\t\t},\n\n\t\tpush_route: function(route) {\n\t\t\tvar routes = this.observers.site.routes(),\n\t\t\t\tindex = $.inArray(route, routes);\n\t\t\tif (index === -1) {\n\t\t\t\tvar i = 0,\n\t\t\t\t\tvalid_path = route.path,\n\t\t\t\t\texisting_paths = $.map( routes, function(r, i) {\n\t\t\t\t\t\treturn r.path;\n\t\t\t\t\t});\n\n\t\t\t\tif (valid_path === '/admin') {\n\t\t\t\t\tvalid_path += '-1';\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\twhile($.inArray(valid_path, existing_paths) !== -1) {\n\t\t\t\t\ti++;\n\t\t\t\t\tvalid_path = route.path.replace(/\\/$/, '') + '-' + i + '/';\n\t\t\t\t}\n\n\t\t\t\troute.path = valid_path;\n\t\t\t\tthis.observers.site.routes.push(route);\n\t\t\t\treturn route;\n\t\t\t} else {\n\t\t\t\treturn routes[index];\n\t\t\t}\n\t\t},\n\n\t\tsave_nav: function(el, parent) {\n\n\t\t\tvar n = this.observers.site.navigation;\n\n\t\t\t$.each(n.items(), function(i, item) {\n\t\t\t\tif (item.auto) {\n\t\t\t\t\tdelete(item.path);\n\t\t\t\t\tif (item.auto.indexOf('_') === -1 && !item.allow_label) {\n\t\t\t\t\t\tdelete(item.label);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each(n.groups(), function(i, group) {\n\t\t\t\t$.each(group.items, function(n, item) {\n\t\t\t\t\tif (item.auto) {\n\t\t\t\t\t\tdelete(item.path);\n\t\t\t\t\t\tif (item.auto.indexOf('_') === -1 && !item.allow_label) {\n\t\t\t\t\t\t\tdelete(item.label);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.events.save.call(this);\n\n\t\t\tif ( el && parent ) {\n\t\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t\t}\n\n\t\t},\n\n\t\tchange_link_type: function(el) {\n\t\t\tvar t = el.closest('li').data('type');\n\t\t\tthis.observers.sheets.edit_nav.link_to_edit.path('');\n\t\t\tthis.observers.sheets.edit_nav.link_type( t );\n\t\t},\n\n\t\tchange_nav_filter: function(v) {\n\t\t\tthis.observers.sheets.edit_nav.filter(v);\n\t\t},\n\n\t\tdo_revert: function() {\n\t\t\tthis.events.save('all', false);\n\t\t},\n\n\t\trevert: function() {\n\t\t\tthis.classes.modal.confirm_site_revert.show();\n\t\t},\n\n\t\trevert_settings: function() {\n\t\t\tthis.classes.modal.confirm_site_revert_settings.show();\n\t\t},\n\n\t\tdo_revert_settings: function() {\n\t\t\tthis.events.save('settings', false);\n\t\t},\n\n\t\tpublish: function(el,override) {\n\n\t\t\tif ( this.observers.published_theme().toLowerCase() != this.observers.drafts.current.theme.path().toLowerCase() && override !== true ) {\n\t\t\t\tthis.classes.modal.theme_change.show();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar notify = this.notify();\n\t\t\tnotify.wait('Publishing');\n\t\t\tel.text('Publishing');\n\t\t\tel.parents('div').addClass('saving');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'site/publish/' + this.observers.site.draft_id(),\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tel.parents('div').removeClass('saving');\n\t\t\t\t\tthis.observers.drafts.current.modified_on( Math.floor( +new Date() / 1000 ) );\n\t\t\t\t\tnotify.success('Site successfully published');\n\t\t\t\t\tel.text('No changes');\n\t\t\t\t\tel.addClass('disabled');\n\t\t\t\t\tvar self = this;\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.observers.site.published(true);\n\t\t\t\t\t}, 2000);\n\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'drafts',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\trequest: 'site',\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.map( this.observers.default_links, data.default_links);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcontext: this\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\trefresh_site_data: function(new_draft) {\n\n\t\t\tnew_draft = new_draft || false;\n\t\t\tthis.events.navigation_sort();\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'site/draft:true',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tthis.observers.error(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.error(false);\n\t\t\t\t\t\tthis.observers.site.settings_flat = {};\n\t\t\t\t\t\tthis.observers.site.urls = {};\n\t\t\t\t\t\tthis.map( this.observers.site, data );\n\n\t\t\t\t\t\tif (new_draft) {\n\t\t\t\t\t\t\tthis.observers.state.preview(false);\n\t\t\t\t\t\t\tlocation.hash = '/site/draft/theme/url:/';\n\t\t\t\t\t\t\tthis.events.refresh('/', true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar styled_settings = [];\n\t\t\t\t\t\tif (data.styles.length) {\n\t\t\t\t\t\t\t$.each(data.styles, function(i, style) {\n\t\t\t\t\t\t\t\tif (style.variables) {\n\t\t\t\t\t\t\t\t\t$.each(style.variables, function(key, val) {\n\t\t\t\t\t\t\t\t\t\tif ($.inArray(key, styled_settings) === -1) {\n\t\t\t\t\t\t\t\t\t\t\tstyled_settings.push(key);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.observers.styled_settings = styled_settings;\n\n\t\t\t\t\t\tthis.events.check_for_custom_styling();\n\t\t\t\t\t\tthis.observers.site_loaded(true);\n\t\t\t\t\t\tthis.events.check_for_custom_styling();\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tinit_draft: function(el,override) {\n\n\t\t\tvar p = ko.dataFor(el[0]).path,\n\t\t\t\tself = this,\n\t\t\t\tdraftExists = false;\n\n\t\t\t$.each(this.observers.drafts.history(), function(i,draft) {\n\t\t\t\tif (draft.theme.path === p) {\n\t\t\t\t\tdraftExists = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (draftExists && override != true) {\n\t\t\t\tself.classes.modal.draft_exists.show();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar notify = this.notify();\n\t\t\tnotify.wait('Assigning theme');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'theme=' + p + '&refresh=true',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tnotify.success('Theme successfully assigned');\n\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\tthis.events.refresh_site_data(true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\treset_nav: function(el, override) {\n\n\t\t\tif (override !== true) {\n\t\t\t\tthis.classes.modal.reset_links.show();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ($('#create_link').is(':visible')) {\n\t\t\t\tthis.events.toggle_sheet('create_link');\n\t\t\t}\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'theme=' + this.observers.drafts.current.theme.path() + '&refresh=nav',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.notify().success('Site links successfully reset');\n\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\tthis.events.refresh_site_data();\n\t\t\t\t\tthis.observers.state.preview(false);\n\t\t\t\t\tlocation.hash = '/site/draft/theme/url:/';\n\t\t\t\t\tthis.events.refresh('/');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tswitch_draft: function(el,cb) {\n\n\t\t\tvar p = typeof el === 'string' ? el : ko.dataFor(el[0]).theme.path;\n\n\t\t\tvar note = this.notify().wait('Assigning draft');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'theme=' + p,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.events.parse_draft_data(data);\n\t\t\t\t\tthis.events.refresh('/');\n\t\t\t\t\tthis.events.refresh_site_data();\n\t\t\t\t\tnote.success(p.slice(0,1).toUpperCase() + p.slice(1) + ' assigned as current draft');\n\t\t\t\t\tif (cb && typeof cb === 'function') { cb(); }\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tdelete_draft: function(el,override) {\n\n\t\t\tvar d = ko.dataFor(el[0]),\n\t\t\t\tp = d.theme.path;\n\n\t\t\tel.closest('ol .selected').removeClass('selected');\n\t\t\tel.closest('li').addClass('selected');\n\n\t\t\tif ( override !== true ) {\n\t\t\t\tthis.classes.modal.delete_draft.show();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.observers.drafts.history.remove(d);\n\n\t\t\tvar note = this.notify().wait('Deleting draft');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'drafts',\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tdata: 'theme=' + p,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function() {\n\t\t\t\t\t// Otherwise the modal won't resize if necessary\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\tnote.success(p.slice(0,1).toUpperCase() + p.slice(1) + ' deleted from saved drafts');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tparse_draft_data: function(data) {\n\t\t\tvar current, saved = [], self = this;\n\n\t\t\t$.each(data, function(i, draft) {\n\t\t\t\tif (draft.published) {\n\t\t\t\t\tself.observers.published_theme( draft.theme.path );\n\t\t\t\t}\n\t\t\t\tif (draft.active) {\n\t\t\t\t\tcurrent = draft;\n\t\t\t\t} else {\n\t\t\t\t\tsaved.push( draft );\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.observers.drafts.all( data );\n\t\t\tthis.map( this.observers.drafts.current, current );\n\t\t\tthis.observers.drafts.history( saved );\n\t\t},\n\n\t\tresize: {\n\n\t\t\tiframe: function(c,w) {\n\n\t\t\t\tif (c.observers.state.expand()) {\n\t\t\t\t\t$('#siteui-wrap').height( w.height() );\n\t\t\t\t}\n\n\t\t\t\tvar h = $('#siteui-wrap').height();\n\n\t\t\t\tif (this.attr('id').match(/siteui\\-iframe/)) {\n\t\t\t\t\th -= 28;\n\t\t\t\t}\n\n\t\t\t\tthis.height( h );\n\t\t\t},\n\n\t\t\tsettings_position: function(c,w) {\n\n\t\t\t\tvar panel = this.parent(),\n\t\t\t\t\t_h = panel.height() + 60,\n\t\t\t\t\t_w = panel.width() + 20,\n\t\t\t\t\tph = panel.parent().height(),\n\t\t\t\t\tpw = panel.parent().width();\n\n\n\t\t\t\tvar top = parseInt( panel.css('top'), 10 ),\n\t\t\t\t\tvdiff = ph - ( _h + top ),\n\t\t\t\t\tleft = parseInt( panel.css('left'), 10 ),\n\t\t\t\t\thdiff = pw - ( _w + left );\n\n\t\t\t\tif (top > 0 && vdiff <= 0) {\n\t\t\t\t\tpanel.css('top', Math.max(0, top + vdiff));\n\t\t\t\t}\n\n\t\t\t\tif (left > 0 && hdiff <= 0) {\n\t\t\t\t\tpanel.css('left', Math.max(0, left + hdiff));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\trefresh: function(path, force) {\n\t\t\tforce = force || false;\n\t\t\tif (this.observers.state.type() !== 'live') {\n\t\t\t\tif (this.observers.refresh_destination) {\n\t\t\t\t\tpath = this.observers.refresh_destination;\n\t\t\t\t\tthis.observers.refresh_destination = false;\n\t\t\t\t}\n\t\t\t\tpath = (typeof path === 'string') ? this.config.paths.base  + 'preview.php?' + path : this.observers.state.iframe.path();\n\n\t\t\t\tvar iframe = document.getElementById('siteui-iframe');\n\n\t\t\t\tif (iframe.contentWindow.$K && !force) {\n\t\t\t\t\tiframe.contentWindow.$K.loadUrl(path);\n\t\t\t\t} else {\n\t\t\t\t\t$(iframe).attr('src', path);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thistory: function(el,parent) {\n\n\t\t\tvar loc\t\t= this.observers.state.iframe.location,\n\t\t\t\tcache\t= this.observers.state.iframe.historycache,\n\t\t\t\tsrc;\n\n\t\t\tif ( el.closest('li').find('.icon-solo-thin').hasClass('site-bwd') ) {\n\n\t\t\t\tif ( loc() == 0 ) { return; }\n\n\t\t\t\tloc( loc() - 1 );\n\n\t\t\t}\n\n\t\t\tif ( el.closest('li').find('.icon-solo-thin').hasClass('site-fwd') ) {\n\n\t\t\t\tif ( this.observers.state.iframe.history().length <= 1 || this.observers.state.iframe.history().length == loc() ) { return; }\n\n\t\t\t\tloc( loc() + 1 );\n\n\t\t\t}\n\n\t\t\tsrc = this.observers.state.iframe.historycache()[loc()];\n\n\t\t\tif (src) {\n\n\t\t\t\tif ( this.observers.state.iframe.history().length == loc() ) {\n\n\t\t\t\t\tcache = cache();\n\t\t\t\t\tcache.push(src);\n\n\t\t\t\t\tthis.observers.state.iframe.historycache(cache);\n\n\t\t\t\t}\n\n\t\t\t\tthis.observers.state.iframe.updateloc = false;\n\n\t\t\t\t$('#siteui-iframe').attr( 'src', src );\n\n\t\t\t}\n\n\t\t},\n\n\t\tsubnavigation: function(el,parent) {\n\n\t\t\tvar id = el.closest('li').attr('id');\n\n\t\t\t$('#' + $('.current').attr('id')).hide();\n\t\t\t$('.current',parent).removeClass('current');\n\t\t\t$('#' + id).addClass('current').show();\n\n\t\t\tthis.events.ui_init.call(this);\n\n\t\t},\n\n\t\tupdate_state: function(el,parent) {\n\n\t\t\tvar data\t= typeof parent === 'string' && parent || parent.data('state'),\n\t\t\t\tstate\t= this.observers.state[data],\n\t\t\t\ttype\t= typeof state(),\n\t\t\t\tout\t\t= ( type === 'string' ) ? el.text().trim().toLowerCase().replace( ' ', '_' ) : !state();\n\n\t\t\tthis.cookie( 'site:state:' + data, '\"' + out + '\"' );\n\n\t\t\tstate(out);\n\n\t\t},\n\n\t\tview_change: function(el) {\n\t\t\tthis.observers.state.view(el.text().toLowerCase());\n\t\t},\n\n\t\tsave: function(revert, live_updates) {\n\n\t\t\tvar self\t= this,\n\t\t\t\tvis\t\t= [],\n\t\t\t\tbttn\t= $('div#siteui-publish-buttons'),\n\t\t\t\tdata;\n\n\t\t\tvar site_inspector_scrollTop = $('#site-inspector .scroll_wrapper')[0].scrollTop;\n\n\t\t\t$('ol.lib-nav').each( function() {\n\t\t\t\tif ( $(this).css('display') !== 'none' && $(this).attr('id') ) {\n\t\t\t\t\tvis[vis.length] = $(this).attr('id');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.state.left_col_vis(vis);\n\n\t\t\trevert = revert || false;\n\n\t\t\tif (revert) {\n\t\t\t\tvar revertNote, revertCompleteMessage;\n\t\t\t\tif (revert === 'all') {\n\t\t\t\t\trevertNote = this.notify().wait('Reverting');\n\t\t\t\t\trevertCompleteMessage = 'Draft successfully reverted to live site.';\n\t\t\t\t} else {\n\t\t\t\t\trevertNote = this.notify().wait('Resetting theme');\n\t\t\t\t\trevertCompleteMessage = 'Draft successfully reset to theme defaults.';\n\t\t\t\t}\n\t\t\t\tdata = 'data={\"revert\": \"' + revert + '\"}';\n\t\t\t} else {\n\t\t\t\tvar d = $.extend({}, this.unmap(this.observers.site), true),\n\t\t\t\t\tonly = [ 'custom_css', 'navigation', 'routes', 'settings_send', 'url_data_send', 'pulse_settings_send', 'pulse_settings_group' ];\n\n\t\t\t\t$.each(d, function (i, obj) {\n\t\t\t\t\tif ($.inArray(i, only) === -1) {\n\t\t\t\t\t\tdelete(d[i]);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tdata = 'data=' + encodeURIComponent(JSON.stringify(d));\n\t\t\t}\n\n\t\t\tbttn.addClass('saving');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'site/draft:' + this.observers.site.draft_id(),\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: data,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tbttn.removeClass('saving');\n\t\t\t\t\tthis.observers.drafts.current.modified_on( Math.floor( +new Date() / 1000 ) );\n\t\t\t\t\t// Need this to force re-render of page_type settings, to update dependencies\n\t\t\t\t\tthis.observers.state.main_menu('display');\n\n\t\t\t\t\tif (revert) {\n\t\t\t\t\t\tthis.observers.state.loaded_page( this.observers.state.loaded_page() );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete(data.settings);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.observers.site.style) {\n\t\t\t\t\t\tthis.observers.site.style.variables = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete(data.custom_css);\n\n\t\t\t\t\tthis.map( this.observers.site, data );\n\t\t\t\t\tthis.events.check_for_custom_styling();\n\n\t\t\t\t\tif (live_updates) {\n\t\t\t\t\t\tvar win = $(document.getElementById('siteui-iframe').contentDocument);\n\n\t\t\t\t\t\tif (live_updates === 'reload') {\n\t\t\t\t\t\t\tvar sheet = win.find('#koken_settings_css_link');\n\t\t\t\t\t\t\tsheet.after(sheet.clone());\n\t\t\t\t\t\t\tsheet.attr('id', null);\n\n\t\t\t\t\t\t\tif (win.find('#k-lightbox-iframe').length) {\n\t\t\t\t\t\t\t\tvar lightbox = $(win.find('#k-lightbox-iframe').get(0).contentDocument)\n\n\t\t\t\t\t\t\t\tsheet = lightbox.find('#koken_settings_css_link');\n\t\t\t\t\t\t\t\tsheet.after(sheet.clone());\n\t\t\t\t\t\t\t\tsheet.attr('id', null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (live_updates === 'pulse') {\n\t\t\t\t\t\t\tvar $K = document.getElementById('siteui-iframe').contentWindow.$K,\n\t\t\t\t\t\t\t\tgroup = $K.pulse.groups[ this.observers.site.pulse_settings_group ],\n\t\t\t\t\t\t\t\tpulses = win.find('div[data-pulse-group=' + this.observers.site.pulse_settings_group + ']');\n\n\t\t\t\t\t\t\tgroup = $.extend( group, data.pulse_groups[ this.observers.site.pulse_settings_group || {} ] );\n\n\t\t\t\t\t\t\tthis.observers.override_pulse_settings(group);\n\n\t\t\t\t\t\t\t$.each(pulses, function(i, pulse) {\n\t\t\t\t\t\t\t\t$K.pulse.register({ id: $(pulse).attr('id'), options: {} });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(document).trigger('previewready');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.events.refresh();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.site.settings_send = {};\n\t\t\t\t\tthis.observers.site.pulse_settings_send = {};\n\n\t\t\t\t\t$('#site-inspector .scroll_wrapper')[0].scrollTop = site_inspector_scrollTop;\n\n\t\t\t\t\tif (revertNote) revertNote.success(revertCompleteMessage);\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdate_link_filters: function(data, e) {\n\t\t\tvar val = data.link_to_edit.page_type(),\n\t\t\t\tpage_select = $(e.target),\n\t\t\t\tcontainer = page_select.parents('ul'),\n\t\t\t\tklass;\n\n\t\t\tcontainer.children('li').not(':first').hide();\n\t\t\tcontainer.children('li:nth-child(2)').find('select, input').hide();\n\n\t\t\t$.each(this.observers.site.templates(), function(i, p) {\n\t\t\t\tif (p.path === val) {\n\t\t\t\t\tif (p.info.source) {\n\t\t\t\t\t\tif (p.info.source.collection) {\n\t\t\t\t\t\t\tcontainer.children('li').show();\n\t\t\t\t\t\t\tklass = '.collection_' + p.info.source.collection;\n\t\t\t\t\t\t\tcontainer.find(klass).show();\n\t\t\t\t\t\t} else if (p.info.source.single) {\n\t\t\t\t\t\t\tcontainer.children('li').not(':last').show();\n\t\t\t\t\t\t\tklass = '.single_' + p.info.source.single;\n\t\t\t\t\t\t\tcontainer.find(klass).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpage_select.parent().find('span').text( p.info.description );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'themes\\/install\\/([^\\:]+)\\:([a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12})(?:\\/(\\\\d+))?$': function(matches) {\n\t\t\t\tthis.observers.state.type('themes');\n\n\t\t\t\tvar self = this,\n\t\t\t\t\tslug = matches[1],\n\t\t\t\t\tguid = matches[2],\n\t\t\t\t\tpurchase = matches[3] ? '&purchase=' + matches[3] : '',\n\t\t\t\t\tpath = 'themes/' + slug + '-' + guid,\n\t\t\t\t\tn = '&new=1';\n\n\t\t\t\t$.each(this.observers.themes(), function(i, theme) {\n\t\t\t\t\tif (theme.koken_store_guid === guid) {\n\t\t\t\t\t\tpath = 'themes/' + theme.path;\n\t\t\t\t\t\tn = '';\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsetTimeout( $.proxy(function() {\n\t\t\t\t\tthis.classes.modal.install_theme.show();\n\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'update/plugin',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tdata: 'local_path=' + path + '&guid=' + guid + '&uuid=' + this.observers.settings.uuid() + n + purchase,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data.done) {\n\t\t\t\t\t\t\t\tthis.controllers.fetch_themes(function() {\n\t\t\t\t\t\t\t\t\tthis.controllers.load_theme_previews();\n\t\t\t\t\t\t\t\t\tthis.classes.modal.install_theme.hide();\n\t\t\t\t\t\t\t\t\tthis.notify().success(data.info.name + ' installed');\n\n\t\t\t\t\t\t\t\t\t// Not using bbq here as it doesn't have a replaceState\n\t\t\t\t\t\t\t\t\t// and we don't want the install URL in the history\n\t\t\t\t\t\t\t\t\thistory.replaceState('', '', '#/site/themes');\n\t\t\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t\t\tthis.store_api({\n\t\t\t\t\t\t\t\t\taction: 'plugin_installed',\n\t\t\t\t\t\t\t\t\tguid: guid,\n\t\t\t\t\t\t\t\t\tversion: data.info.version\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, this), 500);\n\n\n\t\t\t},\n\n\t\t\t'themes\\/?(preview:([^\\/]+)\\/?)?': function(matches) {\n\n\t\t\t\tthis.observers.state.type('themes');\n\n\t\t\t\tif (matches[1]) {\n\n\t\t\t\t\tvar self = this, t;\n\n\t\t\t\t\t// Wait for list to be rendered before transitioning to preview\n\t\t\t\t\tvar interval = setInterval( function() {\n\t\t\t\t\t\tif ($('#themes-browse li').length > 1 && !$('#themes-browse li.loading').length) {\n\t\t\t\t\t\t\t$.each(self.observers.themes(), function(i, theme) {\n\t\t\t\t\t\t\t\tif (theme.path === matches[2]) {\n\t\t\t\t\t\t\t\t\tt = theme;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tself.observers.state.preview_obj(t);\n\t\t\t\t\t\t\t\tself.observers.state.preview(matches[2]);\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.observers.state.preview(false);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t'(draft|live)\\/?((theme|page)\\/?)?(url:(.*)$)?': function(matches) {\n\n\t\t\t\tthis.observers.sitepanel_pulse.active(false);\n\n\t\t\t\tthis.observers.state.type(matches[1]);\n\t\t\t\tthis.observers.state.preview(false);\n\n\t\t\t\tif (matches[1] === 'draft' && matches[2]) {\n\t\t\t\t\tthis.observers.state.sidebar(matches[3]);\n\t\t\t\t}\n\n\t\t\t\tif (matches[1] === 'live') {\n\t\t\t\t\tthis.observers.state.mid_col('preview');\n\t\t\t\t}\n\n\t\t\t\tif (matches[4]) {\n\t\t\t\t\tvar iframe = $('#siteui-iframe'),\n\t\t\t\t\t\turl = matches[5] || '/',\n\t\t\t\t\t\tcurrent = this.observers.state.iframe.path().split('preview.php?')[1];\n\n\t\t\t\t\tif (current != url) {\n\t\t\t\t\t\tthis.events.refresh(url);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t'default': function() {\n\t\t\t\t$.bbq.pushState('/site/draft/theme/url:/', 2);\n\t\t\t}\n\n\t\t};\n\t},\n\n\tobservers: function() {\n\n\t\tvar cookies = {};\n\t\tvar self = this;\n\n\t\tcookies.settings_panel\t= ( this.cookie('site:state:settings_panel') === null ) ? false : this.helpers.bool( this.cookie('site:state:settings_panel') );\n\t\tcookies.settings_panel_docked\t= ( this.cookie('site:state:settings_panel_docked') === null ) ? false : this.helpers.bool( this.cookie('site:state:settings_panel_docked') );\n\t\tcookies.expand\t\t\t= ( this.cookie('site:state:expand') === null ) ? false: this.helpers.bool( this.cookie('site:state:expand') );\n\t\tcookies.pages\t\t\t= ( this.cookie('site:state:pages') === null ) ? true : this.helpers.bool( this.cookie('site:state:pages') );\n\n\t\treturn {\n\t\t\trefresh_destination: false,\n\t\t\tempty: ko.observable(1), // Reason for the one is so we can do a strict bool check up in the router, line 2180ish\n\t\t\terror: ko.observable(false),\n\t\t\tpages: ko.observableArray([]),\n\t\t\tsite: {\n\t\t\t\tcustom_style: ko.observable(false),\n\t\t\t\thas_page_template: ko.observable(false),\n\t\t\t\ttitle: ko.observable(''),\n\t\t\t\ttagline: ko.observable(''),\n\t\t\t\tdraft_id: ko.observable(0),\n\t\t\t\tnavigation_groups: ko.observableArray([]),\n\t\t\t\tnavigation: {\n\t\t\t\t\titems: ko.observableArray([]),\n\t\t\t\t\tgroups: ko.observableArray([]),\n\t\t\t\t\tactive: {\n\t\t\t\t\t\tinternals: ko.observableArray([]),\n\t\t\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\t\t\trss: ko.observableArray([]),\n\t\t\t\t\t\tsections: ko.observableArray([]),\n\t\t\t\t\t\tsupported_sections: ko.observableArray([]),\n\t\t\t\t\t\tpages: ko.observableArray([]),\n\t\t\t\t\t\tprofiles: ko.observableArray([]),\n\t\t\t\t\t\tgroup: ko.observable('')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tnavigation_draft: ko.observableArray([]),\n\t\t\t\tsettings: ko.observableArray([]),\n\t\t\t\tsettings_flat: {},\n\t\t\t\tsettings_send: {},\n\t\t\t\turl_data_send: {},\n\t\t\t\turl_data: {\n\t\t\t\t\thome: ko.observable(false)\n\t\t\t\t},\n\t\t\t\tcustom_css: ko.observable(''),\n\t\t\t\tpulse_settings_send: {},\n\t\t\t\troutes: ko.observableArray([]),\n\t\t\t\ttemplates: ko.observableArray([]),\n\t\t\t\ttemplates_grouped: {\n\t\t\t\t\tindexes: ko.observableArray([]),\n\t\t\t\t\tspecials: ko.observableArray([]),\n\t\t\t\t\tspecial_paths: ko.observableArray([])\n\t\t\t\t},\n\t\t\t\tstyles: ko.observableArray([]),\n\t\t\t\tpublished: ko.observable(true)\n\t\t\t},\n\t\t\tpublished_theme: ko.observable(''),\n\t\t\tsite_loaded: ko.observable(false),\n\t\t\tsitepanel_pulse: {\n\t\t\t\tactive: ko.observable(false),\n\t\t\t\ttitle: ko.observable(''),\n\t\t\t\tid: ko.observable('')\n\t\t\t},\n\t\t\tdrafts: {\n\t\t\t\tall: ko.observableArray([]),\n\t\t\t\thistory: ko.observableArray([]),\n\t\t\t\tcurrent: {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\tname: ko.observable(''),\n\t\t\t\t\t\tpath: ko.observable(''),\n\t\t\t\t\t\tpreview: ko.observable(''),\n\t\t\t\t\t\tauthor: {\n\t\t\t\t\t\t\tname: ko.observable(''),\n\t\t\t\t\t\t\tlink: ko.observable('')\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tpublished: ko.observable(false),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tcreated_on: ko.observable(0),\n\t\t\t\t\tmodified_on: ko.observable(0)\n\t\t\t\t}\n\t\t\t},\n\t\t\tsheets: {\n\t\t\t\tdraft_history: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('draft_history')\n\t\t\t\t},\n\t\t\t\tcreate_link_template: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_link_template')\n\t\t\t\t},\n\t\t\t\tcreate_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_link')\n\t\t\t\t},\n\t\t\t\tedit_link_data: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('edit_link_data'),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\t$('#edit_link_data li input').focus().off('.edit_link_data').on('keyup.edit_link_data', function(e) {\n\t\t\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('#edit_link_data li button[data-event=\"update_link\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.interfaces.app.observers.valid(true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcurrent_page_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('current_page_link'),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tvar title = (document.getElementById('siteui-iframe').contentDocument.title || '').replace(RegExp('[^a-zA-Z]+' + this.observers.site.title()), '');\n\t\t\t\t\t\t$('#current_page_link #link_to_current_label').val(title).trigger('keyup').focus().off('keydown').on('keydown', function(e) {\n\t\t\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('#current_page_link li button[data-event=\"link_to_current\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.observers.valid(true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcreate_custom_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_custom_link')\n\t\t\t\t},\n\t\t\t\tedit_nav: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('edit_nav'),\n\t\t\t\t\tlink_type: ko.observable('internal'),\n\t\t\t\t\tfilter: ko.observable('All'),\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\t$('#sheetview-edit-nav').css({\n\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t}).parent()\n\t\t\t\t\t\t.find('#sheetview-create-link').css('left', '680px');\n\t\t\t\t\t},\n\t\t\t\t\tlink_to_edit: {\n\t\t\t\t\t\tlabel: ko.observable(''),\n\t\t\t\t\t\tpath: ko.observable(''),\n\t\t\t\t\t\tchecked: ko.observable(false),\n\t\t\t\t\t\tgroups: ko.observableArray( ['Primary'] ),\n\t\t\t\t\t\tis_new: ko.observable(true),\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\tcollection: ko.observable(false)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclone: {},\n\t\t\t\t\t\tpage_type: ko.observable(''),\n\t\t\t\t\t\tfront: ko.observable(false)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsource_filter: {\n\t\t\t\t\tavailable: ko.observable(false),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('source_filter'),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\t$('#source_filter li input:first').focus().off('click').on('keydown', function(e) {\n\t\t\t\t\t\t\tif ( e.which === 13 ) {\n\t\t\t\t\t\t\t\t$('#source_filter li button[data-event=\"apply_filters\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.classes.autocomplete.site.tags($('#source_filter input.widefilter_tag'), $('#source_filter input.widefilter_tag').parent(), $('#source_filter [data-event=\"add_filter_tag\"]'));\n\t\t\t\t\t},\n\t\t\t\t\tsource: ko.observable(''),\n\t\t\t\t\tis_album: ko.observable(false),\n\t\t\t\t\tis_orderable: ko.observable(true),\n\t\t\t\t\tdisplay: ko.observable('all'),\n\t\t\t\t\tfilter: ko.observable('none'),\n\t\t\t\t\torder_by: ko.observable(''),\n\t\t\t\t\torder_direction: ko.observable(''),\n\t\t\t\t\tcategory: ko.observable(0),\n\t\t\t\t\ttags: ko.observableArray([]),\n\t\t\t\t\tcustom_source_keys: ko.observableArray([]),\n\t\t\t\t\tcurrent: ko.observable(true),\n\t\t\t\t\tlabel: ko.observable(''),\n\t\t\t\t\ttype: ko.observable('index'),\n\t\t\t\t\tsection: ko.observable(false),\n\t\t\t\t\troute: {},\n\t\t\t\t\tindex_route: {},\n\t\t\t\t\tmonth: ko.observable('any'),\n\t\t\t\t\tyear: ko.observable(''),\n\t\t\t\t\tyears: function() {\n\t\t\t\t\t\tvar now = +new Date().getFullYear(),\n\t\t\t\t\t\t\tarr = [];\n\n\t\t\t\t\t\twhile (now >= 2000) {\n\t\t\t\t\t\t\tarr.push(now);\n\t\t\t\t\t\t\tnow--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn arr;\n\t\t\t\t\t}(),\n\t\t\t\t\ttag_option: ko.observable('any'),\n\t\t\t\t\tsheet_title: ko.observable(''),\n\t\t\t\t\ttemplates: {\n\t\t\t\t\t\tsupported_archives: ko.observableArray([])\n\t\t\t\t\t},\n\t\t\t\t\tset: function(obj, route, url_data) {\n\t\t\t\t\t\tvar source = obj.source;\n\t\t\t\t\t\tif (source === 'album') {\n\t\t\t\t\t\t\tsource = 'contents';\n\t\t\t\t\t\t\tthis.is_album(true);\n\t\t\t\t\t\t} else if (source === 'set') {\n\t\t\t\t\t\t\tsource = 'albums';\n\t\t\t\t\t\t\tthis.is_album(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.is_album(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ($.inArray(source, [ 'favorites', 'featured_albums', 'featured_content', 'featured_essays', 'contents', 'albums', 'sets', 'essays', 'tags', 'categories', 'timeline']) !== -1) {\n\t\t\t\t\t\t\tvar title, order_set = false;\n\t\t\t\t\t\t\tif ($.inArray(source, ['tags', 'categories', 'archives']) !== -1) {\n\t\t\t\t\t\t\t\tthis.type('archives');\n\t\t\t\t\t\t\t\ttitle = source === 'archives' ? 'date' : source;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.type('index');\n\t\t\t\t\t\t\t\tif (source === 'contents') {\n\t\t\t\t\t\t\t\t\ttitle = 'content';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle = source;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.is_orderable( (source === 'contents' && this.is_album()) || ( source.indexOf('featured_') === 0 || source === 'favorites' || source === 'albums' ) || ( source === 'essays' && this.display === 'featured' ) );\n\n\t\t\t\t\t\t\tthis.sheet_title('Add new ' + (obj.sheet_title || title.replace('_', ' ')) + ' page');\n\t\t\t\t\t\t\tthis.source(source);\n\t\t\t\t\t\t\tthis.display('all');\n\t\t\t\t\t\t\tthis.filter('none');\n\t\t\t\t\t\t\tthis.category(0);\n\t\t\t\t\t\t\tthis.month('any');\n\t\t\t\t\t\t\tthis.year(this.years[0]);\n\t\t\t\t\t\t\tthis.tags([]);\n\t\t\t\t\t\t\tthis.section(route && route.section);\n\n\t\t\t\t\t\t\tif (this.section() && source !== 'timeline') {\n\n\t\t\t\t\t\t\t\tvar order_type = 'order',\n\t\t\t\t\t\t\t\t\torder = url_data[ source === 'categories' ? 'category' : source.replace(/s$/, '') ][order_type]().toLowerCase().split(' ');\n\n\t\t\t\t\t\t\t\tthis.order_by(order[0]);\n\t\t\t\t\t\t\t\tthis.order_direction(order[1]);\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tswitch(source) {\n\t\t\t\t\t\t\t\t\tcase 'albums':\n\t\t\t\t\t\t\t\t\tcase 'featured_albums':\n\t\t\t\t\t\t\t\t\tcase 'featured_content':\n\t\t\t\t\t\t\t\t\tcase 'featured_essays':\n\t\t\t\t\t\t\t\t\tcase 'favorites':\n\t\t\t\t\t\t\t\t\t\tthis.order_by('manual');\n\t\t\t\t\t\t\t\t\t\tthis.order_direction('asc');\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'contents':\n\t\t\t\t\t\t\t\t\tcase 'essays':\n\t\t\t\t\t\t\t\t\t\tthis.order_by('published_on');\n\t\t\t\t\t\t\t\t\t\tthis.order_direction('desc');\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'sets':\n\t\t\t\t\t\t\t\t\t\tthis.order_by('title');\n\t\t\t\t\t\t\t\t\t\tthis.order_direction('desc');\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (obj.filters) {\n\t\t\t\t\t\t\t\t\tvar order_direction = false;\n\n\t\t\t\t\t\t\t\t\t$.each(obj.filters, function(i,f) {\n\t\t\t\t\t\t\t\t\t\tif (f === 'featured') {\n\t\t\t\t\t\t\t\t\t\t\tthis.display('featured');\n\t\t\t\t\t\t\t\t\t\t} else if (f === 'favorites') {\n\t\t\t\t\t\t\t\t\t\t\tthis.display('favorites');\n\t\t\t\t\t\t\t\t\t\t} else if ($.inArray(f, self.observers.user_custom_sources_keys[source]()) !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tthis.display(f);\n\t\t\t\t\t\t\t\t\t\t} else if (f.indexOf('tags=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\tthis.filter('tag');\n\t\t\t\t\t\t\t\t\t\t\tthis.tags( f.split('tags=')[1].split(',') );\n\t\t\t\t\t\t\t\t\t\t} else if (f.indexOf('order_') === 0 || f.indexOf('category=') === 0 || f.indexOf('month=') === 0 || f.indexOf('year=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\tvar bits = f.split('=');\n\n\t\t\t\t\t\t\t\t\t\t\tif (bits[0] === 'order_by') {\n\t\t\t\t\t\t\t\t\t\t\t\torder_set = true;\n\t\t\t\t\t\t\t\t\t\t\t} else if (bits[0] === 'order_direction') {\n\t\t\t\t\t\t\t\t\t\t\t\t// See below\n\t\t\t\t\t\t\t\t\t\t\t\torder_direction = bits[1];\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (typeof this[bits[0]] === 'function') {\n\t\t\t\t\t\t\t\t\t\t\t\tthis[bits[0]](bits[1]);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (f.indexOf('category=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.filter('category');\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (f.indexOf('month=') === 0 || f.indexOf('year=') === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.filter('archive');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}.bind(this));\n\n\t\t\t\t\t\t\t\t\t// Set this here to prevent order_by subscriber from trampling user value\n\t\t\t\t\t\t\t\t\tif (order_direction) {\n\t\t\t\t\t\t\t\t\t\tthis.order_direction(order_direction);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!order_set && (source === 'favorites' || source === 'contents' || source === 'albums' || source.indexOf('featured_') === 0) && (this.display() !== 'all' || this.is_album())) {\n\t\t\t\t\t\t\t\t\tthis.order_by('manual');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.label( obj.label || '');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstate: {\n\t\t\t\tpages: ko.observable(cookies.pages),\n\t\t\t\tedit: ko.observable('edit_theme'),\n\t\t\t\texpand: ko.observable(cookies.expand),\n\t\t\t\tleft_col: ko.observable('settings'),\n\t\t\t\tleft_col_vis: ko.observable([]),\n\t\t\t\tright_col: ko.observable('info'),\n\t\t\t\tmid_col: ko.observable('preview'),\n\t\t\t\tmain_menu: ko.observable('display'),\n\t\t\t\tadd_link: ko.observable(false),\n\t\t\t\tview: ko.observable('customize'),\n\t\t\t\tgear: ko.observable(false),\n\t\t\t\tthemes: ko.observable('installed'),\n\t\t\t\tcreate_link: ko.observable(false),\n\t\t\t\tcreate_custom_link: ko.observable(false),\n\t\t\t\tedit_link_data: ko.observable(false),\n\t\t\t\tcurrent_page_link: ko.observable(false),\n\t\t\t\tsource_filter: ko.observable(false),\n\t\t\t\ttype: ko.observable('draft'),\n\t\t\t\tloaded_page: ko.observable({}),\n\t\t\t\tloaded_route: ko.observable({}),\n\t\t\t\tsettings_panel: ko.observable(cookies.settings_panel),\n\t\t\t\tsettings_panel_docked: ko.observable(cookies.settings_panel_docked),\n\t\t\t\tpreview: ko.observable(false),\n\t\t\t\tpreview_obj: ko.observable({}),\n\t\t\t\tsidebar: ko.observable('theme'),\n\t\t\t\teditor_type: ko.observable('dock'),\n\t\t\t\tiframe: {\n\t\t\t\t\tcache: true,\n\t\t\t\t\tpath: ko.observable(''),\n\t\t\t\t\trel_path: ko.observable(''),\n\t\t\t\t\thistory: ko.observableArray([]),\n\t\t\t\t\tfwd: ko.observableArray([]),\n\t\t\t\t\tupdateloc: true,\n\t\t\t\t\tlocation: ko.observable(0),\n\t\t\t\t\thistorycache: ko.observableArray([])\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttop_content: ko.observable(0),\n\t\t\ttop_essay: ko.observable(0),\n\n\t\t\toverride_pulse_settings: function(overrides) {\n\n\t\t\t\tfunction set_val(el, val) {\n\n\t\t\t\t\tif (el.attr('type') === 'checkbox') {\n\t\t\t\t\t\tel.attr('checked', val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.val(val);\n\t\t\t\t\t\tif (el.siblings('span.display_value')) {\n\t\t\t\t\t\t\tel.siblings('span.display_value').text(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el.attr('type') === 'ccolor' && el.parents('.theme_option').find('.coloralpha').length) {\n\t\t\t\t\t\tvar alpha = el.parents('.theme_option').find('.coloralpha'),\n\t\t\t\t\t\t\tvalue = val.match(/\\,\\s?([\\d\\.]+)\\)$/)[1]*100;\n\n\t\t\t\t\t\talpha.val(value);\n\t\t\t\t\t\talpha.siblings('span.display_value').text(value);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar settings = {};\n\n\t\t\t\t$.each($('#siteui-panel-pulse input[data-default-value], #siteui-panel-pulse select[data-default-value]'), function(i, el) {\n\t\t\t\t\tsettings[$(el).attr('id')] = $(el).data('default-value');\n\t\t\t\t});\n\n\t\t\t\tif (overrides.width || overrides.height) {\n\t\t\t\t\t$('#pulse_option_size').parents('.theme_option').hide();\n\t\t\t\t}\n\n\t\t\t\t$.each(overrides, function(i, setting) {\n\t\t\t\t\tsettings['pulse_option_' + i] = setting;\n\t\t\t\t});\n\n\t\t\t\t$.each(settings, function(i, setting) {\n\t\t\t\t\tset_val($('#' + i), setting);\n\t\t\t\t});\n\n\t\t\t\tnew this.klass.colorpicker('site', $('input[type=\"ccolor\"]'));\n\n\t\t\t\tvar $K = document.getElementById('siteui-iframe').contentWindow.$K;\n\n\t\t\t\t$('#pulse_option_link_to').find('option[value=\"album\"]').remove();\n\n\t\t\t\tif (this.observers.sitepanel_pulse.active() && $K.pulse.refs[this.observers.sitepanel_pulse.id()]) {\n\t\t\t\t\tif ($K.pulse.refs[this.observers.sitepanel_pulse.id()].options().can_link_to_album) {\n\t\t\t\t\t\t$('#pulse_option_link_to').append(\n\t\t\t\t\t\t\t$('<option/>').attr({\n\t\t\t\t\t\t\t\t\tvalue: 'album',\n\t\t\t\t\t\t\t\t\tselected: overrides.link_to === 'album'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.text('Load album page')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpage_data_label: function(d) {\n\t\t\t\tvar capitalize = function(str) {\n\t\t\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\t\t\t\t};\n\t\t\t\tif (d.collection) {\n\t\t\t\t\treturn capitalize( d.collection ) + ' list';\n\t\t\t\t} else if (d.single) {\n\t\t\t\t\treturn 'Single ' + d.single;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\talbum_id: function(path) {\n\t\t\t\tvar p = this.site.routes[path].source;\n\n\t\t\t\tif (!p) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} else if (p.single && p.id) {\n\t\t\t\t\treturn p.id;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t},\n\n\t\t\tselected_options: function(path) {\n\t\t\t\tvar p = this.site.routes[path].source;\n\n\t\t\t\tif (!p) {\n\t\t\t\t\treturn 'default';\n\t\t\t\t} else if (p.featured) {\n\t\t\t\t\treturn 'featured';\n\t\t\t\t} else if (p.category) {\n\t\t\t\t\treturn 'category';\n\t\t\t\t} else if (p.tag) {\n\t\t\t\t\treturn 'tag';\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\t}\n\n};\n\n\t_Koken.prototype.store = {\n\n\tmailbox: false,\n\n\texit: function() {\n\t\t$(window).off('message');\n\t},\n\n\tinit: function() {\n\t\tvar self = this,\n\t\t\t// Keep track of iframe src outside of observer\n\t\t\t// Helps with back/fwd button without causing refreshes\n\t\t\tcurrent_iframe_src = '';\n\n\t\t// Store sends messages back in the form of a payload object\n\t\t// Useing e.originalEvent because jQuery overwrites original event\n\t\t$(window).off('message').on('message', function(e) {\n\t\t\t// lastClickedElement doesn't pick up clicks from inside the iframe,\n\t\t\t// so we have to empty it here to keep the hashchange event from\n\t\t\t// bouncing right back to /store.\n\t\t\tself.classes.app.koken.lastClickedElement = {};\n\n\t\t\tvar data = e.originalEvent.data;\n\n\t\t\tswitch(data.action) {\n\t\t\t\tcase 'force_store':\n\t\t\t\t\tlocation.href = self.config.paths.store + data.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'loaded':\n\t\t\t\t\tif (data.uuid !== self.observers.settings.uuid()) {\n\t\t\t\t\t\tself.mailbox.postMessage({\n\t\t\t\t\t\t\tresetContext: true\n\t\t\t\t\t\t}, self.config.paths.store);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrent_iframe_src = data.url.replace(self.config.paths.store + '/', '');\n\t\t\t\t\t\tif (self.observers.history.moving) {\n\t\t\t\t\t\t\tself.observers.history.moving = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.observers.history.entries(self.observers.history.entries.slice(0, self.observers.history.index()+1));\n\t\t\t\t\t\t\tself.observers.history.entries.push(current_iframe_src);\n\t\t\t\t\t\t\tself.observers.history.index(self.observers.history.entries().length-1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.observers.store_url(current_iframe_src);\n\t\t\t\t\t\tself.observers.title(data.title);\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'observers':\n\t\t\t\t\t$.each(data.observers, function(i, value) {\n\t\t\t\t\t\tif (self.observers[i]) {\n\t\t\t\t\t\t\tself.observers[i](value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ping':\n\t\t\t\t\tself.mailbox.postMessage({\n\t\t\t\t\t\tuuid: self.observers.settings.uuid(),\n\t\t\t\t\t\tpath: self.config.paths.base_relative,\n\t\t\t\t\t\tphp: self.system.php_version,\n\t\t\t\t\t\tversion: self.system.version,\n\t\t\t\t\t\timage_processing: self.system.image_processing_support\n\t\t\t\t\t}, self.config.paths.store);\n\t\t\t\t\tself.observers.pinged(true);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'notification':\n\t\t\t\t\tself.notify()[data.type](data.message);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'update':\n\t\t\t\t\tself.controllers.update_products(data.guid);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'update_koken':\n\t\t\t\t\tself.events.install_release();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'cookie':\n\t\t\t\t\t// A message is posted from the store here when the cookie has not been set properly.\n\t\t\t\t\t// For Chrome, we immediately show a walkthrough on how to enable 3rd party cookies,\n\t\t\t\t\t// as redirecting to the store then back won't help. So Chrome users never get here.\n\n\t\t\t\t\t// For everything else, try a redirect. This will work for Safari as well as\n\t\t\t\t\t// Firefox if the 3rd party cookie setting is set to \"From visited\". If Firefox\n\t\t\t\t\t// is set to \"Never\", it won't work and when it bounces back we'll show a walkthrough\n\t\t\t\t\t// on how to enable 3rd party cookies via exceptions.\n\n\t\t\t\t\t// FFFFFFFUUUUUUUUUUU\n\t\t\t\t\tvar redirect = location.href.replace(/\\/(cookie_return\\/?)?$/, '') + '/cookie_return';\n\t\t\t\t\tlocation.href = self.config.paths.store + '/sing?redirect=' + encodeURIComponent(redirect);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t$.bbq.pushState( data.url, 2 );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tthis.observers.store_url.subscribe(function(val) {\n\t\t\t$.bbq.pushState('/store/' + val, 2);\n\t\t\tif (val !== current_iframe_src && this.observers.pinged()) {\n\t\t\t\tthis.mailbox.postMessage({\n\t\t\t\t\tnavigate: '/' + val\n\t\t\t\t}, self.config.paths.store);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.expand.subscribe(function(val) {\n\t\t\tif (val) {\n\t\t\t\t$('#app').addClass('site-expand');\n\t\t\t} else {\n\t\t\t\t$('#app').removeClass('site-expand');\n\t\t\t}\n\t\t}, this );\n\n\t\tvar init_url = this.config.paths.store + '/';\n\t\tif (!this.observers.pinged()) {\n\t\t\tinit_url += 'create_context?to=/' + (location.hash.indexOf('cookie_return') !== -1 ? '&cookietry=1' : '');\n\t\t}\n\n\t\tsetTimeout(function() {\n\t\t\tself.mailbox = document.getElementById('store-iframe').contentWindow;\n\t\t\t$('#store-iframe').attr('src', init_url\t+ self.observers.store_url());\n\t\t}, 0);\n\t},\n\n\tcontrollers: {\n\t\tupdate_products: function(guids) {\n\n\t\t\tthis.classes.modal.update_products.show();\n\n\t\t\tvar notification,\n\t\t\t\tsingle = guids.length === 1;\n\n\t\t\tif (!single) {\n\t\t\t\tnotification = guids.length + ' products updated';\n\t\t\t}\n\n\t\t\tvar refresh_themes = false,\n\t\t\t\trefresh_plugins = false,\n\t\t\t\ttotal = guids.length;\n\n\t\t\tvar next = $.proxy(function() {\n\t\t\t\tvar guid = guids.shift(),\n\t\t\t\t\tpath = false,\n\t\t\t\t\tname;\n\n\t\t\t\tthis.classes.modal.update_products.progress((total-guids.length)/total);\n\n\t\t\t\t$.each(this.observers.themes(), function(i, theme) {\n\t\t\t\t\tif (theme.koken_store_guid === guid) {\n\t\t\t\t\t\tpath = 'themes/' + theme.path;\n\t\t\t\t\t\trefresh_themes = true;\n\t\t\t\t\t\tname = theme.name;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!path) {\n\t\t\t\t\t$.each(this.observers.user_plugins(), function(i, plugin) {\n\t\t\t\t\t\tif (plugin.koken_store_guid === guid) {\n\t\t\t\t\t\t\tpath = 'plugins/' + plugin.path + (plugin.id ? '&id=' + plugin.id : '');\n\t\t\t\t\t\t\trefresh_plugins = true;\n\t\t\t\t\t\t\tname = plugin.name;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (single) {\n\t\t\t\t\tnotification = name + ' updated';\n\t\t\t\t}\n\n\t\t\t\tif (path) {\n\t\t\t\t\t$('#product_update_label').text('Please wait. \"' + name + '\" is being updated.')\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'update/plugin',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tdata: 'local_path=' + path + '&guid=' + guid + '&uuid=' + this.observers.settings.uuid(),\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tif (data.done) {\n\n\t\t\t\t\t\t\t\tthis.observers.update_count( this.observers.update_count() - 1 );\n\n\t\t\t\t\t\t\t\tthis.store_api({\n\t\t\t\t\t\t\t\t\taction: 'plugin_installed',\n\t\t\t\t\t\t\t\t\tguid: guid,\n\t\t\t\t\t\t\t\t\tversion: data.info.version\n\t\t\t\t\t\t\t\t}, $.proxy(function() {\n\t\t\t\t\t\t\t\t\tif (guids.length) {\n\t\t\t\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (refresh_plugins) {\n\t\t\t\t\t\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\t\t\t\t\t\trequest: 'plugins',\n\t\t\t\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\t\t\t\tfinished: function(d) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.observers.process_plugin_data(d, true);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (refresh_themes) {\n\t\t\t\t\t\t\t\t\t\t\tthis.controllers.fetch_themes();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tthis.classes.modal.update_products.hide();\n\n\t\t\t\t\t\t\t\t\t\tthis.notify().success(notification);\n\n\t\t\t\t\t\t\t\t\t\tthis.mailbox.postMessage({\n\t\t\t\t\t\t\t\t\t\t\tnavigate: '/updates'\n\t\t\t\t\t\t\t\t\t\t}, this.config.paths.store);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\t\tthis.classes.modal.update_products_fail.show();\n\t\t\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t\t\t.on( 'click', '#clear_error', function() {\n\t\t\t\t\t\t\t\t\t\tself.classes.modal.update_products_fail.hide();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tnext();\n\t\t}\n\t},\n\n\tevents: {\n\t\thistory: function(el, parent) {\n\t\t\tif ($(parent).hasClass('back')) {\n\t\t\t\tvar index = this.observers.history.index() - 1;\n\t\t\t} else {\n\t\t\t\tvar index = this.observers.history.index() + 1;\n\t\t\t}\n\n\t\t\tthis.observers.history.moving = true;\n\t\t\tthis.observers.history.index(index);\n\n\t\t\tthis.mailbox.postMessage({\n\t\t\t\tnavigate: '/' + this.observers.history.entries()[index]\n\t\t\t}, this.config.paths.store);\n\t\t},\n\n\t\tupdate_state: function(el,parent) {\n\n\t\t\tvar data\t= typeof parent === 'string' && parent || parent.data('state'),\n\t\t\t\tstate\t= this.observers.state[data],\n\t\t\t\ttype\t= typeof state(),\n\t\t\t\tout\t\t= ( type === 'string' ) ? el.text().trim().toLowerCase().replace( ' ', '_' ) : !state();\n\n\t\t\tif (data === 'pages') {\n\t\t\t\tthis.cookie( 'store:state:' + data, '\"' + out + '\"' );\n\t\t\t}\n\n\t\t\tstate(out);\n\n\t\t},\n\t},\n\n\tobservers: function() {\n\t\tvar cookies = {\n\t\t\tpages: ( this.cookie('store:state:pages') === null ) ? true : this.helpers.bool( this.cookie('store:state:pages') )\n\t\t};\n\n\t\treturn {\n\t\t\tstate: {\n\t\t\t\texpand: ko.observable(false),\n\t\t\t\tpages: ko.observable(cookies.pages)\n\t\t\t},\n\t\t\tstore_url: ko.observable(''),\n\t\t\tcart_count: ko.observable(0),\n\t\t\tupdates_count: ko.observable(0),\n\t\t\tusername: ko.observable('Account'),\n\t\t\tsupport_link: ko.observable(''),\n\t\t\tpinged: ko.observable(false),\n\t\t\ttitle: ko.observable('Koken Store'),\n\t\t\thistory: {\n\t\t\t\tentries: ko.observableArray([]),\n\t\t\t\tindex: ko.observable(0),\n\t\t\t\tmoving: false\n\t\t\t}\n\t\t}\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'default': function(url) {\n\t\t\t\turl = url || '';\n\t\t\t\tthis.observers.store_url(url);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\t_Koken.prototype.text = {\n\n\texit: function() {\n\t\tthis.controllers.end_autosave();\n\t},\n\n\tinit: function() {\n\n\t\tvar self = this;\n\n\t\t// TODO: Namespace all keyboard shortcuts\n\t\t$(window).off('keydown');\n\n\t\t$(window).on('text.resize', function() {\n\t\t\t$('#rcol-entry-edit').css('height', $('#three-col-right').height() - ( $('#text_feat_img').is(':visible') ? $('#text_feat_img').height() : 0 ) - 30);\n\n\t\t\tvar head = $('#three-col-right').find('.col-select'),\n\t\t\t\tsidebar = $('#right-col-xtra');\n\n\t\t\tif ( head.length <= 0 || !head.is(':visible') ) {\n\t\t\t\thead = $('#three-col-right div').eq(1);\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: 0 + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 19 + 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsidebar.css({\n\t\t\t\t\tmarginTop: ( head.height() + 29 ) + 'px',\n\t\t\t\t\theight: ( ( $(window).height() - head.height() ) - head.offset().top ) - 46 + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$(document).on('change.custom-fields', 'select.fields-data, input[type=\"checkbox\"]', function() {\n\t\t\tvar data = self.observers.current_shortcode_data();\n\t\t\tself.observers.current_shortcode_data([]);\n\t\t\tself.observers.current_shortcode_data(data);\n\t\t});\n\n\t\t// Start listening for sliders\n\t\tnew this.klass.slider_number_toggle('text');\n\t\t// Start validation listeners\n\t\tnew this.klass.form_validation('text');\n\t\t// Start autocomplete\n\t\tnew this.klass.autocomplete('text');\n\n\t\t$(document)\n\t\t\t.off('.text-editor')\n\t\t\t.on('click.text-editor', '#entry-edit', function(e) {\n\t\t\t\t// Ignore header and toolbar\n\t\t\t\tif (e.target.nodeName !== 'DIV') {\n\t\t\t\t\t$('.entry-elem').removeClass('selected');\n\t\t\t\t\t$('p.media-row').not(':last-child').filter(function() { return $(this).children().length === 1 && e.target !== this; }).remove();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click.text-editor', '.entry-elem', function(e) {\n\t\t\t\tvar t = $(e.target);\n\n\t\t\t\tif (t.hasClass('entry-elem')) {\n\t\t\t\t\t$('.entry-elem').not(t).removeClass('selected');\n\t\t\t\t\tt.toggleClass('selected');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click.text-editor', '.redactor_btn_formatting', function() {\n\t\t\t\tif ( parseInt( $('.redactor_air').css('top'), 10 ) > $(window).height() - 300 ) {\n\t\t\t\t\t$('.redactor_dropdown').css( 'top', parseInt( $('.redactor_dropdown').css('top'), 10 ) - 300 );\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click.text-editor', '.elem-title', function(e) {\n\n\t\t\t\tvar p = $(this).parent('div'),\n\t\t\t\t\tpreview = p.find('.elem-preview');\n\n\t\t\t\tif (preview.children().length) {\n\t\t\t\t\tif (preview.is(':visible') && (preview.hasClass('slideshow') || preview.find('video'))) {\n\t\t\t\t\t\tpreview.replaceWith($('<div/>').addClass('elem-preview'));\n\t\t\t\t\t}\n\t\t\t\t\tpreview.toggle();\n\t\t\t\t} else {\n\t\t\t\t\tvar info = self.controllers.parse_shortcode(p.find('.raw-code').text());\n\n\t\t\t\t\tif (info.params.id && info.params.media_type) {\n\n\t\t\t\t\t\tp.addClass('loading');\n\t\t\t\t\t\t$.get(self.config.paths.base + 'api.php?/content/' + info.params.id, function(data) {\n\t\t\t\t\t\t\tif (data.file_type === 'image') {\n\t\t\t\t\t\t\t\t$('<img/>')\n\t\t\t\t\t\t\t\t\t.attr('src', data.presets.medium_large[self.config.retina ? 'hidpi_url' : 'url'])\n\t\t\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.appendTo(preview);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\tif (data.original && data.original.url) {\n\t\t\t\t\t\t\t\t\tvar v = $('<video/>').attr({\n\t\t\t\t\t\t\t\t\t\tsrc: data.original.url,\n\t\t\t\t\t\t\t\t\t\tcontrols: true,\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\tpreload: 'metadata'\n\t\t\t\t\t\t\t\t\t}).appendTo(preview);\n\n\t\t\t\t\t\t\t\t\tv.mediaelementplayer({\n\t\t\t\t\t\t\t\t\t\tpluginPath: 'js/',\n\t\t\t\t\t\t\t\t\t\tflashName: 'flashmediaelement.swf'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (data.content_html) {\n\t\t\t\t\t\t\t\t\t$(data.content_html).width('100%').height(400).appendTo(preview);\n\t\t\t\t\t\t\t\t} else if (data.html) {\n\t\t\t\t\t\t\t\t\t$(data.html).width('100%').height(400).appendTo(preview);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else if (info.params.album || info.params.content) {\n\n\t\t\t\t\t\tvar id = 'pulse-' + $('#edit-area').children().index(p),\n\t\t\t\t\t\t\t\ttarget = $('<span/>').attr('id', id).appendTo(preview);\n\n\t\t\t\t\t\tpreview.addClass('slideshow');\n\t\t\t\t\t\tp.addClass('loading');\n\n\t\t\t\t\t\tvar script = document.createElement('script');\n\t\t\t\t\t\tscript.src = self.config.paths.base + 'app/site/themes/common/js/pulse.js';\n\t\t\t\t\t\tscript.onload = function() {\n\t\t\t\t\t\t\tvar opts = {\n\t\t\t\t\t\t\t\tsize: '3:2',\n\t\t\t\t\t\t\t\tdataUrl: self.config.paths.base + 'api.php?/',\n\t\t\t\t\t\t\t\tlink_to: 'advance',\n\t\t\t\t\t\t\t\tautostart: true\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif (info.params.content) {\n\t\t\t\t\t\t\t\topts.dataUrl += 'content/' + info.params.content;\n\t\t\t\t\t\t\t} else if (info.params.album) {\n\t\t\t\t\t\t\t\topts.dataUrl += 'albums/' + info.params.album + '/content';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\tpreview.toggle();\n\n\t\t\t\t\t\t\tPulse('#' + id, opts);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\n\n\t\t\t\t\t} else if (info.name === 'koken_oembed') {\n\t\t\t\t\t\tp.addClass('loading');\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/oembed_preview',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: 'url=' + encodeURIComponent(info.params.endpoint + ( info.params.endpoint.indexOf('?') === -1 ? '?' : '&' ) + 'url=' + info.params.url),\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tif (data.html) {\n\t\t\t\t\t\t\t\t\tvar html = $(data.html);\n\t\t\t\t\t\t\t\t\thtml.appendTo(preview);\n\t\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\t\tpreview.fitVids();\n\t\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$('<img/>')\n\t\t\t\t\t\t\t\t\t\t.attr('src', data.url)\n\t\t\t\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.appendTo(preview);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (info.params.filename) {\n\t\t\t\t\t\tp.addClass('loading');\n\t\t\t\t\t\t$('<img/>')\n\t\t\t\t\t\t\t.attr('src', info.params.filename.indexOf('http') === 0 ? info.params.filename : self.config.paths.base + 'storage/custom/' + info.params.filename)\n\t\t\t\t\t\t\t.bind('load', function() {\n\t\t\t\t\t\t\t\tp.removeClass('loading');\n\t\t\t\t\t\t\t\tpreview.toggle();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.appendTo(preview);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).parent().find('a[data-event=\"edit_shortcode\"]').trigger('click');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\n\t\t\t});\n\n\t\tthis.sync({\n\t\t\trequest: 'favorites',\n\t\t\tcontext: this,\n\t\t\tfinished: function(data) {\n\t\t\t\tthis.observers.sheets.shortcode_collection.favorites( $.map(data.content, function(c) { return c.id; }) );\n\t\t\t}\n\t\t});\n\n\t\tif (this.observers.settings.last_upload()) {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'content/after:' + this.observers.settings.last_upload() + '/order_by:uploaded_on',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.sheets.shortcode_collection.last_upload( $.map(data.content, function(c) { return c.id; }) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.persist('library.quick_collection') && this.persist('library.quick_collection').length > 1) {\n\t\t\tthis.observers.sheets.shortcode_collection.quick_collection( this.persist('library.quick_collection').split(',').map( function(id) { return Number(id); }) );\n\t\t}\n\n\t\tfunction trip_sheet_resize() {\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t});\n\t\t}\n\n\t\tthis.observers.sheets.shortcode_media.editing.subscribe(trip_sheet_resize);\n\t\tthis.observers.sheets.insert_link.state.type.subscribe(trip_sheet_resize);\n\n\t\tthis.observers.page_to_edit.__featured_image.subscribe(function(val) {\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t}, 250);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar src = val.presets.medium[this.config.retina ? 'hidpi_url' : 'url'];\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tvar i = new Image();\n\t\t\t\ti.onload = function() {\n\t\t\t\t\tvar img = $('#text_feat_img img'),\n\t\t\t\t\t\th,\n\t\t\t\t\t\tcss = {};\n\t\t\t\t\tif (i.width > i.height) {\n\t\t\t\t\t\tcss = {\n\t\t\t\t\t\t\twidth: 219,\n\t\t\t\t\t\t\theight: 219/(i.width/i.height)\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcss = {\n\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\theight: 219\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tcss.opacity = 0;\n\n\t\t\t\t\timg.css(css);\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.attr('src', src).css('opacity', 1);\n\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\timg.parents('.loading').removeClass('loading');\n\t\t\t\t\t}, 500);\n\t\t\t\t};\n\t\t\t\ti.src = src;\n\t\t\t});\n\t\t}, this);\n\n\t\tthis.observers.current_shortcode_data.subscribe(function() {\n\t\t\tthis.controllers.setup_custom_shortcode_sort();\n\t\t}, this);\n\n\t\tthis.observers.current_shortcode.subscribe(function(val) {\n\n\t\t\tthis.observers.current_shortcode_data([]);\n\n\t\t\tvar obj = {};\n\n\t\t\tif (this.observers.to_replace) {\n\t\t\t\tvar code = this.observers.to_replace.find('.raw-code').text();\n\t\t\t\tobj = this.controllers.parse_shortcode(code).params;\n\t\t\t}\n\n\t\t\tvar data = [],\n\t\t\t\tself = this;\n\n\t\t\tif (val.data) {\n\t\t\t\t$.each(val.data, function(key, info) {\n\t\t\t\t\tvar info_clone = $.extend(info, { key: key });\n\t\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\t\tinfo_clone.value = self.controllers.unescape_code(obj[key]);\n\t\t\t\t\t\tif (/^(fields_array|recaptcha)$/.test(info.type)) {\n\t\t\t\t\t\t\tinfo_clone.value = JSON.parse(info_clone.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (info.type === 'link') {\n\t\t\t\t\t\tinfo_clone.value = 'false';\n\t\t\t\t\t} else if (key === 'recaptcha') {\n\t\t\t\t\t\t// let defaults passthrough\n\t\t\t\t\t} else if (self.observers.to_replace) {\n\t\t\t\t\t\tdelete(info_clone.value);\n\t\t\t\t\t}\n\t\t\t\t\tdata.push( info_clone );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.observers.current_shortcode_data(data);\n\n\t\t}, this);\n\n\t\tthis.observers.sheets.shortcode_media.isreplacing.subscribe( function(val) {\n\t\t\tif ( val === true ) {\n\n\t\t\t\tthis.observers.sheets.shortcode_media.isreplacing(false);\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tif ( this.observers.sheets.shortcode_media.loaded() ) {\n\t\t\t\t\tvar cp = $('#sheetview-img-insert .lib-content').empty().closest('section').parent().html();\n\t\t\t\t\t$('#sheetview-img-insert').empty().html(cp);\n\t\t\t\t}\n\n\t\t\t\tthis.observers.sheets.shortcode_media.selected.view('/content');\n\t\t\t\tthis.controllers.load_content( '.lib-content', 'content', '#sheetview-img-insert', self.observers.sheets.shortcode_media.type(), 'public' );\n\t\t\t\tthis.observers.sheets.shortcode_media.loaded(true);\n\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.theme.subscribe(function(val) {\n\n\t\t\tvar klass = '';\n\n\t\t\tthis.cookie( 'text:theme', '\"' + val + '\"' );\n\n\t\t\tswitch(val) {\n\t\t\t\tcase 0:\n\t\t\t\t\tklass = 'light';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tklass = 'dark';\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t$('#entry-edit-area').removeAttr('class').addClass(klass);\n\n\t\t}, this);\n\n\t\tthis.observers.sheets.shortcode_media.active.subscribe(function(val) {\n\t\t\tif ( val === true ) {\n\n\t\t\t\tvar self = this,\n\t\t\t\t\ttype = this.observers.sheets.shortcode_media.type(),\n\t\t\t\t\tlibUrl = $('.head-link.library-interface').attr('href').replace('#/library', ''),\n\t\t\t\t\tfirstRun = true,\n\t\t\t\t\tloadOverridden = false,\n\t\t\t\t\tnavItems = ['albums','after','last_upload','favorites','featured','quick_collection'];\n\n\t\t\t\t$.each(navItems, function(i, item) {\n\t\t\t\t\tif (libUrl.indexOf(item) !== -1) {\n\t\t\t\t\t\tvar urlToLoad;\n\t\t\t\t\t\tif (item === 'albums') {\n\t\t\t\t\t\t\turlToLoad = libUrl;\n\t\t\t\t\t\t} else if (item === 'after') {\n\t\t\t\t\t\t\turlToLoad = 'last_upload';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlToLoad = $('#view_select').find('option[class=\"' + item + '\"]').val();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tloadOverridden = true;\n\t\t\t\t\t\tself.observers.sheet_media_chosen.primary((item !== 'after') ? item : 'last_upload');\n\t\t\t\t\t\tself.observers.sheets.shortcode_media.selected.view(item);\n\t\t\t\t\t\tself.controllers.load_content('.lib-content', urlToLoad, '#sheetview-img-insert', type, 'public');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$('#view_select').off('change').on('change', function(e) {\n\n\t\t\t\t\tvar sel\t= $(this).find('option:selected'),\n\t\t\t\t\t\turl\t= sel.val();\n\n\t\t\t\t\tself.observers.sheet_media_chosen.primary( sel.attr('class') );\n\t\t\t\t\tself.observers.sheets.shortcode_media.selected.view(url);\n\n\t\t\t\t\t$('#container').trigger('sheet.insert_media');\n\n\t\t\t\t\tif (url === 'public_albums') {\n\t\t\t\t\t\t$('#album_select').on('change', function(e) {\n\t\t\t\t\t\t\tvar url\t= $(this).find('option:selected').val();\n\t\t\t\t\t\t\tself.observers.sheet_media_chosen.secondary( $(this).find('option:selected').attr('data-id') );\n\t\t\t\t\t\t\tself.controllers.load_content( '.lib-content', url, '#sheetview-img-insert', type, 'public' );\n\t\t\t\t\t\t\tself.classes.scrollbar['sheetview-img-insert'].reset();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (!loadOverridden) {\n\t\t\t\t\t\tif ( $('#sheetview-img-insert li').length > 0 ) $('#sheetview-img-insert ul').empty();\n\t\t\t\t\t\t$('#album_select option.none').prop('selected', 'selected');\n\t\t\t\t\t\tself.observers.sheet_media_chosen.secondary('0');\n\t\t\t\t\t\tself.controllers.load_content( '.lib-content', url, '#sheetview-img-insert', type, 'public' );\n\t\t\t\t\t}\n\n\t\t\t\t\tloadOverridden = false;\n\n\t\t\t\t\tif (url === 'content') $('#album_select').hide();\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tif (firstRun && libUrl.indexOf('albums') >= 0) {\n\t\t\t\t\t\t\tfirstRun = false;\n\t\t\t\t\t\t\t$('#album_select')\n\t\t\t\t\t\t\t\t.find('option[value=\"' + libUrl + '\"]')\n\t\t\t\t\t\t\t\t.prop('selected', 'selected');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.sheets.shortcode_media.type.subscribe( function(val) {\n\t\t\tthis.observers.sheets.shortcode_media.loaded(false);\n\t\t}, this);\n\n\t\tthis.controllers.fetch_drafts();\n\n\t\tthis.observers.selection.subscribe(function(val) {\n\n\t\t\tif (val) {\n\n\t\t\t\tvar index = $('#entry-' + val).data('index'),\n\t\t\t\t\titem = this.observers.list()[index];\n\n\t\t\t\tthis.controllers.load_edit(item);\n\n\t\t\t} else if (this.observers.last_edit) {\n\n\t\t\t\tvar el = $('#entry-' + this.observers.last_edit);\n\t\t\t\t$('#edit-area').destroyEditor();\n\t\t\t\t$('#entry-edit').remove();\n\t\t\t\tself.observers.view('list');\n\t\t\t\tthis.events.close_sidebar_drawer();\n\n\t\t\t}\n\n\t\t\tthis.observers.last_edit = val;\n\t\t}, this);\n\n\t\tvar excerpt_timer;\n\t\tthis.observers.page_to_edit.excerpt.subscribe(function(val) {\n\t\t\tif ( this.observers.firstPageLoad() ) { this.observers.firstPageLoad(false); return false; }\n\t\t\tvar self = this;\n\t\t\tclearTimeout(excerpt_timer);\n\t\t\texcerpt_timer = window.setTimeout(function() {\n\t\t\t\tclearTimeout(excerpt_timer);\n\t\t\t\t$('#entries li[id=\"entry-' + self.observers.page_to_edit.id() + '\"] .entry-text .entry-p p').text(self.observers.truncate(val, 150));\n\t\t\t\t$.each( self.observers.list(), function(k,v) {\n\t\t\t\t\tif ( v.id === self.observers.page_to_edit.id() ) {\n\t\t\t\t\t\tself.observers.list()[k].excerpt = val;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.sync({\n\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tdata: 'excerpt=' + val,\n\t\t\t\t\tcontext: self\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t}, this);\n\n\t\tthis.observers.page_to_edit.draft_title.subscribe(function(val) {\n\t\t\tvar current = $('#entry-edit #entry-title h2');\n\t\t\tif (current.is(':visible') && current.text() !== val) {\n\t\t\t\t$('#entry-edit #entry-title h2').text(val);\n\t\t\t\tthis.observers.hasChanges(true);\n\t\t\t\tthis.controllers.start_autosave();\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.observers.state.subscribe(function(val) {\n\t\t\tthis.controllers.rewrite_hash({ name: 'state', val: val === 'draft' ? val : false });\n\t\t}, this);\n\n\t\tthis.observers.drawer.state.subscribe( function(val) {\n\t\t\tif ( val === 'closed' ) {\n\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t}\n\t\t}, this);\n\n\t\tvar\told_title = '';\n\n\t\t$(document)\n\t\t\t.off('.textedit')\n\t\t\t.on('keyup.textedit', '#edit-area', function(e) {\n\n\t\t\t\tvar scrollOffset = $(this).closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight - (parseInt($(this).closest('#entry-scroll').find('.scroll_track').height(), 10) + parseInt($(this).closest('#entry-scroll').find('.scroll_wrapper').scrollTop(), 10 ));\n\n\t\t\t\tif ( scrollOffset <= 100 && scrollOffset > 0 ) {\n\t\t\t\t\t$(this).closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollTop = $(this).closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight;\n\t\t\t\t}\n\n\t\t\t\tself.observers.hasChanges(true);\n\n\t\t\t\t$(this).find('p').each(function(i, p) {\n\t\t\t\t\tif ($.trim(p.textContent).length === 0 && $(p).html() === '<br>') {\n\t\t\t\t\t\t$(p).addClass('media-row').html('<br />');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(p).removeClass('media-row');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar sel = $('.entry-elem.selected');\n\n\t\t\t\tif (sel.length && e.keyCode === 13) {\n\t\t\t\t\tvar p = $('<p/>').addClass('media-row').html('<br />');\n\t\t\t\t\tsel.before(p);\n\t\t\t\t\twindow.Selection.setSelection(window, p.get(0));\n\t\t\t\t\tsel.removeClass('selected');\n\t\t\t\t}\n\n\t\t\t\tself.controllers.start_autosave();\n\t\t\t})\n\t\t\t.on('focus.textedit', '#entry-title h2', function(e) {\n\t\t\t\t// Save title in case user escapes while typing\n\t\t\t\told_title = $('#entry-title h2:first').text();\n\t\t\t})\n\t\t\t.on('paste.textedit', '#entry-title h2', function(e) {\n\t\t\t\tvar s = $(this);\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\ts.text( s.text() );\n\t\t\t\t});\n\t\t\t})\n\t\t\t.on('keyup.textedit keydown.textedit', '#entry-title h2:first', function(e) {\n\n\t\t\t\tvar tgt = $('#entry-title h2:first');\n\n\t\t\t\tif (e.type === 'keydown') {\n\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\t// ESC\n\t\t\t\t\t\ttgt.text( old_title );\n\t\t\t\t\t\ttgt.blur();\n\t\t\t\t\t} else if (e.keyCode === 13) {\n\t\t\t\t\t\t// RETURN\n\t\t\t\t\t\ttgt.blur();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.observers.page_to_edit.draft_title( tgt.text() );\n\t\t\t\t}\n\n\t\t\t\tif (e.keyCode !== 13 && e.keyCode !== 27) {\n\t\t\t\t\tself.observers.hasChanges(true);\n\t\t\t\t\tself.controllers.start_autosave();\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.on('dblclick.textedit', '#media-browse-content li', function(e) {\n\t\t\t\t$('button[data-event=\"insert_photo\"]').trigger('click');\n\t\t\t});\n\n\t\tthis.controllers.load_albums_full();\n\n\t},\n\n\tcontrollers: {\n\t\tsetup_custom_shortcode_sort: function() {\n\t\t\tvar self = this;\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\t$('.fields-data-sortable').sortable({\n\t\t\t\t\thandle: 'td:first-child',\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\tvar $el = $(this);\n\t\t\t\t\t\tvar key = $el.attr('data-field');\n\n\t\t\t\t\t\tvar newData = $.map($el.find('tr.fields-data-row'), function(tr) {\n\t\t\t\t\t\t\treturn [ko.dataFor(tr)];\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tvar shortData = self.observers.current_shortcode_data();\n\t\t\t\t\t\t$.each(shortData, function(i, field) {\n\t\t\t\t\t\t\tif (field.key === key) {\n\t\t\t\t\t\t\t\tfield.value = newData;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.observers.current_shortcode_data([]);\n\t\t\t\t\t\tself.observers.current_shortcode_data(shortData);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tfetch_drafts: function() {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/drafts/limit:5/order_by:modified_on',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.drafts( data.text );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tfeatured_from_oembed: function(obj) {\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/oembed_preview',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'url=' + encodeURIComponent(obj.endpoint + ( obj.endpoint.indexOf('?') === -1 ? '?' : '&' ) + 'url=' + obj.url),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (data.type !== 'photo' && (data.large_thumbnail_url || data.thumbnail_url)) {\n\t\t\t\t\t\tthis.events.save_feature(data.large_thumbnail_url || data.thumbnail_url);\n\t\t\t\t\t} else if (data.url) {\n\t\t\t\t\t\tthis.events.save_feature(data.url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tfeatured_order: function() {\n\t\t\tvar self = this;\n\t\t\t$('#entries').sortable({\n\t\t\t\tdistance: 10,\n\t\t\t\taxis: 'y',\n\t\t\t\thandle: '.move',\n\t\t\t\tcontainment: '#entry-list-all',\n\t\t\t\tupdate: function(a) {\n\t\t\t\t\tvar order = [],\n\t\t\t\t\t\tnote = self.notify().wait('Reordering featured essays');\n\t\t\t\t\t$('#entries li').each(function(i, el) {\n\t\t\t\t\t\torder.push($(el).data('id'));\n\t\t\t\t\t});\n\t\t\t\t\tself.sync({\n\t\t\t\t\t\trequest: 'text/featured/order:' + order.join(','),\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\tnote.success('Featured essay order updated');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tescape_code: function(str) {\n\t\t\treturn encodeURIComponent(str.replace(/\"/gm, '__quot__').replace(/</gm, '__lt__').replace(/>/gm, '__gt__').replace(/\\r?\\n\\r?/gm, '__n__').replace(/\\[/gm, '__lb__').replace(/\\]/gm, '__rb__').replace(/%/gm, '__perc__'));\n\t\t},\n\n\t\tunescape_code: function(str) {\n\t\t\treturn decodeURIComponent(str).replace(/(__quot__)/gm, '\"').replace(/(__lt__)/gm, '<').replace(/(__gt__)/gm, '>').replace(/(__n__)/gm, \"\\n\").replace(/(__lb__)/gm, \"[\").replace(/(__rb__)/gm, \"]\").replace(/(__perc__)/gm, '%');\n\t\t},\n\n\t\tstart_autosave: function() {\n\t\t\tclearTimeout(this.observers.autosave_timeout_id);\n\t\t\tvar self = this;\n\t\t\tthis.observers.autosave_text_id = this.observers.page_to_edit.id();\n\t\t\tthis.observers.autosave_timeout_id = setTimeout(function() {\n\t\t\t\tif (self.observers.autosave_text_id === self.observers.page_to_edit.id()) {\n\t\t\t\t\tself.events.save();\n\t\t\t\t}\n\t\t\t}, 7000);\n\t\t},\n\n\t\tend_autosave: function() {\n\t\t\tthis.observers.autosave_text_id = false;\n\t\t\tif (this.observers.autosave_timeout_id) {\n\t\t\t\tclearTimeout(this.observers.autosave_timeout_id);\n\t\t\t\tthis.observers.autosave_timeout_id = false;\n\t\t\t}\n\t\t},\n\n\t\tinit_copiers: function() {\n\n\t\t\tvar self = this;\n\n\t\t\t$('a.copier').each( function(i, a) {\n\t\t\t\t$(a).off().zclip({\n\t\t\t\t\tcopy: $(a).parent().parent().find('textarea').val(),\n\t\t\t\t\tpath: 'js/ZeroClipboard.swf',\n\t\t\t\t\tafterCopy: function() { self.notify().success('Link copied to clipboard'); }\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tmid_scroll_finish: function() {\n\t\t\tif (this.observers.next_page && !this.observers.is_loading) {\n\t\t\t\tthis.controllers.load_text();\n\t\t\t}\n\t\t},\n\n\t\tcreate_node: function(item, index) {\n\n\t\t\tvar klass\t= [],\n\t\t\t\tpub\t\t= ( item.published ) ? 'Published' : 'Draft',\n\t\t\t\tself\t= this,\n\t\t\t\torder\t= $.inArray(this.observers.order_by(), ['manual', 'title']) !== -1 ? 'published_on' : this.observers.order_by(),\n\t\t\t\tts\t\t= item[order].timestamp*1000;\n\n\t\t\tif (!item.published) {\n\t\t\t\tklass.push('draft');\n\t\t\t} else if (item.content !== item.draft && item.published) {\n\t\t\t\tklass.push('edited');\n\t\t\t}\n\n\t\t\tvar getCatsTopics = function(item,type) {\n\t\t\t\tif (item[type].count === 0) {\n\t\t\t\t\treturn '<span class=\"none\">- none -</span>';\n\t\t\t\t} else {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: item[type].url,\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tvar res = (type === 'categories') ? data.categories : data.albums,\n\t\t\t\t\t\t\t\tout = '';\n\t\t\t\t\t\t\tif (res.length) {\n\t\t\t\t\t\t\t\tres.forEach(function(_item) {\n\t\t\t\t\t\t\t\t\tout += _item.title + ', ';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tout = self.helpers.rtrim( out, ', ');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tout = '<span class=\"none\">- none -</span>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$('.' + type + '_' + item.id).html(out);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn 'Loading ...';\n\t\t\t\t}\n\t\t\t}.bind(this);\n\n\t\t\treturn '<li class=\"' + klass.join(' ') + '\" id=\"entry-' + item.id + '\" data-index=\"' + index + '\" data-id=\"' + item.id + '\">\\\n\t\t\t\t<span class=\"list-cell date\">\\\n\t\t\t\t\t<span class=\"day\">\\\n\t\t\t\t\t\t' + moment(ts).format('DD') + '\\\n\t\t\t\t\t</span>\\\n\t\t\t\t\t<span class=\"myd\">\\\n\t\t\t\t\t\t<span class=\"month-year\">\\\n\t\t\t\t\t\t\t' + moment(ts).format('MMM') + ' ' + moment(ts).format('YYYY') + '\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t<span class=\"day-name\">\\\n\t\t\t\t\t\t\t' + moment(ts).format('dddd') + '\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell title\" data-event=\"edit_page\">\\\n\t\t\t\t\t<span class=\"entry-text-h\">\\\n\t\t\t\t\t\t<h2>' + item.draft_title + '</h2>\\\n\t\t\t\t\t\t<span class=\"text-badge draft\">Draft</span>\\\n\t\t\t\t\t\t<span class=\"text-badge edited\">Edited</span>\\\n\t\t\t\t\t\t<span class=\"entry-date\">' + this.helpers.capitalize(order.replace('_', ' ')) + ' ' + moment(ts).format('MMMM DD YYYY') + ' at ' + moment(ts).format('h:mm a') + '</span>\\\n\t\t\t\t\t\t<span class=\"entry-p\">\\\n\t\t\t\t\t\t\t<p>' + this.observers.truncate(item.excerpt, 170) + '</p>\\\n\t\t\t\t\t\t</span>\\\n\t\t\t\t\t</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell cat\">\\\n\t\t\t\t\t<strong>Category</strong>\\\n\t\t\t\t\t<span class=\"categories_' + item.id + '\">' + getCatsTopics(item,'categories') + '</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell top\">\\\n\t\t\t\t\t<strong>Topic</strong>\\\n\t\t\t\t\t<span class=\"topics_' + item.id + '\">' + getCatsTopics(item,'topics') + '</span>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"list-cell bttns\">\\\n\t\t\t\t' + ( item.page_type === 'essay' && this.observers.api_url() === 'text/featured/render:0' ? '\\\n\t\t\t\t\t<a href=\"#\" class=\"text-bttn move\" title=\"Reorder\"></a>' : '') +\n\t\t\t\t\t(  item.page_type === 'essay' && item.published ? '<a href=\"#\" data-event=\"toggle_featured\" class=\"text-bttn feat' + ( item.featured ? ' active' : '' ) + '\" title=\"Feature this essay\"></a>' : '') +\n\t\t\t\t\t'<a href=\"#\" class=\"text-bttn del\" data-event=\"delete_from_list\" title=\"Delete\"></a>\\\n\t\t\t\t</span>\\\n\t\t\t</li>';\n\t\t},\n\n\t\tload_text: function(obj, restart) {\n\n\t\t\trestart = restart || false;\n\n\t\t\tthis.observers.is_loading = true;\n\n\t\t\tobj = obj || { load_until: false, cb: false };\n\t\t\tvar url = this.observers.api_url();\n\n\t\t\tif (this.observers.next_page && !restart) {\n\t\t\t\turl += '/page:' + this.observers.next_page;\n\t\t\t}\n\n\t\t\tthis.sync({\n\t\t\t\trequest: url,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\n\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\tthis.observers.loading(false);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar fragment = [],\n\t\t\t\t\t\tself = this;\n\n\t\t\t\t\tif (data.page === 1 && data.sort && this.observers.is_sortable()) {\n\t\t\t\t\t\tthis.observers.order_by(data.sort.by);\n\t\t\t\t\t\tthis.observers.order_direction(data.sort.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each( data.text, function(i, text) {\n\t\t\t\t\t\tfragment.push( self.controllers.create_node( text, i + (data.page - 1)*100 ) );\n\t\t\t\t\t});\n\n\t\t\t\t\tif (data.page === 1) {\n\t\t\t\t\t\tthis.observers.list( data.text );\n\t\t\t\t\t\tthis.observers.total( data.total );\n\t\t\t\t\t\tthis.observers.calendar_data = data.dates;\n\t\t\t\t\t\tvar years = [];\n\t\t\t\t\t\t$.each( data.dates, function(i, m) {\n\t\t\t\t\t\t\tvar months = $.map(m, function(count, month) {\n\t\t\t\t\t\t\t\treturn { month: month, count: count, year: i };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tyears.push({ year: i, months: months.reverse() });\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.observers.years(years.reverse());\n\t\t\t\t\t\tthis.observers.years.valueHasMutated();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.list( this.observers.list().concat(data.text) );\n\t\t\t\t\t}\n\n\t\t\t\t\trequestAnimationFrame(function() {\n\n\t\t\t\t\t\tif (data.page === 1) {\n\n\t\t\t\t\t\t\t$('#entries').html(fragment.join(''));\n\n\t\t\t\t\t\t\tself.observers.loading(false);\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#entries').append(fragment.join(''));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfragment = [];\n\n\t\t\t\t\t\tif (data.page < data.pages) {\n\t\t\t\t\t\t\tself.observers.next_page = data.page + 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.observers.next_page = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (obj.load_until) {\n\t\t\t\t\t\t\tvar ids = $.map( data.text, function(c) {\n\t\t\t\t\t\t\t\treturn c.id;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif ($.inArray( obj.load_until, ids) === -1) {\n\t\t\t\t\t\t\t\tif (self.observers.next_page) {\n\t\t\t\t\t\t\t\t\tself.controllers.load_text( obj );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.controllers.rewrite_hash('selection', false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof obj.cb === 'function') {\n\t\t\t\t\t\t\tobj.cb();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.is_loading = false;\n\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\trewrite_hash: function(arr) {\n\n\t\t\tif (!$.isArray(arr)) {\n\t\t\t\tarr = [ arr ];\n\t\t\t}\n\n\t\t\tvar frag = $.param.fragment();\n\n\t\t\t$.each(arr, function(i, obj) {\n\t\t\t\tvar replace = obj.replace || [ obj.name ];\n\n\t\t\t\tif ($.isArray(obj.val)) {\n\t\t\t\t\tobj.val = obj.val.join(',');\n\t\t\t\t}\n\n\t\t\t\t$.each( replace, function(i, str) {\n\t\t\t\t\tfrag = frag.replace(RegExp('\\/' + str + ':[^\\/]+'), '');\n\t\t\t\t});\n\n\t\t\t\tif (obj.name !== 'none' && obj.val) {\n\t\t\t\t\tfrag += '/' + obj.name + ':' + obj.val;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.bbq.pushState( frag, 2 );\n\t\t},\n\n\t\ttext_wrap: function(content) {\n\t\t\tvar self = this,\n\t\t\t\tshortcode_keys = Object.keys(this.observers.user_shortcodes()).concat(['koken_oembed', 'read_more']).join('|');\n\n\t\t\tcontent = content || '';\n\n\t\t\treturn content.replace(RegExp('\\\\[(' + shortcode_keys + ').*?\\\\]', 'g'), function(t) {\n\t\t\t\treturn self.controllers.shortcode_wrap(t);\n\t\t\t});\n\t\t},\n\n\t\tparse_shortcode: function(code) {\n\t\t\tif (code === '[read_more]') return { name: 'read_more', params: {} };\n\t\t\tvar matches = code.match(/\\[([a-z_]+)\\s(.*)\\]/),\n\t\t\t\tre = RegExp('([a-z_]+)=\"([^\"]+)?\"', 'g'),\n\t\t\t\tobj = {\n\t\t\t\t\tname: matches[1],\n\t\t\t\t\tparams: {}\n\t\t\t\t};\n\n\t\t\tif (matches[2]) {\n\t\t\t\twhile((m = re.exec(matches[2])) !== null) {\n\t\t\t\t\tobj.params[m[1]] = m[2] || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\n\t\tshortcode_wrap: function(params) {\n\n\t\t\tvar key,\n\t\t\t\tparam_arr = [];\n\n\t\t\tif (typeof params === 'string') {\n\t\t\t\tvar obj = this.parse_shortcode(params);\n\t\t\t\tparams = obj.params;\n\n\t\t\t\tif (obj.name === 'koken_oembed') {\n\t\t\t\t\tkey = 'koken_oembed';\n\t\t\t\t} else {\n\t\t\t\t\tkey = obj.name;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar plugin = this.observers.current_shortcode();\n\t\t\t\tkey = plugin.key;\n\t\t\t}\n\n\t\t\t$.each(params, function(key, val) {\n\t\t\t\tparam_arr.push(key + '=\"' + val + '\"');\n\t\t\t});\n\n\t\t\tif (key === 'read_more') {\n\t\t\t\tparams.label = params.label || 'Read more';\n\t\t\t}\n\n\t\t\tvar code = '[' + key + ' ' + param_arr.join(' ') + ']';\n\n\t\t\tvar icon = key === 'koken_oembed' ? this.observers.user_shortcodes_icons['koken_oembed_' + params.oembed] : this.observers.user_shortcodes_icons[key];\n\n\t\t\treturn '<div contenteditable=\"false\" unselectable=\"on\" class=\"entry-elem' + (key === 'read_more' ? ' read-more' : '') + '\">\\\n\t\t\t\t<span class=\"mod-links\">\\\n\t\t\t\t\t<ul>' + ((key === 'koken_oembed' && $.inArray(params.oembed, this.observers.user_oembed_thumbs) !== -1) || params.media_type && params.media_type === 'image' || params.filename ? '\\\n\t\t\t\t\t\t<li>\\\n\t\t\t\t\t\t\t<a href=\"#\" class=\"bttn feature\" title=\"Assign as featured image\" data-event=\"assign_feature\"></a> \\\n\t\t\t\t\t\t</li>' : '') + (key !== 'koken_oembed' ? '\\\n\t\t\t\t\t\t<li>\\\n\t\t\t\t\t\t\t<a href=\"#\" class=\"bttn edit\" title=\"Edit content\" data-event=\"edit_shortcode\"></a>\\\n\t\t\t\t\t\t</li>' : '') + '\\\n\t\t\t\t\t\t<li>\\\n\t\t\t\t\t\t\t<a href=\"#\" class=\"bttn remove\" title=\"Remove content\" data-event=\"remove_shortcode\"></a>\\\n\t\t\t\t\t\t</li>\\\n\t\t\t\t\t</ul>\\\n\t\t\t\t</span>\\\n\t\t\t\t<span class=\"icon\" style=\"background-image: url(' + icon + ')\"></span>\\\n\t\t\t\t<a href=\"#\" class=\"elem-title\">' + decodeURIComponent(params.label) + '</a>\\\n\t\t\t\t<a style=\"display:none\" class=\"raw-code\" href=\"#\">' + code + '</a>\\\n\t\t\t\t<div class=\"elem-preview\"></div>\\\n\t\t\t</div>';\n\n\t\t},\n\n\t\ttext_unwrap: function() {\n\n\t\t\tvar c = $('#edit-area').clone();\n\n\t\t\t// Unwrap shortcode formatting\n\t\t\tc.find('div[contenteditable=false]').each(function(i, div) {\n\t\t\t\t$(div).replaceWith( $(div).find('a.raw-code').text() );\n\t\t\t});\n\n\t\t\tc.find('p:empty').remove();\n\t\t\tc.find('p.media-row').remove();\n\n\t\t\t// Convert non-blanking spaces to actual spaces for save to database\n\t\t\tc = c.html().replace( '&nbsp;', ' ' );\n\n\t\t\treturn c;\n\n\t\t},\n\n\t\tload_edit: function(item) {\n\n\t\t\tif ($('#entry-edit').length) {\n\t\t\t\t$('#entry-edit').off().remove();\n\t\t\t}\n\n\t\t\titem = $.extend({}, item);\n\n\t\t\tvar is_new = item.draft === null;\n\n\t\t\tthis.controllers.end_autosave();\n\n\t\t\titem.draft = this.controllers.text_wrap(item.draft);\n\n\t\t\tthis.events._map_page_to_edit(item, true);\n\t\t\tthis.observers.page_to_edit.__loaded(true);\n\t\t\tthis.observers.sheets.create_text.wasCreated(false);\n\n\t\t\t$('#entry-edit-tmpl')\n\t\t\t\t.clone()\n\t\t\t\t.attr('id', 'entry-edit')\n\t\t\t\t.css({\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tmarginTop: 30\n\t\t\t\t})\n\t\t\t\t.appendTo($('#entry-list-all').parent().parent());\n\n\t\t\tthis.controllers.init_copiers();\n\t\t\tthis.observers.view('edit');\n\n\t\t\t$('#excerpt-text').focus(function() {\n\t\t\t\t$(this).parent().find('.field-links').show();\n\t\t\t}).blur(function() {\n\t\t\t\t$(this).parent().find('.field-links').hide();\n\t\t\t});\n\n\t\t\tvar _airButtons = ['formatting','|','bold','italic','|','unorderedlist','orderedlist','outdent','indent','|','klink'],\n\t\t\t\t_buttonsCustom = {},\n\t\t\t\tself = this,\n\t\t\t\tobs = this.observers;\n\n\t\t\tvar save_selection = function() {\n\t\t\t\tvar r = $('#edit-area').data('redactor'),\n\t\t\t\t\tp = r.getSelection();\n\n\t\t\t\tobs.to_replace = $(p.anchorNode);\n\t\t\t}\n\n\t\t\tvar media_sheet = function(t) {\n\t\t\t\tsave_selection();\n\t\t\t\tobs.load_content.selected.content([]);\n\t\t\t\tobs.sheets.shortcode_media.type(t);\n\t\t\t\tobs.sheets.shortcode_media.album(0);\n\t\t\t\tself.events.toggle_sheet('shortcode_media');\n\t\t\t};\n\n\t\t\tvar album_sheet = function() {\n\t\t\t\tsave_selection();\n\t\t\t\tobs.sheets.shortcode_collection.state.selected('');\n\t\t\t\tobs.sheets.shortcode_collection.state.selected_text('');\n\t\t\t\t$('#album_sheet_topic').attr('checked', false);\n\t\t\t\tself.events.toggle_sheet('shortcode_collection');\n\t\t\t};\n\n\t\t\tvar upload_sheet = function(o,e) {\n\t\t\t\tsave_selection();\n\t\t\t\tself.events.toggle_sheet('shortcode_upload');\n\t\t\t\tobs.sheets.shortcode_upload._reset();\n\t\t\t\tself.interfaces.app.controllers.text_upload.init.call(self.interfaces.text);\n\t\t\t\to.saveSelection();\n\t\t\t};\n\n\t\t\tvar custom_sheet = function(data) {\n\t\t\t\tsave_selection();\n\t\t\t\tobs.sheets.shortcode_custom.fields(data.fields);\n\t\t\t\tobs.sheets.shortcode_custom.data(data);\n\t\t\t\tself.events.toggle_sheet('shortcode_custom');\n\t\t\t};\n\n\t\t\t$.each( this.observers.user_shortcodes(), function(i,plugin) {\n\n\t\t\t\tif (plugin.essays_only && item.page_type !== 'essay') return;\n\t\t\t\tif (plugin.pages_only && item.page_type !== 'page') return;\n\n\t\t\t\tvar shortcode = 'kshortcode' + i,\n\t\t\t\t\tstyleEl = $('head').find('style'),\n\t\t\t\t\tstyleOut = '';\n\n\t\t\t\tplugin.key = i;\n\n\t\t\t\tstyleOut += 'body .redactor_air.media .redactor_toolbar li a.redactor_btn_' + shortcode + ' { display: block; background-image: url(' + plugin.icon + '); background-repeat: no-repeat !important; }';\n\t\t\t\tstyleOut += 'body .redactor_air .redactor_toolbar li a.redactor_btn_' + shortcode + ' { display: none; }';\n\n\t\t\t\tif ( styleEl.length <= 0 ) {\n\t\t\t\t\t$('<style/>').attr({\n\t\t\t\t\t\ttype: 'text/css'\n\t\t\t\t\t}).append(styleOut).appendTo('head');\n\t\t\t\t} else {\n\t\t\t\t\tstyleEl.append(styleOut);\n\t\t\t\t}\n\n\t\t\t\t_buttonsCustom[shortcode] = {\n\t\t\t\t\ttitle: plugin.title,\n\t\t\t\t\tcallback: function(o,e) {\n\t\t\t\t\t\tself.observers.to_replace = false;\n\t\t\t\t\t\tself.observers.current_shortcode(plugin);\n\n\t\t\t\t\t\tif ( plugin.media && $.inArray(plugin.media, [ 'video', 'photo', 'collection', 'upload' ]) !== -1) {\n\t\t\t\t\t\t\tif ( plugin.media === 'video' || plugin.media === 'photo' ) {\n\t\t\t\t\t\t\t\tmedia_sheet(plugin.media);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( plugin.media === 'collection' ) {\n\t\t\t\t\t\t\t\talbum_sheet();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( plugin.media === 'upload' ) {\n\t\t\t\t\t\t\t\tupload_sheet(o,e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (plugin.key === 'read_more') {\n\t\t\t\t\t\t\t$('.entry-elem.read-more').remove();\n\t\t\t\t\t\t\tself.events.insert_shortcode({ label: 'Read more'});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcustom_sheet(plugin.data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.observers.hasChanges(true);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t_airButtons.push(shortcode);\n\n\t\t\t});\n\n\t\t\t_buttonsCustom.klink = {\n\t\t\t\ttitle: 'Add link',\n\t\t\t\tcallback: function(obj, ev, key) {\n\t\t\t\t\tvar s = self.observers.sheets['insert_link'],\n\t\t\t\t\t\tp = obj.getSelection();\n\t\t\t\t\ts._reset();\n\t\t\t\t\tif (p && p.anchorNode && p.anchorNode.parentNode.tagName === 'A') {\n\t\t\t\t\t\tvar a = p.anchorNode.parentNode;\n\t\t\t\t\t\tif ($(a).attr('data-koken-album-id')) {\n\t\t\t\t\t\t\ts.state.type('internal');\n\t\t\t\t\t\t\ts.state.album(Number($(a).attr('data-koken-album-id')));\n\t\t\t\t\t\t\tif ($(a).attr('data-koken-lightbox')) {\n\t\t\t\t\t\t\t\ts.state.lightbox(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ts.state.album_type($(a).attr('data-koken-album-type') || 'standard');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.state.url( a.href.replace(/lightbox\\/?$/, '') );\n\t\t\t\t\t\tif (a.target === '_blank') {\n\t\t\t\t\t\t\ts.state.new_window(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.state.existing(true);\n\t\t\t\t\t\tself.observers.link.replace = a;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ts.state.existing(false);\n\t\t\t\t\t\tself.observers.link.replace = false;\n\t\t\t\t\t}\n\t\t\t\t\tobj.saveSelection();\n\t\t\t\t\tself.observers.link.redactor = obj;\n\t\t\t\t\tself.events.toggle_sheet('insert_link');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$('#edit-area')\n\t\t\t\t.redactor({\n\t\t\t\t\tcallback: function(obj) {\n\t\t\t\t\t\t$('#edit-area p:empty').remove();\n\t\t\t\t\t\tif (!$('#edit-area p').length) {\n\t\t\t\t\t\t\t$('#edit-area').append('<p class=\"media-row\"><br /></p>');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.events.shim_paragraph(obj);\n\t\t\t\t\t},\n\t\t\t\t\tobserveImages: false,\n\t\t\t\t\tfocus: true,\n\t\t\t\t\tair: true,\n\t\t\t\t\tconvertDivs: false,\n\t\t\t\t\tairButtons: _airButtons,\n\t\t\t\t\tbuttonsCustom: _buttonsCustom\n\t\t\t\t})\n\t\t\t\t.on('paste', function() {\n\t\t\t\t\trequestAnimationFrame(function() {\n\n\t\t\t\t\t\tvar scrollOffset = $('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight - (parseInt($('#edit-area').closest('#entry-scroll').find('.scroll_track').height(), 10) + parseInt($('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').scrollTop(), 10 ));\n\n\t\t\t\t\t\tif ( scrollOffset <= 100 && scrollOffset > 0 ) {\n\t\t\t\t\t\t\t$('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollTop = $('#edit-area').closest('#entry-scroll').find('.scroll_wrapper').get(0).scrollHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$.each($('p.media-row a'), function(i, row) {\n\t\t\t\t\t\t\tvar link = $(this).text();\n\t\t\t\t\t\t\t$(this).parent().text(link);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$.each(self.observers.user_oembeds(), function(key, info) {\n\t\t\t\t\t\t\tif (info.regex) {\n\n\t\t\t\t\t\t\t\tvar regex = RegExp('<p class=\"media-row\">(' + info.regex + ')(<br>)?</p>'),\n\t\t\t\t\t\t\t\t\tstr = $('#edit-area').html(),\n\t\t\t\t\t\t\t\t\tmatches;\n\n\t\t\t\t\t\t\t\tif ( regex.test(str) ) {\n\n\t\t\t\t\t\t\t\t\tmatches = str.match(regex);\n\t\t\t\t\t\t\t\t\tself.observers.current_shortcode($.extend(info, { key: 'koken_oembed' }));\n\t\t\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\t\t\toembed: key,\n\t\t\t\t\t\t\t\t\t\tlabel: info.title,\n\t\t\t\t\t\t\t\t\t\turl: matches[1].replace('<br>', ''),\n\t\t\t\t\t\t\t\t\t\tendpoint: info.endpoint\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tself.events.insert_shortcode(obj);\n\n\t\t\t\t\t\t\t\t\tif (!self.observers.page_to_edit.__featured_image() && info.has_thumbnail) {\n\t\t\t\t\t\t\t\t\t\tself.controllers.featured_from_oembed(obj);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Check for image URL paste\n\t\t\t\t\t\tvar html = $('#edit-area').html(),\n\t\t\t\t\t\t\timage_regex = RegExp('<p class=\"media-row\">(http://.*\\.(?:gif|jpe?g|png))(<br>)?</p>');\n\n\t\t\t\t\t\tif (image_regex.test(html)) {\n\t\t\t\t\t\t\tvar matches = html.match(image_regex);\n\t\t\t\t\t\t\tself.observers.current_shortcode({ key: 'koken_upload' });\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfilename: matches[1],\n\t\t\t\t\t\t\t\tlabel: matches[1].replace(/^https?:\\/\\//, '')\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tself.events.insert_shortcode(obj);\n\n\t\t\t\t\t\t\tif (!self.observers.page_to_edit.__featured_image()) {\n\t\t\t\t\t\t\t\tself.events.save_feature(obj.filename);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tvar self = this;\n\t\t\t$('#edit-area').off('.editor').on('keyup.editor', function() {\n\t\t\t\tself.events.update_editor();\n\t\t\t});\n\n\t\t\twindow.setTimeout(function() {\n\t\t\t\t$('#edit-area').data('redactor').air.hide();\n\t\t\t}, 50);\n\n\t\t\t$(window).trigger('resize');\n\n\t\t}\n\n\t},\n\n\tevents: {\n\n\t\tshortcode_remove_field: function(el) {\n\t\t\tvar shortData = this.observers.current_shortcode_data();\n\n\t\t\tvar key = el.attr('data-field');\n\n\t\t\t$.each(shortData, function(i, field) {\n\t\t\t\tif (field.key === key) {\n\t\t\t\t\tfield.value.splice(el.attr('data-index'), 1);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.current_shortcode_data([]);\n\t\t\tthis.observers.current_shortcode_data(shortData);\n\t\t},\n\n\t\tshortcode_add_field: function(el) {\n\t\t\tvar data = ko.dataFor(el.get(0));\n\n\t\t\tvar shortData = this.observers.current_shortcode_data();\n\n\t\t\tvar filler = [];\n\t\t\t$.each(data.setting.fields, function(i) {\n\t\t\t\tfiller.push('');\n\t\t\t});\n\n\t\t\t$.each(shortData, function(i, field) {\n\t\t\t\tif (field.key === data.setting.key) {\n\t\t\t\t\tfield.value.push(filler);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.observers.current_shortcode_data([]);\n\t\t\tthis.observers.current_shortcode_data(shortData);\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\t$(\".fields-data:text:visible:last\").focus();\n\t\t\t});\n\t\t},\n\n\t\tundo_draft: function() {\n\t\t\tvar content = this.observers.page_to_edit.content();\n\t\t\tthis.observers.page_to_edit.draft(content);\n\t\t\tthis.observers.page_to_edit.draft_title(this.observers.page_to_edit.title());\n\t\t\t$('#edit-area').html(this.controllers.text_wrap(content));\n\t\t\tvar n = this.notify().wait('Removing draft changes');\n\t\t\tthis.events.save(n);\n\t\t},\n\n\t\topen_in_site: function(ret) {\n\t\t\tret = ret === true;\n\t\t\tvar p = this.observers.page_to_edit,\n\t\t\t\turl = p.url();\n\n\t\t\tif (this.observers.hasChanges()) {\n\t\t\t\tthis.events.save($('<div/>').attr('data-action', 'preview'));\n\t\t\t} else {\n\t\t\t\tif (!p.published() || p.content() !== p.draft() || p.draft_title() !== p.title()) {\n\t\t\t\t\turl += (url.indexOf('?') === -1 ? '?' : '&') + 'preview_draft=' + p.internal_id();\n\t\t\t\t}\n\t\t\t\tif (ret) {\n\t\t\t\t\treturn url;\n\t\t\t\t}\n\t\t\t\twindow.open(url);\n\t\t\t}\n\t\t},\n\n\t\tdelete_from_list: function(el) {\n\t\t\tthis.observers.list_index_to_delete = el.parents('li').data('index');\n\t\t\tthis.classes.modal.delete_text.show();\n\t\t},\n\n\t\ttoggle_featured: function(el) {\n\t\t\tvar item = this.observers.list()[ el.parents('li').data('index') ];\n\t\t\t\tfeatured = !item.featured,\n\t\t\t\tn = this.notify().wait((featured ? 'Adding ' : 'Removing') + ' feature');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/featured/' + item.id,\n\t\t\t\tmethod: featured ? 'POST' : 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tvar copy = $.extend(true, {}, item);\n\t\t\t\t\tcopy.featured = featured;\n\t\t\t\t\tn.success( item.title + ' ' + ( featured ? 'added to' : 'removed from') + ' Featured essays' );\n\t\t\t\t\tif (this.observers.api_url().indexOf('text/featured') === 0) {\n\t\t\t\t\t\tthis.observers.next_page = false;\n\t\t\t\t\t\tthis.controllers.load_text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar el = $('#entry-' + copy.id);\n\t\t\t\t\t\tif (el.length) {\n\t\t\t\t\t\t\tel.replaceWith( this.controllers.create_node( copy, el.data('index') ));\n\t\t\t\t\t\t\tvar index = el.data('index');\n\t\t\t\t\t\t\tthis.observers.list.splice(index, 1, copy);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tupdate_editor: function() {\n\t\t\tif ( this.classes.editor && this.classes.editor.text ) {\n\t\t\t\tvar shortcode_keys = Object.keys(this.observers.user_shortcodes()).concat(['koken_oembed']).join('|'),\n\t\t\t\t\tval = this.controllers.text_unwrap().replace(RegExp('(\\\\[(' + shortcode_keys + ')[^\\\\]]+\\\\])', 'g'), \"\\n\\n$1\").replace(/(?:(?:\\r\\n|\\r|\\n)\\s*){2}/g, \"\\n\\n\").replace(/^\\n*/, ''),\n\t\t\t\t\t_editor = this.classes.editor.text.editorWindow;\n\n\t\t\t\tif (_editor) {\n\t\t\t\t\t_editor.setValue(val);\n\t\t\t\t\t_editor.getSession().setScrollTop(0);\n\t\t\t\t\t_editor.clearSelection();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttoggle_html: function(el,parent) {\n\n\t\t\tvar shortcode_keys = Object.keys(this.observers.user_shortcodes()).concat(['koken_oembed']).join('|'),\n\t\t\t\tval = this.controllers.text_unwrap().replace(RegExp('(\\\\[(' + shortcode_keys + ')[^\\\\]]+\\\\])', 'g'), \"\\n\\n$1\").replace(/(?:(?:\\r\\n|\\r|\\n)\\s*){2}/g, \"\\n\\n\").replace(/^\\n*/, ''),\n\t\t\t\tself = this;\n\n\t\t\tif (this.classes.editor && this.classes.editor.text && this.classes.editor.text.editorWindow) {\n\t\t\t\tthis.classes.editor.text.editorWindow.destroy();\n\t\t\t\tdelete this.classes.editor.text;\n\t\t\t}\n\n\t\t\tthis.events.toggle_editor();\n\n\t\t\t$('#container').find('.ui-sheet').each(function() {\n\t\t\t\tself.interfaces[self.interfaces.active.id].observers.sheets[$(this).attr('id')].active(false);\n\t\t\t});\n\n\t\t\tif (this.observers.editor_on()) {\n\t\t\t\tnew this.klass.editor('text', val, 'html-edit-area');\n\n\t\t\t\tvar _editor = this.classes.editor.text.editorWindow;\n\t\t\t\t_editor.getSession().setMode('ace/mode/html');\n\t\t\t\t_editor.getSession().setUseWrapMode(true);\n\t\t\t\t_editor.getSession().setWrapLimitRange(null,100);\n\n\t\t\t\t$('#html-edit-area').off('.editor').on('keyup.editor', function() {\n\t\t\t\t\tself.controllers.start_autosave();\n\t\t\t\t\tself.observers.page_to_edit.draft(self.classes.editor.text.editorWindow.getValue());\n\t\t\t\t\t$('#edit-area').html(self.controllers.text_wrap(self.classes.editor.text.editorWindow.getValue()));\n\t\t\t\t\tself.observers.hasChanges(true);\n\t\t\t\t});\n\n\t\t\t\t_editor.resize();\n\t\t\t\t_editor.focus();\n\t\t\t\t_editor.clearSelection();\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t_editor.gotoLine(1);\n\t\t\t\t});\n\n\t\t\t\t$('#docked_editor [data-event=\"leave_edit\"]').hide();\n\t\t\t} else {\n\t\t\t\t$('#edit-area').off('.editor')\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_editor: function() {\n\t\t\tthis.observers.editor_on(!this.observers.editor_on());\n\t\t\tif (this.observers.editor_on()) {\n\t\t\t\t$('a[data-event=\"toggle_html\"]').addClass('selected');\n\t\t\t\t$('#docked_editor').show();\n\t\t\t\t$('#entry-edit-area').addClass('docked');\n\t\t\t\tif (this.observers.text_edit_full()) {\n\t\t\t\t\tthis.events.toggle_editor_view();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('a[data-event=\"toggle_html\"]').removeClass('selected');\n\t\t\t\t$('#docked_editor').hide();\n\t\t\t\t$('#entry-edit-area').removeClass('docked');\n\t\t\t\tif ($('#entry-edit-area').css('display') === 'none') {\n\t\t\t\t\tthis.events.toggle_editor_view();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttoggle_editor_view: function(el,parent) {\n\n\t\t\tif ($('#entry-edit-area').css('display') !== 'none') {\n\t\t\t\tparent && parent.find('.bicon_sm').removeClass('dock_up').addClass('dock_down');\n\t\t\t\t$('#entry-edit-area').hide();\n\t\t\t\t$('#docked_editor').height('100%');\n\t\t\t\t$('#entry-list-bar').hide();\n\t\t\t\t$('#entry-edit').css('margin-top','0px');\n\t\t\t\t$('#docked_editor [data-event=\"leave_edit\"]').show();\n\t\t\t\t$('#html-edit-area').height('100%');\n\t\t\t\tthis.classes.editor.text.editorWindow && this.classes.editor.text.editorWindow.resize();\n\t\t\t} else {\n\t\t\t\tparent && parent.find('.bicon_sm').removeClass('dock_down').addClass('dock_up');\n\t\t\t\t$('#entry-edit-area').show();\n\t\t\t\t$('#docked_editor').height('30%');\n\t\t\t\t$('#entry-list-bar').show();\n\t\t\t\t$('#entry-edit').css('margin-top','30px');\n\t\t\t\t$('#docked_editor [data-event=\"leave_edit\"]').hide();\n\t\t\t\t$('#html-edit-area').height('');\n\t\t\t\tthis.classes.editor.text.editorWindow && this.classes.editor.text.editorWindow.resize();\n\t\t\t}\n\n\t\t\tif (el) {\n\t\t\t\tthis.observers.text_edit_full(!this.observers.text_edit_full());\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_editor_theme: function() {\n\t\t\tvar editor = this.classes.editor.text.editorWindow,\n\t\t\t\tkokentheme = 'ace/theme/koken',\n\t\t\t\tkokenlighttheme = 'ace/theme/kokenlight';\n\n\t\t\t$('style#ace-tm,style#ace-koken').remove();\n\n\t\t\tif ( editor.getTheme() === kokentheme ) {\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokenlighttheme + '\"' );\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#fff');\n\t\t\t\teditor.setTheme(kokenlighttheme);\n\t\t\t} else {\n\t\t\t\tthis.cookie( 'editor:theme', '\"' + kokentheme + '\"' );\n\t\t\t\t$('.ace_scrollbar').css('background', '');\n\t\t\t\t$('.ace_scrollbar').css('background', '#141414');\n\t\t\t\teditor.setTheme(kokentheme);\n\t\t\t}\n\n\t\t\teditor.focus();\n\t\t},\n\n\t\ttoggle_theme: function() {\n\t\t\tif ( this.observers.theme() != 1 ) {\n\t\t\t\tthis.observers.theme(1);\n\t\t\t} else {\n\t\t\t\tthis.observers.theme(0);\n\t\t\t}\n\t\t\tif (this.observers.editor_on()){\n\t\t\t\t$('#docked_editor').show();\n\t\t\t\t$('#entry-edit-area').addClass('docked');\n\t\t\t} else {\n\t\t\t\t$('#docked_editor').hide();\n\t\t\t\t$('#entry-edit-area').removeClass('docked');\n\t\t\t\tif ($('#entry-edit-area').css('display') === 'none') {\n\t\t\t\t\tthis.events.toggle_editor_view();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdelete_text: function() {\n\n\t\t\tvar view = this.observers.view(),\n\t\t\t\titem = view === 'list' ? this.observers.list()[ this.observers.list_index_to_delete ] : this.observers.page_to_edit,\n\t\t\t\tid = view === 'list' ? item.id : item.id(),\n\t\t\t\ttitle = view === 'list' ? item.title : item.title();\n\n\t\t\tvar note = this.notify().wait('Deleting ' + title);\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + id,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function() {\n\t\t\t\t\tif (view === 'list') {\n\t\t\t\t\t\tthis.observers.next_page = false;\n\t\t\t\t\t\tthis.controllers.load_text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.observers.api_url('');\n\t\t\t\t\t\t$.bbq.pushState( '/text/type:' + this.observers.type(), 2 );\n\t\t\t\t\t}\n\t\t\t\t\tnote.success( title + ' has been deleted' );\n\t\t\t\t\tthis.controllers.fetch_drafts();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tbrowser_valid: function(el,parent) {\n\t\t\tparent.closest('.sheet-wrap').find('input').trigger('keyup');\n\t\t},\n\n\t\tnav: function(el,parent) {\n\n\t\t\tel = el.closest('li').find('.icon16');\n\n\t\t\tif ( el.hasClass('label-drafts') ) {\n\t\t\t\tthis.observers.state('draft');\n\t\t\t}\n\n\t\t\tif ( el.hasClass('label-essays') ) {\n\t\t\t\tthis.observers.state('');\n\t\t\t}\n\n\t\t\tif ( el.hasClass('label-pages') ) {\n\t\t\t\tthis.observers.state('pages');\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_expand: function(el,parent) {\n\n\t\t\tthis.observers.expand( ! this.observers.expand() );\n\t\t\t$('#app').toggleClass('text-expand');\n\n\t\t},\n\n\t\ttoggle_grid: function(el,parent) {\n\n\t\t\tthis.observers.grid( el.closest('li').attr('class') );\n\t\t\tthis.cookie( 'text:view', el.closest('li').attr('class') );\n\n\t\t},\n\n\t\ttoggle_topic: function(el) {\n\t\t\tvar\tdata = ko.dataFor(el[0]),\n\t\t\t\tis_topic = this.observers.is_topic(data.id),\n\t\t\t\tnote;\n\n\t\t\tnote = this.notify().wait( (is_topic) ? 'Removing topic' : 'Adding topic' );\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/topics/' + data.id,\n\t\t\t\tmethod: is_topic ? 'DELETE' : 'POST',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(d) {\n\t\t\t\t\tnote.success( (is_topic) ? data.title + ' removed as topic' : data.title + ' added as topic' );\n\t\t\t\t\tthis.events._map_page_to_edit(d);\n\t\t\t\t\tthis.observers.get_selected_topics();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!is_topic && data.covers.length && !this.observers.page_to_edit.__featured_image()) {\n\t\t\t\tthis.events.save_feature(data.covers[0].id);\n\t\t\t}\n\t\t},\n\n\t\tcreate_text: function() {\n\n\t\t\tvar ob = this.observers.sheets.create_text;\n\n\t\t\t$('li[data-event=\"create_text\"] button').addClass('disabled');\n\n\t\t\tif ( ob.title().trim().length <= 0 ) {\n\t\t\t\tthis.notify().warn('Title field cannot be left blank');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar n = this.notify().wait('Creating \"' + ob.title() + '\"');\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: 'title=' + encodeURIComponent(ob.title()) + '&page_type=' + ob.type(),\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.sheets.create_text.wasCreated(true);\n\t\t\t\t\tn.success('\"' + ob.title() + '\" added');\n\t\t\t\t\tob.title('');\n\t\t\t\t\tob.type('essay');\n\t\t\t\t\tob.active(false);\n\t\t\t\t\tthis.observers.api_url('');\n\t\t\t\t\t$.bbq.pushState('/text/' + (data.page_type === 'page' ? 'type:page' : 'drafts') + '/selection:' + data.id, 2);\n\t\t\t\t\t$(window).off('keyup.sheet');\n\t\t\t\t\tthis.controllers.fetch_drafts();\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\tarrow_toggle: function(el,parent) {\n\n\t\t\tvar nav\t\t= parent.closest('.lib-nav'),\n\t\t\t\topen\t= [],\n\t\t\t\tnarr\t= '';\n\n\t\t\tparent.parent().find('ol').toggle();\n\t\t\tparent.toggleClass('open');\n\t\t\tnav.find('li[data-event=\"sort_year\"] a.open').each(function() {\n\t\t\t\topen.push($(this).next().text().trim());\n\t\t\t});\n\t\t\tnarr = open.join(',');\n\t\t\tthis.cookie( 'text:nav', narr );\n\t\t\t$.each(open,function(k,v) {\n\t\t\t\topen[k] = parseInt(v,10);\n\t\t\t});\n\t\t\tthis.observers.open_year(open);\n\n\t\t},\n\n\t\tclear_filters: function(el) {\n\t\t\t$('#entry-list-filter').hide();\n\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t{ name: 'year', val: false },\n\t\t\t\t{ name: 'state', val: false }\n\t\t\t]);\n\t\t},\n\n\t\tsort_year: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t\t{ name: 'year', val: false }\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t\t{ name: 'year', val: data.year }\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\n\t\tsort_month: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]),\n\t\t\t\tp = el.parent();\n\n\t\t\tif (parent.hasClass('selected')) {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'month', val: false },\n\t\t\t\t\t{ name: 'year', val: false }\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tthis.controllers.rewrite_hash([\n\t\t\t\t\t{ name: 'selection', val: false },\n\t\t\t\t\t{ name: 'month', val: data.month },\n\t\t\t\t\t{ name: 'year', val: data.year }\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\n\t\tleave_edit: function(canLeave) {\n\n\t\t\tvar self = this;\n\n\t\t\tvar leave = function() {\n\n\t\t\t\tself.controllers.end_autosave();\n\n\t\t\t\tif (!self.observers.sheets.create_text.wasCreated()) {\n\t\t\t\t\tself.controllers.rewrite_hash({ name: 'selection', val: false });\n\t\t\t\t}\n\n\t\t\t\tif ( self.observers.expand() ) {\n\t\t\t\t\tself.events.toggle_expand();\n\t\t\t\t}\n\n\t\t\t\tself.events.close_sidebar_drawer();\n\t\t\t\tself.observers.hasChanges(false);\n\n\t\t\t};\n\n\t\t\tif ( canLeave === true ) { leave(); return; }\n\n\t\t\tif ( ! this.observers.hasChanges() ) {\n\t\t\t\tleave();\n\t\t\t} else {\n\t\t\t\tthis.classes.modal.unsaved_changes.show();\n\t\t\t}\n\n\t\t\t$('#entry-list-bar').show();\n\t\t},\n\n\t\tedit_shortcode_media: function() {\n\t\t\tthis.events.toggle_sheet('shortcode_edit');\n\n\t\t\tswitch(this.observers.current_shortcode().media) {\n\t\t\t\tcase 'photo':\n\t\t\t\tcase 'video':\n\t\t\t\t\tthis.observers.sheets.shortcode_media.type(this.observers.current_shortcode().media);\n\t\t\t\t\tthis.events.toggle_sheet('shortcode_media');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'upload':\n\t\t\t\t\tthis.events.toggle_sheet('shortcode_upload');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'collection':\n\t\t\t\t\tthis.events.toggle_sheet('shortcode_collection');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\tedit_shortcode: function(el, parent) {\n\t\t\tvar wrap = el.parents('div[contenteditable=false]'),\n\t\t\t\tcode = wrap.find('.raw-code').text(),\n\t\t\t\tobj = this.controllers.parse_shortcode(code),\n\t\t\t\tself = this,\n\t\t\t\tplugin;\n\n\t\t\tthis.observers.to_replace = wrap;\n\n\t\t\tif (obj.name === 'koken_oembed') {\n\n\t\t\t} else {\n\t\t\t\t$.each(this.observers.user_shortcodes(), function(key, info) {\n\t\t\t\t\tif (key === obj.name) {\n\t\t\t\t\t\tif (info.title_alt) {\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t$('.sheet-title').text(info.title_alt);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (info.description_alt) {\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\t$('.sheet-desc').text(info.description_alt);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplugin = $.extend(true, {}, info);\n\t\t\t\t\t\tself.observers.current_shortcode(plugin);\n\t\t\t\t\t\tself.observers.current_shortcode.valueHasMutated();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (plugin.media) {\n\t\t\t\t\tswitch(plugin.media) {\n\t\t\t\t\t\tcase 'collection':\n\t\t\t\t\t\t\t$('#shortcode_option_link_to').find('option[value=\"album\"]').remove();\n\t\t\t\t\t\t\tif (obj.params.album) {\n\t\t\t\t\t\t\t\tvar value = '';\n\t\t\t\t\t\t\t\t$.each(this.observers.current_shortcode_data(), function(i, info) {\n\t\t\t\t\t\t\t\t\tif (info.key === 'link_to') {\n\t\t\t\t\t\t\t\t\t\tvalue = info.value;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$('#shortcode_option_link_to').append(\n\t\t\t\t\t\t\t\t\t$('<option/>').attr({\n\t\t\t\t\t\t\t\t\t\t\tvalue: 'album'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.text('Load album page')\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t$('#shortcode_option_link_to').find('option[value=\"false\"]:first-child').attr('value', 'default');\n\t\t\t\t\t\t\t\t$('#shortcode_option_link_to').val(value || 'default');\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected('album-' + obj.params.album);\n\t\t\t\t\t\t\t\tvar a = ko.utils.arrayFirst( self.observers.albums_flat(), function(item) {\n\t\t\t\t\t\t\t\t\treturn item.id == obj.params.album;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected_text(a.title);\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected(a.title);\n\t\t\t\t\t\t\t} else if (obj.params.content) {\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected(obj.params.content.split(','));\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_collection.state.selected_text('Mixed content');\n\t\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected('Mixed content');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'upload':\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_upload.filename(obj.params.filename);\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected(obj.params.filename);\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_upload.state('ready');\n\t\t\t\t\t\t\tself.interfaces.app.controllers.text_upload.init.call(self.interfaces.text);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'photo':\n\t\t\t\t\t\tcase 'video':\n\t\t\t\t\t\t\tself.observers.load_content.selected.content([ Number(obj.params.id) ]);\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.selected(obj.params.label);\n\n\t\t\t\t\t\t\tvar album = obj.params.link === 'album';\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.link(obj.params.link || 'none');\n\t\t\t\t\t\t\tself.observers.sheets.shortcode_edit.albums([]);\n\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.album(obj.params.album || 0);\n\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.custom_url(obj.params.custom_url || '');\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'content/' + obj.params.id + '/albums',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.albums(data.albums);\n\t\t\t\t\t\t\t\t\tif (album) {\n\t\t\t\t\t\t\t\t\t\tthis.observers.sheets.shortcode_edit.link('album');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (plugin.data) {\n\t\t\t\t\tself.events.toggle_sheet('shortcode_edit');\n\t\t\t\t} else if (plugin.media) {\n\t\t\t\t\tself.events.toggle_sheet('shortcode_' + plugin.media);\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t},\n\n\t\tremove_shortcode: function(el) {\n\t\t\tel.parents('div[contenteditable=false]').remove();\n\t\t\tvar clean = this.controllers.text_unwrap();\n\t\t\t$('#edit-area').html( this.controllers.text_wrap( clean ) );\n\t\t\tthis.events.shim_paragraph();\n\t\t\tthis.observers.hasChanges(true);\n\t\t},\n\n\t\tsave: function(el, parent, e, unpublish) {\n\n\t\t\tthis.controllers.end_autosave();\n\n\t\t\tvar c = encodeURIComponent(this.controllers.text_unwrap()),\n\t\t\t\tt = $('#entry-edit #entry-title h2').text(),\n\t\t\t\tself = this,\n\t\t\t\tindex,\n\t\t\t\tpublish = false,\n\t\t\t\tpreview = false,\n\t\t\t\tupdate = false,\n\t\t\t\tauto = !el,\n\t\t\t\trevert = el && el.warn,\n\t\t\t\tnotify;\n\n\t\t\tunpublish = unpublish || false;\n\n\t\t\tif (!unpublish && !auto && !revert) {\n\t\t\t\t// Using el.data() here seems to get cached and lead to inconsistent notifications\n\t\t\t\tpublish = el.attr('data-action') && el.attr('data-action') === 'publish',\n\t\t\t\tupdate = el.attr('data-action') && el.attr('data-action') === 'update',\n\t\t\t\tpreview = el.attr('data-action') && el.attr('data-action') === 'preview',\n\t\t\t\tunpublish = el.attr('data-action') && el.attr('data-action') === 'unpublish';\n\n\t\t\t\tif (unpublish) {\n\t\t\t\t\tthis.classes.modal.unpublish_essay.show();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (publish && el.data('publish') != 'true') {\n\t\t\t\tthis.classes.modal.text_live.show();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (auto) {\n\t\t\t\tthis.observers.is_autosaving(true);\n\t\t\t} else if (revert) {\n\t\t\t\tnotify = el;\n\t\t\t} else if (el.data && el.data('publish')) {\n\t\t\t\tel.data('publish','false');\n\t\t\t}\n\n\t\t\tif (!auto && !revert) {\n\t\t\t\tnotify = this.notify().wait(publish || update ? 'Publishing' : 'Saving');\n\t\t\t}\n\n\t\t\tif (unpublish) {\n\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t}\n\n\t\t\tthis.observers.hasChanges(false);\n\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/render:0',\n\t\t\t\tdata: (publish || update ? 'content' : 'draft') + '=' + c + '&' + (publish || update ? 'title' : 'draft_title')  + '=' + encodeURIComponent(t) + ( publish ? '&published=1' : '' ) + ( unpublish ? '&unpublish=1' : '' ),\n\t\t\t\tcontext: this,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tif (!auto) {\n\t\t\t\t\t\tif (revert) {\n\t\t\t\t\t\t\tnotify.success('Draft changes removed');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( publish || update ) {\n\t\t\t\t\t\t\t\tnotify.success('\"' + data.title + '\" has been published');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnotify.success('\"' + data.draft_title + '\" has been saved' + ( unpublish ? ' as a draft' : '' ));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.is_autosaving(false);\n\t\t\t\t\tif (preview) {\n\t\t\t\t\t\tlocation.href = this.events.open_in_site(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.observers.firstPageLoad(true);\n\t\t\t\t\tthis.events._map_page_to_edit(data);\n\t\t\t\t\tif (publish || unpublish) {\n\t\t\t\t\t\tthis.controllers.fetch_drafts();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_map_page_to_edit: function(data, silent) {\n\n\t\t\tsilent = silent || false;\n\n\t\t\tif (silent || (this.observers.page_to_edit.id && data.id === this.observers.page_to_edit.id())) {\n\n\t\t\t\tthis.map( this.observers.page_to_edit, data );\n\n\t\t\t\tif (\n\t\t\t\t\t!data.featured_image ||\n\t\t\t\t\t!this.observers.page_to_edit.__featured_image().presets || data.featured_image.presets.medium.url !== this.observers.page_to_edit.__featured_image().presets.medium.url\n\t\t\t\t) {\n\t\t\t\t\tthis.observers.page_to_edit.__featured_image(data.featured_image);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!silent) {\n\t\t\t\tvar el = $('#entry-' + data.id);\n\t\t\t\tif (el.length) {\n\t\t\t\t\tvar index = el.data('index');\n\t\t\t\t\tel.replaceWith( this.controllers.create_node( data, index ) );\n\t\t\t\t\tthis.observers.list.splice(index, 1, data);\n\t\t\t\t}\n\n\t\t\t\tif (this.observers.drafts().length) {\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tdraft = ko.utils.arrayFirst( this.observers.drafts(), function(item) {\n\t\t\t\t\t\t\treturn item.id === self.observers.page_to_edit.id();\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (draft) {\n\t\t\t\t\t\tvar dindex = ko.utils.arrayIndexOf( this.observers.drafts(), draft );\n\t\t\t\t\t\tthis.observers.drafts.splice(dindex, 1, data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\ttoggle_internal_link: function(el, parent) {\n\t\t\tvar data = ko.dataFor(el[0]);\n\t\t\tthis.observers.sheets.insert_link.state.album(data.id);\n\t\t\tthis.observers.sheets.insert_link.state.album_type(data.album_type);\n\t\t\tthis.observers.sheets.insert_link.state.url(data.url);\n\t\t\tthis.observers.valid(true);\n\t\t},\n\n\t\tinsert_collection: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.shortcode_collection.state,\n\t\t\t\tsel = o.selected(),\n\t\t\t\tparams = {};\n\n\t\t\tif (typeof sel === 'string' && (matches = sel.match(/album-(\\d+)/))) {\n\t\t\t\tparams.album = matches[1];\n\t\t\t\tparams.label = o.selected_text();\n\n\t\t\t\tif ($('#album_sheet_topic').is(':checked')) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/topics/' + matches[1],\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.events._map_page_to_edit(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (typeof sel === 'string') {\n\t\t\t\tparams.content = this.observers.sheets.shortcode_collection[sel]().join(',');\n\t\t\t\tparams.label = 'Mixed content';\n\t\t\t} else {\n\t\t\t\tparams.label = 'Mixed content';\n\t\t\t\tparams.content = sel.join(',');\n\t\t\t}\n\n\t\t\tif (this.observers.sheets.shortcode_collection[sel] && this.observers.sheets.shortcode_collection[sel]().length <= 1 && (sel === 'favorites' || sel === 'quick_collection' || sel === 'last_upload')) {\n\t\t\t\tthis.notify().warn('You need to have 2 or more images in ' + sel.replace('_', ' ') + ' to insert this slideshow');\n\t\t\t} else {\n\t\t\t\tthis.events.insert_shortcode(params);\n\t\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\t\tif (!this.observers.page_to_edit.__featured_image()) {\n\t\t\t\t\tif (params.album) {\n\t\t\t\t\t\tthis.sync({\n\t\t\t\t\t\t\trequest: 'albums/' + params.album,\n\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tif (data.covers.length) {\n\t\t\t\t\t\t\t\t\tthis.events.save_feature( data.covers[0].id );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.events.save_feature( this.observers.sheets.shortcode_collection[sel]()[0] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\tinsert_custom: function(el, parent) {\n\t\t\tvar params = {\n\t\t\t\tlabel: this.observers.current_shortcode().media_row_label || 'Code'\n\t\t\t},\n\t\t\t\tself = this;\n\n\t\t\t$('.shortcode-settings input, .shortcode-settings select, .shortcode-settings textarea').not('.fields-data').each(function() {\n\t\t\t\tvar $el = $(this),\n\t\t\t\t\tval = self.controllers.escape_code($el.val());\n\n\t\t\t\tparams[$el.attr('name')] = val;\n\t\t\t});\n\n\t\t\t$.each(this.observers.current_shortcode_data(), function(i, field) {\n\t\t\t\tif (/^(fields_array|recaptcha)$/.test(field.type)) {\n\t\t\t\t\tparams[field.key] = self.controllers.escape_code(JSON.stringify(field.value));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.events.insert_shortcode(params);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\t\t},\n\n\t\tinsert_shortcode: function(params) {\n\n\t\t\tvar replace = this.observers.to_replace,\n\t\t\t\tshortcode = this.controllers.shortcode_wrap(params),\n\t\t\t\tr = $('#edit-area').data('redactor');\n\n\t\t\tif (!replace) {\n\t\t\t\tvar p = r.getSelection();\n\t\t\t\treplace = $(p.anchorNode);\n\t\t\t}\n\n\t\t\tif ( shortcode ) {\n\t\t\t\treplace.replaceWith($(shortcode));\n\t\t\t}\n\n\t\t\tthis.observers.to_replace = false;\n\n\t\t\t$('div.entry-elem').each(function(i, div) {\n\t\t\t\t$(div).attr('contenteditable', false).siblings('br').remove();\n\t\t\t\tif ($(div).parent().get(0).nodeName.toLowerCase() === 'p') {\n\t\t\t\t\t$(div).unwrap();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.events.shim_paragraph();\n\t\t\tthis.observers.hasChanges(true);\n\t\t\tthis.events.update_editor();\n\t\t\tthis.controllers.start_autosave();\n\t\t},\n\n\t\tshim_paragraph: function(r) {\n\t\t\tr = r || $('#edit-area').data('redactor');\n\t\t\tr.air.hide();\n\t\t\tvar last = $('#edit-area').children().last();\n\t\t\tif (!last.length || last.get(0).tagName !== 'P') {\n\t\t\t\tvar empty = $('<p class=\"media-row\"></p>').html('<br />');\n\t\t\t\tempty.appendTo('#edit-area');\n\t\t\t}\n\t\t\tr.setFocusNode($('#edit-area p:last')[0]);\n\t\t},\n\n\t\tupdate_shortcode: function(el, parent) {\n\t\t\tvar code = this.observers.to_replace.find('.raw-code').text(),\n\t\t\t\tobj = this.controllers.parse_shortcode(code),\n\t\t\t\tself = this;\n\n\t\t\t$('.shortcode-settings input:visible, .shortcode-settings select:visible, .shortcode-settings textarea:visible').not('.fields-data').each(function() {\n\t\t\t\tvar $el = $(this),\n\t\t\t\t\tval = self.controllers.escape_code($el.val());\n\n\t\t\t\tif ($el.attr('type') === 'checkbox') {\n\t\t\t\t\tval = $el.is(':checked') ? 'true' : 'false';\n\t\t\t\t}\n\n\t\t\t\tobj.params[$el.attr('name')] = val;\n\t\t\t});\n\n\t\t\t$.each(this.observers.current_shortcode_data(), function(i, field) {\n\t\t\t\tif (/^(fields_array|recaptcha)$/.test(field.type)) {\n\t\t\t\t\tobj.params[field.key] = self.controllers.escape_code(JSON.stringify(field.value));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.events.insert_shortcode(obj.params);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t},\n\n\t\tinsert_upload: function(el, parent) {\n\t\t\tvar o = this.observers.sheets.shortcode_upload,\n\t\t\t\tparams = {\n\t\t\t\t\tfilename: o.filename(),\n\t\t\t\t\tlabel: o.filename()\n\t\t\t\t};\n\n\n\t\t\tif (!this.observers.to_replace) {\n\t\t\t\t$('#edit-area').data('redactor').restoreSelection();\n\t\t\t}\n\n\t\t\tthis.events.insert_shortcode(params);\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tif (!this.observers.page_to_edit.__featured_image()) {\n\t\t\t\tthis.events.save_feature(o.filename());\n\t\t\t}\n\t\t},\n\n\t\tinsert_media: function(el, parent) {\n\n\t\t\tvar self = this,\n\t\t\t\tcurrRow = $('p.media-row');\n\n\t\t\t$.each(this.observers.load_content.selected.content(), function(i) {\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tcurrRow.after($('<p class=\"media-row\" />'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.each(this.observers.load_content.selected.content(), function(i, id) {\n\n\t\t\t\tvar media = ko.utils.arrayFirst( self.observers.load_content.content(), function(item) {\n\t\t\t\t\t\treturn item.id === id;\n\t\t\t\t\t}),\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tlabel: media.filename,\n\t\t\t\t\t\tid: media.id,\n\t\t\t\t\t\tmedia_type: media.file_type\n\t\t\t\t\t};\n\n\t\t\t\tif (media.filename === 'Vimeo') {\n\t\t\t\t\tparams.label = (media.title.length <= 0) ? 'Vimeo video' : media.title;\n\t\t\t\t}\n\n\t\t\t\tif (media.filename === 'Instagram') {\n\t\t\t\t\tparams.label = (media.title.length <= 0) ? 'Instagram photo' : media.title;\n\t\t\t\t}\n\n\t\t\t\tif (self.observers.sheets.shortcode_media.selected.view() === 'public_albums') {\n\t\t\t\t\tparams.link = 'album';\n\t\t\t\t\tparams.album = $('#album_select').val().match(/\\/albums\\/(\\d+)/)[1];\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tif (!self.observers.to_replace) {\n\t\t\t\t\t\tself.observers.to_replace = $($('p.media-row').get(0));\n\t\t\t\t\t}\n\t\t\t\t\tself.events.insert_shortcode(params);\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\tif (!this.observers.page_to_edit.__featured_image()) {\n\t\t\t\tthis.events.save_feature(this.observers.load_content.selected.content()[0]);\n\t\t\t}\n\t\t},\n\n\n\t\tassign_feature: function(el, parent) {\n\t\t\tvar code = el.parents('.entry-elem').find('.raw-code').text(),\n\t\t\t\tobj = this.controllers.parse_shortcode(code);\n\n\t\t\tif (obj.name === 'koken_oembed') {\n\t\t\t\tthis.controllers.featured_from_oembed(obj.params);\n\t\t\t} else {\n\t\t\t\tvar matches = el.parents('.entry-elem').find('.raw-code').text().match(/id=\"([0-9]+)\"/);\n\n\t\t\t\tif (!matches) {\n\t\t\t\t\tmatches = el.parents('.entry-elem').find('.raw-code').text().match(/filename=\"([^\"]+)\"/);\n\t\t\t\t}\n\n\t\t\t\tif (matches) {\n\t\t\t\t\tthis.events.save_feature(matches[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsave_feature: function(feature) {\n\t\t\tvar n = this.notify().wait('Assigning feature image');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/feature' + ( !isNaN(feature) ? '/' + feature : '' ),\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: isNaN(feature) ? 'file=' + feature : false,\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.page_to_edit.__featured_image(data.featured_image);\n\t\t\t\t\tn.success('Featured image assigned');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tdelete_feature: function() {\n\t\t\tvar n = this.notify().wait('Removing feature image');\n\t\t\tthis.sync({\n\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/feature/' + this.observers.page_to_edit.__featured_image().id,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tcontext: this,\n\t\t\t\tfinished: function(data) {\n\t\t\t\t\tthis.observers.page_to_edit.__featured_image(false);\n\t\t\t\t\tn.success('Featured image removed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tclear_link: function() {\n\t\t\tvar l = this.observers.link,\n\t\t\t\tr = $(l.replace);\n\n\t\t\tl.redactor.restoreSelection();\n\t\t\tr.replaceWith(r.text());\n\n\t\t\tthis.events.toggle_sheet('insert_link');\n\t\t},\n\n\t\tinsert_link: function(el, parent) {\n\n\t\t\tvar data = this.observers.sheets.insert_link;\n\n\t\t\tif (data.state.url().length <= 0) {\n\t\t\t\tvar inp_val = parent.closest('.ui-sheet').find('input[type=\"text\"]').val();\n\t\t\t\tif (inp_val.length <= 0) {\n\t\t\t\t\tthis.notify().warn('Please enter a valid url to be inserted');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdata.state.url(inp_val);\n\t\t\t}\n\n\t\t\tvar url = data.state.url();\n\t\t\t\ta = $('<a/>');\n\n\t\t\tif (!/^(mailto|https?)/.test(url)) {\n\t\t\t\turl = 'http://' + url;\n\t\t\t}\n\n\t\t\tif (data.state.type() === 'internal') {\n\t\t\t\ta.attr('data-koken-album-id', data.state.album());\n\t\t\t\ta.attr('data-koken-album-type', data.state.album_type());\n\t\t\t\turl = url.replace(/lightbox\\/?$/, '');\n\t\t\t\tif (data.state.lightbox() && data.state.album_type() === 'standard') {\n\t\t\t\t\ta.attr('data-koken-lightbox', true);\n\t\t\t\t\turl += 'lightbox/';\n\t\t\t\t}\n\t\t\t\tif ($('#new_link_topic').is(':checked')) {\n\t\t\t\t\tthis.sync({\n\t\t\t\t\t\trequest: 'text/' + this.observers.page_to_edit.id() + '/topics/' + data.state.album(),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\tthis.events._map_page_to_edit(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ta.attr('href', url);\n\n\t\t\tif (data.state.new_window()) {\n\t\t\t\ta.attr('target', '_blank');\n\t\t\t} else {\n\t\t\t\ta.attr('target', null);\n\t\t\t}\n\n\t\t\tvar l = this.observers.link;\n\n\t\t\tl.redactor.restoreSelection();\n\n\t\t\tif (l.replace) {\n\t\t\t\ta.text($(l.replace).text());\n\t\t\t\t$(l.replace).replaceWith(a);\n\t\t\t} else {\n\t\t\t\ta.text( l.redactor.getSelectedHtml() );\n\t\t\t\t$('#edit-area').insertHtml( $('<div/>').append(a).html() );\n\t\t\t}\n\n\t\t\tthis.events.toggle_sheet(el, parent);\n\n\t\t\t$('#edit-area').trigger('keyup');\n\t\t},\n\n\t\tedit_page: function(el) {\n\t\t\tvar id = el.parents('li').data('id');\n\t\t\tthis.controllers.rewrite_hash({ name: 'selection', val: id });\n\t\t},\n\n\t\tsidebar: function(el,parent) {\n\n\t\t\tvar id = el.data('drawer');\n\n\t\t\tif (id) {\n\n\t\t\t\tswitch(id) {\n\n\t\t\t\t\tcase 'edit_categories' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit categories');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'edit_tags' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit tags');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'edit_timestamp' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit date published');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'edit_created' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit date created');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'text_status_edit' :\n\t\t\t\t\t\tthis.observers.drawer.title('Edit status');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'site_link_edit':\n\t\t\t\t\t\tthis.observers.drawer.title('Edit site link');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthis.observers.drawer.template(id);\n\t\t\t\tthis.events.open_sidebar_drawer(el);\n\n\t\t\t}\n\n\t\t},\n\n\t\topen_sidebar_drawer: function(el) {\n\n\t\t\tif ( this.observers.drawer.state() === 'closed' ) {\n\n\t\t\t\tvar\tsidebar = $('#right-col-xtra'),\n\t\t\t\t\tself\t= this;\n\n\t\t\t\tthis.observers.drawer.state('open');\n\n\t\t\t\tif ( el.data('drawer') === 'edit_categories' ) {\n\t\t\t\t\tthis.pubsub( 'category.save', function(e,data) {\n\n\t\t\t\t\t\tvar catsToAdd = [],\n\t\t\t\t\t\t\tcatsToDelete = [];\n\n\t\t\t\t\t\t$('div#category_edit_drawer').find('input:checkbox').each(function(i, item) {\n\t\t\t\t\t\t\tvar id = parseInt($(item).closest('div[data-id]').data('id'), 10);\n\n\t\t\t\t\t\t\tif (!$(item).is(':visible') || isNaN(id)) return;\n\n\t\t\t\t\t\t\tif ($(item).is(':checked')) {\n\t\t\t\t\t\t\t\t$.inArray(id, catsToAdd) === -1 && catsToAdd.push(id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$.inArray(id, catsToDelete) === -1 && catsToDelete.push(id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(self));\n\n\t\t\t\t\t\tif (catsToDelete.length) {\n\t\t\t\t\t\t\tself.observers.selected_cats('Loading...');\n\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'categories/' + catsToDelete.join(',') + '/essays/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\t\tif (!catsToAdd.length) this.observers.get_selected_cats();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (catsToAdd.length) {\n\t\t\t\t\t\t\tself.observers.selected_cats('Loading...');\n\n\t\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\t\trequest: 'categories/' + catsToAdd.join(',') + '/essays/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\t\tthis.observers.get_selected_cats();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.events.close_sidebar_drawer();\n\t\t\t\t\t});\n\n\t\t\t\t\tvar curr_cats = this.observers.selected_cats();\n\t\t\t\t\t$('#right-col-xtra').find('.col-row input').prop('checked',false);\n\t\t\t\t\tif ($.isArray(curr_cats)) {\n\t\t\t\t\t\t$.each(this.observers.categories(), function(i, cat) {\n\t\t\t\t\t\t\t$.each(curr_cats, function(j,cc) {\n\t\t\t\t\t\t\t\tif ( cc.id == cat.id ) {\n\t\t\t\t\t\t\t\t\t$('#right-col-xtra').find('.col-row:eq('+ i +') input').prop('checked',true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( el.data('drawer') === 'edit_tags' ) {\n\t\t\t\t\tthis.classes.autocomplete.text.tags($('#enterTagsInput input'), '#enterTagsInput', $('#tags_edit_drawer').find('button.create-tag'));\n\t\t\t\t\tthis.pubsub( 'tags.delete', function(e, data) {\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(updatedData) {\n\t\t\t\t\t\t\t\tthis.observers.page_to_edit.tags(updatedData.tags);\n\t\t\t\t\t\t\t\tthis.observers.list().forEach(function(item) {\n\t\t\t\t\t\t\t\t\titem.tags = $.grep(item.tags, function(tag) {\n\t\t\t\t\t\t\t\t\t\treturn tag.id !== data.id;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.pubsub( 'tags.save', function(e,data) {\n\n\t\t\t\t\t\tvar tags = [], s = this;\n\t\t\t\t\t\tdata = data.data.split(',');\n\n\t\t\t\t\t\t$.each( data, function(j,w) {\n\t\t\t\t\t\t\ttags = s.models.tags.add( w, tags );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: 'tags=' + tags.join(','),\n\t\t\t\t\t\t\tcontext: self,\n\t\t\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\t\t\tthis.observers.page_to_edit.tags(data.tags);\n\n\t\t\t\t\t\t\t\tvar el = $('#entry-' + data.id);\n\t\t\t\t\t\t\t\tif (el.length) {\n\t\t\t\t\t\t\t\t\tvar index = el.data('index');\n\t\t\t\t\t\t\t\t\tthis.observers.list.splice(index, 1, data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( el.data('drawer') === 'edit_timestamp' ) {\n\t\t\t\t\tthis.pubsub( 'timestamp.save', function(e,data) {\n\n\t\t\t\t\t\tvar dt = data.trim(),\n\t\t\t\t\t\t\tts = moment(dt).unix();\n\n\t\t\t\t\t\tvar note = self.notify().wait('Changing timestamp');\n\n\t\t\t\t\t\tself.observers.page_to_edit.published_on.datetime(dt);\n\t\t\t\t\t\tself.observers.page_to_edit.published_on.timestamp(ts);\n\t\t\t\t\t\tself.observers.page_to_edit.published(true);\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: 'published_on=' + ts,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tnote.success('Date published changed to ' + dt)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( el.data('drawer') === 'edit_created' ) {\n\t\t\t\t\tthis.pubsub( 'timestamp_created.save', function(e,data) {\n\n\t\t\t\t\t\tvar dt = data.trim(),\n\t\t\t\t\t\t\tts = moment(dt).unix();\n\n\t\t\t\t\t\tvar note = self.notify().wait('Changing timestamp');\n\n\t\t\t\t\t\tself.observers.page_to_edit.created_on.datetime(dt);\n\t\t\t\t\t\tself.observers.page_to_edit.created_on.timestamp(ts);\n\t\t\t\t\t\tself.observers.page_to_edit.published(true);\n\n\t\t\t\t\t\tself.sync({\n\t\t\t\t\t\t\trequest: 'text/' + self.observers.page_to_edit.id(),\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: 'created_on=' + ts,\n\t\t\t\t\t\t\tfinished: function() {\n\t\t\t\t\t\t\t\tnote.success('Date created changed to ' + dt)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (el.data('drawer') === 'site_link_edit') {\n\t\t\t\t\tvar input = $('[data-submit=\"site_link\"]').find('input[type=\"text\"]'),\n\t\t\t\t\t\thidden = $('[data-submit=\"site_link\"]').find('input[type=\"hidden\"]');\n\n\t\t\t\t\tinput.val(hidden.val());\n\n\t\t\t\t\tinput.off('keyup.slug').on('keyup.slug', function(e) {\n\n\t\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\t\t$(this).parents('[data-submit]').find('button').trigger('click');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t    var start = this.selectionStart,\n\t\t\t\t\t    \tend = this.selectionEnd;\n\n\t\t\t\t\t\tinput.val(input.val().toLowerCase().replace(/\\s/g, '-'));\n\n\t\t\t\t\t\tthis.setSelectionRange(start, end);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tsidebar.show().animate({\n\t\t\t\t\tright: '0px'\n\t\t\t\t}, {\n\t\t\t\t\teasing: config.easing,\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t$('#tags_edit_drawer input[placeholder=\"Enter tags\"]').focus();\n\t\t\t\t\t\t$('#category_edit_drawer input[placeholder=\"Enter categories\"]').focus();\n\t\t\t\t\t\t$('[data-submit=\"site_link\"] input[type=\"text\"]').focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$(window).trigger('resize');\n\n\t\t\t\t$('input.field').off('keydown.drawer_e').on('keydown.drawer_e', function(e) {\n\t\t\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\t\t\tif ($(e.target).parents(['data-submit=\"site_link\"']).length) return;\n\n\t\t\t\t\t\t// Fix for sheets losing ENTER priority\n\t\t\t\t\t\tif ($(e.target).closest('.ui-sheet').length >= 1) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$(e.target).hasClass('autocompleting')) {\n\t\t\t\t\t\t\t$(e.target).parent().next().find('button').trigger('click');\n\t\t\t\t\t\t\t$(e.target).val('').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t},\n\n\t\tsave_and_close: function() {\n\t\t\tvar btn = $('#right-col-data button:contains(\"Done\")');\n\t\t\tif (btn.length) {\n\t\t\t\tbtn.trigger('click');\n\t\t\t} else {\n\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t}\n\t\t},\n\n\t\tclose_sidebar_drawer: function() {\n\n\t\t\tthis.observers.drawer.state('closed');\n\n\t\t\t$('#right-col-xtra').animate({\n\t\t\t\tright: '-240px'\n\t\t\t}, {\n\t\t\t\teasing: config.easing,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\t$(this).height(1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\n\t},\n\n\trouter: function() {\n\n\t\treturn {\n\n\t\t\t'default': function(url) {\n\n\t\t\t\tif (!url) {\n\t\t\t\t\t$.bbq.pushState('/text/type:essay', 2);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.observers.dropdowns.sort.active(false);\n\t\t\t\tthis.observers.dropdowns.filter.active(false);\n\n\t\t\t\turl = 'text/' + url + '/render:0';\n\n\t\t\t\tvar final_url = url,\n\t\t\t\t\tregex = /\\/(selection|type|month|year|state|order_by|order_direction):([^\\/]+)/g,\n\t\t\t\t\tnon_api = [ \"selection\" ],\n\t\t\t\t\tmatches,\n\t\t\t\t\tobservers = {\n\t\t\t\t\t\t\"selection\": false,\n\t\t\t\t\t\t\"type\": 'essay',\n\t\t\t\t\t\t\"year\": false,\n\t\t\t\t\t\t\"month\": false,\n\t\t\t\t\t\t\"state\": 'none'\n\t\t\t\t\t},\n\t\t\t\t\tself = this,\n\t\t\t\t\tobj = {\n\t\t\t\t\t\tcb: function() {\n\t\t\t\t\t\t\tfor (var i in observers) {\n\t\t\t\t\t\t\t\tif (i.indexOf('order_') === 0 && self.observers.is_sortable()) continue;\n\t\t\t\t\t\t\t\tself.observers[i]( observers[i] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tload_until: false\n\t\t\t\t\t};\n\n\t\t\t\tthis.observers.is_sortable(\n\t\t\t\t\turl.indexOf(':page') === -1 && url.indexOf('featured') === -1 && url.indexOf('year') === -1 && url.indexOf('drafts') === -1\n\t\t\t\t);\n\n\t\t\t\tvar order_by = url.indexOf('text/featured') === 0 ? 'manual' : 'published_on';\n\n\t\t\t\tif (url.indexOf('drafts') !== -1) {\n\t\t\t\t\torder_by = 'modified_on';\n\t\t\t\t}\n\n\t\t\t\tthis.observers.order_by(order_by);\n\t\t\t\tthis.observers.order_direction('desc');\n\n\t\t\t\twhile( (matches = regex.exec(url)) !== null) {\n\n\t\t\t\t\tvar ob = matches[1],\n\t\t\t\t\t\tval = matches[2];\n\n\t\t\t\t\tif (ob === 'selection') {\n\t\t\t\t\t\tobj.load_until = Number(val);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.inArray(ob, non_api) !== -1) {\n\t\t\t\t\t\tfinal_url = final_url.replace(matches[0], '');\n\t\t\t\t\t}\n\n\t\t\t\t\tobservers[ob] = val;\n\n\t\t\t\t}\n\n\t\t\t\tthis.observers.firstPageLoad(true);\n\n\t\t\t\tif (this.observers.editor_on()) {\n\t\t\t\t\tthis.events.toggle_editor();\n\t\t\t\t}\n\n\t\t\t\tif ( this.observers.api_url() !== final_url ) {\n\t\t\t\t\tthis.observers.loading(true);\n\t\t\t\t\tthis.observers.next_page = false;\n\t\t\t\t\t$('#entries').empty();\n\n\t\t\t\t\tif (final_url.indexOf('text/featured') !== -1) {\n\t\t\t\t\t\tthis.controllers.featured_order();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#entries').hasClass('ui-sortable') && $('#entries').sortable('destroy');\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.observers.api_url( final_url );\n\t\t\t\t\tthis.controllers.load_text(obj);\n\t\t\t\t\tthis.events.close_sidebar_drawer();\n\t\t\t\t} else {\n\t\t\t\t\tobj.cb();\n\t\t\t\t}\n\n\t\t\t\t// When the route changes we need to reset the shortcode_media sheet otherwise thumbnails will get wacky\n\t\t\t\tif (window.location.hash.indexOf('selection') == -1) {\n\t\t\t\t\t// Force the shortcode_media template to reload\n\t\t\t\t\tthis.observers.sheets.shortcode_media.id.valueHasMutated();\n\t\t\t\t\t// Reset for the sheet dropdowns\n\t\t\t\t\tthis.observers.sheet_media_chosen.primary('all_content');\n\t\t\t\t\tthis.observers.sheet_media_chosen.secondary('0');\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\n\t},\n\n\tviews: {\n\t\tclose_sidebar_drawer: function() {\n\t\t\tthis.events.close_sidebar_drawer()\n\t\t}\n\t},\n\n\tobservers: function() {\n\n\t\tvar cookies = {};\n\n\t\tcookies.theme = ( this.cookie('text:theme') === null ) ? 0 : this.helpers.clean( this.cookie('text:theme') );\n\t\tcookies.years = ( this.cookie('text:nav') === null ) ? [] : this.cookie('text:nav').split(',');\n\t\tcookies.grid  = ( this.cookie('text:view') === null ) ? 'rows' : this.cookie('text:view');\n\n\t\t$.each( cookies.years, function(k,v) {\n\t\t\tcookies.years[k] = parseInt(v,10);\n\t\t});\n\n\t\treturn {\n\t\t\tlist_index_to_delete: false,\n\t\t\tcurrent_shortcode: ko.observable({}),\n\t\t\tcurrent_shortcode_data: ko.observable([]),\n\t\t\texpand: ko.observable(false),\n\t\t\ttheme: ko.observable(cookies.theme),\n\t\t\tis_loading: false,\n\t\t\tnext_page: false,\n\t\t\tcalendar_data: {},\n\t\t\tyear: ko.observable(false),\n\t\t\topen_year: ko.observableArray(cookies.years),\n\t\t\tmonth: ko.observable(false),\n\t\t\tyears: ko.observableArray([]),\n\t\t\tthis_year: new Date().getFullYear(),\n\t\t\tthis_month: new Date().getMonth()+1,\n\t\t\tstate: ko.observable('none'),\n\t\t\tgrid: ko.observable(cookies.grid),\n\t\t\torder_by: ko.observable('modified_on'),\n\t\t\torder_direction: ko.observable('desc'),\n\t\t\tisalbumset: ko.observable(false),\n\t\t\tlast_edit: false,\n\t\t\tloading: ko.observable(true),\n\t\t\tselection: ko.observable(false),\n\t\t\tapi_url: ko.observable(''),\n\t\t\tlastexeccommand: ko.observable(''),\n\t\t\ttotal: ko.observable(false),\n\t\t\tview: ko.observable('list'),\n\t\t\ttype: ko.observable('essay'),\n\t\t\tlist: ko.observableArray( [] ),\n\t\t\tdrafts: ko.observableArray( [] ),\n\t\t\thasChanges: ko.observable(false),\n\t\t\tfirstPageLoad: ko.observable(true),\n\t\t\teditor_type: ko.observable('dock'),\n\t\t\teditor_on: ko.observable(false),\n\t\t\ttext_edit_full: ko.observable(false),\n\t\t\tis_autosaving: ko.observable(false),\n\t\t\tis_sortable: ko.observable(false),\n\t\t\tgetSelectSpacing: function(index, text) {\n\t\t\t\tif (!index) return text;\n\t\t\t\tvar _spacer = '&nbsp&nbsp;',\n\t\t\t\t\t_out = '';\n\t\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\t\t_out += _spacer;\n\t\t\t\t}\n\t\t\t\treturn _out + text;\n\t\t\t},\n\t\t\tsheet_media_chosen: {\n\t\t\t\tprimary: ko.observable('all_content'),\n\t\t\t\tsecondary: ko.observable('0')\n\t\t\t},\n\t\t\tselection_info: {\n\t\t\t\tselection: {},\n\t\t\t\trange: {}\n\t\t\t},\n\t\t\tto_replace: false,\n\t\t\tlink: {\n\t\t\t\tredactor: false,\n\t\t\t\tnoob: false\n\t\t\t},\n\t\t\tdrawer: {\n\t\t\t\ttemplate: ko.observable('default_edit'),\n\t\t\t\tstate: ko.observable('closed'),\n\t\t\t\ttitle: ko.observable('')\n\t\t\t},\n\t\t\tis_topic: function(id) {\n\t\t\t\tvar isTopic = false;\n\t\t\t\tif ($.isArray(this.selected_topics())) {\n\t\t\t\t\t$.each(this.selected_topics(), function(idx, item) {\n\t\t\t\t\t\tif (item.id == id) isTopic = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn isTopic;\n\t\t\t},\n\t\t\tyear_open: function(year) {\n\t\t\t\tif ( ! this.year() ) { return false; }\n\t\t\t\tif ( this.year() == year ) { return true; }\n\t\t\t\tif ( this.open_year.indexOf(year) >= 0 ) { return true; }\n\t\t\t},\n\t\t\thasEditedItems: function() {\n\t\t\t\tvar hasEdits = false;\n\t\t\t\t$.each(this.interfaces.text.observers.list(), function(i, item) {\n\t\t\t\t\tif (item.published && item.content !== item.draft) {\n\t\t\t\t\t\thasEdits = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn hasEdits;\n\t\t\t},\n\t\t\tselected_topics: ko.observable([]),\n\t\t\tget_selected_topics: function() {\n\t\t\t\tthis.selected_topics('Loading...');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: this.observers.page_to_edit.topics.url(),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.albums.length) {\n\t\t\t\t\t\t\tthis.selected_topics(data.albums);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selected_topics('- none -');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tselected_cats: ko.observable([]),\n\t\t\tget_selected_cats: function() {\n\t\t\t\tthis.selected_cats('Loading...');\n\t\t\t\tthis.sync({\n\t\t\t\t\trequest: this.observers.page_to_edit.categories.url(),\n\t\t\t\t\tcontext: this,\n\t\t\t\t\tfinished: function(data) {\n\t\t\t\t\t\tif (data.categories.length) {\n\t\t\t\t\t\t\tthis.selected_cats(data.categories);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selected_cats('- none -');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tautosave_timeout_id: false,\n\t\t\tautosave_text_id: false,\n\t\t\tpage_to_edit: {\n\t\t\t\t__loaded: ko.observable(false),\n\t\t\t\ttitle: ko.observable(''),\n\t\t\t\tdraft_title: ko.observable(''),\n\t\t\t\texcerpt: ko.observable(''),\n\t\t\t\tpublished: ko.observable(false),\n\t\t\t\tmodified_on: {\n\t\t\t\t\ttimestamp: ko.observable(0)\n\t\t\t\t},\n\t\t\t\ttopics: ko.observableArray([]),\n\t\t\t\t__featured_image: ko.observable(false),\n\t\t\t\t__topic_str: ko.observable(''),\n\t\t\t\t__topic_ids: ko.observableArray([])\n\t\t\t},\n\t\t\tdropdowns: {\n\t\t\t\tsort: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Manual',\n\t\t\t\t\t\t\tbind\t: \"visible: api_url().indexOf('text/featured') === 0, css: { check: order_by() === 'manual' }, click: function() { change_order_by('manual'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date created',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'created_on' }, click: function() { change_order_by('created_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date modified',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'modified_on' }, click: function() { change_order_by('modified_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Date published',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'published_on' }, click: function() { change_order_by('published_on'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Title',\n\t\t\t\t\t\t\tbind\t: \"css: { check: order_by() === 'title' }, click: function() { change_order_by('title'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'insert_break'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Ascending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results ascending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'asc' }, click: function() { change_order_direction('asc'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle\t: 'Descending',\n\t\t\t\t\t\t\tdesc\t: 'Sort results descending',\n\t\t\t\t\t\t\tbind\t: \"visible: order_by() !== 'manual', css: { check: order_direction() === 'desc' }, click: function() { change_order_direction('desc'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('sort'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '42px',\n\t\t\t\t\tposition: ko.observable('above'),\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '10px'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: {\n\t\t\t\t\titems: ko.observableArray([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle : 'None',\n\t\t\t\t\t\t\tbind  : \"css: { check: state() === 'none' }, click: function() { state('none'); }\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle : 'Drafts',\n\t\t\t\t\t\t\tbind  : \"css: { check: state() === 'draft' }, click: function() { state('draft'); }\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]),\n\t\t\t\t\tid: ko.observable('filter'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\toffset: '40px',\n\t\t\t\t\twedge: {\n\t\t\t\t\t\toffset: '15px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsheets: {\n\t\t\t\tinsert_link: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('insert_link'),\n\t\t\t\t\tstate: {\n\t\t\t\t\t\ttype: ko.observable('external'),\n\t\t\t\t\t\turl: ko.observable(''),\n\t\t\t\t\t\talbum: ko.observable(false),\n\t\t\t\t\t\talbum_type: ko.observable('standard'),\n\t\t\t\t\t\tnew_window: ko.observable(false),\n\t\t\t\t\t\tlightbox: ko.observable(false),\n\t\t\t\t\t\texisting: ko.observable(false)\n\t\t\t\t\t},\n\t\t\t\t\t_reset: function() {\n\t\t\t\t\t\tthis.state.type('external');\n\t\t\t\t\t\tthis.state.album_type('standard');\n\t\t\t\t\t\tfor ( var k in this.state ) {\n\t\t\t\t\t\t\tif ( k !== 'type' && k !== 'album_type' ) {\n\t\t\t\t\t\t\t\tthis.state[k].reset();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonload: function(el) {\n\t\t\t\t\t\tel.find('input[type=\"text\"]').off('keydown').on( 'keydown', function(e) {\n\t\t\t\t\t\t\tif ( e.keyCode == 13 ) {\n\t\t\t\t\t\t\t\tel.find('button[data-event=\"insert_link\"]').trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcreate_text: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('create_text'),\n\t\t\t\t\ttype: ko.observable('essay'),\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\twasCreated: ko.observable(false),\n\t\t\t\t\tonload: function(el) {\n\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\tel.find('input').focus();\n\n\t\t\t\t\t\t$(document,el)\n\t\t\t\t\t\t\t.off('.textSheet')\n\t\t\t\t\t\t\t.on('click.textSheet', '.sheet-opt-types li', function() {\n\t\t\t\t\t\t\t\tself.classes.app.koken.lastFocused && self.classes.app.koken.lastFocused.focus();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tel.find( ($('#text-lcol .label-custompage').closest('li').hasClass('selected')) ? '.label-custompage' : '.label-essays' ).closest('li').trigger('click');\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_media: {\n\t\t\t\t\ttype: ko.observable('photo'),\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_media'),\n\t\t\t\t\tloaded: ko.observable(false),\n\t\t\t\t\tsheet_loaded: ko.observable(false),\n\t\t\t\t\tediting: ko.observable(false),\n\t\t\t\t\tisediting: ko.observable(false),\n\t\t\t\t\tisreplacing: ko.observable(false),\n\t\t\t\t\talbums: ko.observable([]),\n\t\t\t\t\talbum: ko.observable(0),\n\t\t\t\t\tcustom_url: ko.observable(''),\n\t\t\t\t\tlink: ko.observable('false'),\n\t\t\t\t\ttitle: ko.observable(false),\n\t\t\t\t\tcaption: ko.observable(false),\n\t\t\t\t\tselected: {\n\t\t\t\t\t\tview: ko.observable('')\n\t\t\t\t\t},\n\t\t\t\t\tonload: function(el) {\n\n\t\t\t\t\t\t$('#view_select').find( '.' + this.observers.sheet_media_chosen.primary() ).attr('selected','selected');\n\t\t\t\t\t\t$('#view_select').trigger('change');\n\t\t\t\t\t\t$('#media-browse-content').off().on( 'dblclick', 'li', function() {\n\t\t\t\t\t\t\t$('button[data-event=\"insert_media\"]').trigger('click');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('#shortcode_media h1').text($('#shortcode_media h1').text().replace('Edit', 'Insert'));\n\t\t\t\t\t\t$('#album_select').find('[data-id=\"' + this.observers.sheet_media_chosen.secondary() + '\"]').attr('selected','selected');\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_custom: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_custom'),\n\t\t\t\t\tdata: ko.observable({}),\n\t\t\t\t\tfields: ko.observableArray([]),\n\t\t\t\t\tediting: ko.observable(false),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\t$(document).off('.custom-fields').on('change.custom-fields', 'select.fields-data', function() {\n\t\t\t\t\t\t\tvar data = self.observers.current_shortcode_data();\n\t\t\t\t\t\t\tself.observers.current_shortcode_data([]);\n\t\t\t\t\t\t\tself.observers.current_shortcode_data(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function() {\n\t\t\t\t\t\t$(document).off('.custom-fields');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_collection: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_collection'),\n\t\t\t\t\tfavorites: ko.observableArray([]),\n\t\t\t\t\tquick_collection: ko.observableArray([]),\n\t\t\t\t\tlast_upload: ko.observableArray([]),\n\t\t\t\t\tstate: {\n\t\t\t\t\t\tselected: ko.observable(''),\n\t\t\t\t\t\tselected_text: ko.observable('')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tshortcode_edit: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_edit'),\n\t\t\t\t\tselected: ko.observable(''),\n\t\t\t\t\tlink: ko.observable('false'),\n\t\t\t\t\talbum: ko.observable(0),\n\t\t\t\t\tcustom_url: ko.observable(''),\n\t\t\t\t\talbums: ko.observableArray([]),\n\t\t\t\t\tonload: function() {\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\thasChanged = false;\n\t\t\t\t\t\t$('#shortcode_edit select').off('.shortcode_edit').on('change.shortcode_edit', function() {\n\t\t\t\t\t\t\thasChanged = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('#shortcode_edit input').off('.shortcode_edit').on('keyup.shortcode_edit', function() {\n\t\t\t\t\t\t\thasChanged = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('button[data-event=\"update_shortcode\"]').off('.shortcode_edit').on('click.shortcode_edit', function() {\n\t\t\t\t\t\t\tif (hasChanged) { self.notify().success('Media settings successfully assigned'); }\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$(document).off('.custom-fields').on('change.custom-fields', 'select.fields-data', function() {\n\t\t\t\t\t\t\tvar data = self.observers.current_shortcode_data();\n\t\t\t\t\t\t\tself.observers.current_shortcode_data([]);\n\t\t\t\t\t\t\tself.observers.current_shortcode_data(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonunload: function() {\n\t\t\t\t\t\t$(document).off('.custom-fields');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tembed_item: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('embed_item')\n\t\t\t\t},\n\t\t\t\tshortcode_upload: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('shortcode_upload'),\n\t\t\t\t\tstate: ko.observable('off'),\n\t\t\t\t\tfilename: ko.observable(''),\n\t\t\t\t\ttitle: ko.observable(''),\n\t\t\t\t\tcaption: ko.observable(''),\n\t\t\t\t\tlink: ko.observable(''),\n\t\t\t\t\tnew_window: ko.observable(false),\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\t$('#shortcode_upload .section-content').hide();\n\t\t\t\t\t},\n\t\t\t\t\t_reset: function() {\n\t\t\t\t\t\tthis.state('off');\n\t\t\t\t\t\tthis.title('');\n\t\t\t\t\t\tthis.caption('');\n\t\t\t\t\t\tthis.link('');\n\t\t\t\t\t\tthis.new_window(false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tadd_topic: {\n\t\t\t\t\tactive: ko.observable(false),\n\t\t\t\t\tid: ko.observable('add_topic'),\n\t\t\t\t\tonload: function(sheet) {\n\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\thasBeenAltered = false;\n\n\t\t\t\t\t\tsheet\n\t\t\t\t\t\t\t.find('a[data-event=\"toggle_topic\"]')\n\t\t\t\t\t\t\t.off('.atns')\n\t\t\t\t\t\t\t.on('click.atns', function() {\n\t\t\t\t\t\t\t\thasBeenAltered = true;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsheet\n\t\t\t\t\t\t\t.find('button[data-sheet=\"add_topic\"]')\n\t\t\t\t\t\t\t.off('.atns')\n\t\t\t\t\t\t\t.on('click.atns', function() {\n\t\t\t\t\t\t\t\tif (hasBeenAltered && self.observers.page_to_edit.published()) self.notify().success('\"' + self.observers.page_to_edit.title() + '\" has been published');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n};\n\n\t// /___INTERFACES___\n\n\t// Kick things off..\n\t__k = _Koken();\n\n\twindow.Koken = __Koken();\n\n})();","/*!\n* MediaElement.js\n* HTML5 <video> and <audio> shim and player\n* http://mediaelementjs.com/\n*\n* Creates a JavaScript object that mimics HTML5 MediaElement API\n* for browsers that don't understand HTML5 or can't play the provided codec\n* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3\n*\n* Copyright 2010-2013, John Dyer (http://j.hn)\n* License: MIT\n*\n*/var mejs=mejs||{};mejs.version=\"2.13.1\";mejs.meIndex=0;\nmejs.plugins={silverlight:[{version:[3,0],types:[\"video/mp4\",\"video/m4v\",\"video/mov\",\"video/wmv\",\"audio/wma\",\"audio/m4a\",\"audio/mp3\",\"audio/wav\",\"audio/mpeg\"]}],flash:[{version:[9,0,124],types:[\"video/mp4\",\"video/m4v\",\"video/mov\",\"video/flv\",\"video/rtmp\",\"video/x-flv\",\"audio/flv\",\"audio/x-flv\",\"audio/mp3\",\"audio/m4a\",\"audio/mpeg\",\"video/youtube\",\"video/x-youtube\"]}],youtube:[{version:null,types:[\"video/youtube\",\"video/x-youtube\",\"audio/youtube\",\"audio/x-youtube\"]}],vimeo:[{version:null,types:[\"video/vimeo\",\n\"video/x-vimeo\"]}]};\nmejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split('\"').join(\"&quot;\")},absolutizeUrl:function(a){var b=document.createElement(\"div\");b.innerHTML='<a href=\"'+this.escapeHTML(a)+'\">x</a>';return b.firstChild.href},getScriptPath:function(a){for(var b=0,c,d=\"\",e=\"\",f,g,h=document.getElementsByTagName(\"script\"),l=h.length,j=a.length;b<l;b++){f=h[b].src;c=f.lastIndexOf(\"/\");if(c>-1){g=f.substring(c+\n1);f=f.substring(0,c+1)}else{g=f;f=\"\"}for(c=0;c<j;c++){e=a[c];e=g.indexOf(e);if(e>-1){d=f;break}}if(d!==\"\")break}return d},secondsToTimeCode:function(a,b,c,d){if(typeof c==\"undefined\")c=false;else if(typeof d==\"undefined\")d=25;var e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60);a=Math.floor((a%1*d).toFixed(3));return(b||e>0?(e<10?\"0\"+e:e)+\":\":\"\")+(f<10?\"0\"+f:f)+\":\"+(g<10?\"0\"+g:g)+(c?\":\"+(a<10?\"0\"+a:a):\"\")},timeCodeToSeconds:function(a,b,c,d){if(typeof c==\"undefined\")c=false;else if(typeof d==\n\"undefined\")d=25;a=a.split(\":\");b=parseInt(a[0],10);var e=parseInt(a[1],10),f=parseInt(a[2],10),g=0,h=0;if(c)g=parseInt(a[3])/d;return h=b*3600+e*60+f+g},convertSMPTEtoSeconds:function(a){if(typeof a!=\"string\")return false;a=a.replace(\",\",\".\");var b=0,c=a.indexOf(\".\")!=-1?a.split(\".\")[1].length:0,d=1;a=a.split(\":\").reverse();for(var e=0;e<a.length;e++){d=1;if(e>0)d=Math.pow(60,e);b+=Number(a[e])*d}return Number(b.toFixed(c))},removeSwf:function(a){var b=document.getElementById(a);if(b&&/object|embed/i.test(b.nodeName))if(mejs.MediaFeatures.isIE){b.style.display=\n\"none\";(function(){b.readyState==4?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)})()}else b.parentNode.removeChild(b)},removeObjectInIE:function(a){if(a=document.getElementById(a)){for(var b in a)if(typeof a[b]==\"function\")a[b]=null;a.parentNode.removeChild(a)}}};\nmejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];b[1]=b[1]||0;b[2]=b[2]||0;return c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e=[0,0,0],f;if(typeof this.nav.plugins!=\"undefined\"&&typeof this.nav.plugins[a]==\"object\"){if((c=this.nav.plugins[a].description)&&\n!(typeof this.nav.mimeTypes!=\"undefined\"&&this.nav.mimeTypes[b]&&!this.nav.mimeTypes[b].enabledPlugin)){e=c.replace(a,\"\").replace(/^\\s+/,\"\").replace(/\\sr/gi,\".\").split(\".\");for(a=0;a<e.length;a++)e[a]=parseInt(e[a].match(/\\d+/),10)}}else if(typeof window.ActiveXObject!=\"undefined\")try{if(f=new ActiveXObject(c))e=d(f)}catch(g){}return e}};\nmejs.PluginDetector.addPlugin(\"flash\",\"Shockwave Flash\",\"application/x-shockwave-flash\",\"ShockwaveFlash.ShockwaveFlash\",function(a){var b=[];if(a=a.GetVariable(\"$version\")){a=a.split(\" \")[1].split(\",\");b=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]}return b});\nmejs.PluginDetector.addPlugin(\"silverlight\",\"Silverlight Plug-In\",\"application/x-silverlight-2\",\"AgControl.AgControl\",function(a){var b=[0,0,0,0],c=function(d,e,f,g){for(;d.isVersionSupported(e[0]+\".\"+e[1]+\".\"+e[2]+\".\"+e[3]);)e[f]+=g;e[f]-=g};c(a,b,0,1);c(a,b,1,1);c(a,b,2,1E4);c(a,b,2,1E3);c(a,b,2,100);c(a,b,2,10);c(a,b,2,1);c(a,b,3,1);return b});\nmejs.MediaFeatures={init:function(){var a=this,b=document,c=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),e,f=[\"source\",\"track\",\"audio\",\"video\"];a.isiPad=d.match(/ipad/i)!==null;a.isiPhone=d.match(/iphone/i)!==null;a.isiOS=a.isiPhone||a.isiPad;a.isAndroid=d.match(/android/i)!==null;a.isBustedAndroid=d.match(/android 2\\.[12]/)!==null;a.isBustedNativeHTTPS=location.protocol===\"https:\"&&(d.match(/android [12]\\./)!==null||d.match(/macintosh.* version.* safari/)!==null);a.isIE=c.appName.toLowerCase().match(/trident/gi)!==\nnull;a.isChrome=d.match(/chrome/gi)!==null;a.isFirefox=d.match(/firefox/gi)!==null;a.isWebkit=d.match(/webkit/gi)!==null;a.isGecko=d.match(/gecko/gi)!==null&&!a.isWebkit&&!a.isIE;a.isOpera=d.match(/opera/gi)!==null;a.hasTouch=\"ontouchstart\"in window&&window.ontouchstart!=null;a.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect;for(c=0;c<f.length;c++)e=document.createElement(f[c]);a.supportsMediaTag=typeof e.canPlayType!==\"undefined\"||a.isBustedAndroid;\ntry{e.canPlayType(\"video/mp4\")}catch(g){a.supportsMediaTag=false}a.hasSemiNativeFullScreen=typeof e.webkitEnterFullscreen!==\"undefined\";a.hasNativeFullscreen=typeof e.requestFullscreen!==\"undefined\";a.hasWebkitNativeFullScreen=typeof e.webkitRequestFullScreen!==\"undefined\";a.hasMozNativeFullScreen=typeof e.mozRequestFullScreen!==\"undefined\";a.hasMsNativeFullScreen=typeof e.msRequestFullscreen!==\"undefined\";a.hasTrueNativeFullScreen=a.hasWebkitNativeFullScreen||a.hasMozNativeFullScreen||a.hasMsNativeFullScreen;\na.nativeFullScreenEnabled=a.hasTrueNativeFullScreen;if(a.hasMozNativeFullScreen)a.nativeFullScreenEnabled=document.mozFullScreenEnabled;else if(a.hasMsNativeFullScreen)a.nativeFullScreenEnabled=document.msFullscreenEnabled;if(a.isChrome)a.hasSemiNativeFullScreen=false;if(a.hasTrueNativeFullScreen){a.fullScreenEventName=\"\";if(a.hasWebkitNativeFullScreen)a.fullScreenEventName=\"webkitfullscreenchange\";else if(a.hasMozNativeFullScreen)a.fullScreenEventName=\"mozfullscreenchange\";else if(a.hasMsNativeFullScreen)a.fullScreenEventName=\n\"MSFullscreenChange\";a.isFullScreen=function(){if(e.mozRequestFullScreen)return b.mozFullScreen;else if(e.webkitRequestFullScreen)return b.webkitIsFullScreen;else if(e.hasMsNativeFullScreen)return b.msFullscreenElement!==null};a.requestFullScreen=function(h){if(a.hasWebkitNativeFullScreen)h.webkitRequestFullScreen();else if(a.hasMozNativeFullScreen)h.mozRequestFullScreen();else a.hasMsNativeFullScreen&&h.msRequestFullscreen()};a.cancelFullScreen=function(){if(a.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();\nelse if(a.hasMozNativeFullScreen)document.mozCancelFullScreen();else a.hasMsNativeFullScreen&&document.msExitFullscreen()}}if(a.hasSemiNativeFullScreen&&d.match(/mac os x 10_5/i)){a.hasNativeFullScreen=false;a.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();\nmejs.HtmlMediaElement={pluginType:\"native\",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName(\"source\");b.length>0;)this.removeChild(b[0]);if(typeof a==\"string\")this.src=a;else{var c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.src=c.src;break}}}},setVideoSize:function(a,b){this.width=a;this.height=b}};\nmejs.PluginMediaElement=function(a,b,c){this.id=a;this.pluginType=b;this.src=c;this.events={};this.attributes={}};\nmejs.PluginMediaElement.prototype={pluginElement:null,pluginType:\"\",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:\"\",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!=\"youtube\"&&this.pluginApi.loadMedia();this.paused=\nfalse}},pause:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++){d=e[b];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return\"probably\"}return\"\"},\npositionFullscreenButton:function(a,b,c){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if(typeof a==\"string\"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var b,c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));\nthis.src=mejs.Utility.absolutizeUrl(a);break}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.setVolume(a*100):this.pluginApi.setVolume(a);this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){if(this.pluginType==\"youtube\"){a?this.pluginApi.mute():this.pluginApi.unMute();this.muted=a;this.dispatchEvent(\"volumechange\")}else this.pluginApi.setMuted(a);\nthis.muted=a}},setVideoSize:function(a,b){if(this.pluginElement.style){this.pluginElement.style.width=a+\"px\";this.pluginElement.style.height=b+\"px\"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&\nthis.setFullscreen(false)},addEventListener:function(a,b){this.events[a]=this.events[a]||[];this.events[a].push(b)},removeEventListener:function(a,b){if(!a){this.events={};return true}var c=this.events[a];if(!c)return true;if(!b){this.events[a]=[];return true}for(i=0;i<c.length;i++)if(c[i]===b){this.events[a].splice(i,1);return true}return false},dispatchEvent:function(a){var b,c,d=this.events[a];if(d){c=Array.prototype.slice.call(arguments,1);for(b=0;b<d.length;b++)d[b].apply(null,c)}},hasAttribute:function(a){return a in\nthis.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){if(this.hasAttribute(a))return this.attributes[a];return\"\"},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};\nmejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b;this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a];delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case \"flash\":b.pluginElement=b.pluginApi=document.getElementById(a);break;case \"silverlight\":b.pluginElement=document.getElementById(b.id);\nb.pluginApi=b.pluginElement.Content.MediaElementJS}b.pluginApi!=null&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e;if(a=this.pluginMediaElements[a]){b={type:b,target:a};for(d in c){a[d]=c[d];b[d]=c[d]}e=c.bufferedTime||0;b.target.buffered=b.buffered={start:function(){return 0},end:function(){return e},length:1};a.dispatchEvent(b.type,b)}}};\nmejs.MediaElementDefaults={mode:\"auto\",plugins:[\"flash\",\"silverlight\",\"youtube\",\"vimeo\"],enablePluginDebug:false,httpsBasicAuthSite:false,type:\"\",pluginPath:mejs.Utility.getScriptPath([\"mediaelement.js\",\"mediaelement.min.js\",\"mediaelement-and-player.js\",\"mediaelement-and-player.min.js\"]),flashName:\"flashmediaelement.swf\",flashStreamer:\"\",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:\"start\",silverlightName:\"silverlightmediaelement.xap\",defaultVideoWidth:480,\ndefaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};\nmejs.HtmlMediaElementShim={create:function(a,b){var c=mejs.MediaElementDefaults,d=typeof a==\"string\"?document.getElementById(a):a,e=d.tagName.toLowerCase(),f=e===\"audio\"||e===\"video\",g=f?d.getAttribute(\"src\"):d.getAttribute(\"href\");e=d.getAttribute(\"poster\");var h=d.getAttribute(\"autoplay\"),l=d.getAttribute(\"preload\"),j=d.getAttribute(\"controls\"),k;for(k in b)c[k]=b[k];g=typeof g==\"undefined\"||g===null||g==\"\"?null:g;e=typeof e==\"undefined\"||e===null?\"\":e;l=typeof l==\"undefined\"||l===null||l===\"false\"?\n\"none\":l;h=!(typeof h==\"undefined\"||h===null||h===\"false\");j=!(typeof j==\"undefined\"||j===null||j===\"false\");k=this.determinePlayback(d,c,mejs.MediaFeatures.supportsMediaTag,f,g);k.url=k.url!==null?mejs.Utility.absolutizeUrl(k.url):\"\";if(k.method==\"native\"){if(mejs.MediaFeatures.isBustedAndroid){d.src=k.url;d.addEventListener(\"click\",function(){d.play()},false)}return this.updateNative(k,c,h,l)}else if(k.method!==\"\")return this.createPlugin(k,c,e,h,l,j);else{this.createErrorMessage(k,c,e);return this}},\ndeterminePlayback:function(a,b,c,d,e){var f=[],g,h,l,j={method:\"\",url:\"\",htmlMediaElement:a,isVideo:a.tagName.toLowerCase()!=\"audio\"},k;if(typeof b.type!=\"undefined\"&&b.type!==\"\")if(typeof b.type==\"string\")f.push({type:b.type,url:e});else for(g=0;g<b.type.length;g++)f.push({type:b.type[g],url:e});else if(e!==null){l=this.formatType(e,a.getAttribute(\"type\"));f.push({type:l,url:e})}else for(g=0;g<a.childNodes.length;g++){h=a.childNodes[g];if(h.nodeType==1&&h.tagName.toLowerCase()==\"source\"){e=h.getAttribute(\"src\");\nl=this.formatType(e,h.getAttribute(\"type\"));h=h.getAttribute(\"media\");if(!h||!window.matchMedia||window.matchMedia&&window.matchMedia(h).matches)f.push({type:l,url:e})}}if(!d&&f.length>0&&f[0].url!==null&&this.getTypeFromFile(f[0].url).indexOf(\"audio\")>-1)j.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)a.canPlayType=function(m){return m.match(/video\\/(mp4|m4v)/gi)!==null?\"maybe\":\"\"};if(c&&(b.mode===\"auto\"||b.mode===\"auto_plugin\"||b.mode===\"native\")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&\nb.httpsBasicAuthSite===true)){if(!d){g=document.createElement(j.isVideo?\"video\":\"audio\");a.parentNode.insertBefore(g,a);a.style.display=\"none\";j.htmlMediaElement=a=g}for(g=0;g<f.length;g++)if(a.canPlayType(f[g].type).replace(/no/,\"\")!==\"\"||a.canPlayType(f[g].type.replace(/mp3/,\"mpeg\")).replace(/no/,\"\")!==\"\"){j.method=\"native\";j.url=f[g].url;break}if(j.method===\"native\"){if(j.url!==null)a.src=j.url;if(b.mode!==\"auto_plugin\")return j}}if(b.mode===\"auto\"||b.mode===\"auto_plugin\"||b.mode===\"shim\")for(g=\n0;g<f.length;g++){l=f[g].type;for(a=0;a<b.plugins.length;a++){e=b.plugins[a];h=mejs.plugins[e];for(c=0;c<h.length;c++){k=h[c];if(k.version==null||mejs.PluginDetector.hasPluginVersion(e,k.version))for(d=0;d<k.types.length;d++)if(l==k.types[d]){j.method=e;j.url=f[g].url;return j}}}}if(b.mode===\"auto_plugin\"&&j.method===\"native\")return j;if(j.method===\"\"&&f.length>0)j.url=f[0].url;return j},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(\";\")?b.substr(0,b.indexOf(\";\")):b},\ngetTypeFromFile:function(a){a=a.split(\"?\")[0];a=a.substring(a.lastIndexOf(\".\")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(a)?\"video\":\"audio\")+\"/\"+this.getTypeFromExtension(a)},getTypeFromExtension:function(a){switch(a){case \"mp4\":case \"m4v\":return\"mp4\";case \"webm\":case \"webma\":case \"webmv\":return\"webm\";case \"ogg\":case \"oga\":case \"ogv\":return\"ogg\";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement(\"div\");e.className=\n\"me-cannotplay\";try{e.style.width=d.width+\"px\";e.style.height=d.height+\"px\"}catch(f){}e.innerHTML=b.customError?b.customError:c!==\"\"?'<a href=\"'+a.url+'\"><img src=\"'+c+'\" width=\"100%\" height=\"100%\" /></a>':'<a href=\"'+a.url+'\"><span>'+mejs.i18n.t(\"Download File\")+\"</span></a>\";d.parentNode.insertBefore(e,d);d.style.display=\"none\";b.error(d)},createPlugin:function(a,b,c,d,e,f){c=a.htmlMediaElement;var g=1,h=1,l=\"me_\"+a.method+\"_\"+mejs.meIndex++,j=new mejs.PluginMediaElement(l,a.method,a.url),k=document.createElement(\"div\"),\nm;j.tagName=c.tagName;for(m=0;m<c.attributes.length;m++){var n=c.attributes[m];n.specified==true&&j.setAttribute(n.name,n.value)}for(m=c.parentNode;m!==null&&m.tagName.toLowerCase()!=\"body\";){if(m.parentNode.tagName.toLowerCase()==\"p\"){m.parentNode.parentNode.insertBefore(m,m.parentNode);break}m=m.parentNode}if(a.isVideo){g=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:c.getAttribute(\"width\")!==null?c.getAttribute(\"width\"):b.defaultVideoWidth;h=b.pluginHeight>0?b.pluginHeight:b.videoHeight>\n0?b.videoHeight:c.getAttribute(\"height\")!==null?c.getAttribute(\"height\"):b.defaultVideoHeight;g=mejs.Utility.encodeUrl(g);h=mejs.Utility.encodeUrl(h)}else if(b.enablePluginDebug){g=320;h=240}j.success=b.success;mejs.MediaPluginBridge.registerPluginElement(l,j,c);k.className=\"me-plugin\";k.id=l+\"_container\";a.isVideo?c.parentNode.insertBefore(k,c):document.body.insertBefore(k,document.body.childNodes[0]);d=[\"id=\"+l,\"isvideo=\"+(a.isVideo?\"true\":\"false\"),\"autoplay=\"+(d?\"true\":\"false\"),\"preload=\"+e,\"width=\"+\ng,\"startvolume=\"+b.startVolume,\"timerrate=\"+b.timerRate,\"flashstreamer=\"+b.flashStreamer,\"height=\"+h,\"pseudostreamstart=\"+b.pseudoStreamingStartQueryParam];if(a.url!==null)a.method==\"flash\"?d.push(\"file=\"+mejs.Utility.encodeUrl(a.url)):d.push(\"file=\"+a.url);b.enablePluginDebug&&d.push(\"debug=true\");b.enablePluginSmoothing&&d.push(\"smoothing=true\");b.enablePseudoStreaming&&d.push(\"pseudostreaming=true\");f&&d.push(\"controls=true\");if(b.pluginVars)d=d.concat(b.pluginVars);switch(a.method){case \"silverlight\":k.innerHTML=\n'<object data=\"data:application/x-silverlight-2,\" type=\"application/x-silverlight-2\" id=\"'+l+'\" name=\"'+l+'\" width=\"'+g+'\" height=\"'+h+'\" class=\"mejs-shim\"><param name=\"initParams\" value=\"'+d.join(\",\")+'\" /><param name=\"windowless\" value=\"true\" /><param name=\"background\" value=\"black\" /><param name=\"minRuntimeVersion\" value=\"3.0.0.0\" /><param name=\"autoUpgrade\" value=\"true\" /><param name=\"source\" value=\"'+b.pluginPath+b.silverlightName+'\" /></object>';break;case \"flash\":if(mejs.MediaFeatures.isIE){a=\ndocument.createElement(\"div\");k.appendChild(a);a.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"'+l+'\" width=\"'+g+'\" height=\"'+h+'\" class=\"mejs-shim\"><param name=\"movie\" value=\"'+b.pluginPath+b.flashName+\"?x=\"+new Date+'\" /><param name=\"flashvars\" value=\"'+d.join(\"&amp;\")+'\" /><param name=\"quality\" value=\"high\" /><param name=\"bgcolor\" value=\"#000000\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /></object>'}else k.innerHTML=\n'<embed id=\"'+l+'\" name=\"'+l+'\" play=\"true\" loop=\"false\" quality=\"high\" bgcolor=\"#000000\" wmode=\"transparent\" allowScriptAccess=\"always\" allowFullScreen=\"true\" type=\"application/x-shockwave-flash\" pluginspage=\"//www.macromedia.com/go/getflashplayer\" src=\"'+b.pluginPath+b.flashName+'\" flashvars=\"'+d.join(\"&\")+'\" width=\"'+g+'\" height=\"'+h+'\" class=\"mejs-shim\"></embed>';break;case \"youtube\":b=a.url.substr(a.url.lastIndexOf(\"=\")+1);youtubeSettings={container:k,containerId:k.id,pluginMediaElement:j,pluginId:l,\nvideoId:b,height:h,width:g};mejs.PluginDetector.hasPluginVersion(\"flash\",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case \"vimeo\":j.vimeoid=a.url.substr(a.url.lastIndexOf(\"/\")+1);k.innerHTML='<iframe src=\"http://player.vimeo.com/video/'+j.vimeoid+'?portrait=0&byline=0&title=0\" width=\"'+g+'\" height=\"'+h+'\" frameborder=\"0\" class=\"mejs-shim\"></iframe>'}c.style.display=\"none\";c.removeAttribute(\"autoplay\");return j},updateNative:function(a,\nb){var c=a.htmlMediaElement,d;for(d in mejs.HtmlMediaElement)c[d]=mejs.HtmlMediaElement[d];b.success(c,c);return c}};\nmejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement(\"script\");a.src=\"//www.youtube.com/player_api\";var b=document.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(a,b);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(a){if(this.isLoaded)this.createIframe(a);else{this.loadIframeApi();this.iframeQueue.push(a)}},createIframe:function(a){var b=a.pluginMediaElement,c=new YT.Player(a.containerId,\n{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=c;mejs.MediaPluginBridge.initPlugin(a.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(c,b,\"timeupdate\")},250)},onStateChange:function(d){mejs.YouTubeApi.handleStateChange(d.data,c,b)}}})},createEvent:function(a,b,c){c={type:c,target:b};if(a&&a.getDuration){b.currentTime=c.currentTime=a.getCurrentTime();b.duration=c.duration=a.getDuration();c.paused=b.paused;\nc.ended=b.ended;c.muted=a.isMuted();c.volume=a.getVolume()/100;c.bytesTotal=a.getVideoBytesTotal();c.bufferedBytes=a.getVideoBytesLoaded();var d=c.bufferedBytes/c.bytesTotal*c.duration;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return d},length:1}}b.dispatchEvent(c.type,c)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=\na;var b,c=\"//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid=\"+a.pluginId+\"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0\";if(mejs.MediaFeatures.isIE){b=document.createElement(\"div\");a.container.appendChild(b);b.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"'+a.pluginId+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" class=\"mejs-shim\"><param name=\"movie\" value=\"'+\nc+'\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /></object>'}else a.container.innerHTML='<object type=\"application/x-shockwave-flash\" id=\"'+a.pluginId+'\" data=\"'+c+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" style=\"visibility: visible; \" class=\"mejs-shim\"><param name=\"allowScriptAccess\" value=\"always\"><param name=\"wmode\" value=\"transparent\"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=\ndocument.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c;mejs.MediaPluginBridge.initPlugin(a);c.cueVideoById(b.videoId);a=b.containerId+\"_callback\";window[a]=function(e){mejs.YouTubeApi.handleStateChange(e,c,d)};c.addEventListener(\"onStateChange\",a);setInterval(function(){mejs.YouTubeApi.createEvent(c,d,\"timeupdate\")},250)},handleStateChange:function(a,b,c){switch(a){case -1:c.paused=true;c.ended=true;mejs.YouTubeApi.createEvent(b,c,\"loadedmetadata\");break;case 0:c.paused=false;\nc.ended=true;mejs.YouTubeApi.createEvent(b,c,\"ended\");break;case 1:c.paused=false;c.ended=false;mejs.YouTubeApi.createEvent(b,c,\"play\");mejs.YouTubeApi.createEvent(b,c,\"playing\");break;case 2:c.paused=true;c.ended=false;mejs.YouTubeApi.createEvent(b,c,\"pause\");break;case 3:mejs.YouTubeApi.createEvent(b,c,\"progress\")}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;\n(function(a,b){var c={locale:{language:\"\",strings:{}},methods:{}};c.locale.getLanguage=function(){return c.locale.language||navigator.language};if(typeof mejsL10n!=\"undefined\")c.locale.language=mejsL10n.language;c.locale.INIT_LANGUAGE=c.locale.getLanguage();c.methods.checkPlain=function(d){var e,f,g={\"&\":\"&amp;\",'\"':\"&quot;\",\"<\":\"&lt;\",\">\":\"&gt;\"};d=String(d);for(e in g)if(g.hasOwnProperty(e)){f=RegExp(e,\"g\");d=d.replace(f,g[e])}return d};c.methods.formatString=function(d,e){for(var f in e){switch(f.charAt(0)){case \"@\":e[f]=\nc.methods.checkPlain(e[f]);break;case \"!\":break;default:e[f]='<em class=\"placeholder\">'+c.methods.checkPlain(e[f])+\"</em>\"}d=d.replace(f,e[f])}return d};c.methods.t=function(d,e,f){if(c.locale.strings&&c.locale.strings[f.context]&&c.locale.strings[f.context][d])d=c.locale.strings[f.context][d];if(e)d=c.methods.formatString(d,e);return d};c.t=function(d,e,f){if(typeof d===\"string\"&&d.length>0){var g=c.locale.getLanguage();f=f||{context:g};return c.methods.t(d,e,f)}else throw{name:\"InvalidArgumentException\",\nmessage:\"First argument is either not a string or empty.\"};};b.i18n=c})(document,mejs);(function(a){if(typeof mejsL10n!=\"undefined\")a[mejsL10n.language]=mejsL10n.strings})(mejs.i18n.locale.strings);(function(a){a.de={Fullscreen:\"Vollbild\",\"Go Fullscreen\":\"Vollbild an\",\"Turn off Fullscreen\":\"Vollbild aus\",Close:\"Schlie\\u00dfen\"}})(mejs.i18n.locale.strings);\n(function(a){a.zh={Fullscreen:\"\\u5168\\u87a2\\u5e55\",\"Go Fullscreen\":\"\\u5168\\u5c4f\\u6a21\\u5f0f\",\"Turn off Fullscreen\":\"\\u9000\\u51fa\\u5168\\u5c4f\\u6a21\\u5f0f\",Close:\"\\u95dc\\u9589\"}})(mejs.i18n.locale.strings);\n\n/*!\n * MediaElementPlayer\n * http://mediaelementjs.com/\n *\n * Creates a controller bar for HTML5 <video> add <audio> tags\n * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)\n *\n * Copyright 2010-2013, John Dyer (http://j.hn/)\n * License: MIT\n *\n */if(typeof jQuery!=\"undefined\")mejs.$=jQuery;else if(typeof ender!=\"undefined\")mejs.$=ender;\n(function(f){mejs.MepDefaults={poster:\"\",showPosterWhenEnded:false,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return a.duration*0.05},defaultSeekForwardInterval:function(a){return a.duration*0.05},audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,autoRewind:true,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,\nhideVideoControlsOnLoad:false,clickToPlayPause:true,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:[\"playpause\",\"current\",\"progress\",\"duration\",\"tracks\",\"volume\",\"fullscreen\"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(a,b){b.paused||b.ended?b.play():b.pause()}},{keys:[38],action:function(a,b){b.setVolume(Math.min(b.volume+0.1,1))}},{keys:[40],action:function(a,b){b.setVolume(Math.max(b.volume-\n0.1,0))}},{keys:[37,227],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){if(a.isVideo){a.showControls();a.startControlsTimer()}var c=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(c)}}},{keys:[39,228],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){if(a.isVideo){a.showControls();a.startControlsTimer()}var c=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(c)}}},{keys:[70],action:function(a){if(typeof a.enterFullScreen!=\n\"undefined\")a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(a,b){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(a,b);this.$media=this.$node=f(a);this.node=this.media=this.$media[0];if(typeof this.node.player!=\"undefined\")return this.node.player;else this.node.player=this;if(typeof b==\"undefined\")b=this.$node.data(\"mejsoptions\");this.options=f.extend({},mejs.MepDefaults,b);this.id=\"mep_\"+mejs.mepIndex++;\nmejs.players[this.id]=this;this.init();return this};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var a=this,b=mejs.MediaFeatures,c=f.extend(true,{},a.options,{success:function(d,g){a.meReady(d,g)},error:function(d){a.handleError(d)}}),e=a.media.tagName.toLowerCase();a.isDynamic=e!==\"audio\"&&e!==\"video\";a.isVideo=a.isDynamic?a.options.isVideo:e!==\"audio\"&&a.options.isVideo;if(b.isiPad&&a.options.iPadUseNativeControls||b.isiPhone&&a.options.iPhoneUseNativeControls){a.$media.attr(\"controls\",\n\"controls\");if(b.isiPad&&a.media.getAttribute(\"autoplay\")!==null){a.media.load();a.media.play()}}else if(!(b.isAndroid&&a.options.AndroidUseNativeControls)){a.$media.removeAttr(\"controls\");a.container=f('<div id=\"'+a.id+'\" class=\"mejs-container '+(mejs.MediaFeatures.svg?\"svg\":\"no-svg\")+'\"><div class=\"mejs-inner\"><div class=\"mejs-mediaelement\"></div><div class=\"mejs-layers\"></div><div class=\"mejs-controls\"></div><div class=\"mejs-clear\"></div></div></div>').addClass(a.$media[0].className).insertBefore(a.$media);\na.container.addClass((b.isAndroid?\"mejs-android \":\"\")+(b.isiOS?\"mejs-ios \":\"\")+(b.isiPad?\"mejs-ipad \":\"\")+(b.isiPhone?\"mejs-iphone \":\"\")+(a.isVideo?\"mejs-video \":\"mejs-audio \"));if(b.isiOS){b=a.$media.clone();a.container.find(\".mejs-mediaelement\").append(b);a.$media.remove();a.$node=a.$media=b;a.node=a.media=b[0]}else a.container.find(\".mejs-mediaelement\").append(a.$media);a.controls=a.container.find(\".mejs-controls\");a.layers=a.container.find(\".mejs-layers\");b=a.isVideo?\"video\":\"audio\";e=b.substring(0,\n1).toUpperCase()+b.substring(1);a.width=a.options[b+\"Width\"]>0||a.options[b+\"Width\"].toString().indexOf(\"%\")>-1?a.options[b+\"Width\"]:a.media.style.width!==\"\"&&a.media.style.width!==null?a.media.style.width:a.media.getAttribute(\"width\")!==null?a.$media.attr(\"width\"):a.options[\"default\"+e+\"Width\"];a.height=a.options[b+\"Height\"]>0||a.options[b+\"Height\"].toString().indexOf(\"%\")>-1?a.options[b+\"Height\"]:a.media.style.height!==\"\"&&a.media.style.height!==null?a.media.style.height:a.$media[0].getAttribute(\"height\")!==\nnull?a.$media.attr(\"height\"):a.options[\"default\"+e+\"Height\"];a.setPlayerSize(a.width,a.height);c.pluginWidth=a.width;c.pluginHeight=a.height}mejs.MediaElement(a.$media[0],c);typeof a.container!=\"undefined\"&&a.controlsAreVisible&&a.container.trigger(\"controlsshown\")},showControls:function(a){var b=this;a=typeof a==\"undefined\"||a;if(!b.controlsAreVisible){if(a){b.controls.css(\"visibility\",\"visible\").stop(true,true).fadeIn(200,function(){b.controlsAreVisible=true;b.container.trigger(\"controlsshown\")});\nb.container.find(\".mejs-control\").css(\"visibility\",\"visible\").stop(true,true).fadeIn(200,function(){b.controlsAreVisible=true})}else{b.controls.css(\"visibility\",\"visible\").css(\"display\",\"block\");b.container.find(\".mejs-control\").css(\"visibility\",\"visible\").css(\"display\",\"block\");b.controlsAreVisible=true;b.container.trigger(\"controlsshown\")}b.setControlsSize()}},hideControls:function(a){var b=this;a=typeof a==\"undefined\"||a;if(!(!b.controlsAreVisible||b.options.alwaysShowControls))if(a){b.controls.stop(true,\ntrue).fadeOut(200,function(){f(this).css(\"visibility\",\"hidden\").css(\"display\",\"block\");b.controlsAreVisible=false;b.container.trigger(\"controlshidden\")});b.container.find(\".mejs-control\").stop(true,true).fadeOut(200,function(){f(this).css(\"visibility\",\"hidden\").css(\"display\",\"block\")})}else{b.controls.css(\"visibility\",\"hidden\").css(\"display\",\"block\");b.container.find(\".mejs-control\").css(\"visibility\",\"hidden\").css(\"display\",\"block\");b.controlsAreVisible=false;b.container.trigger(\"controlshidden\")}},\ncontrolsTimer:null,startControlsTimer:function(a){var b=this;a=typeof a!=\"undefined\"?a:1500;b.killControlsTimer(\"start\");b.controlsTimer=setTimeout(function(){b.hideControls();b.killControlsTimer(\"hide\")},a)},killControlsTimer:function(){if(this.controlsTimer!==null){clearTimeout(this.controlsTimer);delete this.controlsTimer;this.controlsTimer=null}},controlsEnabled:true,disableControls:function(){this.killControlsTimer();this.hideControls(false);this.controlsEnabled=false},enableControls:function(){this.showControls(false);\nthis.controlsEnabled=true},meReady:function(a,b){var c=this,e=mejs.MediaFeatures,d=b.getAttribute(\"autoplay\");d=!(typeof d==\"undefined\"||d===null||d===\"false\");var g;if(!c.created){c.created=true;c.media=a;c.domNode=b;if(!(e.isAndroid&&c.options.AndroidUseNativeControls)&&!(e.isiPad&&c.options.iPadUseNativeControls)&&!(e.isiPhone&&c.options.iPhoneUseNativeControls)){c.buildposter(c,c.controls,c.layers,c.media);c.buildkeyboard(c,c.controls,c.layers,c.media);c.buildoverlays(c,c.controls,c.layers,c.media);\nc.findTracks();for(g in c.options.features){e=c.options.features[g];if(c[\"build\"+e])try{c[\"build\"+e](c,c.controls,c.layers,c.media)}catch(k){}}c.container.trigger(\"controlsready\");c.setPlayerSize(c.width,c.height);c.setControlsSize();if(c.isVideo){if(mejs.MediaFeatures.hasTouch)c.$media.bind(\"touchstart\",function(){if(c.controlsAreVisible)c.hideControls(false);else c.controlsEnabled&&c.showControls(false)});else{mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){if(c.options.clickToPlayPause)c.media.paused?\nc.media.play():c.media.pause()};c.media.addEventListener(\"click\",c.clickToPlayPauseCallback,false);c.container.bind(\"mouseenter mouseover\",function(){if(c.controlsEnabled)if(!c.options.alwaysShowControls){c.killControlsTimer(\"enter\");c.showControls();c.startControlsTimer(2500)}}).bind(\"mousemove\",function(){if(c.controlsEnabled){c.controlsAreVisible||c.showControls();c.options.alwaysShowControls||c.startControlsTimer(2500)}}).bind(\"mouseleave\",function(){c.controlsEnabled&&!c.media.paused&&!c.options.alwaysShowControls&&\nc.startControlsTimer(1E3)})}c.options.hideVideoControlsOnLoad&&c.hideControls(false);d&&!c.options.alwaysShowControls&&c.hideControls();c.options.enableAutosize&&c.media.addEventListener(\"loadedmetadata\",function(j){if(c.options.videoHeight<=0&&c.domNode.getAttribute(\"height\")===null&&!isNaN(j.target.videoHeight)){c.setPlayerSize(j.target.videoWidth,j.target.videoHeight);c.setControlsSize();c.media.setVideoSize(j.target.videoWidth,j.target.videoHeight)}},false)}a.addEventListener(\"play\",function(){for(var j in mejs.players){var m=\nmejs.players[j];m.id!=c.id&&c.options.pauseOtherPlayers&&!m.paused&&!m.ended&&m.pause();m.hasFocus=false}c.hasFocus=true},false);c.media.addEventListener(\"ended\",function(){if(c.options.autoRewind)try{c.media.setCurrentTime(0)}catch(j){}c.media.pause();c.setProgressRail&&c.setProgressRail();c.setCurrentRail&&c.setCurrentRail();if(c.options.loop)c.media.play();else!c.options.alwaysShowControls&&c.controlsEnabled&&c.showControls()},false);c.media.addEventListener(\"loadedmetadata\",function(){c.updateDuration&&\nc.updateDuration();c.updateCurrent&&c.updateCurrent();if(!c.isFullScreen){c.setPlayerSize(c.width,c.height);c.setControlsSize()}},false);setTimeout(function(){c.setPlayerSize(c.width,c.height);c.setControlsSize()},50);c.globalBind(\"resize\",function(){c.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||c.setPlayerSize(c.width,c.height);c.setControlsSize()});c.media.pluginType==\"youtube\"&&c.container.find(\".mejs-overlay-play\").hide()}if(d&&a.pluginType==\"native\"){a.load();\na.play()}if(c.options.success)typeof c.options.success==\"string\"?window[c.options.success](c.media,c.domNode,c):c.options.success(c.media,c.domNode,c)}},handleError:function(a){this.controls.hide();this.options.error&&this.options.error(a)},setPlayerSize:function(a,b){if(typeof a!=\"undefined\")this.width=a;if(typeof b!=\"undefined\")this.height=b;if(this.height.toString().indexOf(\"%\")>0||this.$node.css(\"max-width\")===\"100%\"||parseInt(this.$node.css(\"max-width\").replace(/px/,\"\"),10)/this.$node.offsetParent().width()===\n1||this.$node[0].currentStyle&&this.$node[0].currentStyle.maxWidth===\"100%\"){var c=this.isVideo?this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth:this.options.defaultAudioWidth,e=this.isVideo?this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight:this.options.defaultAudioHeight,d=this.container.parent().closest(\":visible\").width();c=this.isVideo||!this.options.autosizeProgress?parseInt(d*e/c,10):e;if(this.container.parent()[0].tagName.toLowerCase()===\n\"body\"){d=f(window).width();c=f(window).height()}if(c!=0&&d!=0){this.container.width(d).height(c);this.$media.add(this.container.find(\".mejs-shim\")).width(\"100%\").height(\"100%\");this.isVideo&&this.media.setVideoSize&&this.media.setVideoSize(d,c);this.layers.children(\".mejs-layer\").width(\"100%\").height(\"100%\")}}else{this.container.width(this.width).height(this.height);this.layers.children(\".mejs-layer\").width(this.width).height(this.height)}d=this.layers.find(\".mejs-overlay-play\");c=d.find(\".mejs-overlay-button\");\nd.height(this.container.height()-this.controls.height());c.css(\"margin-top\",\"-\"+(c.height()/2-this.controls.height()/2).toString()+\"px\")},setControlsSize:function(){var a=0,b=0,c=this.controls.find(\".mejs-time-rail\"),e=this.controls.find(\".mejs-time-total\");this.controls.find(\".mejs-time-current\");this.controls.find(\".mejs-time-loaded\");var d=c.siblings();if(this.options&&!this.options.autosizeProgress)b=parseInt(c.css(\"width\"));if(b===0||!b){d.each(function(){var g=f(this);if(g.css(\"position\")!=\n\"absolute\"&&g.is(\":visible\"))a+=f(this).outerWidth(true)});b=this.controls.width()-a-(c.outerWidth(true)-c.width())}c.width(b);e.width(b-(e.outerWidth(true)-e.width()));this.setProgressRail&&this.setProgressRail();this.setCurrentRail&&this.setCurrentRail()},buildposter:function(a,b,c,e){var d=f('<div class=\"mejs-poster mejs-layer\"></div>').appendTo(c);b=a.$media.attr(\"poster\");if(a.options.poster!==\"\")b=a.options.poster;b!==\"\"&&b!=null?this.setPoster(b):d.hide();e.addEventListener(\"play\",function(){d.hide()},\nfalse);a.options.showPosterWhenEnded&&a.options.autoRewind&&e.addEventListener(\"ended\",function(){d.show()},false)},setPoster:function(a){var b=this.container.find(\".mejs-poster\"),c=b.find(\"img\");if(c.length==0)c=f('<img width=\"100%\" height=\"100%\" />').appendTo(b);c.attr(\"src\",a);b.css({\"background-image\":\"url(\"+a+\")\"})},buildoverlays:function(a,b,c,e){var d=this;if(a.isVideo){var g=f('<div class=\"mejs-overlay mejs-layer\"><div class=\"mejs-overlay-loading\"><span></span></div></div>').hide().appendTo(c),\nk=f('<div class=\"mejs-overlay mejs-layer\"><div class=\"mejs-overlay-error\"></div></div>').hide().appendTo(c),j=f('<div class=\"mejs-overlay mejs-layer mejs-overlay-play\"><div class=\"mejs-overlay-button\"></div></div>').appendTo(c).click(function(){if(d.options.clickToPlayPause)e.paused?e.play():e.pause()});e.addEventListener(\"play\",function(){j.hide();g.hide();b.find(\".mejs-time-buffering\").hide();k.hide()},false);e.addEventListener(\"playing\",function(){j.hide();g.hide();b.find(\".mejs-time-buffering\").hide();\nk.hide()},false);e.addEventListener(\"seeking\",function(){g.show();b.find(\".mejs-time-buffering\").show()},false);e.addEventListener(\"seeked\",function(){g.hide();b.find(\".mejs-time-buffering\").hide()},false);e.addEventListener(\"pause\",function(){mejs.MediaFeatures.isiPhone||j.show()},false);e.addEventListener(\"waiting\",function(){g.show();b.find(\".mejs-time-buffering\").show()},false);e.addEventListener(\"loadeddata\",function(){g.show();b.find(\".mejs-time-buffering\").show()},false);e.addEventListener(\"canplay\",\nfunction(){g.hide();b.find(\".mejs-time-buffering\").hide()},false);e.addEventListener(\"error\",function(){g.hide();b.find(\".mejs-time-buffering\").hide();k.show();k.find(\"mejs-overlay-error\").html(\"Error loading this resource\")},false)}},buildkeyboard:function(a,b,c,e){this.globalBind(\"keydown\",function(d){if(a.hasFocus&&a.options.enableKeyboard)for(var g=0,k=a.options.keyActions.length;g<k;g++)for(var j=a.options.keyActions[g],m=0,q=j.keys.length;m<q;m++)if(d.keyCode==j.keys[m]){d.preventDefault();\nj.action(a,e,d.keyCode);return false}return true});this.globalBind(\"click\",function(d){if(f(d.target).closest(\".mejs-container\").length==0)a.hasFocus=false})},findTracks:function(){var a=this,b=a.$media.find(\"track\");a.tracks=[];b.each(function(c,e){e=f(e);a.tracks.push({srclang:e.attr(\"srclang\")?e.attr(\"srclang\").toLowerCase():\"\",src:e.attr(\"src\"),kind:e.attr(\"kind\"),label:e.attr(\"label\")||\"\",entries:[],isLoaded:false})})},changeSkin:function(a){this.container[0].className=\"mejs-container \"+a;this.setPlayerSize(this.width,\nthis.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){try{this.media.pause()}catch(a){}},load:function(){this.media.load()},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var a,b;for(a in this.options.features){b=\nthis.options.features[a];if(this[\"clean\"+b])try{this[\"clean\"+b](this)}catch(c){}}if(this.isDynamic)this.$node.insertBefore(this.container);else{this.$media.prop(\"controls\",true);this.$node.clone().show().insertBefore(this.container);this.$node.remove()}this.media.pluginType!==\"native\"&&this.media.remove();delete mejs.players[this.id];this.container.remove();this.globalUnbind();delete this.node.player}};(function(){function a(c,e){var d={d:[],w:[]};f.each((c||\"\").split(\" \"),function(g,k){var j=k+\".\"+\ne;if(j.indexOf(\".\")===0){d.d.push(j);d.w.push(j)}else d[b.test(k)?\"w\":\"d\"].push(j)});d.d=d.d.join(\" \");d.w=d.w.join(\" \");return d}var b=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\\b/;mejs.MediaElementPlayer.prototype.globalBind=function(c,e,d){c=a(c,this.id);c.d&&f(document).bind(c.d,e,d);c.w&&f(window).bind(c.w,e,d)};mejs.MediaElementPlayer.prototype.globalUnbind=function(c,e){c=a(c,this.id);c.d&&f(document).unbind(c.d,e);c.w&&f(window).unbind(c.w,\ne)}})();if(typeof jQuery!=\"undefined\")jQuery.fn.mediaelementplayer=function(a){a===false?this.each(function(){var b=jQuery(this).data(\"mediaelementplayer\");b&&b.remove();jQuery(this).removeData(\"mediaelementplayer\")}):this.each(function(){jQuery(this).data(\"mediaelementplayer\",new mejs.MediaElementPlayer(this,a))});return this};f(document).ready(function(){f(\".mejs-player\").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t(\"Play/Pause\")});f.extend(MediaElementPlayer.prototype,{buildplaypause:function(a,b,c,e){var d=f('<div class=\"mejs-button mejs-playpause-button mejs-play\" ><button type=\"button\" aria-controls=\"'+this.id+'\" title=\"'+this.options.playpauseText+'\" aria-label=\"'+this.options.playpauseText+'\"></button></div>').appendTo(b).click(function(g){g.preventDefault();e.paused?e.play():e.pause();return false});e.addEventListener(\"play\",function(){d.removeClass(\"mejs-play\").addClass(\"mejs-pause\")},\nfalse);e.addEventListener(\"playing\",function(){d.removeClass(\"mejs-play\").addClass(\"mejs-pause\")},false);e.addEventListener(\"pause\",function(){d.removeClass(\"mejs-pause\").addClass(\"mejs-play\")},false);e.addEventListener(\"paused\",function(){d.removeClass(\"mejs-pause\").addClass(\"mejs-play\")},false)}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{stopText:\"Stop\"});f.extend(MediaElementPlayer.prototype,{buildstop:function(a,b,c,e){f('<div class=\"mejs-button mejs-stop-button mejs-stop\"><button type=\"button\" aria-controls=\"'+this.id+'\" title=\"'+this.options.stopText+'\" aria-label=\"'+this.options.stopText+'\"></button></div>').appendTo(b).click(function(){e.paused||e.pause();if(e.currentTime>0){e.setCurrentTime(0);e.pause();b.find(\".mejs-time-current\").width(\"0px\");b.find(\".mejs-time-handle\").css(\"left\",\n\"0px\");b.find(\".mejs-time-float-current\").html(mejs.Utility.secondsToTimeCode(0));b.find(\".mejs-currenttime\").html(mejs.Utility.secondsToTimeCode(0));c.find(\".mejs-poster\").show()}})}})})(mejs.$);\n(function(f){f.extend(MediaElementPlayer.prototype,{buildprogress:function(a,b,c,e){f('<div class=\"mejs-time-rail\"><span class=\"mejs-time-total\"><span class=\"mejs-time-buffering\"></span><span class=\"mejs-time-loaded\"></span><span class=\"mejs-time-current\"></span><span class=\"mejs-time-handle\"></span><span class=\"mejs-time-float\"><span class=\"mejs-time-float-current\">00:00</span><span class=\"mejs-time-float-corner\"></span></span></span></div>').appendTo(b);b.find(\".mejs-time-buffering\").hide();var d=\nthis,g=b.find(\".mejs-time-total\");c=b.find(\".mejs-time-loaded\");var k=b.find(\".mejs-time-current\"),j=b.find(\".mejs-time-handle\"),m=b.find(\".mejs-time-float\"),q=b.find(\".mejs-time-float-current\"),p=function(h){h=h.pageX;var l=g.offset(),r=g.outerWidth(true),n=0,o=n=0;if(e.duration){if(h<l.left)h=l.left;else if(h>r+l.left)h=r+l.left;o=h-l.left;n=o/r;n=n<=0.02?0:n*e.duration;t&&n!==e.currentTime&&e.setCurrentTime(n);if(!mejs.MediaFeatures.hasTouch){m.css(\"left\",o);q.html(mejs.Utility.secondsToTimeCode(n));\nm.show()}}},t=false;g.bind(\"mousedown\",function(h){if(h.which===1){t=true;p(h);d.globalBind(\"mousemove.dur\",function(l){p(l)});d.globalBind(\"mouseup.dur\",function(){t=false;m.hide();d.globalUnbind(\".dur\")});return false}}).bind(\"mouseenter\",function(){d.globalBind(\"mousemove.dur\",function(h){p(h)});mejs.MediaFeatures.hasTouch||m.show()}).bind(\"mouseleave\",function(){if(!t){d.globalUnbind(\".dur\");m.hide()}});e.addEventListener(\"progress\",function(h){a.setProgressRail(h);a.setCurrentRail(h)},false);\ne.addEventListener(\"timeupdate\",function(h){a.setProgressRail(h);a.setCurrentRail(h)},false);d.loaded=c;d.total=g;d.current=k;d.handle=j},setProgressRail:function(a){var b=a!=undefined?a.target:this.media,c=null;if(b&&b.buffered&&b.buffered.length>0&&b.buffered.end&&b.duration)c=b.buffered.end(0)/b.duration;else if(b&&b.bytesTotal!=undefined&&b.bytesTotal>0&&b.bufferedBytes!=undefined)c=b.bufferedBytes/b.bytesTotal;else if(a&&a.lengthComputable&&a.total!=0)c=a.loaded/a.total;if(c!==null){c=Math.min(1,\nMath.max(0,c));this.loaded&&this.total&&this.loaded.width(this.total.width()*c)}},setCurrentRail:function(){if(this.media.currentTime!=undefined&&this.media.duration)if(this.total&&this.handle){var a=Math.round(this.total.width()*this.media.currentTime/this.media.duration),b=a-Math.round(this.handle.outerWidth(true)/2);this.current.width(a);this.handle.css(\"left\",b)}}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:\"<span> | </span>\"});f.extend(MediaElementPlayer.prototype,{buildcurrent:function(a,b,c,e){f('<div class=\"mejs-time\"><span class=\"mejs-currenttime\">'+(a.options.alwaysShowHours?\"00:\":\"\")+(a.options.showTimecodeFrameCount?\"00:00:00\":\"00:00\")+\"</span></div>\").appendTo(b);this.currenttime=this.controls.find(\".mejs-currenttime\");e.addEventListener(\"timeupdate\",function(){a.updateCurrent()},false)},buildduration:function(a,b,\nc,e){if(b.children().last().find(\".mejs-currenttime\").length>0)f(this.options.timeAndDurationSeparator+'<span class=\"mejs-duration\">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(a.options.alwaysShowHours?\"00:\":\"\")+(a.options.showTimecodeFrameCount?\"00:00:00\":\"00:00\"))+\"</span>\").appendTo(b.find(\".mejs-time\"));else{b.find(\".mejs-currenttime\").parent().addClass(\"mejs-currenttime-container\");\nf('<div class=\"mejs-time mejs-duration-container\"><span class=\"mejs-duration\">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(a.options.alwaysShowHours?\"00:\":\"\")+(a.options.showTimecodeFrameCount?\"00:00:00\":\"00:00\"))+\"</span></div>\").appendTo(b)}this.durationD=this.controls.find(\".mejs-duration\");e.addEventListener(\"timeupdate\",function(){a.updateDuration()},\nfalse)},updateCurrent:function(){if(this.currenttime)this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))},updateDuration:function(){this.container.toggleClass(\"mejs-long-video\",this.media.duration>3600);if(this.durationD&&(this.options.duration>0||this.media.duration))this.durationD.html(mejs.Utility.secondsToTimeCode(this.options.duration>0?this.options.duration:\nthis.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{muteText:mejs.i18n.t(\"Mute Toggle\"),hideVolumeOnTouchDevices:true,audioVolume:\"horizontal\",videoVolume:\"vertical\"});f.extend(MediaElementPlayer.prototype,{buildvolume:function(a,b,c,e){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){var d=this,g=d.isVideo?d.options.videoVolume:d.options.audioVolume,k=g==\"horizontal\"?f('<div class=\"mejs-button mejs-volume-button mejs-mute\"><button type=\"button\" aria-controls=\"'+d.id+'\" title=\"'+d.options.muteText+\n'\" aria-label=\"'+d.options.muteText+'\"></button></div><div class=\"mejs-horizontal-volume-slider\"><div class=\"mejs-horizontal-volume-total\"></div><div class=\"mejs-horizontal-volume-current\"></div><div class=\"mejs-horizontal-volume-handle\"></div></div>').appendTo(b):f('<div class=\"mejs-button mejs-volume-button mejs-mute\"><button type=\"button\" aria-controls=\"'+d.id+'\" title=\"'+d.options.muteText+'\" aria-label=\"'+d.options.muteText+'\"></button><div class=\"mejs-volume-slider\"><div class=\"mejs-volume-total\"></div><div class=\"mejs-volume-current\"></div><div class=\"mejs-volume-handle\"></div></div></div>').appendTo(b),\nj=d.container.find(\".mejs-volume-slider, .mejs-horizontal-volume-slider\"),m=d.container.find(\".mejs-volume-total, .mejs-horizontal-volume-total\"),q=d.container.find(\".mejs-volume-current, .mejs-horizontal-volume-current\"),p=d.container.find(\".mejs-volume-handle, .mejs-horizontal-volume-handle\"),t=function(n,o){if(!j.is(\":visible\")&&typeof o==\"undefined\"){j.show();t(n,true);j.hide()}else{n=Math.max(0,n);n=Math.min(n,1);n==0?k.removeClass(\"mejs-mute\").addClass(\"mejs-unmute\"):k.removeClass(\"mejs-unmute\").addClass(\"mejs-mute\");\nif(g==\"vertical\"){var s=m.height(),u=m.position(),v=s-s*n;p.css(\"top\",Math.round(u.top+v-p.height()/2));q.height(s-v);q.css(\"top\",u.top+v)}else{s=m.width();u=m.position();s=s*n;p.css(\"left\",Math.round(u.left+s-p.width()/2));q.width(Math.round(s))}}},h=function(n){var o=null,s=m.offset();if(g==\"vertical\"){o=m.height();parseInt(m.css(\"top\").replace(/px/,\"\"),10);o=(o-(n.pageY-s.top))/o;if(s.top==0||s.left==0)return}else{o=m.width();o=(n.pageX-s.left)/o}o=Math.max(0,o);o=Math.min(o,1);t(o);o==0?e.setMuted(true):\ne.setMuted(false);e.setVolume(o)},l=false,r=false;k.hover(function(){j.show();r=true},function(){r=false;!l&&g==\"vertical\"&&j.hide()});j.bind(\"mouseover\",function(){r=true}).bind(\"mousedown\",function(n){h(n);d.globalBind(\"mousemove.vol\",function(o){h(o)});d.globalBind(\"mouseup.vol\",function(){l=false;d.globalUnbind(\".vol\");!r&&g==\"vertical\"&&j.hide()});l=true;return false});k.find(\"button\").click(function(){e.setMuted(!e.muted)});e.addEventListener(\"volumechange\",function(){if(!l)if(e.muted){t(0);\nk.removeClass(\"mejs-mute\").addClass(\"mejs-unmute\")}else{t(e.volume);k.removeClass(\"mejs-unmute\").addClass(\"mejs-mute\")}},false);if(d.container.is(\":visible\")){t(a.options.startVolume);a.options.startVolume===0&&e.setMuted(true);e.pluginType===\"native\"&&e.setVolume(a.options.startVolume)}}}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return\"\"},fullscreenText:mejs.i18n.t(\"Fullscreen\")});f.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,isInIframe:false,buildfullscreen:function(a,b,c,e){if(a.isVideo){a.isInIframe=window.location!=window.parent.location;if(mejs.MediaFeatures.hasTrueNativeFullScreen){c=function(){if(a.isFullScreen)if(mejs.MediaFeatures.isFullScreen()){a.isNativeFullScreen=true;a.setControlsSize()}else{a.isNativeFullScreen=\nfalse;a.exitFullScreen()}};mejs.MediaFeatures.hasMozNativeFullScreen?a.globalBind(mejs.MediaFeatures.fullScreenEventName,c):a.container.bind(mejs.MediaFeatures.fullScreenEventName,c)}var d=this,g=f('<div class=\"mejs-button mejs-fullscreen-button\"><button type=\"button\" aria-controls=\"'+d.id+'\" title=\"'+d.options.fullscreenText+'\" aria-label=\"'+d.options.fullscreenText+'\"></button></div>').appendTo(b);if(d.media.pluginType===\"native\"||!d.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)g.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&\nmejs.MediaFeatures.isFullScreen()||a.isFullScreen?a.exitFullScreen():a.enterFullScreen()});else{var k=null;if(function(){var h=document.createElement(\"x\"),l=document.documentElement,r=window.getComputedStyle;if(!(\"pointerEvents\"in h.style))return false;h.style.pointerEvents=\"auto\";h.style.pointerEvents=\"x\";l.appendChild(h);r=r&&r(h,\"\").pointerEvents===\"auto\";l.removeChild(h);return!!r}()&&!mejs.MediaFeatures.isOpera){var j=false,m=function(){if(j){for(var h in q)q[h].hide();g.css(\"pointer-events\",\n\"\");d.controls.css(\"pointer-events\",\"\");d.media.removeEventListener(\"click\",d.clickToPlayPauseCallback);j=false}},q={};b=[\"top\",\"left\",\"right\",\"bottom\"];var p,t=function(){var h=g.offset().left-d.container.offset().left,l=g.offset().top-d.container.offset().top,r=g.outerWidth(true),n=g.outerHeight(true),o=d.container.width(),s=d.container.height();for(p in q)q[p].css({position:\"absolute\",top:0,left:0});q.top.width(o).height(l);q.left.width(h).height(n).css({top:l});q.right.width(o-h-r).height(n).css({top:l,\nleft:h+r});q.bottom.width(o).height(s-n-l).css({top:l+n})};d.globalBind(\"resize\",function(){t()});p=0;for(c=b.length;p<c;p++)q[b[p]]=f('<div class=\"mejs-fullscreen-hover\" />').appendTo(d.container).mouseover(m).hide();g.on(\"mouseover\",function(){if(!d.isFullScreen){var h=g.offset(),l=a.container.offset();e.positionFullscreenButton(h.left-l.left,h.top-l.top,false);g.css(\"pointer-events\",\"none\");d.controls.css(\"pointer-events\",\"none\");d.media.addEventListener(\"click\",d.clickToPlayPauseCallback);for(p in q)q[p].show();\nt();j=true}});e.addEventListener(\"fullscreenchange\",function(){d.isFullScreen=!d.isFullScreen;d.isFullScreen?d.media.removeEventListener(\"click\",d.clickToPlayPauseCallback):d.media.addEventListener(\"click\",d.clickToPlayPauseCallback);m()});d.globalBind(\"mousemove\",function(h){if(j){var l=g.offset();if(h.pageY<l.top||h.pageY>l.top+g.outerHeight(true)||h.pageX<l.left||h.pageX>l.left+g.outerWidth(true)){g.css(\"pointer-events\",\"\");d.controls.css(\"pointer-events\",\"\");j=false}}})}else g.on(\"mouseover\",\nfunction(){if(k!==null){clearTimeout(k);delete k}var h=g.offset(),l=a.container.offset();e.positionFullscreenButton(h.left-l.left,h.top-l.top,true)}).on(\"mouseout\",function(){if(k!==null){clearTimeout(k);delete k}k=setTimeout(function(){e.hideFullscreenButton()},1500)})}a.fullscreenBtn=g;d.globalBind(\"keydown\",function(h){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||d.isFullScreen)&&h.keyCode==27)a.exitFullScreen()})}},cleanfullscreen:function(a){a.exitFullScreen()},\ncontainerSizeTimeout:null,enterFullScreen:function(){var a=this;if(!(a.media.pluginType!==\"native\"&&(mejs.MediaFeatures.isFirefox||a.options.usePluginFullScreen))){f(document.documentElement).addClass(\"mejs-fullscreen\");normalHeight=a.container.height();normalWidth=a.container.width();if(a.media.pluginType===\"native\")if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(a.container[0]);a.isInIframe&&setTimeout(function c(){if(a.isNativeFullScreen)f(window).width()!==\nscreen.width?a.exitFullScreen():setTimeout(c,500)},500)}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){a.media.webkitEnterFullscreen();return}if(a.isInIframe){var b=a.options.newWindowCallback(this);if(b!==\"\")if(mejs.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!a.isNativeFullScreen){a.pause();window.open(b,a.id,\"top=0,left=0,width=\"+screen.availWidth+\",height=\"+screen.availHeight+\",resizable=yes,scrollbars=no,status=no,toolbar=no\")}},250);else{a.pause();window.open(b,a.id,\n\"top=0,left=0,width=\"+screen.availWidth+\",height=\"+screen.availHeight+\",resizable=yes,scrollbars=no,status=no,toolbar=no\");return}}a.container.addClass(\"mejs-container-fullscreen\").width(\"100%\").height(\"100%\");a.containerSizeTimeout=setTimeout(function(){a.container.css({width:\"100%\",height:\"100%\"});a.setControlsSize()},500);if(a.media.pluginType===\"native\")a.$media.width(\"100%\").height(\"100%\");else{a.container.find(\".mejs-shim\").width(\"100%\").height(\"100%\");a.media.setVideoSize(f(window).width(),\nf(window).height())}a.layers.children(\"div\").width(\"100%\").height(\"100%\");a.fullscreenBtn&&a.fullscreenBtn.removeClass(\"mejs-fullscreen\").addClass(\"mejs-unfullscreen\");a.setControlsSize();a.isFullScreen=true}},exitFullScreen:function(){clearTimeout(this.containerSizeTimeout);if(this.media.pluginType!==\"native\"&&mejs.MediaFeatures.isFirefox)this.media.setFullscreen(false);else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||this.isFullScreen))mejs.MediaFeatures.cancelFullScreen();\nf(document.documentElement).removeClass(\"mejs-fullscreen\");this.container.removeClass(\"mejs-container-fullscreen\").width(normalWidth).height(normalHeight);if(this.media.pluginType===\"native\")this.$media.width(normalWidth).height(normalHeight);else{this.container.find(\".mejs-shim\").width(normalWidth).height(normalHeight);this.media.setVideoSize(normalWidth,normalHeight)}this.layers.children(\"div\").width(normalWidth).height(normalHeight);this.fullscreenBtn.removeClass(\"mejs-unfullscreen\").addClass(\"mejs-fullscreen\");\nthis.setControlsSize();this.isFullScreen=false}}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{startLanguage:\"\",tracksText:mejs.i18n.t(\"Captions/Subtitles\"),hideCaptionsButtonWhenEmpty:true,toggleCaptionsButtonWhenOnlyOne:false,slidesSelector:\"\"});f.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(a,b,c,e){if(a.tracks.length!=0){var d;if(this.domNode.textTracks)for(d=this.domNode.textTracks.length-1;d>=0;d--)this.domNode.textTracks[d].mode=\"hidden\";a.chapters=f('<div class=\"mejs-chapters mejs-layer\"></div>').prependTo(c).hide();a.captions=\nf('<div class=\"mejs-captions-layer mejs-layer\"><div class=\"mejs-captions-position mejs-captions-position-hover\"><span class=\"mejs-captions-text\"></span></div></div>').prependTo(c).hide();a.captionsText=a.captions.find(\".mejs-captions-text\");a.captionsButton=f('<div class=\"mejs-button mejs-captions-button\"><button type=\"button\" aria-controls=\"'+this.id+'\" title=\"'+this.options.tracksText+'\" aria-label=\"'+this.options.tracksText+'\"></button><div class=\"mejs-captions-selector\"><ul><li><input type=\"radio\" name=\"'+\na.id+'_captions\" id=\"'+a.id+'_captions_none\" value=\"none\" checked=\"checked\" /><label for=\"'+a.id+'_captions_none\">'+mejs.i18n.t(\"None\")+\"</label></li></ul></div></div>\").appendTo(b);for(d=b=0;d<a.tracks.length;d++)a.tracks[d].kind==\"subtitles\"&&b++;this.options.toggleCaptionsButtonWhenOnlyOne&&b==1?a.captionsButton.on(\"click\",function(){a.setTrack(a.selectedTrack==null?a.tracks[0].srclang:\"none\")}):a.captionsButton.hover(function(){f(this).find(\".mejs-captions-selector\").css(\"visibility\",\"visible\")},\nfunction(){f(this).find(\".mejs-captions-selector\").css(\"visibility\",\"hidden\")}).on(\"click\",\"input[type=radio]\",function(){lang=this.value;a.setTrack(lang)});a.options.alwaysShowControls?a.container.find(\".mejs-captions-position\").addClass(\"mejs-captions-position-hover\"):a.container.bind(\"controlsshown\",function(){a.container.find(\".mejs-captions-position\").addClass(\"mejs-captions-position-hover\")}).bind(\"controlshidden\",function(){e.paused||a.container.find(\".mejs-captions-position\").removeClass(\"mejs-captions-position-hover\")});\na.trackToLoad=-1;a.selectedTrack=null;a.isLoadingTrack=false;for(d=0;d<a.tracks.length;d++)a.tracks[d].kind==\"subtitles\"&&a.addTrackButton(a.tracks[d].srclang,a.tracks[d].label);a.loadNextTrack();e.addEventListener(\"timeupdate\",function(){a.displayCaptions()},false);if(a.options.slidesSelector!=\"\"){a.slidesContainer=f(a.options.slidesSelector);e.addEventListener(\"timeupdate\",function(){a.displaySlides()},false)}e.addEventListener(\"loadedmetadata\",function(){a.displayChapters()},false);a.container.hover(function(){if(a.hasChapters){a.chapters.css(\"visibility\",\n\"visible\");a.chapters.fadeIn(200).height(a.chapters.find(\".mejs-chapter\").outerHeight())}},function(){a.hasChapters&&!e.paused&&a.chapters.fadeOut(200,function(){f(this).css(\"visibility\",\"hidden\");f(this).css(\"display\",\"block\")})});a.node.getAttribute(\"autoplay\")!==null&&a.chapters.css(\"visibility\",\"hidden\")}},setTrack:function(a){var b;if(a==\"none\"){this.selectedTrack=null;this.captionsButton.removeClass(\"mejs-captions-enabled\")}else for(b=0;b<this.tracks.length;b++)if(this.tracks[b].srclang==a){this.selectedTrack==\nnull&&this.captionsButton.addClass(\"mejs-captions-enabled\");this.selectedTrack=this.tracks[b];this.captions.attr(\"lang\",this.selectedTrack.srclang);this.displayCaptions();break}},loadNextTrack:function(){this.trackToLoad++;if(this.trackToLoad<this.tracks.length){this.isLoadingTrack=true;this.loadTrack(this.trackToLoad)}else{this.isLoadingTrack=false;this.checkForTracks()}},loadTrack:function(a){var b=this,c=b.tracks[a];f.ajax({url:c.src,dataType:\"text\",success:function(e){c.entries=typeof e==\"string\"&&\n/<tt\\s+xml/ig.exec(e)?mejs.TrackFormatParser.dfxp.parse(e):mejs.TrackFormatParser.webvvt.parse(e);c.isLoaded=true;b.enableTrackButton(c.srclang,c.label);b.loadNextTrack();c.kind==\"chapters\"&&b.media.addEventListener(\"play\",function(){b.media.duration>0&&b.displayChapters(c)},false);c.kind==\"slides\"&&b.setupSlides(c)},error:function(){b.loadNextTrack()}})},enableTrackButton:function(a,b){if(b===\"\")b=mejs.language.codes[a]||a;this.captionsButton.find(\"input[value=\"+a+\"]\").prop(\"disabled\",false).siblings(\"label\").html(b);\nthis.options.startLanguage==a&&f(\"#\"+this.id+\"_captions_\"+a).click();this.adjustLanguageBox()},addTrackButton:function(a,b){if(b===\"\")b=mejs.language.codes[a]||a;this.captionsButton.find(\"ul\").append(f('<li><input type=\"radio\" name=\"'+this.id+'_captions\" id=\"'+this.id+\"_captions_\"+a+'\" value=\"'+a+'\" disabled=\"disabled\" /><label for=\"'+this.id+\"_captions_\"+a+'\">'+b+\" (loading)</label></li>\"));this.adjustLanguageBox();this.container.find(\".mejs-captions-translations option[value=\"+a+\"]\").remove()},\nadjustLanguageBox:function(){this.captionsButton.find(\".mejs-captions-selector\").height(this.captionsButton.find(\".mejs-captions-selector ul\").outerHeight(true)+this.captionsButton.find(\".mejs-captions-translations\").outerHeight(true))},checkForTracks:function(){var a=false;if(this.options.hideCaptionsButtonWhenEmpty){for(i=0;i<this.tracks.length;i++)if(this.tracks[i].kind==\"subtitles\"){a=true;break}if(!a){this.captionsButton.hide();this.setControlsSize()}}},displayCaptions:function(){if(typeof this.tracks!=\n\"undefined\"){var a,b=this.selectedTrack;if(b!=null&&b.isLoaded)for(a=0;a<b.entries.times.length;a++)if(this.media.currentTime>=b.entries.times[a].start&&this.media.currentTime<=b.entries.times[a].stop){this.captionsText.html(b.entries.text[a]);this.captions.show().height(0);return}this.captions.hide()}},setupSlides:function(a){this.slides=a;this.slides.entries.imgs=[this.slides.entries.text.length];this.showSlide(0)},showSlide:function(a){if(!(typeof this.tracks==\"undefined\"||typeof this.slidesContainer==\n\"undefined\")){var b=this,c=b.slides.entries.text[a],e=b.slides.entries.imgs[a];if(typeof e==\"undefined\"||typeof e.fadeIn==\"undefined\")b.slides.entries.imgs[a]=e=f('<img src=\"'+c+'\">').on(\"load\",function(){e.appendTo(b.slidesContainer).hide().fadeIn().siblings(\":visible\").fadeOut()});else!e.is(\":visible\")&&!e.is(\":animated\")&&e.fadeIn().siblings(\":visible\").fadeOut()}},displaySlides:function(){if(typeof this.slides!=\"undefined\"){var a=this.slides,b;for(b=0;b<a.entries.times.length;b++)if(this.media.currentTime>=\na.entries.times[b].start&&this.media.currentTime<=a.entries.times[b].stop){this.showSlide(b);break}}},displayChapters:function(){var a;for(a=0;a<this.tracks.length;a++)if(this.tracks[a].kind==\"chapters\"&&this.tracks[a].isLoaded){this.drawChapters(this.tracks[a]);this.hasChapters=true;break}},drawChapters:function(a){var b=this,c,e,d=e=0;b.chapters.empty();for(c=0;c<a.entries.times.length;c++){e=a.entries.times[c].stop-a.entries.times[c].start;e=Math.floor(e/b.media.duration*100);if(e+d>100||c==a.entries.times.length-\n1&&e+d<100)e=100-d;b.chapters.append(f('<div class=\"mejs-chapter\" rel=\"'+a.entries.times[c].start+'\" style=\"left: '+d.toString()+\"%;width: \"+e.toString()+'%;\"><div class=\"mejs-chapter-block'+(c==a.entries.times.length-1?\" mejs-chapter-block-last\":\"\")+'\"><span class=\"ch-title\">'+a.entries.text[c]+'</span><span class=\"ch-time\">'+mejs.Utility.secondsToTimeCode(a.entries.times[c].start)+\"&ndash;\"+mejs.Utility.secondsToTimeCode(a.entries.times[c].stop)+\"</span></div></div>\"));d+=e}b.chapters.find(\"div.mejs-chapter\").click(function(){b.media.setCurrentTime(parseFloat(f(this).attr(\"rel\")));\nb.media.paused&&b.media.play()});b.chapters.show()}});mejs.language={codes:{af:\"Afrikaans\",sq:\"Albanian\",ar:\"Arabic\",be:\"Belarusian\",bg:\"Bulgarian\",ca:\"Catalan\",zh:\"Chinese\",\"zh-cn\":\"Chinese Simplified\",\"zh-tw\":\"Chinese Traditional\",hr:\"Croatian\",cs:\"Czech\",da:\"Danish\",nl:\"Dutch\",en:\"English\",et:\"Estonian\",tl:\"Filipino\",fi:\"Finnish\",fr:\"French\",gl:\"Galician\",de:\"German\",el:\"Greek\",ht:\"Haitian Creole\",iw:\"Hebrew\",hi:\"Hindi\",hu:\"Hungarian\",is:\"Icelandic\",id:\"Indonesian\",ga:\"Irish\",it:\"Italian\",ja:\"Japanese\",\nko:\"Korean\",lv:\"Latvian\",lt:\"Lithuanian\",mk:\"Macedonian\",ms:\"Malay\",mt:\"Maltese\",no:\"Norwegian\",fa:\"Persian\",pl:\"Polish\",pt:\"Portuguese\",ro:\"Romanian\",ru:\"Russian\",sr:\"Serbian\",sk:\"Slovak\",sl:\"Slovenian\",es:\"Spanish\",sw:\"Swahili\",sv:\"Swedish\",tl:\"Tagalog\",th:\"Thai\",tr:\"Turkish\",uk:\"Ukrainian\",vi:\"Vietnamese\",cy:\"Welsh\",yi:\"Yiddish\"}};mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,\nparse:function(a){var b=0;a=mejs.TrackFormatParser.split2(a,/\\r?\\n/);for(var c={text:[],times:[]},e,d;b<a.length;b++)if(this.pattern_identifier.exec(a[b])){b++;if((e=this.pattern_timecode.exec(a[b]))&&b<a.length){b++;d=a[b];for(b++;a[b]!==\"\"&&b<a.length;){d=d+\"\\n\"+a[b];b++}d=f.trim(d).replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig,\"<a href='$1' target='_blank'>$1</a>\");c.text.push(d);c.times.push({start:mejs.Utility.convertSMPTEtoSeconds(e[1])==0?0.2:mejs.Utility.convertSMPTEtoSeconds(e[1]),\nstop:mejs.Utility.convertSMPTEtoSeconds(e[3]),settings:e[5]})}}return c}},dfxp:{parse:function(a){a=f(a).filter(\"tt\");var b=0;b=a.children(\"div\").eq(0);var c=b.find(\"p\");b=a.find(\"#\"+b.attr(\"style\"));var e,d;a={text:[],times:[]};if(b.length){d=b.removeAttr(\"id\").get(0).attributes;if(d.length){e={};for(b=0;b<d.length;b++)e[d[b].name.split(\":\")[1]]=d[b].value}}for(b=0;b<c.length;b++){var g;d={start:null,stop:null,style:null};if(c.eq(b).attr(\"begin\"))d.start=mejs.Utility.convertSMPTEtoSeconds(c.eq(b).attr(\"begin\"));\nif(!d.start&&c.eq(b-1).attr(\"end\"))d.start=mejs.Utility.convertSMPTEtoSeconds(c.eq(b-1).attr(\"end\"));if(c.eq(b).attr(\"end\"))d.stop=mejs.Utility.convertSMPTEtoSeconds(c.eq(b).attr(\"end\"));if(!d.stop&&c.eq(b+1).attr(\"begin\"))d.stop=mejs.Utility.convertSMPTEtoSeconds(c.eq(b+1).attr(\"begin\"));if(e){g=\"\";for(var k in e)g+=k+\":\"+e[k]+\";\"}if(g)d.style=g;if(d.start==0)d.start=0.2;a.times.push(d);d=f.trim(c.eq(b).html()).replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig,\n\"<a href='$1' target='_blank'>$1</a>\");a.text.push(d);if(a.times.start==0)a.times.start=2}return a}},split2:function(a,b){return a.split(b)}};if(\"x\\n\\ny\".split(/\\n/gi).length!=3)mejs.TrackFormatParser.split2=function(a,b){var c=[],e=\"\",d;for(d=0;d<a.length;d++){e+=a.substring(d,d+1);if(b.test(e)){c.push(e.replace(b,\"\"));e=\"\"}}c.push(e);return c}})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){if(typeof a.enterFullScreen==\"undefined\")return null;return a.isFullScreen?mejs.i18n.t(\"Turn off Fullscreen\"):mejs.i18n.t(\"Go Fullscreen\")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t(\"Unmute\"):mejs.i18n.t(\"Mute\")},click:function(a){a.media.muted?a.setMuted(false):a.setMuted(true)}},{isSeparator:true},{render:function(){return mejs.i18n.t(\"Download Video\")},\nclick:function(a){window.location.href=a.media.currentSrc}}]});f.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(a){a.contextMenu=f('<div class=\"mejs-contextmenu\"></div>').appendTo(f(\"body\")).hide();a.container.bind(\"contextmenu\",function(b){if(a.isContextMenuEnabled){b.preventDefault();a.renderContextMenu(b.clientX-1,b.clientY-1);return false}});a.container.bind(\"click\",function(){a.contextMenu.hide()});a.contextMenu.bind(\"mouseleave\",function(){a.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},\nisContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer();a.contextMenuTimer=setTimeout(function(){a.hideContextMenu();a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;if(a!=null){clearTimeout(a);delete a}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(a,\nb){for(var c=this,e=\"\",d=c.options.contextMenuItems,g=0,k=d.length;g<k;g++)if(d[g].isSeparator)e+='<div class=\"mejs-contextmenu-separator\"></div>';else{var j=d[g].render(c);if(j!=null)e+='<div class=\"mejs-contextmenu-item\" data-itemindex=\"'+g+'\" id=\"element-'+Math.random()*1E6+'\">'+j+\"</div>\"}c.contextMenu.empty().append(f(e)).css({top:b,left:a}).show();c.contextMenu.find(\".mejs-contextmenu-item\").each(function(){var m=f(this),q=parseInt(m.data(\"itemindex\"),10),p=c.options.contextMenuItems[q];typeof p.show!=\n\"undefined\"&&p.show(m,c);m.click(function(){typeof p.click!=\"undefined\"&&p.click(c);c.contextMenu.hide()})});setTimeout(function(){c.killControlsTimer(\"rev3\")},100)}})})(mejs.$);\n(function(f){f.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t(\"Close\")});f.extend(MediaElementPlayer.prototype,{buildpostroll:function(a,b,c){var e=this.container.find('link[rel=\"postroll\"]').attr(\"href\");if(typeof e!==\"undefined\"){a.postroll=f('<div class=\"mejs-postroll-layer mejs-layer\"><a class=\"mejs-postroll-close\" onclick=\"$(this).parent().hide();return false;\">'+this.options.postrollCloseText+'</a><div class=\"mejs-postroll-layer-content\"></div></div>').prependTo(c).hide();this.media.addEventListener(\"ended\",\nfunction(){f.ajax({dataType:\"html\",url:e,success:function(d){c.find(\".mejs-postroll-layer-content\").html(d)}});a.postroll.show()},false)}}})})(mejs.$);\n","//! moment-timezone.js\n//! version : 0.1.0\n//! author : Tim Wood\n//! license : MIT\n//! github.com/moment/moment-timezone\n!function(a,b){\"use strict\";\"function\"==typeof define&&define.amd?define([\"moment\"],b):\"object\"==typeof exports?module.exports=b(require(\"moment\")):b(a.moment)}(this,function(a){\"use strict\";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split(\".\"),f=e[0],g=e[1]||\"\",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;b>c;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split(\"|\"),c=b[2].split(\" \"),g=b[3].split(\"\"),h=b[4].split(\" \");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(\" \"),g),offsets:f(c,g),untils:h}}function h(a){var b=g(a);this.name=b.name,this.abbrs=b.abbrs,this.untils=b.untils,this.offsets=b.offsets}function i(a){return(a||\"\").toLowerCase().replace(/\\//g,\"_\")}function j(a){var b,c;for(\"string\"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=new h(a[b]),u[i(c.name)]=c}function k(a){a=i(a);var b=v[a];return b&&u[b]&&(a=b),u[a]||null}function l(){var a,b=[];for(a in u)u.hasOwnProperty(a)&&u[a]&&b.push(u[a].name);return b.sort()}function m(a){var b,c;for(\"string\"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=i(a[b]).split(\"|\"),v[c[0]]=c[1],v[c[1]]=c[0]}function n(a){j(a.zones),m(a.links),q.dataVersion=a.version}function o(a){return o.didShowError||(o.didShowError=!0,\"undefined\"!=typeof console&&\"function\"==typeof console.error&&console.error(\"moment.tz.zoneExists('\"+a+\"') has been deprecated in favor of !moment.tz.zone('\"+a+\"')\")),!!k(a)}function p(a){return!(!a._a||void 0!==a._tzm)}function q(){var b=Array.prototype.slice.call(arguments,0,-1),c=arguments[arguments.length-1],d=k(c),e=a.utc.apply(null,b);return d&&p(e)&&e.add(\"minutes\",d.parse(e)),e.tz(c),e}function r(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function s(a){return function(){return this._z=null,a.call(this)}}if(void 0!==a.tz)return a;var t=\"0.1.0\",u={},v={};h.prototype={_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c=+a,d=this.offsets,e=this.untils;for(b=0;b<e.length;b++)if(c<e[b]-6e4*d[b])return d[b]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},q.version=t,q.dataVersion=\"\",q._zones=u,q._links=v,q.add=j,q.link=m,q.load=n,q.zone=k,q.zoneExists=o,q.names=l,q.Zone=h,q.unpack=g,q.unpackBase60=c,q.needsOffset=p;var w=a.fn;return a.tz=q,a.updateOffset=function(a,b){var c;a._z&&(c=a._z.offset(a),Math.abs(c)<16&&(c/=60),a.zone(c,b))},w.tz=function(b){return b?(this._z=k(b),this._z&&a.updateOffset(this),this):this._z?this._z.name:void 0},w.zoneName=r(w.zoneName),w.zoneAbbr=r(w.zoneAbbr),w.utc=s(w.utc),a.momentProperties._z=null,n({version:\"2014e\",zones:[\"Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q\",\"Africa/Accra|LMT GMT GHST|.Q 0 -k|0121212121212121|-26BbX.8 JrbX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE\",\"Africa/Addis_Ababa|ADMT EAT|-2z.k -30|01|-1lVCz.k\",\"Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0\",\"Africa/Bamako|LMT GMT WAT|w 0 10|0121|-2ldXs RULs 144p0\",\"Africa/Bangui|LMT WAT|-1e.k -10|01|-2le1e.k\",\"Africa/Banjul|LMT BMT WAT GMT|16.A 16.A 10 0|0123|-2ldWR.o U0o0 1aALR.o\",\"Africa/Bissau|LMT WAT GMT|12.k 10 0|012|-2mFWV.E 2yQnV.E\",\"Africa/Blantyre|LMT CAT|-2k -20|01|-2GJek\",\"Africa/Brazzaville|LMT WAT|-11.8 -10|01|-2le11.8\",\"Africa/Bujumbura|CAT|-20|0|\",\"Africa/Cairo|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 1o10 jz0 gN0 pb0 1qN0 dX0 e10 xz0 1o10 bb0 e10 An0 1o10 5z0 e10 FX0 1o10 2L0 e10 IL0 1C10 Lz0 1wp0 TX0 1qN0 WL0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0\",\"Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|012121212121212121312121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0 11A0 5c0 e00 17A0 WM0 2o0 e00 1ao0 19A0 1g00 16M0 1iM0 1400 1lA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qo0 1200 1kM0 14M0 1i00\",\"Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1y7p0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Africa/Conakry|LMT GMT WAT|S.Q 0 10|0121|-2ldX5.8 RUL5.8 12U10\",\"Africa/Dakar|LMT WAT GMT|19.I 10 0|012|-2ldWO.g 1bBzO.g\",\"Africa/Dar_es_Salaam|LMT EAT BEAUT|-2B.8 -30 -2J|0121|-1yW2B.8 FnzB.8 vDAf\",\"Africa/Djibouti|LMT EAT|-2Q.A -30|01|-2mrCQ.A\",\"Africa/Douala|LMT WAT|-C.M -10|01|-2le0C.M\",\"Africa/El_Aaiun|LMT WAT WET WEST|Q.M 10 0 -10|0123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0 11A0 5c0 e00 17A0 WM0 2o0 e00 1ao0 19A0 1g00 16M0 1iM0 1400 1lA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qo0 1200 1kM0 14M0 1i00\",\"Africa/Freetown|FMT WAT SLST WAT SLST GMT|R 10 k 0 -10 0|0121212121212121213454545454545|-2hLb7 Ry07 MLk 1BAE MLk 1BcE MLk 1BcE MLk 1BcE MLk 1BAE MLk 1BcE MLk 1BcE MLk yGoE 10n0 AL0 1Nd0 AL0 1Nd0 AL0 1NB0 AL0 1Nd0 AL0 1Nd0 AL0\",\"Africa/Gaborone|SAST CAT CAST|-1u -20 -30|0121|-2GJdu 1CINu 1cL0\",\"Africa/Harare|LMT CAT|-24.c -20|01|-2GJe4.c\",\"Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0\",\"Africa/Juba|LMT CAT CAST EAT|-2a.8 -20 -30 -30|01212121212121212121212121212121213|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0\",\"Africa/Kampala|LMT EAT BEAT BEAUT|-29.E -30 -2u -2J|01231|-1F3C9.E 3Dz9.E HNAu lTbJ\",\"Africa/Kigali|LMT CAT|-20.g -20|01|-1ode0.g\",\"Africa/Kinshasa|WAT|-10|0|\",\"Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A\",\"Africa/Libreville|LMT WAT|-B.M -10|01|-2le0B.M\",\"Africa/Lome|GMT|0|0|\",\"Africa/Luanda|AOT WAT|-Q.4 -10|01|-2mG0Q.4\",\"Africa/Lusaka|LMT CAT|-1R.8 -20|01|-2GJdR.8\",\"Africa/Malabo|LMT GMT WAT|-z.8 0 -10|012|-2le0z.8 26uoz.8\",\"Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k\",\"Africa/Maseru|LMT SAST SAST|-1O -20 -30|0121|-2GJdO 1CINO 1cL0\",\"Africa/Mbabane|LMT SAST|-24.o -20|01|-2GJe4.o\",\"Africa/Mogadishu|EAT BEAT|-30 -2u|010|-1yW30 13iMu\",\"Africa/Monrovia|MMT LRT GMT|H.8 I.u 0|012|-23Lzg.Q 29s01.m\",\"Africa/Nairobi|LMT EAT BEAT BEAUT|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ\",\"Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0\",\"Africa/Niamey|LMT WAT GMT WAT|-8.s 10 0 -10|0123|-2le08.s RUN8.s 12TX0\",\"Africa/Nouakchott|LMT GMT WAT|13.M 0 10|0121|-2ldWU.c RUKU.c 158N0\",\"Africa/Ouagadougou|LMT GMT|6.4 0|01|-2ldXR.U\",\"Africa/Porto-Novo|LMT GMT WAT|-a.s 0 -10|012|-2le0a.s RUMa.s\",\"Africa/Sao_Tome|LMT GMT|A.w 0|01|-2ldXn.s\",\"Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00\",\"Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00\",\"Africa/Windhoek|SWAT SAST SAST CAT WAT WAST|-1u -20 -30 -20 -10 -20|012134545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2GJdu 1Ajdu 1cL0 1SqL0 9NA0 11D0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0\",\"America/Adak|NST NWT NPT BST BDT AHST HAST HADT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Anchorage|CAT CAWT CAPT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Anguilla|LMT AST|46.4 40|01|-2kNvR.U\",\"America/Antigua|LMT EST AST|47.c 50 40|012|-2kNvQ.M 1yxAQ.M\",\"America/Araguaina|LMT BRT BRST|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0\",\"America/Argentina/Buenos_Aires|CMT ART ARST ART ARST|4g.M 40 30 30 20|0121212121212121212121212121212121212121213434343434343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0\",\"America/Argentina/Catamarca|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0\",\"America/Argentina/Cordoba|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0\",\"America/Argentina/Jujuy|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 g0p0 10M0 j3c0 uL0\",\"America/Argentina/La_Rioja|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0\",\"America/Argentina/Mendoza|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|0121212121212121212121212121212121212121213434345656543235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 g0p0 10M0 agM0 Op0 7TX0 uL0\",\"America/Argentina/Rio_Gallegos|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0\",\"America/Argentina/Salta|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0\",\"America/Argentina/San_Juan|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ak00 m10 8lb0 uL0\",\"America/Argentina/San_Luis|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456536353465653|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 kin0 10M0 ak00 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0\",\"America/Argentina/Tucuman|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|012121212121212121212121212121212121212121343434345434323534343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 4N0 8BX0 uL0 1qN0 WL0\",\"America/Argentina/Ushuaia|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ajA0 8p0 8zb0 uL0\",\"America/Aruba|LMT ANT AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d\",\"America/Asuncion|AMT PYT PYT PYST|3O.E 40 30 30|012131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0\",\"America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0\",\"America/Bahia|LMT BRT BRST|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0\",\"America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0\",\"America/Belem|LMT BRT BRST|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0\",\"America/Belize|LMT CST CHDT CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0\",\"America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0\",\"America/Boa_Vista|LMT AMT AMST|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0\",\"America/Bogota|BMT COT COST|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0\",\"America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Cambridge_Bay|zzz MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Campo_Grande|LMT AMT AMST|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0\",\"America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Caracas|CMT VET VET|4r.E 4u 40|0121|-2kV7w.k 28KM2.k 1IwOu\",\"America/Cayenne|LMT GFT GFT|3t.k 40 30|012|-2mrwu.E 2gWou.E\",\"America/Cayman|KMT EST|57.b 50|01|-2l1uQ.N\",\"America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0\",\"America/Creston|MST PST|70 80|010|-29DR0 43B0\",\"America/Cuiaba|LMT AMT AMST|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0\",\"America/Danmarkshavn|LMT WGT WGST GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0\",\"America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0\",\"America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|01234252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 Jy10 SL0 dnB0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Eirunepe|LMT ACT ACST AMT|4D.s 50 40 40|0121212121212121212121212121212131|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0\",\"America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0\",\"America/Ensenada|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOP0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Fortaleza|LMT BRT BRST|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0\",\"America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Godthab|LMT WGT WGST|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Grand_Turk|KMT EST EDT|57.b 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2l1uQ.N 2HHBQ.N 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0\",\"America/Guayaquil|QMT ECT|5e 50|01|-1yVSK\",\"America/Guyana|LMT GBGT GYT GYT GYT|3Q.E 3J 3J 30 40|01234|-2dvU7.k 24JzQ.k mlc0 Bxbf\",\"America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0\",\"America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0\",\"America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Inuvik|zzz PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Iqaluit|zzz EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Jamaica|KMT EST EDT|57.b 50 40|0121212121212121212121|-2l1uQ.N 2vwNQ.N 1cL0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0\",\"America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/La_Paz|CMT BOST BOT|4w.A 3w.A 40|012|-1x37r.o 13b0\",\"America/Lima|LMT PET PEST|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0\",\"America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp0 1Vb0 3dB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Maceio|LMT BRT BRST|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0\",\"America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0\",\"America/Manaus|LMT AMT AMST|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0\",\"America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0\",\"America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Metlakatla|PST PWT PPT PDT MeST|80 70 70 70 80|0120303030303030303030303030303034|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0\",\"America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Miquelon|LMT AST PMST PMDT|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Montevideo|MMT UYT UYHST UYST UYT UYHST|3I.I 3u 30 20 30 2u|012121212121212121212121213434343434345454543453434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-20UIf.g 8jzJ.g 1cLu 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1qMu WLu 1qMu 11zu 1o0u 11zu NAu 11bu 2iMu zWu Dq10 19X0 pd0 jz0 cm10 19X0 1fB0 1on0 11d0 1oL0 1nB0 1fzu 1aou 1fzu 1aou 1fzu 3nAu Jb0 3MN0 1SLu 4jzu 2PB0 Lb0 3Dd0 1pb0 ixd0 An0 1MN0 An0 1wp0 On0 1wp0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10\",\"America/Montreal|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-28tR0 bV0 2m30 1in0 121u 1nb0 1g10 11z0 1o0u 11zu 1o0u 11zu 3VAu Rzu 1qMu WLu 1qMu WLu 1qKu WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kO0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Noronha|LMT FNT FNST|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0\",\"America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Panama|CMT EST|5j.A 50|01|-2uduE.o\",\"America/Pangnirtung|zzz AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Paramaribo|LMT PMT PMT NEGT SRT SRT|3E.E 3E.Q 3E.A 3u 3u 30|012345|-2nDUj.k Wqo0.c qanX.I 1dmLN.o lzc0\",\"America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0\",\"America/Port-au-Prince|PPMT EST EDT|4N 50 40|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Porto_Acre|LMT ACT ACST AMT|4v.c 50 40 40|01212121212121212121212121212131|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0\",\"America/Porto_Velho|LMT AMT AMST|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0\",\"America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0\",\"America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Rankin_Inlet|zzz CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Recife|LMT BRT BRST|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0\",\"America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0\",\"America/Resolute|zzz CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Santa_Isabel|LMT MST PST PDT PWT PPT|7D.s 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOP0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0\",\"America/Santarem|LMT AMT AMST BRT|3C.M 40 30 30|0121212121212121212121212121213|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0\",\"America/Santiago|SMT CLT CLT CLST CLST|4G.K 50 40 40 30|010203131313131313124242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424|-2q5Th.e fNch.e 5gLG.K 21bh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9UK0 1Je0 Qen0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0\",\"America/Santo_Domingo|SDMT EST EDT EHDT AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00\",\"America/Sao_Paulo|LMT BRT BRST|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0\",\"America/Scoresbysund|LMT CGT CGST EGST EGT|1r.Q 20 10 0 10|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0\",\"America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0\",\"America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 1Be0 xDz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"America/Yellowknife|zzz MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Antarctica/Casey|zzz WST CAST|0 -80 -b0|012121|-2q00 1DjS0 T90 40P0 KL0\",\"Antarctica/Davis|zzz DAVT DAVT|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0\",\"Antarctica/DumontDUrville|zzz PMT DDUT|0 -a0 -a0|0102|-U0o0 cfq0 bFm0\",\"Antarctica/Macquarie|EST EST zzz MIST|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0\",\"Antarctica/Mawson|zzz MAWT MAWT|0 -60 -50|012|-CEo0 2fyk0\",\"Antarctica/McMurdo|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00\",\"Antarctica/Palmer|zzz ARST ART ART ARST CLT CLST|0 30 40 30 20 40 30|012121212123435656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0\",\"Antarctica/Rothera|zzz ROTT|0 30|01|gOo0\",\"Antarctica/Syowa|zzz SYOT|0 -30|01|-vs00\",\"Antarctica/Troll|zzz UTC CEST|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Antarctica/Vostok|zzz VOST|0 -60|01|-tjA0\",\"Arctic/Longyearbyen|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Aden|LMT AST|-2X.S -30|01|-MG2X.S\",\"Asia/Almaty|LMT ALMT ALMT ALMST|-57.M -50 -60 -70|0123232323232323232323232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3Cl0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0\",\"Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0\",\"Asia/Anadyr|LMT ANAT ANAT ANAST ANAST ANAST ANAT|-bN.U -c0 -d0 -e0 -d0 -c0 -b0|01232414141414141414141561414141414141414141414141414141414141561|-1PcbN.U eUnN.U 23CL0 1db0 1cN0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Asia/Aqtau|LMT FORT FORT SHET SHET SHEST AQTT AQTST AQTST AQTT|-3l.4 -40 -50 -50 -60 -60 -50 -60 -50 -40|012345353535353535353536767676898989898989898989896|-1Pc3l.4 eUnl.4 1jcL0 JDc0 1cL0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cN0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 RW0\",\"Asia/Aqtobe|LMT AKTT AKTT AKTST AKTT AQTT AQTST|-3M.E -40 -50 -60 -60 -50 -60|01234323232323232323232565656565656565656565656565|-1Pc3M.E eUnM.E 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0\",\"Asia/Ashgabat|LMT ASHT ASHT ASHST ASHST TMT TMT|-3R.w -40 -50 -60 -50 -40 -50|012323232323232323232324156|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 ba0 xC0\",\"Asia/Baghdad|BMT AST ADT|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0\",\"Asia/Bahrain|LMT GST AST|-3m.k -40 -30|012|-21Jfm.k 27BXm.k\",\"Asia/Baku|LMT BAKT BAKT BAKST BAKST AZST AZT AZT AZST|-3j.o -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245657878787878787878787878787878787878787878787878787878787878787878787878787878787878787|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 10K0 c30 1cJ0 1cL0 8wu0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Bangkok|BMT ICT|-6G.4 -70|01|-218SG.4\",\"Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0\",\"Asia/Bishkek|LMT FRUT FRUT FRUST FRUST KGT KGST KGT|-4W.o -50 -60 -70 -60 -50 -60 -60|01232323232323232323232456565656565656565656565656567|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11c0 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 T8u\",\"Asia/Brunei|LMT BNT BNT|-7D.E -7u -80|012|-1KITD.E gDc9.E\",\"Asia/Calcutta|HMT BURT IST IST|-5R.k -6u -5u -6u|01232|-18LFR.k 1unn.k HB0 7zX0\",\"Asia/Choibalsan|LMT ULAT ULAT CHOST CHOT CHOT|-7C -70 -80 -a0 -90 -80|012343434343434343434343434343434343434343434345|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0\",\"Asia/Chongqing|LMT LONT CST CDT|-76.k -70 -80 -90|012323232323232|-1Ggv6.k 27pA6.k eBz0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Colombo|MMT IST IHST IST LKT LKT|-5j.w -5u -60 -6u -6u -60|01231451|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu\",\"Asia/Dacca|HMT BURT IST DACT BDT BDST|-5R.k -6u -5u -60 -60 -70|01213454|-18LFR.k 1unn.k HB0 m6n0 LqMu 1x6n0 1hXX\",\"Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0\",\"Asia/Dili|LMT TLT JST TLT WITA|-8m.k -80 -90 -90 -80|012343|-2le8m.k 1dnXm.k 8HA0 1ew00 Xld0\",\"Asia/Dubai|LMT GST|-3F.c -40|01|-21JfF.c\",\"Asia/Dushanbe|LMT DUST DUST DUSST DUSST TJT|-4z.c -50 -60 -70 -60 -50|0123232323232323232323245|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 14N0\",\"Asia/Gaza|EET EET EEST IST IDT|-20 -30 -30 -20 -30|010101010102020202020202020202023434343434343434343434343430202020202020202020202020202020202020202020202020202020202020202020202020202020202020|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0\",\"Asia/Harbin|LMT CHAT CST CHAT CDT|-8q.I -8u -80 -90 -90|012312424242424242|-1Ggwq.I a8nU.I j4Mu 146L0 y5Au eBAu Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Hebron|EET EET EEST IST IDT|-20 -30 -30 -20 -30|01010101010202020202020202020202343434343434343434343434343020202020202020202020202020202020202020202020202020202020202020202020202020202020202020|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0\",\"Asia/Ho_Chi_Minh|LMT SMT ICT ICT|-76.E -76.k -70 -80|01232|-2yKT6.E byo1.k 2KM5.k Kfz0\",\"Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0\",\"Asia/Hovd|LMT HOVT HOVT HOVST|-66.A -60 -70 -80|01232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0\",\"Asia/Irkutsk|IMT IRKT IRKT IRKST IRKST IRKT|-6V.k -70 -80 -90 -80 -90|01232323232323232323232412323232323232323232323232323232323232325|-21zGV.k pjXV.k 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Istanbul|IMT EET EEST TRST TRT|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1df0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Jakarta|BMT JAVT WIB JST WIB WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu\",\"Asia/Jayapura|LMT WIT CST|-9m.M -90 -9u|0121|-1uu9m.M sMMm.M L4nu\",\"Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0\",\"Asia/Kabul|AFT AFT|-40 -4u|01|-10Qs0\",\"Asia/Kamchatka|LMT PETT PETT PETST PETST|-ay.A -b0 -c0 -d0 -c0|01232323232323232323232412323232323232323232323232323232323232412|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Asia/Karachi|LMT IST IST KART PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy01 1cL0 dK0X 11b0 1610 1jX0\",\"Asia/Kashgar|LMT KAST KAST CST CDT|-53.U -5u -50 -80 -90|0123434343434343|-1Ggt3.U tdbx.U 1Ccou eBx0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Kathmandu|LMT IST NPT|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g\",\"Asia/Khandyga|LMT YAKT YAKT YAKST YAKST VLAT VLAST VLAT YAKT|-92.d -80 -90 -a0 -90 -a0 -b0 -b0 -a0|0123232323232323232323241232323232323232323232323256565656565656578|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0\",\"Asia/Krasnoyarsk|LMT KRAT KRAT KRAST KRAST KRAT|-6b.k -60 -70 -80 -70 -80|01232323232323232323232412323232323232323232323232323232323232325|-21Hib.k prAb.k 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Kuala_Lumpur|SMT MALT MALST MALT MALT JST MYT|-6T.p -70 -7k -7k -7u -90 -80|01234546|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu 1so1u\",\"Asia/Kuching|LMT BORT BORT BORTST JST MYT|-7l.k -7u -80 -8k -90 -80|01232323232323232425|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0 1so10\",\"Asia/Kuwait|LMT AST|-3b.U -30|01|-MG3b.U\",\"Asia/Macao|LMT MOT MOST CST|-7y.k -80 -90 -80|0121212121212121212121212121212121212121213|-2le7y.k 1XO34.k 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0 KEp0\",\"Asia/Magadan|LMT MAGT MAGT MAGST MAGST MAGT|-a3.c -a0 -b0 -c0 -b0 -c0|01232323232323232323232412323232323232323232323232323232323232325|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Makassar|LMT MMT WITA JST|-7V.A -7V.A -80 -90|01232|-21JjV.A vfc0 myLV.A 8ML0\",\"Asia/Manila|PHT PHST JST|-80 -90 -90|010201010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0\",\"Asia/Muscat|LMT GST|-3S.o -40|01|-21JfS.o\",\"Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Asia/Novokuznetsk|NMT KRAT KRAT KRAST KRAST NOVST NOVT NOVT|-5M.M -60 -70 -80 -70 -70 -60 -70|01232323232323232323232412323232323232323232323232323232323232567|-21HhM.M przM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Asia/Novosibirsk|LMT NOVT NOVT NOVST NOVST|-5v.E -60 -70 -80 -70|012323232323232323232324123234141414141414141414141414141414141412|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Omsk|LMT OMST OMST OMSST OMSST OMST|-4R.A -50 -60 -70 -60 -70|01232323232323232323232412323232323232323232323232323232323232325|-224sR.A pMLR.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Oral|LMT URAT URAT URAST URAT URAST ORAT ORAST ORAT|-3p.o -40 -50 -60 -60 -50 -40 -50 -50|012343232323232323251516767676767676767676767676768|-1Pc3p.o eUnp.o 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 RW0\",\"Asia/Phnom_Penh|LMT SMT ICT ICT|-6X.E -76.k -70 -80|01232|-2yKSX.E bynS.k 2KM5.k Kfz0\",\"Asia/Pontianak|LMT PMT WIB JST WIB WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu\",\"Asia/Pyongyang|KST KST KST|-8u -90 -80|010121|-2CsUu Ucnu 9Iou S5Xu hXB0\",\"Asia/Qatar|LMT GST AST|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8\",\"Asia/Qyzylorda|LMT KIZT KIZT KIZST KIZT QYZT QYZT QYZST|-4l.Q -40 -50 -60 -60 -50 -60 -70|012343232323232323232325676767676767676767676767676|-1Pc4l.Q eUol.Q 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 dC0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0\",\"Asia/Rangoon|RMT BURT JST MMT|-6o.E -6u -90 -6u|0123|-21Jio.E SmnS.E 7j9u\",\"Asia/Riyadh|LMT AST|-36.Q -30|01|-MG36.Q\",\"Asia/Sakhalin|LMT CJT JST SAKT SAKST SAKST SAKT|-9u.M -90 -90 -b0 -c0 -b0 -a0|012343434343434343434343563434343434356565656565656565656565656563|-2AGVu.M 1iLAu.M iBc0 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o10 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Samarkand|LMT SAMT SAMT SAMST TAST UZST UZT|-4r.c -40 -50 -60 -60 -60 -50|01234323232323232323232356|-1Pc4r.c eUor.c 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11x0 bf0\",\"Asia/Seoul|KST KST KST KDT KDT|-8u -90 -80 -90 -a0|0101232014141|-2CsUu Ucnu 9Iou S5Xu eWN0 Mn0 2cp0 hnzu JhXu 11z0 1o10 11z0\",\"Asia/Shanghai|LMT CST CDT|-85.V -80 -90|012121212121212121|-1Ggw5.V ueM5.V LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Singapore|SMT MALT MALST MALT MALT JST SGT SGT|-6T.p -70 -7k -7k -7u -90 -7u -80|012345467|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu Mspu DTA0\",\"Asia/Taipei|CST CDT|-80 -90|01010101010101010101010101010101010101010|-104w0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97d0 AL0\",\"Asia/Tashkent|LMT TAST TAST TASST TASST UZST UZT|-4B.c -50 -60 -70 -60 -60 -50|01232323232323232323232456|-1Pc4B.c eUnB.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11y0 bf0\",\"Asia/Tbilisi|TBMT TBIT TBIT TBIST TBIST GEST GET GET GEST|-2X.g -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245656565787878787878787878567|-1Pc2X.g 1jUnX.g WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 3y0 19f0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cM0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0\",\"Asia/Tehran|LMT TMT IRST IRST IRDT IRDT|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0\",\"Asia/Thimbu|LMT IST BTT|-5W.A -5u -60|012|-Su5W.A 1BGMs.A\",\"Asia/Tokyo|CJT JST JDT|-90 -90 -a0|0121212121|-1hTl0 p9C0 QL0 1lB0 13X0 1zB0 NX0 1zB0 NX0\",\"Asia/Ulaanbaatar|LMT ULAT ULAT ULAST|-77.w -70 -80 -90|01232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0\",\"Asia/Urumqi|LMT URUT CST CDT|-5O.k -60 -80 -90|012323232323232|-1GgtO.k 27pzO.k eBy0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0\",\"Asia/Ust-Nera|LMT YAKT YAKT MAGST MAGT MAGST MAGT MAGT VLAT|-9w.S -80 -90 -c0 -b0 -b0 -a0 -c0 -b0|012343434343434343434345643434343434343434343434343434343434343478|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0\",\"Asia/Vientiane|LMT SMT ICT ICT|-6O.o -76.k -70 -80|01232|-2yKSO.o bynJ.4 2KM5.k Kfz0\",\"Asia/Vladivostok|LMT VLAT VLAT VLAST VLAST VLAT|-8L.I -90 -a0 -b0 -a0 -b0|01232323232323232323232412323232323232323232323232323232323232325|-1SJIL.I itXL.I 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Yakutsk|LMT YAKT YAKT YAKST YAKST YAKT|-8C.E -80 -90 -a0 -90 -a0|01232323232323232323232412323232323232323232323232323232323232325|-21Q8C.E pAoC.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Yekaterinburg|LMT SVET SVET SVEST SVEST YEKT YEKST YEKT|-42.o -40 -50 -60 -50 -50 -60 -60|01232323232323232323232415656565656565656565656565656565656565657|-22Rc2.o qBw2.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Asia/Yerevan|LMT YERT YERT YERST YERST AMST AMT AMT AMST|-2W -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245656565657878787878787878787878787878787|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1am0 2r0 1cJ0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fb0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0\",\"Atlantic/Azores|HMT AZOT AZOST AZOMT AZOT AZOST WET|1S.w 20 10 0 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545456545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2mGK5.s ckL5.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Atlantic/Canary|LMT CANT WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Cape_Verde|LMT CVT CVST CVT|1y.4 20 10 10|01213|-2xomp.U 1qOMp.U 7zX0 1djf0\",\"Atlantic/Faeroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Madeira|FMT MADT MADST MADMT WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2mGKQ.o ckKQ.o Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Atlantic/Reykjavik|RMT IST ISST GMT|1r.M 10 0 0|01212121212121212121212121212121212121212121212121212121212121213|-2uWmw.c mfaw.c 1Bd0 ML0 1LB0 NLX0 1pe0 zd0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0\",\"Atlantic/South_Georgia|GST|20|0|\",\"Atlantic/St_Helena|JMT GMT|m.M 0|01|-KfXB.c\",\"Atlantic/Stanley|SMT FKT FKST FKT FKST|3P.o 40 30 30 20|0121212121212134343212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 U10 1qM0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10\",\"Australia/ACT|EST EST|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Adelaide|CST CST|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Brisbane|EST EST|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0\",\"Australia/Broken_Hill|CST CST|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Currie|EST EST|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Darwin|CST CST|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0\",\"Australia/Eucla|CWST CWST|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0\",\"Australia/Hobart|EST EST|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/LHI|EST LHST LHST LHST|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu\",\"Australia/Lindeman|EST EST|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0\",\"Australia/Melbourne|EST EST|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0\",\"Australia/Perth|WST WST|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0\",\"CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Chile/EasterIsland|EMT EASST EAST EAST EASST|7h.s 60 70 60 50|012121212121212121212121212121213434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-1uSgG.w nHUG.w op0 9UK0 RXB0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0\",\"EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"EST|EST|50|0|\",\"EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Eire|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g5X0 14p0 1wn0 17d0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Etc/GMT+1|GMT+1|10|0|\",\"Etc/GMT+10|GMT+10|a0|0|\",\"Etc/GMT+11|GMT+11|b0|0|\",\"Etc/GMT+12|GMT+12|c0|0|\",\"Etc/GMT+2|GMT+2|20|0|\",\"Etc/GMT+3|GMT+3|30|0|\",\"Etc/GMT+4|GMT+4|40|0|\",\"Etc/GMT+5|GMT+5|50|0|\",\"Etc/GMT+6|GMT+6|60|0|\",\"Etc/GMT+7|GMT+7|70|0|\",\"Etc/GMT+8|GMT+8|80|0|\",\"Etc/GMT+9|GMT+9|90|0|\",\"Etc/GMT-1|GMT-1|-10|0|\",\"Etc/GMT-10|GMT-10|-a0|0|\",\"Etc/GMT-11|GMT-11|-b0|0|\",\"Etc/GMT-12|GMT-12|-c0|0|\",\"Etc/GMT-13|GMT-13|-d0|0|\",\"Etc/GMT-14|GMT-14|-e0|0|\",\"Etc/GMT-2|GMT-2|-20|0|\",\"Etc/GMT-3|GMT-3|-30|0|\",\"Etc/GMT-4|GMT-4|-40|0|\",\"Etc/GMT-5|GMT-5|-50|0|\",\"Etc/GMT-6|GMT-6|-60|0|\",\"Etc/GMT-7|GMT-7|-70|0|\",\"Etc/GMT-8|GMT-8|-80|0|\",\"Etc/GMT-9|GMT-9|-90|0|\",\"Etc/UCT|UCT|0|0|\",\"Etc/UTC|UTC|0|0|\",\"Europe/Amsterdam|AMT NST NEST NET CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Belfast|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Bratislava|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 16M0 1lc0 1tA0 17A0 11c0 1io0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Budapest|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 1cn0 1jd0 11b0 1ld0 1bb0 NVc0 3O00 WM0 1fA0 1cM0 1cM0 1oJ0 1e00 Xf0 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Busingen|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|0123232323232323232345454676767676767676767623232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1ty0 2bD0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Helsinki|HMT EET EEST|-1D.Q -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.Q OULD.Q 1db0 1xGP0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET FET|-10 -20 -20 -30 -30 -40 -30 -20 -30|010101010101023245454545454545454545467676767676767676767676767676767676767678|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1cJ0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.w 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ldXn.s aPWn.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|01010101010101010101010121212121234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-28dd0 11A0 1go0 19A0 1co0 1dA0 b1A0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 iyo0 Rc0 18o0 1hc0 1io0 1a00 14o0 5aL0 MM0 1vc0 17A0 1i00 1bc0 1eo0 17d0 1in0 17A0 6hA0 10N0 XIL0 1a10 1in0 17d0 19X0 1cN0 1fz0 1a10 1fX0 1cp0 1cO0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2as10 M00 1cM0 1cM0 14o0 1o00 WM0 1qM0 17c0 1cM0 M3A0 5M20 WM0 1fA0 1cM0 1cM0 1cM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 Lz0 1C10 Lz0 1EN0 Lz0 1C10 Lz0 1zd0 Oo0 1C00 On0 1cp0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Minsk|MMT EET MSK CEST CET MSD EEST FET|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cK0 1cM0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Moscow|MMT MMT MST MDST MSD MSK MSM EET EEST MSK|-2u -2u.M -3u.M -4u.M -40 -30 -50 -20 -30 -40|01213234546457545454545454545454545875454545454545454545454545454545454545459|-2ag2u 2pyX.c 1bA0 11X0 GN0 1Hb0 c20 imu.M 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.o -2A.o -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.o 11A0 1iM0 ko0 gWm0 yDXA.o 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2as10 M00 1cM0 1cM0 14o0 1o00 WM0 1qM0 17c0 1cM0 M3A0 5M20 WM0 1fA0 1cM0 16K0 1iO0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 Lz0 1C10 Lz0 1EN0 Lz0 1C10 Lz0 1zd0 Oo0 1C00 On0 1C10 Lz0 1zd0 On0 1C10 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Samara|LMT SAMT SAMT KUYT KUYST KUYST KUYT KUYST SAMST SAMST|-3k.A -30 -40 -40 -50 -40 -30 -30 -50 -40|012343434343434343435656762828282828282828282828282828282828282912|-22WNk.A qHak.A bcn0 1Qqo0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cN0 8o0 14j0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0\",\"Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|01234343252525252525252525216161652525261616161616161616161616161616161617|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0\",\"Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646464647373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Volgograd|LMT TSAT STAT STAT VOLT VOLST VOLST VOLT|-2V.E -30 -30 -40 -40 -50 -40 -30|01234545454545454545467674676767676767676767676767676767676767674|-21IqV.E cLXV.E cEM0 1gqn0 Lco0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 2pz0 1cJ0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0\",\"Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"Europe/Zaporozhye|CUT EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"HST|HST|a0|0|\",\"Indian/Antananarivo|LMT EAT EAST|-3a.4 -30 -40|0121|-2mrDa.4 1HRba.4 Ao0\",\"Indian/Chagos|LMT IOT IOT|-4N.E -50 -60|012|-2xosN.E 3AGLN.E\",\"Indian/Christmas|CXT|-70|0|\",\"Indian/Cocos|CCT|-6u|0|\",\"Indian/Comoro|LMT EAT|-2R.4 -30|01|-2mrCR.4\",\"Indian/Kerguelen|zzz TFT|0 -50|01|-MG00\",\"Indian/Mahe|LMT SCT|-3F.M -40|01|-2yO3F.M\",\"Indian/Maldives|MMT MVT|-4S -50|01|-olgS\",\"Indian/Mauritius|LMT MUT MUST|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0\",\"Indian/Mayotte|LMT EAT|-30.U -30|01|-2mrD0.U\",\"Indian/Reunion|LMT RET|-3F.Q -40|01|-2mDDF.Q\",\"Kwajalein|MHT KWAT MHT|-b0 c0 -c0|012|-AX0 W9X0\",\"MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\",\"MST|MST|70|0|\",\"MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"NZ-CHAT|LMT CHAST CHADT|-cd.M -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-vDod.M Hq2d.M IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00\",\"PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0\",\"Pacific/Apia|LMT SAMT WST WSDT WSDT WST|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00\",\"Pacific/Chuuk|CHUT|-a0|0|\",\"Pacific/Efate|LMT VUT VUST|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0\",\"Pacific/Enderbury|PHOT PHOT PHOT|c0 b0 -d0|012|nIc0 B8n0\",\"Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0\",\"Pacific/Fiji|LMT FJT FJST|-bT.I -c0 -d0|012121212121212121212121212121212121212121212121212121212121212|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10\",\"Pacific/Funafuti|TVT|-c0|0|\",\"Pacific/Galapagos|LMT ECT GALT|5W.o 50 60|012|-1yVS1.A 2dTz1.A\",\"Pacific/Gambier|LMT GAMT|8X.M 90|01|-2jof0.c\",\"Pacific/Guadalcanal|LMT SBT|-aD.M -b0|01|-2joyD.M\",\"Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0\",\"Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0\",\"Pacific/Kiritimati|LINT LINT LINT|aE a0 -e0|012|nIaE B8nk\",\"Pacific/Kosrae|KOST KOST|-b0 -c0|010|-AX0 1bdz0\",\"Pacific/Majuro|MHT MHT|-b0 -c0|01|-AX0\",\"Pacific/Marquesas|LMT MART|9i 9u|01|-2joeG\",\"Pacific/Midway|NST NDT BST SST|b0 a0 b0 b0|01023|-x3N0 An0 pJd0 EyM0\",\"Pacific/Nauru|LMT NRT JST NRT|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu\",\"Pacific/Niue|NUT NUT NUT|bk bu b0|012|-KfME 17y0a\",\"Pacific/Norfolk|NMT NFT|-bc -bu|01|-Kgbc\",\"Pacific/Noumea|LMT NCT NCST|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0\",\"Pacific/Pago_Pago|LMT SAMT NST BST SST|bm.M bu b0 b0 b0|01234|-2nDMB.c 1yW07.c FXzu EyM0\",\"Pacific/Palau|PWT|-90|0|\",\"Pacific/Pitcairn|PNT PST|8u 80|01|18Vku\",\"Pacific/Pohnpei|PONT|-b0|0|\",\"Pacific/Port_Moresby|PGT|-a0|0|\",\"Pacific/Rarotonga|CKT CKHST CKT|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu\",\"Pacific/Saipan|MPT MPT ChST|-90 -a0 -a0|012|-AV0 1g2n0\",\"Pacific/Tahiti|LMT TAHT|9W.g a0|01|-2joe1.I\",\"Pacific/Tarawa|GILT|-c0|0|\",\"Pacific/Tongatapu|TOT TOT TOST|-ck -d0 -e0|01212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0\",\"Pacific/Wake|WAKT|-c0|0|\",\"Pacific/Wallis|WFT|-c0|0|\",\"WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00\"],links:[\"Africa/Addis_Ababa|Africa/Asmara\",\"Africa/Addis_Ababa|Africa/Asmera\",\"Africa/Bamako|Africa/Timbuktu\",\"Africa/Bujumbura|Africa/Lubumbashi\",\"Africa/Cairo|Egypt\",\"Africa/Juba|Africa/Khartoum\",\"Africa/Lome|Etc/GMT\",\"Africa/Lome|Etc/GMT+0\",\"Africa/Lome|Etc/GMT-0\",\"Africa/Lome|Etc/GMT0\",\"Africa/Lome|Etc/Greenwich\",\"Africa/Lome|GMT\",\"Africa/Lome|GMT+0\",\"Africa/Lome|GMT-0\",\"Africa/Lome|GMT0\",\"Africa/Lome|Greenwich\",\"Africa/Tripoli|Libya\",\"America/Adak|America/Atka\",\"America/Adak|US/Aleutian\",\"America/Anchorage|US/Alaska\",\"America/Anguilla|America/Dominica\",\"America/Anguilla|America/Grenada\",\"America/Anguilla|America/Guadeloupe\",\"America/Anguilla|America/Marigot\",\"America/Anguilla|America/Montserrat\",\"America/Anguilla|America/Port_of_Spain\",\"America/Anguilla|America/St_Barthelemy\",\"America/Anguilla|America/St_Kitts\",\"America/Anguilla|America/St_Lucia\",\"America/Anguilla|America/St_Thomas\",\"America/Anguilla|America/St_Vincent\",\"America/Anguilla|America/Tortola\",\"America/Anguilla|America/Virgin\",\"America/Argentina/Buenos_Aires|America/Buenos_Aires\",\"America/Argentina/Catamarca|America/Argentina/ComodRivadavia\",\"America/Argentina/Catamarca|America/Catamarca\",\"America/Argentina/Cordoba|America/Cordoba\",\"America/Argentina/Cordoba|America/Rosario\",\"America/Argentina/Jujuy|America/Jujuy\",\"America/Argentina/Mendoza|America/Mendoza\",\"America/Aruba|America/Curacao\",\"America/Aruba|America/Kralendijk\",\"America/Aruba|America/Lower_Princes\",\"America/Atikokan|America/Coral_Harbour\",\"America/Chicago|US/Central\",\"America/Denver|America/Shiprock\",\"America/Denver|Navajo\",\"America/Denver|US/Mountain\",\"America/Detroit|US/Michigan\",\"America/Edmonton|Canada/Mountain\",\"America/Ensenada|America/Tijuana\",\"America/Ensenada|Mexico/BajaNorte\",\"America/Fort_Wayne|America/Indiana/Indianapolis\",\"America/Fort_Wayne|America/Indianapolis\",\"America/Fort_Wayne|US/East-Indiana\",\"America/Halifax|Canada/Atlantic\",\"America/Havana|Cuba\",\"America/Indiana/Knox|America/Knox_IN\",\"America/Indiana/Knox|US/Indiana-Starke\",\"America/Jamaica|Jamaica\",\"America/Kentucky/Louisville|America/Louisville\",\"America/Los_Angeles|US/Pacific\",\"America/Los_Angeles|US/Pacific-New\",\"America/Manaus|Brazil/West\",\"America/Mazatlan|Mexico/BajaSur\",\"America/Mexico_City|Mexico/General\",\"America/New_York|US/Eastern\",\"America/Noronha|Brazil/DeNoronha\",\"America/Phoenix|US/Arizona\",\"America/Porto_Acre|America/Rio_Branco\",\"America/Porto_Acre|Brazil/Acre\",\"America/Regina|Canada/East-Saskatchewan\",\"America/Regina|Canada/Saskatchewan\",\"America/Santiago|Chile/Continental\",\"America/Sao_Paulo|Brazil/East\",\"America/St_Johns|Canada/Newfoundland\",\"America/Toronto|Canada/Eastern\",\"America/Vancouver|Canada/Pacific\",\"America/Whitehorse|Canada/Yukon\",\"America/Winnipeg|Canada/Central\",\"Antarctica/McMurdo|Antarctica/South_Pole\",\"Antarctica/McMurdo|NZ\",\"Antarctica/McMurdo|Pacific/Auckland\",\"Arctic/Longyearbyen|Atlantic/Jan_Mayen\",\"Arctic/Longyearbyen|Europe/Oslo\",\"Asia/Ashgabat|Asia/Ashkhabad\",\"Asia/Calcutta|Asia/Kolkata\",\"Asia/Chongqing|Asia/Chungking\",\"Asia/Dacca|Asia/Dhaka\",\"Asia/Ho_Chi_Minh|Asia/Saigon\",\"Asia/Hong_Kong|Hongkong\",\"Asia/Istanbul|Europe/Istanbul\",\"Asia/Istanbul|Turkey\",\"Asia/Jerusalem|Asia/Tel_Aviv\",\"Asia/Jerusalem|Israel\",\"Asia/Kathmandu|Asia/Katmandu\",\"Asia/Macao|Asia/Macau\",\"Asia/Makassar|Asia/Ujung_Pandang\",\"Asia/Nicosia|Europe/Nicosia\",\"Asia/Seoul|ROK\",\"Asia/Shanghai|PRC\",\"Asia/Singapore|Singapore\",\"Asia/Taipei|ROC\",\"Asia/Tehran|Iran\",\"Asia/Thimbu|Asia/Thimphu\",\"Asia/Tokyo|Japan\",\"Asia/Ulaanbaatar|Asia/Ulan_Bator\",\"Atlantic/Faeroe|Atlantic/Faroe\",\"Atlantic/Reykjavik|Iceland\",\"Australia/ACT|Australia/Canberra\",\"Australia/ACT|Australia/NSW\",\"Australia/ACT|Australia/Sydney\",\"Australia/Adelaide|Australia/South\",\"Australia/Brisbane|Australia/Queensland\",\"Australia/Broken_Hill|Australia/Yancowinna\",\"Australia/Darwin|Australia/North\",\"Australia/Hobart|Australia/Tasmania\",\"Australia/LHI|Australia/Lord_Howe\",\"Australia/Melbourne|Australia/Victoria\",\"Australia/Perth|Australia/West\",\"Chile/EasterIsland|Pacific/Easter\",\"Eire|Europe/Dublin\",\"Etc/UCT|UCT\",\"Etc/UTC|Etc/Universal\",\"Etc/UTC|Etc/Zulu\",\"Etc/UTC|UTC\",\"Etc/UTC|Universal\",\"Etc/UTC|Zulu\",\"Europe/Belfast|Europe/Guernsey\",\"Europe/Belfast|Europe/Isle_of_Man\",\"Europe/Belfast|Europe/Jersey\",\"Europe/Belfast|Europe/London\",\"Europe/Belfast|GB\",\"Europe/Belfast|GB-Eire\",\"Europe/Belgrade|Europe/Ljubljana\",\"Europe/Belgrade|Europe/Podgorica\",\"Europe/Belgrade|Europe/Sarajevo\",\"Europe/Belgrade|Europe/Skopje\",\"Europe/Belgrade|Europe/Zagreb\",\"Europe/Bratislava|Europe/Prague\",\"Europe/Busingen|Europe/Vaduz\",\"Europe/Busingen|Europe/Zurich\",\"Europe/Chisinau|Europe/Tiraspol\",\"Europe/Helsinki|Europe/Mariehamn\",\"Europe/Lisbon|Portugal\",\"Europe/Moscow|W-SU\",\"Europe/Rome|Europe/San_Marino\",\"Europe/Rome|Europe/Vatican\",\"Europe/Warsaw|Poland\",\"Kwajalein|Pacific/Kwajalein\",\"NZ-CHAT|Pacific/Chatham\",\"Pacific/Chuuk|Pacific/Truk\",\"Pacific/Chuuk|Pacific/Yap\",\"Pacific/Honolulu|Pacific/Johnston\",\"Pacific/Honolulu|US/Hawaii\",\"Pacific/Pago_Pago|Pacific/Samoa\",\"Pacific/Pago_Pago|US/Samoa\",\"Pacific/Pohnpei|Pacific/Ponape\"]}),a\n});","/*\n  piecon.js\n\n  https://github.com/lipka/piecon\n\n  Copyright (c) 2012 Lukas Lipka <lukaslipka@gmail.com>. All rights reserved.\n*/\n\n(function(){\n    var Piecon = {};\n\n    var currentFavicon = null;\n    var originalFavicon = null;\n    var originalTitle = null;\n    var canvas = null;\n    var options = {};\n    var defaults = {\n        color: '#ff0084',\n        background: '#bbb',\n        shadow: '#fff',\n        fallback: false\n    };\n\n    var ua = (function () {\n        var agent = navigator.userAgent.toLowerCase();\n        return function (browser) {\n            return agent.indexOf(browser) !== -1;\n        };\n    }());\n\n    var browser = {\n        ie: ua('msie'),\n        chrome: ua('chrome'),\n        webkit: ua('chrome') || ua('safari'),\n        safari: ua('safari') && !ua('chrome'),\n        mozilla: ua('mozilla') && !ua('chrome') && !ua('safari')\n    };\n\n    var getFaviconTag = function() {\n        var links = document.getElementsByTagName('link');\n\n        for (var i = 0, l = links.length; i < l; i++) {\n            if (typeof links[i] !== \"undefined\" && links[i] !== null && (links[i].getAttribute('rel') === 'icon' || links[i].getAttribute('rel') === 'shortcut icon')) {\n                return links[i];\n            }\n        }\n\n        return false;\n    };\n\n    var removeFaviconTag = function() {\n        var links = document.getElementsByTagName('link');\n        var head = document.getElementsByTagName('head')[0];\n\n        for (var i = 0, l = links.length; i < l; i++) {\n            if (typeof links[i] !== \"undefined\" && links[i] !== null && (links[i].getAttribute('rel') === 'icon' || links[i].getAttribute('rel') === 'shortcut icon')) {\n                head.removeChild(links[i]);\n            }\n        }\n    };\n\n    var setFaviconTag = function(url) {\n        removeFaviconTag();\n\n        var link = document.createElement('link');\n        link.type = 'image/x-icon';\n        link.rel = 'icon';\n        link.href = url;\n\n        document.getElementsByTagName('head')[0].appendChild(link);\n    };\n\n    var getCanvas = function () {\n        if (!canvas) {\n            canvas = document.createElement(\"canvas\");\n            canvas.width = 16;\n            canvas.height = 16;\n        }\n\n        return canvas;\n    };\n\n    var drawFavicon = function(percentage) {\n        var canvas = getCanvas();\n        var context = canvas.getContext(\"2d\");\n        var percentage = percentage || 0;\n        var src = currentFavicon;\n\n        var faviconImage = new Image();\n        faviconImage.onload = function() {\n            if (context) {\n                context.clearRect(0, 0, 16, 16);\n\n                // Draw shadow\n                context.beginPath();\n                context.moveTo(canvas.width / 2, canvas.height / 2);\n                context.arc(canvas.width / 2, canvas.height / 2, Math.min(canvas.width / 2, canvas.height / 2), 0, Math.PI * 2, false);\n                context.fillStyle = options.shadow;\n                context.fill();\n\n                // Draw background\n                context.beginPath();\n                context.moveTo(canvas.width / 2, canvas.height / 2);\n                context.arc(canvas.width / 2, canvas.height / 2, Math.min(canvas.width / 2, canvas.height / 2) - 2, 0, Math.PI * 2, false);\n                context.fillStyle = options.background;\n                context.fill();\n\n                // Draw pie\n                if (percentage > 0) {\n                    context.beginPath();\n                    context.moveTo(canvas.width / 2, canvas.height / 2);\n                    context.arc(canvas.width / 2, canvas.height / 2, Math.min(canvas.width / 2, canvas.height / 2) - 2, (-0.5) * Math.PI, (-0.5 + 2 * percentage / 100) * Math.PI, false);\n                    context.lineTo(canvas.width / 2, canvas.height / 2);\n                    context.fillStyle = options.color;\n                    context.fill();\n                }\n\n                setFaviconTag(canvas.toDataURL());\n            }\n        };\n\n        // allow cross origin resource requests if the image is not a data:uri\n        // as detailed here: https://github.com/mrdoob/three.js/issues/1305\n        if (!src.match(/^data/)) {\n            faviconImage.crossOrigin = 'anonymous';\n        }\n\n        faviconImage.src = src;\n    };\n\n    var updateTitle = function(percentage) {\n        if (percentage > 0) {\n            document.title = '(' + percentage + '%) ' + originalTitle;\n        } else {\n            document.title = originalTitle;\n        }\n    };\n\n    Piecon.setOptions = function(custom) {\n        options = {};\n\n        for (var key in defaults){\n            options[key] = custom.hasOwnProperty(key) ? custom[key] : defaults[key];\n        }\n\n        return this;\n    };\n\n    Piecon.setProgress = function(percentage) {\n        if (!originalTitle) {\n            originalTitle = document.title;\n        }\n\n        if (!originalFavicon || !currentFavicon) {\n            var tag = getFaviconTag();\n            originalFavicon = currentFavicon = tag ? tag.getAttribute('href') : '/favicon.ico';\n        }\n\n        if (!isNaN(parseFloat(percentage)) && isFinite(percentage)) {\n            if (!getCanvas().getContext || browser.ie || browser.safari || options.fallback == true) {\n                // Fallback to updating the browser title if unsupported\n                return updateTitle(percentage);\n            } else if (options.fallback === 'force') {\n                updateTitle(percentage);\n            }\n\n            return drawFavicon(percentage);\n        }\n\n        return false;\n    };\n\n    Piecon.reset = function() {\n        if (originalTitle) {\n            document.title = originalTitle;\n        }\n\n        if (originalFavicon) {\n            currentFavicon = originalFavicon;\n            setFaviconTag(currentFavicon);\n        }\n    };\n\n    Piecon.setOptions(defaults);\n    window.Piecon = Piecon;\n})();","/**\n * mOxie - multi-runtime File API & XMLHttpRequest L2 Polyfill\n * v1.2.0\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n *\n * Date: 2014-01-16\n */\n!function(e,t){\"use strict\";function n(e,t){for(var n,i=[],r=0;r<e.length;++r){if(n=s[e[r]]||o(e[r]),!n)throw\"module definition dependecy not found: \"+e[r];i.push(n)}t.apply(null,i)}function i(e,i,r){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(i===t)throw\"invalid module definition, dependencies must be specified\";if(r===t)throw\"invalid module definition, definition function must be specified\";n(i,function(){s[e]=r.apply(null,arguments)})}function r(e){return!!s[e]}function o(t){for(var n=e,i=t.split(/[.\\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function a(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],a=o.split(/[.\\/]/),u=0;u<a.length-1;++u)r[a[u]]===t&&(r[a[u]]={}),r=r[a[u]];r[a[a.length-1]]=s[o]}}var s={},u=\"moxie/core/utils/Basic\",c=\"moxie/core/I18n\",l=\"moxie/core/utils/Mime\",d=\"moxie/core/utils/Env\",f=\"moxie/core/utils/Dom\",p=\"moxie/core/Exceptions\",h=\"moxie/core/EventTarget\",m=\"moxie/core/utils/Encode\",g=\"moxie/runtime/Runtime\",v=\"moxie/runtime/RuntimeClient\",y=\"moxie/file/Blob\",w=\"moxie/file/File\",E=\"moxie/file/FileInput\",_=\"moxie/file/FileDrop\",x=\"moxie/runtime/RuntimeTarget\",R=\"moxie/file/FileReader\",b=\"moxie/core/utils/Url\",T=\"moxie/file/FileReaderSync\",S=\"moxie/xhr/FormData\",A=\"moxie/xhr/XMLHttpRequest\",O=\"moxie/runtime/Transporter\",I=\"moxie/image/Image\",D=\"moxie/runtime/html5/Runtime\",N=\"moxie/runtime/html5/file/Blob\",L=\"moxie/core/utils/Events\",M=\"moxie/runtime/html5/file/FileInput\",C=\"moxie/runtime/html5/file/FileDrop\",F=\"moxie/runtime/html5/file/FileReader\",H=\"moxie/runtime/html5/xhr/XMLHttpRequest\",P=\"moxie/runtime/html5/utils/BinaryReader\",k=\"moxie/runtime/html5/image/JPEGHeaders\",U=\"moxie/runtime/html5/image/ExifParser\",B=\"moxie/runtime/html5/image/JPEG\",z=\"moxie/runtime/html5/image/PNG\",G=\"moxie/runtime/html5/image/ImageInfo\",q=\"moxie/runtime/html5/image/MegaPixel\",X=\"moxie/runtime/html5/image/Image\",j=\"moxie/runtime/flash/Runtime\",V=\"moxie/runtime/flash/file/Blob\",W=\"moxie/runtime/flash/file/FileInput\",Y=\"moxie/runtime/flash/file/FileReader\",$=\"moxie/runtime/flash/file/FileReaderSync\",J=\"moxie/runtime/flash/xhr/XMLHttpRequest\",Z=\"moxie/runtime/flash/runtime/Transporter\",K=\"moxie/runtime/flash/image/Image\",Q=\"moxie/runtime/silverlight/Runtime\",et=\"moxie/runtime/silverlight/file/Blob\",tt=\"moxie/runtime/silverlight/file/FileInput\",nt=\"moxie/runtime/silverlight/file/FileDrop\",it=\"moxie/runtime/silverlight/file/FileReader\",rt=\"moxie/runtime/silverlight/file/FileReaderSync\",ot=\"moxie/runtime/silverlight/xhr/XMLHttpRequest\",at=\"moxie/runtime/silverlight/runtime/Transporter\",st=\"moxie/runtime/silverlight/image/Image\",ut=\"moxie/runtime/html4/Runtime\",ct=\"moxie/runtime/html4/file/FileInput\",lt=\"moxie/runtime/html4/file/FileReader\",dt=\"moxie/runtime/html4/xhr/XMLHttpRequest\",ft=\"moxie/runtime/html4/image/Image\";i(u,[],function(){var e=function(e){var t;return e===t?\"undefined\":null===e?\"null\":e.nodeType?\"node\":{}.toString.call(e).match(/\\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(i){var r;return n(arguments,function(o,s){s>0&&n(o,function(n,o){n!==r&&(e(i[o])===e(n)&&~a(e(n),[\"array\",\"object\"])?t(i[o],n):i[o]=n)})}),i},n=function(e,t){var n,i,r,o;if(e){try{n=e.length}catch(a){n=o}if(n===o){for(i in e)if(e.hasOwnProperty(i)&&t(e[i],i)===!1)return}else for(r=0;n>r;r++)if(t(e[r],r)===!1)return}},i=function(t){var n;if(!t||\"object\"!==e(t))return!0;for(n in t)return!1;return!0},r=function(t,n){function i(r){\"function\"===e(t[r])&&t[r](function(e){++r<o&&!e?i(r):n(e)})}var r=0,o=t.length;\"function\"!==e(n)&&(n=function(){}),t&&t.length||n(),i(r)},o=function(e,t){var i=0,r=e.length,o=new Array(r);n(e,function(e,n){e(function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),o[n]=a,i++,i===r&&(o.unshift(null),t.apply(this,o))})})},a=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1},s=function(t,n){var i=[];\"array\"!==e(t)&&(t=[t]),\"array\"!==e(n)&&(n=[n]);for(var r in t)-1===a(t[r],n)&&i.push(t[r]);return i.length?i:!1},u=function(e,t){var i=[];return n(e,function(e){-1!==a(e,t)&&i.push(e)}),i.length?i:null},c=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},l=function(){var e=0;return function(t){var n=(new Date).getTime().toString(32),i;for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||\"o_\")+n+(e++).toString(32)}}(),d=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\\s*/,\"\").replace(/\\s*$/,\"\"):e},f=function(e){if(\"string\"!=typeof e)return e;var t={t:1099511627776,g:1073741824,m:1048576,k:1024},n;return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,\"\")),n=e[2],e=+e[1],t.hasOwnProperty(n)&&(e*=t[n]),e};return{guid:l,typeOf:e,extend:t,each:n,isEmptyObj:i,inSeries:r,inParallel:o,inArray:a,arrayDiff:s,arrayIntersect:u,toArray:c,trim:d,parseSizeStr:f}}),i(c,[u],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=n.shift();return\"undefined\"!==e.typeOf(t)?t:\"\"})}}}),i(l,[u,c],function(e,t){var n=\"application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe\",i={mimes:{},extensions:{},addMimeType:function(e){var t=e.split(/,/),n,i,r;for(n=0;n<t.length;n+=2){for(r=t[n+1].split(/ /),i=0;i<r.length;i++)this.mimes[r[i]]=t[n];this.extensions[t[n]]=r}},extList2mimes:function(t,n){var i=this,r,o,a,s,u=[];for(o=0;o<t.length;o++)for(r=t[o].extensions.split(/\\s*,\\s*/),a=0;a<r.length;a++){if(\"*\"===r[a])return[];if(s=i.mimes[r[a]])-1===e.inArray(s,u)&&u.push(s);else{if(!n||!/^\\w+$/.test(r[a]))return[];u.push(\".\"+r[a])}}return u},mimes2exts:function(t){var n=this,i=[];return e.each(t,function(t){if(\"*\"===t)return i=[],!1;var r=t.match(/^(\\w+)\\/(\\*|\\w+)$/);r&&(\"*\"===r[2]?e.each(n.extensions,function(e,t){new RegExp(\"^\"+r[1]+\"/\").test(t)&&[].push.apply(i,n.extensions[t])}):n.extensions[t]&&[].push.apply(i,n.extensions[t]))}),i},mimes2extList:function(n){var i=[],r=[];return\"string\"===e.typeOf(n)&&(n=e.trim(n).split(/\\s*,\\s*/)),r=this.mimes2exts(n),i.push({title:t.translate(\"Files\"),extensions:r.length?r.join(\",\"):\"*\"}),i.mimes=n,i},getFileExtension:function(e){var t=e&&e.match(/\\.([^.]+)$/);return t?t[1].toLowerCase():\"\"},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||\"\"}};return i.addMimeType(n),i}),i(d,[u],function(e){function t(e,t,n){var i=0,r=0,o=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,\"#\":-2,p:1,pl:1},s=function(e){return e=(\"\"+e).replace(/[_\\-+]/g,\".\"),e=e.replace(/([^.\\d]+)/g,\".$1.\").replace(/\\.{2,}/g,\".\"),e.length?e.split(\".\"):[-8]},u=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),r=Math.max(e.length,t.length),i=0;r>i;i++)if(e[i]!=t[i]){if(e[i]=u(e[i]),t[i]=u(t[i]),e[i]<t[i]){o=-1;break}if(e[i]>t[i]){o=1;break}}if(!n)return o;switch(n){case\">\":case\"gt\":return o>0;case\">=\":case\"ge\":return o>=0;case\"<=\":case\"le\":return 0>=o;case\"==\":case\"=\":case\"eq\":return 0===o;case\"<>\":case\"!=\":case\"ne\":return 0!==o;case\"\":case\"<\":case\"lt\":return 0>o;default:return null}}var n=function(e){var t=\"\",n=\"?\",i=\"function\",r=\"undefined\",o=\"object\",a=\"major\",s=\"model\",u=\"name\",c=\"type\",l=\"vendor\",d=\"version\",f=\"architecture\",p=\"console\",h=\"mobile\",m=\"tablet\",g={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},v={rgx:function(){for(var t,n=0,a,s,u,c,l,d,f=arguments;n<f.length;n+=2){var p=f[n],h=f[n+1];if(typeof t===r){t={};for(u in h)c=h[u],typeof c===o?t[c[0]]=e:t[c]=e}for(a=s=0;a<p.length;a++)if(l=p[a].exec(this.getUA())){for(u=0;u<h.length;u++)d=l[++s],c=h[u],typeof c===o&&c.length>0?2==c.length?t[c[0]]=typeof c[1]==i?c[1].call(this,d):c[1]:3==c.length?t[c[0]]=typeof c[1]!==i||c[1].exec&&c[1].test?d?d.replace(c[1],c[2]):e:d?c[1].call(this,d,c[2]):e:4==c.length&&(t[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):e):t[c]=d?d:e;break}if(l)break}return t},str:function(t,i){for(var r in i)if(typeof i[r]===o&&i[r].length>0){for(var a=0;a<i[r].length;a++)if(g.has(i[r][a],t))return r===n?e:r}else if(g.has(i[r],t))return r===n?e:r;return t}},y={browser:{oldsafari:{major:{1:[\"/8\",\"/1\",\"/3\"],2:\"/4\",\"?\":\"/\"},version:{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}}},device:{sprint:{model:{\"Evo Shift 4G\":\"7373KT\"},vendor:{HTC:\"APA\",Sprint:\"Sprint\"}}},os:{windows:{version:{ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2000:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",RT:\"ARM\"}}}},w={browser:[[/(opera\\smini)\\/((\\d+)?[\\w\\.-]+)/i,/(opera\\s[mobiletab]+).+version\\/((\\d+)?[\\w\\.-]+)/i,/(opera).+version\\/((\\d+)?[\\w\\.]+)/i,/(opera)[\\/\\s]+((\\d+)?[\\w\\.]+)/i],[u,d,a],[/\\s(opr)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Opera\"],d,a],[/(kindle)\\/((\\d+)?[\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?((\\d+)?[\\w\\.]+)*/i,/(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?((\\d+)?[\\w\\.]*)/i,/(?:ms|\\()(ie)\\s((\\d+)?[\\w\\.]+)/i,/(rekonq)((?:\\/)[\\w\\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\\/((\\d+)?[\\w\\.-]+)/i],[u,d,a],[/(trident).+rv[:\\s]((\\d+)?[\\w\\.]+).+like\\sgecko/i],[[u,\"IE\"],d,a],[/(yabrowser)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Yandex\"],d,a],[/(comodo_dragon)\\/((\\d+)?[\\w\\.]+)/i],[[u,/_/g,\" \"],d,a],[/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?((\\d+)?[\\w\\.]+)/i],[u,d,a],[/(dolfin)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Dolphin\"],d,a],[/((?:android.+)crmo|crios)\\/((\\d+)?[\\w\\.]+)/i],[[u,\"Chrome\"],d,a],[/((?:android.+))version\\/((\\d+)?[\\w\\.]+)\\smobile\\ssafari/i],[[u,\"Android Browser\"],d,a],[/version\\/((\\d+)?[\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i],[d,a,[u,\"Mobile Safari\"]],[/version\\/((\\d+)?[\\w\\.]+).+?(mobile\\s?safari|safari)/i],[d,a,u],[/webkit.+?(mobile\\s?safari|safari)((\\/[\\w\\.]+))/i],[u,[a,v.str,y.browser.oldsafari.major],[d,v.str,y.browser.oldsafari.version]],[/(konqueror)\\/((\\d+)?[\\w\\.]+)/i,/(webkit|khtml)\\/((\\d+)?[\\w\\.]+)/i],[u,d,a],[/(navigator|netscape)\\/((\\d+)?[\\w\\.-]+)/i],[[u,\"Netscape\"],d,a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?((\\d+)?[\\w\\.\\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/((\\d+)?[\\w\\.-]+)/i,/(mozilla)\\/((\\d+)?[\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,/(uc\\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\\/\\s]?((\\d+)?[\\w\\.]+)/i,/(links)\\s\\(((\\d+)?[\\w\\.]+)/i,/(gobrowser)\\/?((\\d+)?[\\w\\.]+)*/i,/(ice\\s?browser)\\/v?((\\d+)?[\\w\\._]+)/i,/(mosaic)[\\/\\s]((\\d+)?[\\w\\.]+)/i],[u,d,a]],engine:[[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,/(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i],[u,d],[/rv\\:([\\w\\.]+).*(gecko)/i],[d,u]],os:[[/(windows)\\snt\\s6\\.2;\\s(arm)/i,/(windows\\sphone(?:\\sos)*|windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i],[u,[d,v.str,y.os.windows.version]],[/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i],[[u,\"Windows\"],[d,v.str,y.os.windows.version]],[/\\((bb)(10);/i],[[u,\"BlackBerry\"],d],[/(blackberry)\\w*\\/?([\\w\\.]+)*/i,/(tizen)\\/([\\w\\.]+)/i,/(android|webos|palm\\os|qnx|bada|rim\\stablet\\sos|meego)[\\/\\s-]?([\\w\\.]+)*/i],[u,d],[/(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i],[[u,\"Symbian\"],d],[/mozilla.+\\(mobile;.+gecko.+firefox/i],[[u,\"Firefox OS\"],d],[/(nintendo|playstation)\\s([wids3portablevu]+)/i,/(mint)[\\/\\s\\(]?(\\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\\/\\s-]?([\\w\\.-]+)*/i,/(hurd|linux)\\s?([\\w\\.]+)*/i,/(gnu)\\s?([\\w\\.]+)*/i],[u,d],[/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i],[[u,\"Chromium OS\"],d],[/(sunos)\\s?([\\w\\.]+\\d)*/i],[[u,\"Solaris\"],d],[/\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i],[u,d],[/(ip[honead]+)(?:.*os\\s*([\\w]+)*\\slike\\smac|;\\sopera)/i],[[u,\"iOS\"],[d,/_/g,\".\"]],[/(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i],[u,[d,/_/g,\".\"]],[/(haiku)\\s(\\w+)/i,/(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos)/i,/(unix)\\s?([\\w\\.]+)*/i],[u,d]]},E=function(e){var n=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return v.rgx.apply(this,w.browser)},this.getEngine=function(){return v.rgx.apply(this,w.engine)},this.getOS=function(){return v.rgx.apply(this,w.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n)};return(new E).getResult()}(),i=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement(\"canvas\");return!(!e.getContext||!e.getContext(\"2d\"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,[\"\",\"text\",\"document\"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open(\"get\",\"/\"),\"responseType\"in n)return n.responseType=t,n.responseType!==t?!1:!0}}catch(i){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\"},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&(\"IE\"!==r.browser||r.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement(\"input\");return e.setAttribute(\"type\",\"file\"),!e.disabled}};return function(n){var i=[].slice.call(arguments);return i.shift(),\"function\"===e.typeOf(t[n])?t[n].apply(this,i):!!t[n]}}(),r={can:i,browser:n.browser.name,version:parseFloat(n.browser.major),os:n.os.name,osVersion:n.os.version,verComp:t,swf_url:\"../flash/Moxie.swf\",xap_url:\"../silverlight/Moxie.xap\",global_event_dispatcher:\"moxie.core.EventTarget.instance.dispatchEvent\"};return r.OS=r.os,r}),i(f,[d],function(e){var t=function(e){return\"string\"!=typeof e?e:document.getElementById(e)},n=function(e,t){if(!e.className)return!1;var n=new RegExp(\"(^|\\\\s+)\"+t+\"(\\\\s+|$)\");return n.test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className?e.className.replace(/\\s+$/,\"\")+\" \"+t:t)},r=function(e,t){if(e.className){var n=new RegExp(\"(^|\\\\s+)\"+t+\"(\\\\s+|$)\");e.className=e.className.replace(n,function(e,t,n){return\" \"===t&&\" \"===n?\" \":\"\"})}},o=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},a=function(t,n){function i(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t=\"CSS1Compat\"===s.compatMode?s.documentElement:s.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var r=0,o=0,a,s=document,u,c;if(t=t,n=n||s.body,t&&t.getBoundingClientRect&&\"IE\"===e.browser&&(!s.documentMode||s.documentMode<8))return u=i(t),c=i(n),{x:u.x-c.x,y:u.y-c.y};for(a=t;a&&a!=n&&a.nodeType;)r+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent;for(a=t.parentNode;a&&a!=n&&a.nodeType;)r-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode;return{x:r,y:o}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:n,addClass:i,removeClass:r,getStyle:o,getPos:a,getSize:s}}),i(p,[u],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": RuntimeError \"+this.code}var i={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,i),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name=\"OperationNotAllowedException\"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": ImageError \"+this.code}var i={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(n,i),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": FileException \"+this.code}var i={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,i),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+\": DOMException \"+this.code}var i={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,i),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name=\"EventException\"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),i(h,[p,u],function(e,t){function n(){var n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid(\"uid_\"))},addEventListener:function(e,i,r,o){var a=this,s;return e=t.trim(e),/\\s/.test(e)?(t.each(e.split(/\\s+/),function(e){a.addEventListener(e,i,r,o)}),void 0):(e=e.toLowerCase(),r=parseInt(r,10)||0,s=n[this.uid]&&n[this.uid][e]||[],s.push({fn:i,priority:r,scope:o||this}),n[this.uid]||(n[this.uid]={}),n[this.uid][e]=s,void 0)},hasEventListener:function(e){return e?!(!n[this.uid]||!n[this.uid][e]):!!n[this.uid]},removeEventListener:function(e,i){e=e.toLowerCase();var r=n[this.uid]&&n[this.uid][e],o;if(r){if(i){for(o=r.length-1;o>=0;o--)if(r[o].fn===i){r.splice(o,1);break}}else r=[];r.length||(delete n[this.uid][e],t.isEmptyObj(n[this.uid])&&delete n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&&delete n[this.uid]},dispatchEvent:function(i){var r,o,a,s,u={},c=!0,l;if(\"string\"!==t.typeOf(i)){if(s=i,\"string\"!==t.typeOf(s.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);i=s.type,s.total!==l&&s.loaded!==l&&(u.total=s.total,u.loaded=s.loaded),u.async=s.async||!1}if(-1!==i.indexOf(\"::\")?function(e){r=e[0],i=e[1]}(i.split(\"::\")):r=this.uid,i=i.toLowerCase(),o=n[r]&&n[r][i]){o.sort(function(e,t){return t.priority-e.priority}),a=[].slice.call(arguments),a.shift(),u.type=i,a.unshift(u);var d=[];t.each(o,function(e){a[0].target=e.scope,u.async?d.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,a)===!1)},1)}):d.push(function(t){t(e.fn.apply(e.scope,a)===!1)})}),d.length&&t.inSeries(d,function(e){c=!e})}return c},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var n;\"array\"!==t.typeOf(e)&&(e=[e]);for(var i=0;i<e.length;i++)n=\"on\"+e[i],\"function\"===t.typeOf(this[n])?this.addEventListener(e[i],this[n]):\"undefined\"===t.typeOf(this[n])&&(this[n]=null)}})}return n.instance=new n,n}),i(m,[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},n=function(e,n){if(\"function\"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",r,o,a,s,u,c,l,d,f=0,p=0,h=\"\",m=[];if(!e)return e;e+=\"\";do s=i.indexOf(e.charAt(f++)),u=i.indexOf(e.charAt(f++)),c=i.indexOf(e.charAt(f++)),l=i.indexOf(e.charAt(f++)),d=s<<18|u<<12|c<<6|l,r=255&d>>16,o=255&d>>8,a=255&d,m[p++]=64==c?String.fromCharCode(r):64==l?String.fromCharCode(r,o):String.fromCharCode(r,o,a);while(f<e.length);return h=m.join(\"\"),n?t(h):h},i=function(t,n){if(n&&e(t),\"function\"==typeof window.btoa)return window.btoa(t);var i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",r,o,a,s,u,c,l,d,f=0,p=0,h=\"\",m=[];if(!t)return t;do r=t.charCodeAt(f++),o=t.charCodeAt(f++),a=t.charCodeAt(f++),d=r<<16|o<<8|a,s=63&d>>18,u=63&d>>12,c=63&d>>6,l=63&d,m[p++]=i.charAt(s)+i.charAt(u)+i.charAt(c)+i.charAt(l);while(f<t.length);h=m.join(\"\");var g=t.length%3;return(g?h.slice(0,g-3):h)+\"===\".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:i}}),i(g,[u,f,h],function(e,t,n){function i(n,r,a,s,u){var c=this,l,d=e.guid(r+\"_\"),f=u||\"browser\";n=n||{},o[d]=this,a=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},a),n.preferred_caps&&(f=i.getMode(s,n.preferred_caps,f)),l=function(){var t={};return{exec:function(e,n,i,r){return l[n]&&(t[e]||(t[e]={context:this,instance:new l[n]}),t[e].instance[i])?t[e].instance[i].apply(this,r):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var n=this;e.each(t,function(t,i){\"function\"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),n.removeInstance(i)})}}}(),e.extend(this,{initialized:!1,uid:d,type:r,mode:i.getMode(s,n.required_caps,f),shimid:d+\"_container\",clients:0,options:n,can:function(t,n){var r=arguments[2]||a;if(\"string\"===e.typeOf(t)&&\"undefined\"===e.typeOf(n)&&(t=i.parseCaps(t)),\"object\"===e.typeOf(t)){for(var o in t)if(!this.can(o,t[o],r))return!1;return!0}return\"function\"===e.typeOf(r[t])?r[t].call(this,n):n===r[t]},getShimContainer:function(){var n,i=t.get(this.shimid);return i||(n=this.options.container?t.get(this.options.container):document.body,i=document.createElement(\"div\"),i.id=this.shimid,i.className=\"moxie-shim moxie-shim-\"+this.type,e.extend(i.style,{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"1px\",height:\"1px\",overflow:\"hidden\"}),n.appendChild(i),n=null),i},getShim:function(){return l},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return c[e]&&c[e][t]?c[e][t].apply(this,n):c.shimExec.apply(this,arguments)},destroy:function(){if(c){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),l&&l.removeAllInstances(),this.unbindAll(),delete o[this.uid],this.uid=null,d=c=l=e=null}}}),this.mode&&n.required_caps&&!this.can(n.required_caps)&&(this.mode=!1)}var r={},o={};return i.order=\"html5,flash,silverlight,html4\",i.getRuntime=function(e){return o[e]?o[e]:!1},i.addConstructor=function(e,t){t.prototype=n.instance,r[e]=t},i.getConstructor=function(e){return r[e]||null},i.getInfo=function(e){var t=i.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},i.parseCaps=function(t){var n={};return\"string\"!==e.typeOf(t)?t||{}:(e.each(t.split(\",\"),function(e){n[e]=!0}),n)},i.can=function(e,t){var n,r=i.getConstructor(e),o;return r?(n=new r({required_caps:t}),o=n.mode,n.destroy(),!!o):!1},i.thatCan=function(e,t){var n=(t||i.order).split(/\\s*,\\s*/);for(var r in n)if(i.can(n[r],e))return n[r];return null},i.getMode=function(t,n,i){var r=null;if(\"undefined\"===e.typeOf(i)&&(i=\"browser\"),n&&!e.isEmptyObj(t)){if(e.each(n,function(n,i){if(t.hasOwnProperty(i)){var o=t[i](n);if(\"string\"==typeof o&&(o=[o]),r){if(!(r=e.arrayIntersect(r,o)))return r=!1}else r=o}}),r)return-1!==e.inArray(i,r)?i:r[0];if(r===!1)return!1}return i},i.capTrue=function(){return!0},i.capFalse=function(){return!1},i.capTest=function(e){return function(){return!!e}},i}),i(v,[p,u,g],function(e,t,n){return function i(){var i;t.extend(this,{connectRuntime:function(r){function o(t){var s,u;return t.length?(s=t.shift(),(u=n.getConstructor(s))?(i=new u(r),i.bind(\"Init\",function(){i.initialized=!0,setTimeout(function(){i.clients++,a.trigger(\"RuntimeInit\",i)},1)}),i.bind(\"Error\",function(){i.destroy(),o(t)}),i.mode?(i.init(),void 0):(i.trigger(\"Error\"),void 0)):(o(t),void 0)):(a.trigger(\"RuntimeError\",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),i=null,void 0)}var a=this,s;if(\"string\"===t.typeOf(r)?s=r:\"string\"===t.typeOf(r.ruid)&&(s=r.ruid),s){if(i=n.getRuntime(s))return i.clients++,i;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}o((r.runtime_order||n.order).split(/\\s*,\\s*/))},getRuntime:function(){return i&&i.uid?i:(i=null,null)},disconnectRuntime:function(){i&&--i.clients<=0&&(i.destroy(),i=null)}})}}),i(y,[u,m,v],function(e,t,n){function i(o,a){function s(t,n,o){var a,s=r[this.uid];return\"string\"===e.typeOf(s)&&s.length?(a=new i(null,{type:o,size:n-t}),a.detach(s.substr(t,a.size)),a):null}n.call(this),o&&this.connectRuntime(o),a?\"string\"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid(\"uid_\"),ruid:o,size:a.size||0,type:a.type||\"\",slice:function(e,t,n){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,\"Blob\",\"slice\",this.getSource(),e,t,n)},getSource:function(){return r[this.uid]?r[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,\"Blob\",\"destroy\",r[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||\"\";var n=e.match(/^data:([^;]*);base64,/);n&&(this.type=n[1],e=t.atob(e.substring(e.indexOf(\"base64,\")+7))),this.size=e.length,r[this.uid]=e},isDetached:function(){return!this.ruid&&\"string\"===e.typeOf(r[this.uid])},destroy:function(){this.detach(),delete r[this.uid]}}),a.data?this.detach(a.data):r[this.uid]=a}var r={};return i}),i(w,[u,l,y],function(e,t,n){function i(i,r){var o,a;if(r||(r={}),a=r.type&&\"\"!==r.type?r.type:t.getFileMime(r.name),r.name)o=r.name.replace(/\\\\/g,\"/\"),o=o.substr(o.lastIndexOf(\"/\")+1);else{var s=a.split(\"/\")[0];o=e.guid((\"\"!==s?s:\"file\")+\"_\"),t.extensions[a]&&(o+=\".\"+t.extensions[a][0])}n.apply(this,arguments),e.extend(this,{type:a||\"\",name:o||e.guid(\"file_\"),lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return i.prototype=n.prototype,i}),i(E,[u,l,f,p,h,c,w,g,v],function(e,t,n,i,r,o,a,s,u){function c(r){var c=this,d,f,p;if(-1!==e.inArray(e.typeOf(r),[\"string\",\"node\"])&&(r={browse_button:r}),f=n.get(r.browse_button),!f)throw new i.DOMException(i.DOMException.NOT_FOUND_ERR);p={accept:[{title:o.translate(\"All Files\"),extensions:\"*\"}],name:\"file\",multiple:!1,required_caps:!1,container:f.parentNode||document.body},r=e.extend({},p,r),\"string\"==typeof r.required_caps&&(r.required_caps=s.parseCaps(r.required_caps)),\"string\"==typeof r.accept&&(r.accept=t.mimes2extList(r.accept)),d=n.get(r.container),d||(d=document.body),\"static\"===n.getStyle(d,\"position\")&&(d.style.position=\"relative\"),d=f=null,u.call(c),e.extend(c,{uid:e.guid(\"uid_\"),ruid:null,shimid:null,files:null,init:function(){c.convertEventPropsToHandlers(l),c.bind(\"RuntimeInit\",function(t,i){c.ruid=i.uid,c.shimid=i.shimid,c.bind(\"Ready\",function(){c.trigger(\"Refresh\")},999),c.bind(\"Change\",function(){var t=i.exec.call(c,\"FileInput\",\"getFiles\");c.files=[],e.each(t,function(e){return 0===e.size?!0:(c.files.push(new a(c.ruid,e)),void 0)})},999),c.bind(\"Refresh\",function(){var t,o,a,s;a=n.get(r.browse_button),s=n.get(i.shimid),a&&(t=n.getPos(a,n.get(r.container)),o=n.getSize(a),s&&e.extend(s.style,{top:t.y+\"px\",left:t.x+\"px\",width:o.w+\"px\",height:o.h+\"px\"})),s=a=null}),i.exec.call(c,\"FileInput\",\"init\",r)}),c.connectRuntime(e.extend({},r,{required_caps:{select_file:!0}}))},disable:function(t){var n=this.getRuntime();n&&n.exec.call(this,\"FileInput\",\"disable\",\"undefined\"===e.typeOf(t)?!0:t)},refresh:function(){c.trigger(\"Refresh\")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,\"FileInput\",\"destroy\"),this.disconnectRuntime()),\"array\"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var l=[\"ready\",\"change\",\"cancel\",\"mouseenter\",\"mouseleave\",\"mousedown\",\"mouseup\"];return c.prototype=r.instance,c}),i(_,[c,f,p,u,w,v,h,l],function(e,t,n,i,r,o,a,s){function u(n){var a=this,u;\"string\"==typeof n&&(n={drop_zone:n}),u={accept:[{title:e.translate(\"All Files\"),extensions:\"*\"}],required_caps:{drag_and_drop:!0}},n=\"object\"==typeof n?i.extend({},u,n):u,n.container=t.get(n.drop_zone)||document.body,\"static\"===t.getStyle(n.container,\"position\")&&(n.container.style.position=\"relative\"),\"string\"==typeof n.accept&&(n.accept=s.mimes2extList(n.accept)),o.call(a),i.extend(a,{uid:i.guid(\"uid_\"),ruid:null,files:null,init:function(){a.convertEventPropsToHandlers(c),a.bind(\"RuntimeInit\",function(e,t){a.ruid=t.uid,a.bind(\"Drop\",function(){var e=t.exec.call(a,\"FileDrop\",\"getFiles\");a.files=[],i.each(e,function(e){a.files.push(new r(a.ruid,e))})},999),t.exec.call(a,\"FileDrop\",\"init\",n),a.dispatchEvent(\"ready\")}),a.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,\"FileDrop\",\"destroy\"),this.disconnectRuntime()),this.files=null}})}var c=[\"ready\",\"dragenter\",\"dragleave\",\"drop\",\"error\"];return u.prototype=a.instance,u}),i(x,[u,v,h],function(e,t,n){function i(){this.uid=e.guid(\"uid_\"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return i.prototype=n.instance,i}),i(R,[u,m,p,h,y,w,x],function(e,t,n,i,r,o,a){function s(){function i(e,i){function l(e){o.readyState=s.DONE,o.error=e,o.trigger(\"error\"),d()}function d(){c.destroy(),c=null,o.trigger(\"loadend\")}function f(t){c.bind(\"Error\",function(e,t){l(t)}),c.bind(\"Progress\",function(e){o.result=t.exec.call(c,\"FileReader\",\"getResult\"),o.trigger(e)}),c.bind(\"Load\",function(e){o.readyState=s.DONE,o.result=t.exec.call(c,\"FileReader\",\"getResult\"),o.trigger(e),d()}),t.exec.call(c,\"FileReader\",\"read\",e,i)}if(c=new a,this.convertEventPropsToHandlers(u),this.readyState===s.LOADING)return l(new n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=s.LOADING,this.trigger(\"loadstart\"),i instanceof r)if(i.isDetached()){var p=i.getSource();switch(e){case\"readAsText\":case\"readAsBinaryString\":this.result=p;break;case\"readAsDataURL\":this.result=\"data:\"+i.type+\";base64,\"+t.btoa(p)}this.readyState=s.DONE,this.trigger(\"load\"),d()}else f(c.connectRuntime(i.ruid));else l(new n.DOMException(n.DOMException.NOT_FOUND_ERR))}var o=this,c;e.extend(this,{uid:e.guid(\"uid_\"),readyState:s.EMPTY,result:null,error:null,readAsBinaryString:function(e){i.call(this,\"readAsBinaryString\",e)},readAsDataURL:function(e){i.call(this,\"readAsDataURL\",e)},readAsText:function(e){i.call(this,\"readAsText\",e)\n},abort:function(){this.result=null,-1===e.inArray(this.readyState,[s.EMPTY,s.DONE])&&(this.readyState===s.LOADING&&(this.readyState=s.DONE),c&&c.getRuntime().exec.call(this,\"FileReader\",\"abort\"),this.trigger(\"abort\"),this.trigger(\"loadend\"))},destroy:function(){this.abort(),c&&(c.getRuntime().exec.call(this,\"FileReader\",\"destroy\"),c.disconnectRuntime()),o=c=null}})}var u=[\"loadstart\",\"progress\",\"load\",\"abort\",\"error\",\"loadend\"];return s.EMPTY=0,s.LOADING=1,s.DONE=2,s.prototype=i.instance,s}),i(b,[],function(){var e=function(t,n){for(var i=[\"source\",\"scheme\",\"authority\",\"userInfo\",\"user\",\"pass\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],r=i.length,o={http:80,https:443},a={},s=/^(?:([^:\\/?#]+):)?(?:\\/\\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?()(?:(()(?:(?:[^?#\\/]*\\/)*)()(?:[^?#]*))(?:\\\\?([^#]*))?(?:#(.*))?)/,u=s.exec(t||\"\");r--;)u[r]&&(a[i[r]]=u[r]);if(!a.scheme){n&&\"string\"!=typeof n||(n=e(n||document.location.href)),a.scheme=n.scheme,a.host=n.host,a.port=n.port;var c=\"\";/^[^\\/]/.test(a.path)&&(c=n.path,/(\\/|\\/[^\\.]+)$/.test(c)?c+=\"/\":c=c.replace(/\\/[^\\/]+$/,\"/\")),a.path=c+(a.path||\"\")}return a.port||(a.port=o[a.scheme]||80),a.port=parseInt(a.port,10),a.path||(a.path=\"/\"),delete a.source,a},t=function(t){var n={http:80,https:443},i=e(t);return i.scheme+\"://\"+i.host+(i.port!==n[i.scheme]?\":\"+i.port:\"\")+i.path+(i.query?i.query:\"\")},n=function(t){function n(e){return[e.scheme,e.host,e.port].join(\"/\")}return\"string\"==typeof t&&(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),i(T,[u,v,m],function(e,t,n){return function(){function i(e,t){if(!t.isDetached()){var i=this.connectRuntime(t.ruid).exec.call(this,\"FileReaderSync\",\"read\",e,t);return this.disconnectRuntime(),i}var r=t.getSource();switch(e){case\"readAsBinaryString\":return r;case\"readAsDataURL\":return\"data:\"+t.type+\";base64,\"+n.btoa(r);case\"readAsText\":for(var o=\"\",a=0,s=r.length;s>a;a++)o+=String.fromCharCode(r[a]);return o}}t.call(this),e.extend(this,{uid:e.guid(\"uid_\"),readAsBinaryString:function(e){return i.call(this,\"readAsBinaryString\",e)},readAsDataURL:function(e){return i.call(this,\"readAsDataURL\",e)},readAsText:function(e){return i.call(this,\"readAsText\",e)}})}}),i(S,[p,u,y],function(e,t,n){function i(){var e,i=[];t.extend(this,{append:function(r,o){var a=this,s=t.typeOf(o);o instanceof n?e={name:r,value:o}:\"array\"===s?(r+=\"[]\",t.each(o,function(e){a.append(r,e)})):\"object\"===s?t.each(o,function(e,t){a.append(r+\"[\"+t+\"]\",e)}):\"null\"===s||\"undefined\"===s||\"number\"===s&&isNaN(o)?a.append(r,\"false\"):i.push({name:r,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(i,function(e){n(e.value,e.name)}),e&&n(e.value,e.name)},destroy:function(){e=null,i=[]}})}return i}),i(A,[u,p,h,m,b,g,x,y,T,S,d,l],function(e,t,n,i,r,o,a,s,u,c,l,d){function f(){this.uid=e.guid(\"uid_\")}function p(){function n(e,t){return y.hasOwnProperty(e)?1===arguments.length?l.can(\"define_property\")?y[e]:v[e]:(l.can(\"define_property\")?y[e]=t:v[e]=t,void 0):void 0}function u(t){function i(){k.destroy(),k=null,s.dispatchEvent(\"loadend\"),s=null}function r(r){k.bind(\"LoadStart\",function(e){n(\"readyState\",p.LOADING),s.dispatchEvent(\"readystatechange\"),s.dispatchEvent(e),I&&s.upload.dispatchEvent(e)}),k.bind(\"Progress\",function(e){n(\"readyState\")!==p.LOADING&&(n(\"readyState\",p.LOADING),s.dispatchEvent(\"readystatechange\")),s.dispatchEvent(e)}),k.bind(\"UploadProgress\",function(e){I&&s.upload.dispatchEvent({type:\"progress\",lengthComputable:!1,total:e.total,loaded:e.loaded})}),k.bind(\"Load\",function(t){n(\"readyState\",p.DONE),n(\"status\",Number(r.exec.call(k,\"XMLHttpRequest\",\"getStatus\")||0)),n(\"statusText\",h[n(\"status\")]||\"\"),n(\"response\",r.exec.call(k,\"XMLHttpRequest\",\"getResponse\",n(\"responseType\"))),~e.inArray(n(\"responseType\"),[\"text\",\"\"])?n(\"responseText\",n(\"response\")):\"document\"===n(\"responseType\")&&n(\"responseXML\",n(\"response\")),U=r.exec.call(k,\"XMLHttpRequest\",\"getAllResponseHeaders\"),s.dispatchEvent(\"readystatechange\"),n(\"status\")>0?(I&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(N=!0,s.dispatchEvent(\"error\")),i()}),k.bind(\"Abort\",function(e){s.dispatchEvent(e),i()}),k.bind(\"Error\",function(e){N=!0,n(\"readyState\",p.DONE),s.dispatchEvent(\"readystatechange\"),D=!0,s.dispatchEvent(e),i()}),r.exec.call(k,\"XMLHttpRequest\",\"send\",{url:E,method:_,async:w,user:R,password:b,headers:x,mimeType:S,encoding:T,responseType:s.responseType,withCredentials:s.withCredentials,options:P},t)}var s=this;M=(new Date).getTime(),k=new a,\"string\"==typeof P.required_caps&&(P.required_caps=o.parseCaps(P.required_caps)),P.required_caps=e.extend({},P.required_caps,{return_response_type:s.responseType}),t instanceof c&&(P.required_caps.send_multipart=!0),L||(P.required_caps.do_cors=!0),P.ruid?r(k.connectRuntime(P)):(k.bind(\"RuntimeInit\",function(e,t){r(t)}),k.bind(\"RuntimeError\",function(e,t){s.dispatchEvent(\"RuntimeError\",t)}),k.connectRuntime(P))}function g(){n(\"responseText\",\"\"),n(\"responseXML\",null),n(\"response\",null),n(\"status\",0),n(\"statusText\",\"\"),M=C=null}var v=this,y={timeout:0,readyState:p.UNSENT,withCredentials:!1,status:0,statusText:\"\",responseType:\"\",responseXML:null,responseText:null,response:null},w=!0,E,_,x={},R,b,T=null,S=null,A=!1,O=!1,I=!1,D=!1,N=!1,L=!1,M,C,F=null,H=null,P={},k,U=\"\",B;e.extend(this,y,{uid:e.guid(\"uid_\"),upload:new f,open:function(o,a,s,u,c){var l;if(!o||!a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\\u0100-\\uffff]/.test(o)||i.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(o.toUpperCase(),[\"CONNECT\",\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"POST\",\"PUT\",\"TRACE\",\"TRACK\"])&&(_=o.toUpperCase()),~e.inArray(_,[\"CONNECT\",\"TRACE\",\"TRACK\"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(a=i.utf8_encode(a),l=r.parseUrl(a),L=r.hasSameOrigin(l),E=r.resolveUrl(a),(u||c)&&!L)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(R=u||l.user,b=c||l.pass,w=s||!0,w===!1&&(n(\"timeout\")||n(\"withCredentials\")||\"\"!==n(\"responseType\")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);A=!w,O=!1,x={},g.call(this),n(\"readyState\",p.OPENED),this.convertEventPropsToHandlers([\"readystatechange\"]),this.dispatchEvent(\"readystatechange\")},setRequestHeader:function(r,o){var a=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"cookie\",\"cookie2\",\"content-transfer-encoding\",\"date\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"user-agent\",\"via\"];if(n(\"readyState\")!==p.OPENED||O)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\\u0100-\\uffff]/.test(r)||i.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),~e.inArray(r,a)||/^(proxy\\-|sec\\-)/.test(r)?!1:(x[r]?x[r]+=\", \"+o:x[r]=o,!0)},getAllResponseHeaders:function(){return U||\"\"},getResponseHeader:function(t){return t=t.toLowerCase(),N||~e.inArray(t,[\"set-cookie\",\"set-cookie2\"])?null:U&&\"\"!==U&&(B||(B={},e.each(U.split(/\\r\\n/),function(t){var n=t.split(/:\\s+/);2===n.length&&(n[0]=e.trim(n[0]),B[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),B.hasOwnProperty(t))?B[t].header+\": \"+B[t].value:null},overrideMimeType:function(i){var r,o;if(~e.inArray(n(\"readyState\"),[p.LOADING,p.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i=e.trim(i.toLowerCase()),/;/.test(i)&&(r=i.match(/^([^;]+)(?:;\\scharset\\=)?(.*)$/))&&(i=r[1],r[2]&&(o=r[2])),!d.mimes[i])throw new t.DOMException(t.DOMException.SYNTAX_ERR);F=i,H=o},send:function(n,r){if(P=\"string\"===e.typeOf(r)?{ruid:r}:r?r:{},this.convertEventPropsToHandlers(m),this.upload.convertEventPropsToHandlers(m),this.readyState!==p.OPENED||O)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof s)P.ruid=n.ruid,S=n.type||\"application/octet-stream\";else if(n instanceof c){if(n.hasBlob()){var o=n.getBlob();P.ruid=o.ruid,S=o.type||\"application/octet-stream\"}}else\"string\"==typeof n&&(T=\"UTF-8\",S=\"text/plain;charset=UTF-8\",n=i.utf8_encode(n));this.withCredentials||(this.withCredentials=P.required_caps&&P.required_caps.send_browser_cookies&&!L),I=!A&&this.upload.hasEventListener(),N=!1,D=!n,A||(O=!0),u.call(this,n)},abort:function(){if(N=!0,A=!1,~e.inArray(n(\"readyState\"),[p.UNSENT,p.OPENED,p.DONE]))n(\"readyState\",p.UNSENT);else{if(n(\"readyState\",p.DONE),O=!1,!k)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);k.getRuntime().exec.call(k,\"XMLHttpRequest\",\"abort\",D),D=!0}},destroy:function(){k&&(\"function\"===e.typeOf(k.destroy)&&k.destroy(),k=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var h={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",306:\"Reserved\",307:\"Temporary Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Request Entity Too Large\",414:\"Request-URI Too Long\",415:\"Unsupported Media Type\",416:\"Requested Range Not Satisfiable\",417:\"Expectation Failed\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",426:\"Upgrade Required\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",510:\"Not Extended\"};f.prototype=n.instance;var m=[\"loadstart\",\"progress\",\"abort\",\"error\",\"load\",\"timeout\",\"loadend\"],g=1,v=2;return p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,p.prototype=n.instance,p}),i(O,[u,m,v,h],function(e,t,n,i){function r(){function i(){l=d=0,c=this.result=null}function o(t,n){var i=this;u=n,i.bind(\"TransportingProgress\",function(t){d=t.loaded,l>d&&-1===e.inArray(i.state,[r.IDLE,r.DONE])&&a.call(i)},999),i.bind(\"TransportingComplete\",function(){d=l,i.state=r.DONE,c=null,i.result=u.exec.call(i,\"Transporter\",\"getAsBlob\",t||\"\")},999),i.state=r.BUSY,i.trigger(\"TransportingStarted\"),a.call(i)}function a(){var e=this,n,i=l-d;f>i&&(f=i),n=t.btoa(c.substr(d,f)),u.exec.call(e,\"Transporter\",\"receive\",n,l)}var s,u,c,l,d,f;n.call(this),e.extend(this,{uid:e.guid(\"uid_\"),state:r.IDLE,result:null,transport:function(t,n,r){var a=this;if(r=e.extend({chunk_size:204798},r),(s=r.chunk_size%3)&&(r.chunk_size+=3-s),f=r.chunk_size,i.call(this),c=t,l=t.length,\"string\"===e.typeOf(r)||r.ruid)o.call(a,n,this.connectRuntime(r));else{var u=function(e,t){a.unbind(\"RuntimeInit\",u),o.call(a,n,t)};this.bind(\"RuntimeInit\",u),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,u&&(u.exec.call(e,\"Transporter\",\"clear\"),e.trigger(\"TransportingAborted\")),i.call(e)},destroy:function(){this.unbindAll(),u=null,this.disconnectRuntime(),i.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=i.instance,r}),i(I,[u,f,p,T,A,g,v,O,d,h,y,w,m],function(e,t,n,i,r,o,a,s,u,c,l,d,f){function p(){function i(e){e||(e=this.getRuntime().exec.call(this,\"Image\",\"getInfo\")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,\"\"===this.name&&(this.name=e.name)}function c(t){var i=e.typeOf(t);try{if(t instanceof p){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else if(t instanceof l){if(!~e.inArray(t.type,[\"image/jpeg\",\"image/png\"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(i,[\"blob\",\"file\"]))c.call(this,new d(null,t),arguments[1]);else if(\"string\"===i)/^data:[^;]*;base64,/.test(t)?c.call(this,new l(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if(\"node\"!==i||\"img\"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(r){this.trigger(\"error\",r)}}function m(t,n){var i=this.connectRuntime(t.ruid);this.ruid=i.uid,i.exec.call(this,\"Image\",\"loadFromImage\",t,\"undefined\"===e.typeOf(n)?!0:n)}function g(t,n){function i(e){r.ruid=e.uid,e.exec.call(r,\"Image\",\"loadFromBlob\",t)}var r=this;r.name=t.name||\"\",t.isDetached()?(this.bind(\"RuntimeInit\",function(e,t){i(t)}),n&&\"string\"==typeof n.required_caps&&(n.required_caps=o.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):i(this.connectRuntime(t.ruid))}function v(e,t){var n=this,i;i=new r,i.open(\"get\",e),i.responseType=\"blob\",i.onprogress=function(e){n.trigger(e)},i.onload=function(){g.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind(\"RuntimeError\",function(e,t){n.trigger(\"RuntimeError\",t)}),i.send(null,t)}a.call(this),e.extend(this,{uid:e.guid(\"uid_\"),ruid:null,name:\"\",size:0,width:0,height:0,type:\"\",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind(\"Load Resize\",function(){i.call(this)},999),this.convertEventPropsToHandlers(h),c.apply(this,arguments)},downsize:function(t,i,r,o){try{if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);(!t&&!i||\"undefined\"===e.typeOf(r))&&(r=!1),t=t||this.width,i=i||this.height,o=\"undefined\"===e.typeOf(o)?!0:!!o,this.getRuntime().exec.call(this,\"Image\",\"downsize\",t,i,r,o)}catch(a){this.trigger(\"error\",a)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!u.can(\"create_canvas\"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,\"Image\",\"getAsCanvas\")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return e||(e=\"image/jpeg\"),\"image/jpeg\"!==e||t||(t=90),this.getRuntime().exec.call(this,\"Image\",\"getAsBlob\",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,\"Image\",\"getAsDataURL\",e,t)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return f.atob(n.substring(n.indexOf(\"base64,\")+7))},embed:function(i){function r(){if(u.can(\"create_canvas\")){var t=a.getAsCanvas();if(t)return i.appendChild(t),t=null,a.destroy(),o.trigger(\"embedded\"),void 0}var r=a.getAsDataURL(c,l);if(!r)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(u.can(\"use_data_uri_of\",r.length))i.innerHTML='<img src=\"'+r+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" />',a.destroy(),o.trigger(\"embedded\");else{var d=new s;d.bind(\"TransportingComplete\",function(){v=o.connectRuntime(this.result.ruid),o.bind(\"Embedded\",function(){e.extend(v.getShimContainer().style,{top:\"0px\",left:\"0px\",width:a.width+\"px\",height:a.height+\"px\"}),v=null},999),v.exec.call(o,\"ImageView\",\"display\",this.result.uid,m,g),a.destroy()}),d.transport(f.atob(r.substring(r.indexOf(\"base64,\")+7)),c,e.extend({},h,{required_caps:{display_media:!0},runtime_order:\"flash,silverlight\",container:i}))}}var o=this,a,c,l,d,h=arguments[1]||{},m=this.width,g=this.height,v;try{if(!(i=t.get(i)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(c=h.type||this.type||\"image/jpeg\",l=h.quality||90,d=\"undefined\"!==e.typeOf(h.crop)?h.crop:!1,h.width)m=h.width,g=h.height||m;else{var y=t.getSize(i);y.w&&y.h&&(m=y.w,g=y.h)}return a=new p,a.bind(\"Resize\",function(){r.call(o)}),a.bind(\"Load\",function(){a.downsize(m,g,d,!1)}),a.clone(this,!1),a}catch(w){this.trigger(\"error\",w)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,\"Image\",\"destroy\"),this.disconnectRuntime()),this.unbindAll()}})}var h=[\"progress\",\"load\",\"error\",\"resize\",\"embedded\"];return p.MAX_RESIZE_WIDTH=6500,p.MAX_RESIZE_HEIGHT=6500,p.prototype=c.instance,p}),i(D,[u,p,g,d],function(e,t,n,i){function r(t){var r=this,s=n.capTest,u=n.capTrue,c=e.extend({access_binary:s(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return r.can(\"access_binary\")&&!!a.Image},display_media:s(i.can(\"create_canvas\")||i.can(\"use_data_uri_over32kb\")),do_cors:s(window.XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest),drag_and_drop:s(function(){var e=document.createElement(\"div\");return(\"draggable\"in e||\"ondragstart\"in e&&\"ondrop\"in e)&&(\"IE\"!==i.browser||i.version>9)}()),filter_by_extension:s(function(){return\"Chrome\"===i.browser&&i.version>=28||\"IE\"===i.browser&&i.version>=10}()),return_response_headers:u,return_response_type:function(e){return\"json\"===e&&window.JSON?!0:i.can(\"return_response_type\",e)},return_status_code:u,report_upload_progress:s(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return r.can(\"access_binary\")&&i.can(\"create_canvas\")},select_file:function(){return i.can(\"use_fileinput\")&&window.File},select_folder:function(){return r.can(\"select_file\")&&\"Chrome\"===i.browser&&i.version>=21},select_multiple:function(){return!(!r.can(\"select_file\")||\"Safari\"===i.browser&&\"Windows\"===i.os||\"iOS\"===i.os&&i.verComp(i.osVersion,\"7.0.4\",\"<\"))},send_binary_string:s(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:s(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||r.can(\"send_binary_string\")},slice_blob:s(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return r.can(\"slice_blob\")&&r.can(\"send_multipart\")},summon_file_dialog:s(function(){return\"Firefox\"===i.browser&&i.version>=4||\"Opera\"===i.browser&&i.version>=12||\"IE\"===i.browser&&i.version>=10||!!~e.inArray(i.browser,[\"Chrome\",\"Safari\"])}()),upload_filesize:u},arguments[2]);n.call(this,t,arguments[1]||o,c),e.extend(this,{init:function(){this.trigger(\"Init\")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var o=\"html5\",a={};return n.addConstructor(o,r),a}),i(N,[D,y],function(e,t){function n(){function e(e,t,n){var i;if(!window.File.prototype.slice)return(i=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(r){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=n}),i(L,[u],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var i={},r=\"moxie_\"+e.guid(),o=function(o,a,s,u){var c,l;a=a.toLowerCase(),o.addEventListener?(c=s,o.addEventListener(a,c,!1)):o.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,s(e)},o.attachEvent(\"on\"+a,c)),o[r]||(o[r]=e.guid()),i.hasOwnProperty(o[r])||(i[o[r]]={}),l=i[o[r]],l.hasOwnProperty(a)||(l[a]=[]),l[a].push({func:c,orig:s,key:u})},a=function(t,n,o){var a,s;if(n=n.toLowerCase(),t[r]&&i[t[r]]&&i[t[r]][n]){a=i[t[r]][n];for(var u=a.length-1;u>=0&&(a[u].orig!==o&&a[u].key!==o||(t.removeEventListener?t.removeEventListener(n,a[u].func,!1):t.detachEvent&&t.detachEvent(\"on\"+n,a[u].func),a[u].orig=null,a[u].func=null,a.splice(u,1),o===s));u--);if(a.length||delete i[t[r]][n],e.isEmptyObj(i[t[r]])){delete i[t[r]];try{delete t[r]}catch(c){t[r]=s}}}},s=function(t,n){t&&t[r]&&e.each(i[t[r]],function(e,i){a(t,i,n)})};return{addEvent:o,removeEvent:a,removeAllEvents:s}}),i(M,[D,u,f,L,l,d],function(e,t,n,i,r,o){function a(){var e=[],a;t.extend(this,{init:function(s){var u=this,c=u.getRuntime(),l,d,f,p,h,m;a=s,e=[],f=a.accept.mimes||r.extList2mimes(a.accept,c.can(\"filter_by_extension\")),d=c.getShimContainer(),d.innerHTML='<input id=\"'+c.uid+'\" type=\"file\" style=\"font-size:999px;opacity:0;\"'+(a.multiple&&c.can(\"select_multiple\")?\"multiple\":\"\")+(a.directory&&c.can(\"select_folder\")?\"webkitdirectory directory\":\"\")+(f?' accept=\"'+f.join(\",\")+'\"':\"\")+\" />\",l=n.get(c.uid),t.extend(l.style,{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}),p=n.get(a.browse_button),c.can(\"summon_file_dialog\")&&(\"static\"===n.getStyle(p,\"position\")&&(p.style.position=\"relative\"),h=parseInt(n.getStyle(p,\"z-index\"),10)||1,p.style.zIndex=h,d.style.zIndex=h-1,i.addEvent(p,\"click\",function(e){var t=n.get(c.uid);t&&!t.disabled&&t.click(),e.preventDefault()},u.uid)),m=c.can(\"summon_file_dialog\")?p:d,i.addEvent(m,\"mouseover\",function(){u.trigger(\"mouseenter\")},u.uid),i.addEvent(m,\"mouseout\",function(){u.trigger(\"mouseleave\")},u.uid),i.addEvent(m,\"mousedown\",function(){u.trigger(\"mousedown\")},u.uid),i.addEvent(n.get(a.container),\"mouseup\",function(){u.trigger(\"mouseup\")},u.uid),l.onchange=function g(){if(e=[],a.directory?t.each(this.files,function(t){\".\"!==t.name&&e.push(t)}):e=[].slice.call(this.files),\"IE\"!==o.browser)this.value=\"\";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=g}u.trigger(\"change\")},u.trigger({type:\"ready\",async:!0}),d=null},getFiles:function(){return e},disable:function(e){var t=this.getRuntime(),i;(i=n.get(t.uid))&&(i.disabled=!!e)},destroy:function(){var t=this.getRuntime(),r=t.getShim(),o=t.getShimContainer();i.removeAllEvents(o,this.uid),i.removeAllEvents(a&&n.get(a.container),this.uid),i.removeAllEvents(a&&n.get(a.browse_button),this.uid),o&&(o.innerHTML=\"\"),r.removeInstance(this.uid),e=a=o=r=null}})}return e.FileInput=a}),i(C,[D,u,f,L,l],function(e,t,n,i,r){function o(){function e(e){for(var n=[],i=0;i<e.length;i++)[].push.apply(n,e[i].extensions.split(/\\s*,\\s*/));return-1===t.inArray(\"*\",n)?n:[]}function o(e){var n=r.getFileExtension(e.name);return!n||!d.length||-1!==t.inArray(n,d)}function a(e,n){var i=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var n=e.getAsFile();o(n)&&l.push(n)}else i.push(t)}),i.length?s(i,n):n()}function s(e,n){var i=[];t.each(e,function(e){i.push(function(t){u(e,t)})}),t.inSeries(i,function(){n()})}function u(e,t){e.isFile?e.file(function(e){o(e)&&l.push(e),t()},function(){t()}):e.isDirectory?c(e,t):t()}function c(e,t){function n(e){r.readEntries(function(t){t.length?([].push.apply(i,t),n(e)):e()},e)}var i=[],r=e.createReader();n(function(){s(i,t)})}var l=[],d=[],f;t.extend(this,{init:function(n){var r=this,s;f=n,d=e(f.accept),s=f.container,i.addEvent(s,\"dragover\",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect=\"copy\"},r.uid),i.addEvent(s,\"drop\",function(e){e.preventDefault(),e.stopPropagation(),l=[],e.dataTransfer.items&&e.dataTransfer.items[0].webkitGetAsEntry?a(e.dataTransfer.items,function(){r.trigger(\"drop\")}):(t.each(e.dataTransfer.files,function(e){o(e)&&l.push(e)}),r.trigger(\"drop\"))},r.uid),i.addEvent(s,\"dragenter\",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(\"dragenter\")},r.uid),i.addEvent(s,\"dragleave\",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(\"dragleave\")},r.uid)},getFiles:function(){return l},destroy:function(){i.removeAllEvents(f&&n.get(f.container),this.uid),l=d=f=null}})}return e.FileDrop=o}),i(F,[D,m,u],function(e,t,n){function i(){function e(e){return t.atob(e.substring(e.indexOf(\"base64,\")+7))}var i,r=!1;n.extend(this,{read:function(e,t){var o=this;i=new window.FileReader,i.addEventListener(\"progress\",function(e){o.trigger(e)}),i.addEventListener(\"load\",function(e){o.trigger(e)}),i.addEventListener(\"error\",function(e){o.trigger(e,i.error)}),i.addEventListener(\"loadend\",function(){i=null}),\"function\"===n.typeOf(i[e])?(r=!1,i[e](t.getSource())):\"readAsBinaryString\"===e&&(r=!0,i.readAsDataURL(t.getSource()))},getResult:function(){return i&&i.result?r?e(i.result):i.result:null},abort:function(){i&&i.abort()},destroy:function(){i=null}})}return e.FileReader=i}),i(H,[D,u,l,b,w,y,S,p,d],function(e,t,n,i,r,o,a,s,u){function c(){function e(e,t){var n=this,i,r;i=t.getBlob().getSource(),r=new window.FileReader,r.onload=function(){t.append(t.getBlobName(),new o(null,{type:i.type,data:r.result})),f.send.call(n,e,t)},r.readAsBinaryString(i)}function c(){return!window.XMLHttpRequest||\"IE\"===u.browser&&u.version<8?function(){for(var e=[\"Msxml2.XMLHTTP.6.0\",\"Microsoft.XMLHTTP\"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(n){}}():new window.XMLHttpRequest}function l(e){var t=e.responseXML,n=e.responseText;return\"IE\"===u.browser&&n&&t&&!t.documentElement&&/[^\\/]+\\/[^\\+]+\\+xml/.test(e.getResponseHeader(\"Content-Type\"))&&(t=new window.ActiveXObject(\"Microsoft.XMLDOM\"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&(\"IE\"===u.browser&&0!==t.parseError||!t.documentElement||\"parsererror\"===t.documentElement.tagName)?null:t}function d(e){var t=\"----moxieboundary\"+(new Date).getTime(),n=\"--\",i=\"\\r\\n\",r=\"\",a=this.getRuntime();if(!a.can(\"send_binary_string\"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return p.setRequestHeader(\"Content-Type\",\"multipart/form-data; boundary=\"+t),e.each(function(e,a){r+=e instanceof o?n+t+i+'Content-Disposition: form-data; name=\"'+a+'\"; filename=\"'+unescape(encodeURIComponent(e.name||\"blob\"))+'\"'+i+\"Content-Type: \"+(e.type||\"application/octet-stream\")+i+i+e.getSource()+i:n+t+i+'Content-Disposition: form-data; name=\"'+a+'\"'+i+i+unescape(encodeURIComponent(e))+i}),r+=n+t+n+i}var f=this,p,h;t.extend(this,{send:function(n,r){var s=this,l=\"Mozilla\"===u.browser&&u.version>=4&&u.version<7,f=\"Android Browser\"===u.browser,m=!1;if(h=n.url.replace(/^.+?\\/([\\w\\-\\.]+)$/,\"$1\").toLowerCase(),p=c(),p.open(n.method,n.url,n.async,n.user,n.password),r instanceof o)r.isDetached()&&(m=!0),r=r.getSource();else if(r instanceof a){if(r.hasBlob())if(r.getBlob().isDetached())r=d.call(s,r),m=!0;else if((l||f)&&\"blob\"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return e.call(s,n,r),void 0;if(r instanceof a){var g=new window.FormData;r.each(function(e,t){e instanceof o?g.append(t,e.getSource()):g.append(t,e)}),r=g}}p.upload?(n.withCredentials&&(p.withCredentials=!0),p.addEventListener(\"load\",function(e){s.trigger(e)}),p.addEventListener(\"error\",function(e){s.trigger(e)}),p.addEventListener(\"progress\",function(e){s.trigger(e)}),p.upload.addEventListener(\"progress\",function(e){s.trigger({type:\"UploadProgress\",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function v(){switch(p.readyState){case 1:break;case 2:break;case 3:var e,t;try{i.hasSameOrigin(n.url)&&(e=p.getResponseHeader(\"Content-Length\")||0),p.responseText&&(t=p.responseText.length)}catch(r){e=t=0}s.trigger({type:\"progress\",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:p.onreadystatechange=function(){},0===p.status?s.trigger(\"error\"):s.trigger(\"load\")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){p.setRequestHeader(t,e)}),\"\"!==n.responseType&&\"responseType\"in p&&(p.responseType=\"json\"!==n.responseType||u.can(\"return_response_type\",\"json\")?n.responseType:\"text\"),m?p.sendAsBinary?p.sendAsBinary(r):function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);p.send(e.buffer)}():p.send(r),s.trigger(\"loadstart\")},getStatus:function(){try{if(p)return p.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case\"blob\":var i=new r(t.uid,p.response),o=p.getResponseHeader(\"Content-Disposition\");if(o){var a=o.match(/filename=([\\'\\\"'])([^\\1]+)\\1/);a&&(h=a[2])}return i.name=h,i.type||(i.type=n.getFileMime(h)),i;case\"json\":return u.can(\"return_response_type\",\"json\")?p.response:200===p.status&&window.JSON?JSON.parse(p.responseText):null;case\"document\":return l(p);default:return\"\"!==p.responseText?p.responseText:null}}catch(s){return null}},getAllResponseHeaders:function(){try{return p.getAllResponseHeaders()}catch(e){}return\"\"},abort:function(){p&&p.abort()},destroy:function(){f=h=null}})}return e.XMLHttpRequest=c}),i(P,[],function(){return function(){function e(e,t){var n=r?0:-8*(t-1),i=0,a;for(a=0;t>a;a++)i|=o.charCodeAt(e+a)<<Math.abs(n+8*a);return i}function n(e,t,n){n=3===arguments.length?n:o.length-t-1,o=o.substr(0,t)+e+o.substr(n+t)}function i(e,t,i){var o=\"\",a=r?0:-8*(i-1),s;for(s=0;i>s;s++)o+=String.fromCharCode(255&t>>Math.abs(a+8*s));n(o,e,i)}var r=!1,o;return{II:function(e){return e===t?r:(r=e,void 0)},init:function(e){r=!1,o=e},SEGMENT:function(e,t,i){switch(arguments.length){case 1:return o.substr(e,o.length-e-1);case 2:return o.substr(e,t);case 3:n(i,e,t);break;default:return o}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(n,r){return r===t?e(n,4):(i(n,r,4),void 0)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var i=\"\";for(n+=t;n>t;t++)i+=String.fromCharCode(e(t,1));return i}}}}),i(k,[P],function(e){return function t(n){var i=[],r,o,a,s=0;if(r=new e,r.init(n),65496===r.SHORT(0)){for(o=2;o<=n.length;)if(a=r.SHORT(o),a>=65488&&65495>=a)o+=2;else{if(65498===a||65497===a)break;s=r.SHORT(o+2)+2,a>=65505&&65519>=a&&i.push({hex:a,name:\"APP\"+(15&a),start:o,length:s,segment:r.SEGMENT(o,s)}),o+=s}return r.init(null),{headers:i,restore:function(e){var t,n;for(r.init(e),o=65504==r.SHORT(2)?4+r.SHORT(4):2,n=0,t=i.length;t>n;n++)r.SEGMENT(o,0,i[n].segment),o+=i[n].length;return e=r.SEGMENT(),r.init(null),e},strip:function(e){var n,i,o;for(i=new t(e),n=i.headers,i.purge(),r.init(e),o=n.length;o--;)r.SEGMENT(n[o].start,n[o].length,\"\");return e=r.SEGMENT(),r.init(null),e},get:function(e){for(var t=[],n=0,r=i.length;r>n;n++)i[n].name===e.toUpperCase()&&t.push(i[n].segment);return t},set:function(e,t){var n=[],r,o,a;for(\"string\"==typeof t?n.push(t):n=t,r=o=0,a=i.length;a>r&&(i[r].name===e.toUpperCase()&&(i[r].segment=n[o],i[r].length=n[o].length,o++),!(o>=n.length));r++);},purge:function(){i=[],r.init(null),r=null}}}}}),i(U,[u,P],function(e,n){return function i(){function i(e,n){var i=a.SHORT(e),r,o,s,u,d,f,p,h,m=[],g={};for(r=0;i>r;r++)if(p=f=e+12*r+2,s=n[a.SHORT(p)],s!==t){switch(u=a.SHORT(p+=2),d=a.LONG(p+=2),p+=4,m=[],u){case 1:case 7:for(d>4&&(p=a.LONG(p)+c.tiffHeader),o=0;d>o;o++)m[o]=a.BYTE(p+o);break;case 2:d>4&&(p=a.LONG(p)+c.tiffHeader),g[s]=a.STRING(p,d-1);continue;case 3:for(d>2&&(p=a.LONG(p)+c.tiffHeader),o=0;d>o;o++)m[o]=a.SHORT(p+2*o);break;case 4:for(d>1&&(p=a.LONG(p)+c.tiffHeader),o=0;d>o;o++)m[o]=a.LONG(p+4*o);break;case 5:for(p=a.LONG(p)+c.tiffHeader,o=0;d>o;o++)m[o]=a.LONG(p+4*o)/a.LONG(p+4*o+4);break;case 9:for(p=a.LONG(p)+c.tiffHeader,o=0;d>o;o++)m[o]=a.SLONG(p+4*o);break;case 10:for(p=a.LONG(p)+c.tiffHeader,o=0;d>o;o++)m[o]=a.SLONG(p+4*o)/a.SLONG(p+4*o+4);break;default:continue}h=1==d?m[0]:m,g[s]=l.hasOwnProperty(s)&&\"object\"!=typeof h?l[s][h]:h}return g}function r(){var e=c.tiffHeader;return a.II(18761==a.SHORT(e)),42!==a.SHORT(e+=2)?!1:(c.IFD0=c.tiffHeader+a.LONG(e+=2),u=i(c.IFD0,s.tiff),\"ExifIFDPointer\"in u&&(c.exifIFD=c.tiffHeader+u.ExifIFDPointer,delete u.ExifIFDPointer),\"GPSInfoIFDPointer\"in u&&(c.gpsIFD=c.tiffHeader+u.GPSInfoIFDPointer,delete u.GPSInfoIFDPointer),!0)}function o(e,t,n){var i,r,o,u=0;if(\"string\"==typeof t){var l=s[e.toLowerCase()];for(var d in l)if(l[d]===t){t=d;break}}i=c[e.toLowerCase()+\"IFD\"],r=a.SHORT(i);for(var f=0;r>f;f++)if(o=i+12*f+2,a.SHORT(o)==t){u=o+8;break}return u?(a.LONG(u,n),!0):!1}var a,s,u,c={},l;return a=new n,s={tiff:{274:\"Orientation\",270:\"ImageDescription\",271:\"Make\",272:\"Model\",305:\"Software\",34665:\"ExifIFDPointer\",34853:\"GPSInfoIFDPointer\"},exif:{36864:\"ExifVersion\",40961:\"ColorSpace\",40962:\"PixelXDimension\",40963:\"PixelYDimension\",36867:\"DateTimeOriginal\",33434:\"ExposureTime\",33437:\"FNumber\",34855:\"ISOSpeedRatings\",37377:\"ShutterSpeedValue\",37378:\"ApertureValue\",37383:\"MeteringMode\",37384:\"LightSource\",37385:\"Flash\",37386:\"FocalLength\",41986:\"ExposureMode\",41987:\"WhiteBalance\",41990:\"SceneCaptureType\",41988:\"DigitalZoomRatio\",41992:\"Contrast\",41993:\"Saturation\",41994:\"Sharpness\"},gps:{0:\"GPSVersionID\",1:\"GPSLatitudeRef\",2:\"GPSLatitude\",3:\"GPSLongitudeRef\",4:\"GPSLongitude\"}},l={ColorSpace:{1:\"sRGB\",0:\"Uncalibrated\"},MeteringMode:{0:\"Unknown\",1:\"Average\",2:\"CenterWeightedAverage\",3:\"Spot\",4:\"MultiSpot\",5:\"Pattern\",6:\"Partial\",255:\"Other\"},LightSource:{1:\"Daylight\",2:\"Fliorescent\",3:\"Tungsten\",4:\"Flash\",9:\"Fine weather\",10:\"Cloudy weather\",11:\"Shade\",12:\"Daylight fluorescent (D 5700 - 7100K)\",13:\"Day white fluorescent (N 4600 -5400K)\",14:\"Cool white fluorescent (W 3900 - 4500K)\",15:\"White fluorescent (WW 3200 - 3700K)\",17:\"Standard light A\",18:\"Standard light B\",19:\"Standard light C\",20:\"D55\",21:\"D65\",22:\"D75\",23:\"D50\",24:\"ISO studio tungsten\",255:\"Other\"},Flash:{0:\"Flash did not fire.\",1:\"Flash fired.\",5:\"Strobe return light not detected.\",7:\"Strobe return light detected.\",9:\"Flash fired, compulsory flash mode\",13:\"Flash fired, compulsory flash mode, return light not detected\",15:\"Flash fired, compulsory flash mode, return light detected\",16:\"Flash did not fire, compulsory flash mode\",24:\"Flash did not fire, auto mode\",25:\"Flash fired, auto mode\",29:\"Flash fired, auto mode, return light not detected\",31:\"Flash fired, auto mode, return light detected\",32:\"No flash function\",65:\"Flash fired, red-eye reduction mode\",69:\"Flash fired, red-eye reduction mode, return light not detected\",71:\"Flash fired, red-eye reduction mode, return light detected\",73:\"Flash fired, compulsory flash mode, red-eye reduction mode\",77:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",79:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",89:\"Flash fired, auto mode, red-eye reduction mode\",93:\"Flash fired, auto mode, return light not detected, red-eye reduction mode\",95:\"Flash fired, auto mode, return light detected, red-eye reduction mode\"},ExposureMode:{0:\"Auto exposure\",1:\"Manual exposure\",2:\"Auto bracket\"},WhiteBalance:{0:\"Auto white balance\",1:\"Manual white balance\"},SceneCaptureType:{0:\"Standard\",1:\"Landscape\",2:\"Portrait\",3:\"Night scene\"},Contrast:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},Saturation:{0:\"Normal\",1:\"Low saturation\",2:\"High saturation\"},Sharpness:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},GPSLatitudeRef:{N:\"North latitude\",S:\"South latitude\"},GPSLongitudeRef:{E:\"East longitude\",W:\"West longitude\"}},{init:function(e){return c={tiffHeader:10},e!==t&&e.length?(a.init(e),65505===a.SHORT(0)&&\"EXIF\\0\"===a.STRING(4,5).toUpperCase()?r():!1):!1\n},TIFF:function(){return u},EXIF:function(){var t;if(t=i(c.exifIFD,s.exif),t.ExifVersion&&\"array\"===e.typeOf(t.ExifVersion)){for(var n=0,r=\"\";n<t.ExifVersion.length;n++)r+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=r}return t},GPS:function(){var t;return t=i(c.gpsIFD,s.gps),t.GPSVersionID&&\"array\"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(\".\")),t},setExif:function(e,t){return\"PixelXDimension\"!==e&&\"PixelYDimension\"!==e?!1:o(\"exif\",e,t)},getBinary:function(){return a.SEGMENT()},purge:function(){a.init(null),a=u=null,c={}}}}}),i(B,[u,p,k,P,U],function(e,t,n,i,r){function o(o){function a(){for(var e=0,t,n;e<=u.length;){if(t=c.SHORT(e+=2),t>=65472&&65475>=t)return e+=5,{height:c.SHORT(e),width:c.SHORT(e+=2)};n=c.SHORT(e+=2),e+=n-2}return null}function s(){d&&l&&c&&(d.purge(),l.purge(),c.init(null),u=f=l=d=c=null)}var u,c,l,d,f,p;if(u=o,c=new i,c.init(u),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new n(o),d=new r,p=!!d.init(l.get(\"app1\")[0]),f=a.call(this),e.extend(this,{type:\"image/jpeg\",size:u.length,width:f&&f.width||0,height:f&&f.height||0,setExif:function(t,n){return p?(\"object\"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,n),l.set(\"app1\",d.getBinary()),void 0):!1},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):u=l.restore(u)},stripHeaders:function(e){return l.strip(e)},purge:function(){s.call(this)}}),p&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return o}),i(z,[p,u,P],function(e,t,n){function i(i){function r(){var e,t;return e=a.call(this,8),\"IHDR\"==e.type?(t=e.start,{width:u.LONG(t),height:u.LONG(t+=4)}):null}function o(){u&&(u.init(null),s=d=c=l=u=null)}function a(e){var t,n,i,r;return t=u.LONG(e),n=u.STRING(e+=4,4),i=e+=4,r=u.LONG(e+t),{length:t,type:n,start:i,CRC:r}}var s,u,c,l,d;s=i,u=new n,u.init(s),function(){var t=0,n=0,i=[35152,20039,3338,6666];for(n=0;n<i.length;n++,t+=2)if(i[n]!=u.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=r.call(this),t.extend(this,{type:\"image/png\",size:s.length,width:d.width,height:d.height,purge:function(){o.call(this)}}),o.call(this)}return i}),i(G,[u,p,B,z],function(e,t,n,i){return function(r){var o=[n,i],a;a=function(){for(var e=0;e<o.length;e++)try{return new o[e](r)}catch(n){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:\"\",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,a),this.purge=function(){a.purge(),a=null}}}),i(q,[],function(){function e(e,i,r){var o=e.naturalWidth,a=e.naturalHeight,s=r.width,u=r.height,c=r.x||0,l=r.y||0,d=i.getContext(\"2d\");t(e)&&(o/=2,a/=2);var f=1024,p=document.createElement(\"canvas\");p.width=p.height=f;for(var h=p.getContext(\"2d\"),m=n(e,o,a),g=0;a>g;){for(var v=g+f>a?a-g:f,y=0;o>y;){var w=y+f>o?o-y:f;h.clearRect(0,0,f,f),h.drawImage(e,-y,-g);var E=y*s/o+c<<0,_=Math.ceil(w*s/o),x=g*u/a/m+l<<0,R=Math.ceil(v*u/a/m);d.drawImage(p,0,0,w,v,E,x,_,R),y+=f}g+=f}p=h=null}function t(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1048576){var i=document.createElement(\"canvas\");i.width=i.height=1;var r=i.getContext(\"2d\");return r.drawImage(e,-t+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function n(e,t,n){var i=document.createElement(\"canvas\");i.width=1,i.height=n;var r=i.getContext(\"2d\");r.drawImage(e,0,0);for(var o=r.getImageData(0,0,1,n).data,a=0,s=n,u=n;u>a;){var c=o[4*(u-1)+3];0===c?s=u:a=u,u=s+a>>1}i=null;var l=u/n;return 0===l?1:l}return{isSubsampled:t,renderTo:e}}),i(X,[D,u,p,m,w,G,q,l,d],function(e,t,n,i,r,o,a,s,u){function c(){function e(){if(!E&&!y)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return E||y}function c(e){return i.atob(e.substring(e.indexOf(\"base64,\")+7))}function l(e,t){return\"data:\"+(t||\"\")+\";base64,\"+i.btoa(e)}function d(e){var t=this;y=new Image,y.onerror=function(){g.call(this),t.trigger(\"error\",new n.ImageError(n.ImageError.WRONG_FORMAT))},y.onload=function(){t.trigger(\"load\")},y.src=/^data:[^;]*;base64,/.test(e)?e:l(e,x.type)}function f(e,t){var i=this,r;return window.FileReader?(r=new FileReader,r.onload=function(){t(this.result)},r.onerror=function(){i.trigger(\"error\",new n.FileException(n.FileException.NOT_READABLE_ERR))},r.readAsDataURL(e),void 0):t(e.getAsDataURL())}function p(n,i,r,o){var a=this,s,u,c=0,l=0,d,f,p,g;if(b=o,g=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(g,[5,6,7,8])){var v=n;n=i,i=v}return d=e(),u=r?Math.max:Math.min,s=u(n/d.width,i/d.height),s>1&&(!r||o)?(this.trigger(\"Resize\"),void 0):(E||(E=document.createElement(\"canvas\")),f=Math.round(d.width*s),p=Math.round(d.height*s),r?(E.width=n,E.height=i,f>n&&(c=Math.round((f-n)/2)),p>i&&(l=Math.round((p-i)/2))):(E.width=f,E.height=p),b||m(E.width,E.height,g),h.call(this,d,E,-c,-l,f,p),this.width=E.width,this.height=E.height,R=!0,a.trigger(\"Resize\"),void 0)}function h(e,t,n,i,r,o){if(\"iOS\"===u.OS)a.renderTo(e,t,{width:r,height:o,x:n,y:i});else{var s=t.getContext(\"2d\");s.drawImage(e,n,i,r,o)}}function m(e,t,n){switch(n){case 5:case 6:case 7:case 8:E.width=t,E.height=e;break;default:E.width=e,E.height=t}var i=E.getContext(\"2d\");switch(n){case 2:i.translate(e,0),i.scale(-1,1);break;case 3:i.translate(e,t),i.rotate(Math.PI);break;case 4:i.translate(0,t),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-t);break;case 7:i.rotate(.5*Math.PI),i.translate(e,-t),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-e,0)}}function g(){w&&(w.purge(),w=null),_=y=E=x=null,R=!1}var v=this,y,w,E,_,x,R=!1,b=!0;t.extend(this,{loadFromBlob:function(e){var t=this,i=t.getRuntime(),r=arguments.length>1?arguments[1]:!0;if(!i.can(\"access_binary\"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return x=e,e.isDetached()?(_=e.getSource(),d.call(this,_),void 0):(f.call(this,e.getSource(),function(e){r&&(_=c(e)),d.call(t,e)}),void 0)},loadFromImage:function(e,t){this.meta=e.meta,x=new r(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?_=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t=this.getRuntime(),n;return!w&&_&&t.can(\"access_image_binary\")&&(w=new o(_)),n={width:e().width||0,height:e().height||0,type:x.type||s.getFileMime(x.name),size:_&&_.length||x.size||0,name:x.name||\"\",meta:w&&w.meta||this.meta||{}}},downsize:function(){p.apply(this,arguments)},getAsCanvas:function(){return E&&(E.id=this.uid+\"_canvas\"),E},getAsBlob:function(e,t){return e!==this.type&&p.call(this,this.width,this.height,!1),new r(null,{name:x.name||\"\",type:e,data:v.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!R)return y.src;if(\"image/jpeg\"!==e)return E.toDataURL(\"image/png\");try{return E.toDataURL(\"image/jpeg\",t/100)}catch(n){return E.toDataURL(\"image/jpeg\")}},getAsBinaryString:function(e,t){if(!R)return _||(_=c(v.getAsDataURL(e,t))),_;if(\"image/jpeg\"!==e)_=c(v.getAsDataURL(e,t));else{var n;t||(t=90);try{n=E.toDataURL(\"image/jpeg\",t/100)}catch(i){n=E.toDataURL(\"image/jpeg\")}_=c(n),w&&(_=w.stripHeaders(_),b&&(w.meta&&w.meta.exif&&w.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),_=w.writeHeaders(_)),w.purge(),w=null)}return R=!1,_},destroy:function(){v=null,g.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),i(j,[u,d,f,p,g],function(e,t,n,i,r){function o(){var e;try{e=navigator.plugins[\"Shockwave Flash\"],e=e.description}catch(t){try{e=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\").GetVariable(\"$version\")}catch(n){e=\"0.0\"}}return e=e.match(/\\d+/g),parseFloat(e[0]+\".\"+e[1])}function a(a){var c=this,l;a=e.extend({swf_url:t.swf_url},a),r.call(this,a,s,{access_binary:function(e){return e&&\"browser\"===c.mode},access_image_binary:function(e){return e&&\"browser\"===c.mode},display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return\"client\"===c.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return\"json\"===t&&window.JSON?!0:!e.arrayDiff(t,[\"\",\"text\",\"document\"])||\"browser\"===c.mode},return_status_code:function(t){return\"browser\"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return e&&\"browser\"===c.mode},send_browser_cookies:function(e){return e&&\"browser\"===c.mode},send_custom_headers:function(e){return e&&\"browser\"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:function(e){return e&&\"browser\"===c.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||\"client\"===c.mode},use_http_method:function(t){return!e.arrayDiff(t,[\"GET\",\"POST\"])}},{access_binary:function(e){return e?\"browser\":\"client\"},access_image_binary:function(e){return e?\"browser\":\"client\"},report_upload_progress:function(e){return e?\"browser\":\"client\"},return_response_type:function(t){return e.arrayDiff(t,[\"\",\"text\",\"json\",\"document\"])?\"browser\":[\"client\",\"browser\"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?\"browser\":[\"client\",\"browser\"]},send_binary_string:function(e){return e?\"browser\":\"client\"},send_browser_cookies:function(e){return e?\"browser\":\"client\"},send_custom_headers:function(e){return e?\"browser\":\"client\"},stream_upload:function(e){return e?\"client\":\"browser\"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?\"client\":\"browser\"}},\"client\"),o()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec(this.uid,e,t,n)},init:function(){var n,r,o;o=this.getShimContainer(),e.extend(o.style,{position:\"absolute\",top:\"-8px\",left:\"-8px\",width:\"9px\",height:\"9px\",overflow:\"hidden\"}),n='<object id=\"'+this.uid+'\" type=\"application/x-shockwave-flash\" data=\"'+a.swf_url+'\" ',\"IE\"===t.browser&&(n+='classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" '),n+='width=\"100%\" height=\"100%\" style=\"outline:0\"><param name=\"movie\" value=\"'+a.swf_url+'\" />'+'<param name=\"flashvars\" value=\"uid='+escape(this.uid)+\"&target=\"+t.global_event_dispatcher+'\" />'+'<param name=\"wmode\" value=\"transparent\" />'+'<param name=\"allowscriptaccess\" value=\"always\" />'+\"</object>\",\"IE\"===t.browser?(r=document.createElement(\"div\"),o.appendChild(r),r.outerHTML=n,r=o=null):o.innerHTML=n,l=setTimeout(function(){c&&!c.initialized&&c.trigger(\"Error\",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(c),clearTimeout(l),a=l=e=c=null}}(this.destroy)},u)}var s=\"flash\",u={};return r.addConstructor(s,a),u}),i(V,[j,y],function(e,t){var n={slice:function(e,n,i,r){var o=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),e=o.shimExec.call(this,\"Blob\",\"slice\",n,i,r||\"\"),e&&(e=new t(o.uid,e)),e}};return e.Blob=n}),i(W,[j],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,\"FileInput\",\"init\",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger(\"ready\")}};return e.FileInput=t}),i(Y,[j,m],function(e,t){function n(e,n){switch(n){case\"readAsText\":return t.atob(e,\"utf8\");case\"readAsBinaryString\":return t.atob(e);case\"readAsDataURL\":return e}return null}var i=\"\",r={read:function(e,t){var r=this,o=r.getRuntime();return\"readAsDataURL\"===e&&(i=\"data:\"+(t.type||\"\")+\";base64,\"),r.bind(\"Progress\",function(t,r){r&&(i+=n(r,e))}),o.shimExec.call(this,\"FileReader\",\"readAsBase64\",t.uid)},getResult:function(){return i},destroy:function(){i=null}};return e.FileReader=r}),i($,[j,m],function(e,t){function n(e,n){switch(n){case\"readAsText\":return t.atob(e,\"utf8\");case\"readAsBinaryString\":return t.atob(e);case\"readAsDataURL\":return e}return null}var i={read:function(e,t){var i,r=this.getRuntime();return(i=r.shimExec.call(this,\"FileReaderSync\",\"readAsBase64\",t.uid))?(\"readAsDataURL\"===e&&(i=\"data:\"+(t.type||\"\")+\";base64,\"+i),n(i,e,t.type)):null}};return e.FileReaderSync=i}),i(J,[j,u,y,w,T,S,O],function(e,t,n,i,r,o,a){var s={send:function(e,i){function r(){e.transport=l.mode,l.shimExec.call(c,\"XMLHttpRequest\",\"send\",e,i)}function s(e,t){l.shimExec.call(c,\"XMLHttpRequest\",\"appendBlob\",e,t.uid),i=null,r()}function u(e,t){var n=new a;n.bind(\"TransportingComplete\",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:l.uid})}var c=this,l=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){l.shimExec.call(c,\"XMLHttpRequest\",\"setRequestHeader\",t,e.toString())}),i instanceof o){var d;if(i.each(function(e,t){e instanceof n?d=t:l.shimExec.call(c,\"XMLHttpRequest\",\"append\",t,e)}),i.hasBlob()){var f=i.getBlob();f.isDetached()?u(f,function(e){f.destroy(),s(d,e)}):s(d,f)}else i=null,r()}else i instanceof n?i.isDetached()?u(i,function(e){i.destroy(),i=e.uid,r()}):(i=i.uid,r()):r()},getResponse:function(e){var n,o,a=this.getRuntime();if(o=a.shimExec.call(this,\"XMLHttpRequest\",\"getResponseAsBlob\")){if(o=new i(a.uid,o),\"blob\"===e)return o;try{if(n=new r,~t.inArray(e,[\"\",\"text\"]))return n.readAsText(o);if(\"json\"===e&&window.JSON)return JSON.parse(n.readAsText(o))}finally{o.destroy()}}return null},abort:function(e){var t=this.getRuntime();t.shimExec.call(this,\"XMLHttpRequest\",\"abort\"),this.dispatchEvent(\"readystatechange\"),this.dispatchEvent(\"abort\")}};return e.XMLHttpRequest=s}),i(Z,[j,y],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),i=n.shimExec.call(this,\"Transporter\",\"getAsBlob\",e);return i?new t(n.uid,i):null}};return e.Transporter=n}),i(K,[j,u,O,y,T],function(e,t,n,i,r){var o={loadFromBlob:function(e){function t(e){r.shimExec.call(i,\"Image\",\"loadFromBlob\",e.uid),i=r=null}var i=this,r=i.getRuntime();if(e.isDetached()){var o=new n;o.bind(\"TransportingComplete\",function(){t(o.result.getSource())}),o.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,\"Image\",\"loadFromImage\",e.uid)},getAsBlob:function(e,t){var n=this.getRuntime(),r=n.shimExec.call(this,\"Image\",\"getAsBlob\",e,t);return r?new i(n.uid,r):null},getAsDataURL:function(){var e=this.getRuntime(),t=e.Image.getAsBlob.apply(this,arguments),n;return t?(n=new r,n.readAsDataURL(t)):null}};return e.Image=o}),i(Q,[u,d,f,p,g],function(e,t,n,i,r){function o(e){var t=!1,n=null,i,r,o,a,s,u=0;try{try{n=new ActiveXObject(\"AgControl.AgControl\"),n.IsVersionSupported(e)&&(t=!0),n=null}catch(c){var l=navigator.plugins[\"Silverlight Plug-In\"];if(l){for(i=l.description,\"1.0.30226.2\"===i&&(i=\"2.0.30226.2\"),r=i.split(\".\");r.length>3;)r.pop();for(;r.length<4;)r.push(0);for(o=e.split(\".\");o.length>4;)o.pop();do a=parseInt(o[u],10),s=parseInt(r[u],10),u++;while(u<o.length&&a===s);s>=a&&!isNaN(a)&&(t=!0)}}}catch(d){t=!1}return t}function a(a){var c=this,l;a=e.extend({xap_url:t.xap_url},a),r.call(this,a,s,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return e&&\"client\"===c.mode},return_response_type:function(e){return\"json\"!==e?!0:!!window.JSON},return_status_code:function(t){return\"client\"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return e&&\"browser\"===c.mode},send_custom_headers:function(e){return e&&\"client\"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return\"client\"===c.mode||!e.arrayDiff(t,[\"GET\",\"POST\"])}},{return_response_headers:function(e){return e?\"client\":\"browser\"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?\"client\":[\"client\",\"browser\"]},send_browser_cookies:function(e){return e?\"browser\":\"client\"},send_custom_headers:function(e){return e?\"client\":\"browser\"},use_http_method:function(t){return e.arrayDiff(t,[\"GET\",\"POST\"])?\"client\":[\"client\",\"browser\"]}}),o(\"2.0.31005.0\")&&\"Opera\"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec(this.uid,e,t,n)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id=\"'+this.uid+'\" data=\"data:application/x-silverlight,\" type=\"application/x-silverlight-2\" width=\"100%\" height=\"100%\" style=\"outline:none;\">'+'<param name=\"source\" value=\"'+a.xap_url+'\"/>'+'<param name=\"background\" value=\"Transparent\"/>'+'<param name=\"windowless\" value=\"true\"/>'+'<param name=\"enablehtmlaccess\" value=\"true\"/>'+'<param name=\"initParams\" value=\"uid='+this.uid+\",target=\"+t.global_event_dispatcher+'\"/>'+\"</object>\",l=setTimeout(function(){c&&!c.initialized&&c.trigger(\"Error\",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},\"Windows\"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(c),clearTimeout(l),a=l=e=c=null}}(this.destroy)},u)}var s=\"silverlight\",u={};return r.addConstructor(s,a),u}),i(et,[Q,u,V],function(e,t,n){return e.Blob=t.extend({},n)}),i(tt,[Q],function(e){var t={init:function(e){function t(e){for(var t=\"\",n=0;n<e.length;n++)t+=(\"\"!==t?\"|\":\"\")+e[n].title+\" | *.\"+e[n].extensions.replace(/,/g,\";*.\");return t}this.getRuntime().shimExec.call(this,\"FileInput\",\"init\",t(e.accept),e.name,e.multiple),this.trigger(\"ready\")}};return e.FileInput=t}),i(nt,[Q,f,L],function(e,t,n){var i={init:function(){var e=this,i=e.getRuntime(),r;return r=i.getShimContainer(),n.addEvent(r,\"dragover\",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect=\"copy\"},e.uid),n.addEvent(r,\"dragenter\",function(e){e.preventDefault();var n=t.get(i.uid).dragEnter(e);n&&e.stopPropagation()},e.uid),n.addEvent(r,\"drop\",function(e){e.preventDefault();var n=t.get(i.uid).dragDrop(e);n&&e.stopPropagation()},e.uid),i.shimExec.call(this,\"FileDrop\",\"init\")}};return e.FileDrop=i}),i(it,[Q,u,Y],function(e,t,n){return e.FileReader=t.extend({},n)}),i(rt,[Q,u,$],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),i(ot,[Q,u,J],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),i(at,[Q,u,Z],function(e,t,n){return e.Transporter=t.extend({},n)}),i(st,[Q,u,K],function(e,t,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=[\"tiff\",\"exif\",\"gps\"],i={meta:{}},r=e.shimExec.call(this,\"Image\",\"getInfo\");return r.meta&&t.each(n,function(e){var t=r.meta[e],n,o,a,s;if(t&&t.keys)for(i.meta[e]={},o=0,a=t.keys.length;a>o;o++)n=t.keys[o],s=t[n],s&&(/^(\\d|[1-9]\\d+)$/.test(s)?s=parseInt(s,10):/^\\d*\\.\\d+$/.test(s)&&(s=parseFloat(s)),i.meta[e][n]=s)}),i.width=parseInt(r.width,10),i.height=parseInt(r.height,10),i.size=parseInt(r.size,10),i.type=r.type,i.name=r.name,i}})}),i(ut,[u,p,g,d],function(e,t,n,i){function r(t){var r=this,s=n.capTest,u=n.capTrue;n.call(this,t,o,{access_binary:s(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:s(a.Image&&(i.can(\"create_canvas\")||i.can(\"use_data_uri_over32kb\"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:s(function(){return\"Chrome\"===i.browser&&i.version>=28||\"IE\"===i.browser&&i.version>=10}()),resize_image:function(){return a.Image&&r.can(\"access_binary\")&&i.can(\"create_canvas\")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return\"json\"===t&&window.JSON?!0:!!~e.inArray(t,[\"text\",\"document\",\"\"])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return i.can(\"use_fileinput\")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return r.can(\"select_file\")},summon_file_dialog:s(function(){return\"Firefox\"===i.browser&&i.version>=4||\"Opera\"===i.browser&&i.version>=12||!!~e.inArray(i.browser,[\"Chrome\",\"Safari\"])}()),upload_filesize:u,use_http_method:function(t){return!e.arrayDiff(t,[\"GET\",\"POST\"])}}),e.extend(this,{init:function(){this.trigger(\"Init\")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var o=\"html4\",a={};return n.addConstructor(o,r),a}),i(ct,[ut,u,f,L,l,d],function(e,t,n,i,r,o){function a(){function e(){var r=this,l=r.getRuntime(),d,f,p,h,m,g;g=t.guid(\"uid_\"),d=l.getShimContainer(),a&&(p=n.get(a+\"_form\"),p&&t.extend(p.style,{top:\"100%\"})),h=document.createElement(\"form\"),h.setAttribute(\"id\",g+\"_form\"),h.setAttribute(\"method\",\"post\"),h.setAttribute(\"enctype\",\"multipart/form-data\"),h.setAttribute(\"encoding\",\"multipart/form-data\"),t.extend(h.style,{overflow:\"hidden\",position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}),m=document.createElement(\"input\"),m.setAttribute(\"id\",g),m.setAttribute(\"type\",\"file\"),m.setAttribute(\"name\",c.name||\"Filedata\"),m.setAttribute(\"accept\",u.join(\",\")),t.extend(m.style,{fontSize:\"999px\",opacity:0}),h.appendChild(m),d.appendChild(h),t.extend(m.style,{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}),\"IE\"===o.browser&&o.version<10&&t.extend(m.style,{filter:\"progid:DXImageTransform.Microsoft.Alpha(opacity=0)\"}),m.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},s=[t],this.onchange=function(){},e.call(r),r.bind(\"change\",function i(){var e=n.get(g),t=n.get(g+\"_form\"),o;r.unbind(\"change\",i),r.files.length&&e&&t&&(o=r.files[0],e.setAttribute(\"id\",o.uid),t.setAttribute(\"id\",o.uid+\"_form\"),t.setAttribute(\"target\",o.uid+\"_iframe\")),e=t=null},998),m=h=null,r.trigger(\"change\"))},l.can(\"summon_file_dialog\")&&(f=n.get(c.browse_button),i.removeEvent(f,\"click\",r.uid),i.addEvent(f,\"click\",function(e){m&&!m.disabled&&m.click(),e.preventDefault()},r.uid)),a=g,d=p=f=null}var a,s=[],u=[],c;t.extend(this,{init:function(t){var o=this,a=o.getRuntime(),s;c=t,u=t.accept.mimes||r.extList2mimes(t.accept,a.can(\"filter_by_extension\")),s=a.getShimContainer(),function(){var e,r,u;e=n.get(t.browse_button),a.can(\"summon_file_dialog\")&&(\"static\"===n.getStyle(e,\"position\")&&(e.style.position=\"relative\"),r=parseInt(n.getStyle(e,\"z-index\"),10)||1,e.style.zIndex=r,s.style.zIndex=r-1),u=a.can(\"summon_file_dialog\")?e:s,i.addEvent(u,\"mouseover\",function(){o.trigger(\"mouseenter\")},o.uid),i.addEvent(u,\"mouseout\",function(){o.trigger(\"mouseleave\")},o.uid),i.addEvent(u,\"mousedown\",function(){o.trigger(\"mousedown\")},o.uid),i.addEvent(n.get(t.container),\"mouseup\",function(){o.trigger(\"mouseup\")},o.uid),e=null}(),e.call(this),s=null,o.trigger({type:\"ready\",async:!0})},getFiles:function(){return s},disable:function(e){var t;(t=n.get(a))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),r=e.getShimContainer();i.removeAllEvents(r,this.uid),i.removeAllEvents(c&&n.get(c.container),this.uid),i.removeAllEvents(c&&n.get(c.browse_button),this.uid),r&&(r.innerHTML=\"\"),t.removeInstance(this.uid),a=s=u=c=r=t=null}})}return e.FileInput=a}),i(lt,[ut,F],function(e,t){return e.FileReader=t}),i(dt,[ut,u,f,b,p,L,y,S],function(e,t,n,i,r,o,a,s){function u(){function e(e){var t=this,i,r,a,s,u=!1;if(l){if(i=l.id.replace(/_iframe$/,\"\"),r=n.get(i+\"_form\")){for(a=r.getElementsByTagName(\"input\"),s=a.length;s--;)switch(a[s].getAttribute(\"type\")){case\"hidden\":a[s].parentNode.removeChild(a[s]);break;case\"file\":u=!0}a=[],u||r.parentNode.removeChild(r),r=null}setTimeout(function(){o.removeEvent(l,\"load\",t.uid),l.parentNode&&l.parentNode.removeChild(l);var n=t.getRuntime().getShimContainer();n.children.length||n.parentNode.removeChild(n),n=l=null,e()},1)}}var u,c,l;t.extend(this,{send:function(d,f){function p(){var n=m.getShimContainer()||document.body,r=document.createElement(\"div\");r.innerHTML='<iframe id=\"'+g+'_iframe\" name=\"'+g+'_iframe\" src=\"javascript:&quot;&quot;\" style=\"display:none\"></iframe>',l=r.firstChild,n.appendChild(l),o.addEvent(l,\"load\",function(){var n;try{n=l.contentWindow.document||l.contentDocument||window.frames[l.id].document,/^4(0[0-9]|1[0-7]|2[2346])\\s/.test(n.title)?u=n.title.replace(/^(\\d+).*$/,\"$1\"):(u=200,c=t.trim(n.body.innerHTML),h.trigger({type:\"progress\",loaded:c.length,total:c.length}),w&&h.trigger({type:\"uploadprogress\",loaded:w.size||1025,total:w.size||1025}))}catch(r){if(!i.hasSameOrigin(d.url))return e.call(h,function(){h.trigger(\"error\")}),void 0;u=404}e.call(h,function(){h.trigger(\"load\")})},h.uid)}var h=this,m=h.getRuntime(),g,v,y,w;if(u=c=null,f instanceof s&&f.hasBlob()){if(w=f.getBlob(),g=w.uid,y=n.get(g),v=n.get(g+\"_form\"),!v)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else g=t.guid(\"uid_\"),v=document.createElement(\"form\"),v.setAttribute(\"id\",g+\"_form\"),v.setAttribute(\"method\",d.method),v.setAttribute(\"enctype\",\"multipart/form-data\"),v.setAttribute(\"encoding\",\"multipart/form-data\"),v.setAttribute(\"target\",g+\"_iframe\"),m.getShimContainer().appendChild(v);f instanceof s&&f.each(function(e,n){if(e instanceof a)y&&y.setAttribute(\"name\",n);else{var i=document.createElement(\"input\");t.extend(i,{type:\"hidden\",name:n,value:e}),y?v.insertBefore(i,y):v.appendChild(i)}}),v.setAttribute(\"action\",d.url),p(),v.submit(),h.trigger(\"loadstart\")},getStatus:function(){return u},getResponse:function(e){if(\"json\"===e&&\"string\"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\\s*<pre[^>]*>/,\"\").replace(/<\\/pre>\\s*$/,\"\"))}catch(n){return null}return c},abort:function(){var t=this;l&&l.contentWindow&&(l.contentWindow.stop?l.contentWindow.stop():l.contentWindow.document.execCommand?l.contentWindow.document.execCommand(\"Stop\"):l.src=\"about:blank\"),e.call(this,function(){t.dispatchEvent(\"abort\")})}})}return e.XMLHttpRequest=u}),i(ft,[ut,X],function(e,t){return e.Image=t}),a([u,c,l,d,f,p,h,m,g,v,y,w,E,_,x,R,b,T,S,A,O,I,L])}(this);;(function(){\"use strict\";var e={},t=moxie.core.utils.Basic.inArray;return function n(r){var i,s;for(i in r)s=typeof r[i],s===\"object\"&&!~t(i,[\"Exceptions\",\"Env\",\"Mime\"])?n(r[i]):s===\"function\"&&(e[i]=r[i])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e})();\n/**\n * Plupload - multi-runtime File Uploader\n * v2.1.1\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n *\n * Date: 2014-01-16\n */\n;(function(e,t,n){function s(e){function r(e,t,r){var i={chunks:\"slice_blob\",jpgresize:\"send_binary_string\",pngresize:\"send_binary_string\",progress:\"report_upload_progress\",multi_selection:\"select_multiple\",dragdrop:\"drag_and_drop\",drop_element:\"drag_and_drop\",headers:\"send_custom_headers\",canSendBinary:\"send_binary\",triggerDialog:\"summon_file_dialog\"};i[e]?n[i[e]]=t:r||(n[e]=t)}var t=e.required_features,n={};return typeof t==\"string\"?o.each(t.split(/\\s*,\\s*/),function(e){r(e,!0)}):typeof t==\"object\"?o.each(t,function(e,t){r(t,e)}):t===!0&&(e.multipart||(n.send_binary_string=!0),e.chunk_size>0&&(n.slice_blob=!0),e.resize.enabled&&(n.send_binary_string=!0),o.each(e,function(e,t){r(t,!!e,!0)})),n}var r=e.setTimeout,i={},o={VERSION:\"2.1.1\",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(n){var r=[],i;t.typeOf(n)!==\"array\"&&(n=[n]);var s=n.length;while(s--)i=t.get(n[s]),i&&r.push(i);return r.length?r:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={\"<\":\"lt\",\">\":\"gt\",\"&\":\"amp\",'\"':\"quot\",\"'\":\"#39\"},n=/[<>&\\\"\\']/g;return e?(\"\"+e).replace(n,function(e){return t[e]?\"&\"+t[e]+\";\":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,n;n=[/[\\300-\\306]/g,\"A\",/[\\340-\\346]/g,\"a\",/\\307/g,\"C\",/\\347/g,\"c\",/[\\310-\\313]/g,\"E\",/[\\350-\\353]/g,\"e\",/[\\314-\\317]/g,\"I\",/[\\354-\\357]/g,\"i\",/\\321/g,\"N\",/\\361/g,\"n\",/[\\322-\\330]/g,\"O\",/[\\362-\\370]/g,\"o\",/[\\331-\\334]/g,\"U\",/[\\371-\\374]/g,\"u\"];for(t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\\s+/g,\"_\"),e=e.replace(/[^a-z0-9_\\-\\.]+/gi,\"\"),e},buildUrl:function(e,t){var n=\"\";return o.each(t,function(e,t){n+=(n?\"&\":\"\")+encodeURIComponent(t)+\"=\"+encodeURIComponent(e)}),n&&(e+=(e.indexOf(\"?\")>0?\"&\":\"?\")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\\D/.test(e))return o.translate(\"N/A\");var r=Math.pow(1024,4);return e>r?t(e/r,1)+\" \"+o.translate(\"tb\"):e>(r/=1024)?t(e/r,1)+\" \"+o.translate(\"gb\"):e>(r/=1024)?t(e/r,1)+\" \"+o.translate(\"mb\"):e>1024?Math.round(e/1024)+\" \"+o.translate(\"kb\"):e+\" \"+o.translate(\"b\")},parseSize:t.parseSizeStr,predictRuntime:function(e,n){var r,i;return r=new o.Uploader(e),i=t.Runtime.thatCan(r.getOption().required_features,n||e.runtimes),r.destroy(),i},addFileFilter:function(e,t){i[e]=t}};o.addFileFilter(\"mime_types\",function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger(\"Error\",{code:o.FILE_EXTENSION_ERROR,message:o.translate(\"File extension error.\"),file:t}),n(!1)):n(!0)}),o.addFileFilter(\"max_file_size\",function(e,t,n){var r;e=o.parseSize(e),t.size!==r&&e&&t.size>e?(this.trigger(\"Error\",{code:o.FILE_SIZE_ERROR,message:o.translate(\"File size error.\"),file:t}),n(!1)):n(!0)}),o.addFileFilter(\"prevent_duplicates\",function(e,t,n){if(e){var r=this.files.length;while(r--)if(t.name===this.files[r].name&&t.size===this.files[r].size){this.trigger(\"Error\",{code:o.FILE_DUPLICATE_ERROR,message:o.translate(\"Duplicate file error.\"),file:t}),n(!1);return}}n(!0)}),o.Uploader=function(e){function g(){var e,t=0,n;if(this.state==o.STARTED){for(n=0;n<f.length;n++)!e&&f[n].status==o.QUEUED?(e=f[n],this.trigger(\"BeforeUpload\",e)&&(e.status=o.UPLOADING,this.trigger(\"UploadFile\",e))):t++;t==f.length&&(this.state!==o.STOPPED&&(this.state=o.STOPPED,this.trigger(\"StateChanged\")),this.trigger(\"UploadComplete\",f))}}function y(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,b()}function b(){var e,t;d.reset();for(e=0;e<f.length;e++)t=f[e],t.size!==n?(d.size+=t.origSize,d.loaded+=t.loaded*t.origSize/t.size):d.size=n,t.status==o.DONE?d.uploaded++:t.status==o.FAILED?d.failed++:d.queued++;d.size===n?d.percent=f.length>0?Math.ceil(d.uploaded/f.length*100):0:(d.bytesPerSec=Math.ceil(d.loaded/((+(new Date)-p||1)/1e3)),d.percent=d.size>0?Math.ceil(d.loaded/d.size*100):0)}function w(){var e=c[0]||h[0];return e?e.getRuntime().uid:!1}function E(e,n){if(e.ruid){var r=t.Runtime.getInfo(e.ruid);if(r)return r.can(n)}return!1}function S(){this.bind(\"FilesAdded\",C),this.bind(\"CancelUpload\",M),this.bind(\"BeforeUpload\",k),this.bind(\"UploadFile\",L),this.bind(\"UploadProgress\",A),this.bind(\"StateChanged\",O),this.bind(\"QueueChanged\",b),this.bind(\"Error\",D),this.bind(\"FileUploaded\",_),this.bind(\"Destroy\",P)}function x(e,n){var r=this,i=0,s=[],u={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:l,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\\s*,\\s*/),function(t){e[t]&&(u[t]=e[t])}),e.browse_button&&o.each(e.browse_button,function(n){s.push(function(s){var a=new t.FileInput(o.extend({},u,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));a.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(r.features,{chunks:e.can(\"slice_blob\"),multipart:e.can(\"send_multipart\"),multi_selection:e.can(\"select_multiple\")}),i++,c.push(this),s()},a.onchange=function(){r.addFile(this.files)},a.bind(\"mouseenter mouseleave mousedown mouseup\",function(r){v||(e.browse_button_hover&&(\"mouseenter\"===r.type?t.addClass(n,e.browse_button_hover):\"mouseleave\"===r.type&&t.removeClass(n,e.browse_button_hover)),e.browse_button_active&&(\"mousedown\"===r.type?t.addClass(n,e.browse_button_active):\"mouseup\"===r.type&&t.removeClass(n,e.browse_button_active)))}),a.bind(\"error runtimeerror\",function(){a=null,s()}),a.init()})}),e.drop_element&&o.each(e.drop_element,function(e){s.push(function(n){var s=new t.FileDrop(o.extend({},u,{drop_zone:e}));s.onready=function(){var e=t.Runtime.getInfo(this.ruid);r.features.dragdrop=e.can(\"drag_and_drop\"),i++,h.push(this),n()},s.ondrop=function(){r.addFile(this.files)},s.bind(\"error runtimeerror\",function(){s=null,n()}),s.init()})}),t.inSeries(s,function(){typeof n==\"function\"&&n(i)})}function T(e,n,r){var i=new t.Image;try{i.onload=function(){i.downsize(n.width,n.height,n.crop,n.preserve_headers)},i.onresize=function(){r(this.getAsBlob(e.type,n.quality)),this.destroy()},i.onerror=function(){r(e)},i.load(e)}catch(s){r(e)}}function N(e,n,r){function f(e,t,n){var r=a[e];switch(e){case\"max_file_size\":e===\"max_file_size\"&&(a.max_file_size=a.filters.max_file_size=t);break;case\"chunk_size\":if(t=o.parseSize(t))a[e]=t;break;case\"filters\":o.typeOf(t)===\"array\"&&(t={mime_types:t}),n?o.extend(a.filters,t):a.filters=t,t.mime_types&&(a.filters.mime_types.regexp=function(e){var t=[];return o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){/^\\s*\\*\\s*$/.test(e)?t.push(\"\\\\.*\"):t.push(\"\\\\.\"+e.replace(new RegExp(\"[\"+\"/^$.*+?|()[]{}\\\\\".replace(/./g,\"\\\\$&\")+\"]\",\"g\"),\"\\\\$&\"))})}),new RegExp(\"(\"+t.join(\"|\")+\")$\",\"i\")}(a.filters.mime_types));break;case\"resize\":n?o.extend(a.resize,t,{enabled:!0}):a.resize=t;break;case\"prevent_duplicates\":a.prevent_duplicates=a.filters.prevent_duplicates=!!t;break;case\"browse_button\":case\"drop_element\":t=o.get(t);case\"container\":case\"runtimes\":case\"multi_selection\":case\"flash_swf_url\":case\"silverlight_xap_url\":a[e]=t,n||(u=!0);break;default:a[e]=t}n||i.trigger(\"OptionChanged\",e,t,r)}var i=this,u=!1;typeof e==\"object\"?o.each(e,function(e,t){f(t,e,r)}):f(e,n,r),r?(a.required_features=s(o.extend({},a)),l=s(o.extend({},a,{required_features:!0}))):u&&(i.trigger(\"Destroy\"),x.call(i,a,function(e){e?(i.runtime=t.Runtime.getInfo(w()).type,i.trigger(\"Init\",{runtime:i.runtime}),i.trigger(\"PostInit\")):i.trigger(\"Error\",{code:o.INIT_ERROR,message:o.translate(\"Init error.\")})}))}function C(e,t){[].push.apply(f,t),e.trigger(\"QueueChanged\"),e.refresh()}function k(e,t){if(a.unique_names){var n=t.name.match(/\\.([^.]+)$/),r=\"part\";n&&(r=n[1]),t.target_name=t.id+\".\"+r}}function L(e,n){function h(){u-->0?r(p,1e3):(n.loaded=f,e.trigger(\"Error\",{code:o.HTTP_ERROR,message:o.translate(\"HTTP Error.\"),file:n,response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()}))}function p(){var d,v,g,y;if(n.status==o.DONE||n.status==o.FAILED||e.state==o.STOPPED)return;g={name:n.target_name||n.name},s&&a.chunks&&c.size>s?(y=Math.min(s,c.size-f),d=c.slice(f,f+y)):(y=c.size,d=c),s&&a.chunks&&(e.settings.send_chunk_number?(g.chunk=Math.ceil(f/s),g.chunks=Math.ceil(c.size/s)):(g.offset=f,g.total=c.size)),m=new t.XMLHttpRequest,m.upload&&(m.upload.onprogress=function(t){n.loaded=Math.min(n.size,f+t.loaded),e.trigger(\"UploadProgress\",n)}),m.onload=function(){if(m.status>=400){h();return}u=e.settings.max_retries,y<c.size?(d.destroy(),f+=y,n.loaded=Math.min(f,c.size),e.trigger(\"ChunkUploaded\",n,{offset:n.loaded,total:c.size,response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()}),t.Env.browser===\"Android Browser\"&&e.trigger(\"UploadProgress\",n)):n.loaded=n.size,d=v=null,!f||f>=c.size?(n.size!=n.origSize&&(c.destroy(),c=null),e.trigger(\"UploadProgress\",n),n.status=o.DONE,e.trigger(\"FileUploaded\",n,{response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()})):r(p,1)},m.onerror=function(){h()},m.onloadend=function(){this.destroy(),m=null},e.settings.multipart&&a.multipart?(g.name=n.target_name||n.name,m.open(\"post\",i,!0),o.each(e.settings.headers,function(e,t){m.setRequestHeader(t,e)}),v=new t.FormData,o.each(o.extend(g,e.settings.multipart_params),function(e,t){v.append(t,e)}),v.append(e.settings.file_data_name,d),m.send(v,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:l,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(i=o.buildUrl(e.settings.url,o.extend(g,e.settings.multipart_params)),m.open(\"post\",i,!0),m.setRequestHeader(\"Content-Type\",\"application/octet-stream\"),o.each(e.settings.headers,function(e,t){m.setRequestHeader(t,e)}),m.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:l,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url}))}var i=e.settings.url,s=e.settings.chunk_size,u=e.settings.max_retries,a=e.features,f=0,c;n.loaded&&(f=n.loaded=s*Math.floor(n.loaded/s)),c=n.getSource(),e.settings.resize.enabled&&E(c,\"send_binary_string\")&&!!~t.inArray(c.type,[\"image/jpeg\",\"image/png\"])?T.call(this,c,e.settings.resize,function(e){c=e,n.size=e.size,p()}):p()}function A(e,t){y(t)}function O(e){if(e.state==o.STARTED)p=+(new Date);else if(e.state==o.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==o.UPLOADING&&(e.files[t].status=o.QUEUED,b())}function M(){m&&m.abort()}function _(e){b(),r(function(){g.call(e)},1)}function D(e,t){t.file&&(t.file.status=o.FAILED,y(t.file),e.state==o.STARTED&&(e.trigger(\"CancelUpload\"),r(function(){g.call(e)},1)))}function P(e){e.stop(),o.each(f,function(e){e.destroy()}),f=[],c.length&&(o.each(c,function(e){e.destroy()}),c=[]),h.length&&(o.each(h,function(e){e.destroy()}),h=[]),l={},v=!1,p=m=null,d.reset()}var u=o.guid(),a,f=[],l={},c=[],h=[],p,d,v=!1,m;a={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:\"file\",flash_swf_url:\"js/Moxie.swf\",silverlight_xap_url:\"js/Moxie.xap\",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_chunk_number:!0},N.call(this,e,null,!0),d=new o.QueueProgress,o.extend(this,{id:u,uid:u,state:o.STOPPED,features:{},runtime:null,files:f,settings:a,total:d,init:function(){var e=this;typeof a.preinit==\"function\"?a.preinit(e):o.each(a.preinit,function(t,n){e.bind(n,t)});if(!a.browse_button||!a.url){this.trigger(\"Error\",{code:o.INIT_ERROR,message:o.translate(\"Init error.\")});return}S.call(this),x.call(this,a,function(n){typeof a.init==\"function\"?a.init(e):o.each(a.init,function(t,n){e.bind(n,t)}),n?(e.runtime=t.Runtime.getInfo(w()).type,e.trigger(\"Init\",{runtime:e.runtime}),e.trigger(\"PostInit\")):e.trigger(\"Error\",{code:o.INIT_ERROR,message:o.translate(\"Init error.\")})})},setOption:function(e,t){N.call(this,e,t,!this.runtime)},getOption:function(e){return e?a[e]:a},refresh:function(){c.length&&o.each(c,function(e){e.trigger(\"Refresh\")}),this.trigger(\"Refresh\")},start:function(){this.state!=o.STARTED&&(this.state=o.STARTED,this.trigger(\"StateChanged\"),g.call(this))},stop:function(){this.state!=o.STOPPED&&(this.state=o.STOPPED,this.trigger(\"StateChanged\"),this.trigger(\"CancelUpload\"))},disableBrowse:function(){v=arguments[0]!==n?arguments[0]:!0,c.length&&o.each(c,function(e){e.disable(v)}),this.trigger(\"DisableBrowse\",v)},getFile:function(e){var t;for(t=f.length-1;t>=0;t--)if(f[t].id===e)return f[t]},addFile:function(e,n){function l(e,n){var r=[];t.each(s.settings.filters,function(t,n){i[n]&&r.push(function(r){i[n].call(s,t,e,function(e){r(!e)})})}),t.inSeries(r,n)}function c(e){var i=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!f)return!1;e.ruid=f,e.connectRuntime(f)}c(new o.File(e))}else e instanceof t.Blob?(c(e.getSource()),e.destroy()):e instanceof o.File?(n&&(e.name=n),u.push(function(t){l(e,function(n){n||(a.push(e),s.trigger(\"FileFiltered\",e)),r(t,1)})})):t.inArray(i,[\"file\",\"blob\"])!==-1?c(new t.File(null,e)):i===\"node\"&&t.typeOf(e.files)===\"filelist\"?t.each(e.files,c):i===\"array\"&&(n=null,t.each(e,c))}var s=this,u=[],a=[],f;f=w(),c(e),u.length&&t.inSeries(u,function(){a.length&&s.trigger(\"FilesAdded\",a)})},removeFile:function(e){var t=typeof e==\"string\"?e:e.id;for(var n=f.length-1;n>=0;n--)if(f[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var r=f.splice(e===n?0:e,t===n?f.length:t),i=!1;return this.state==o.STARTED&&(i=!0,this.stop()),this.trigger(\"FilesRemoved\",r),o.each(r,function(e){e.destroy()}),this.trigger(\"QueueChanged\"),this.refresh(),i&&this.start(),r},bind:function(e,t,n){var r=this;o.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,r),t.apply(this,e)},0,n)},destroy:function(){this.trigger(\"Destroy\"),a=d=null,this.unbindAll()}})},o.Uploader.prototype=t.EventTarget.instance,o.File=function(){function n(n){o.extend(this,{id:o.guid(),name:n.name||n.fileName,type:n.type||\"\",size:n.size||n.fileSize,origSize:n.size||n.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:n.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return t.inArray(t.typeOf(e),[\"blob\",\"file\"])!==-1?e:null},getSource:function(){return e[this.id]?e[this.id]:null},destroy:function(){var t=this.getSource();t&&(t.destroy(),delete e[this.id])}}),e[this.id]=n}var e={};return n}(),o.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o})(window,mOxie);","/*\n\tRedactor v8.0.3\n\tUpdated: September 3, 2012\n\n\thttp://redactorjs.com/\n\n\tCopyright (c) 2009-2012, Imperavi Inc.\n\tLicense: http://redactorjs.com/license/\n\n\tUsage: $('#content').redactor();\n*/\n\nvar _0xf6db=[\"(6(){11 49=24;11 14={50:6(8,10){5 10.58(8)\\x2692},57:6(8,10){7(8.58!=12){5 8.58(10)\\x2616}46{5 8.57(10)}},55:6(8,18,10,20){7(8===10){5 18\\x3C=20}7(14.29(8)\\x26\\x2614.29(10)){5 14.50(8,10)}7(14.29(8)\\x26\\x26!14.29(10)){5!14.55(10,20,8,18)}7(!14.57(8,10)){5 14.50(8,10)}7(8.47.85\\x3C=18){5 40}7(8.47[18]===10){5 0\\x3C=20}5 14.50(8.47[18],10)},29:6(61){5(61!=12?61.93==3:40)},81:6(41){11 62=0;88(41=41.59){62++}5 62}};11 4=49.4=(6(){6 4(2){24.2=2}4.34.31=6(){5 4.31(24.2)};4.34.37=6(){5 4.37(24.2)};4.34.38=6(){5 4.38(24.2)};4.34.45=6(){5 4.45(24.2)};4.34.44=6(){5 4.44(24.2)};4.34.52=6(25,26,23,22){5 4.52(24.2,25,26,23,22)};4.34.51=6(){5 4.51(24.2)};5 4})();7(49.35){4.67=43;4.31=6(2){11 9;5(9=2.35())\\x26\\x26(9.63!=12)\\x26\\x26(9.36!=12)};4.37=6(2){11 9;7(!((9=2.35())\\x26\\x26(9.36!=12))){5 12}5[9.36,9.97]};4.38=6(2){11 9;7(!((9=2.35())\\x26\\x26(9.63!=12))){5 12}5[9.63,9.91]};4.45=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[8,18]}5[10,20]};4.44=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[10,20]}5[8,18]};4.52=6(2,25,26,23,22){11 9=2.35();7(!9){5}7(23==12){23=25}7(22==12){22=26}7(9.60\\x26\\x269.79){9.60(25,26);9.79(23,22)}46{54=2.15.56();54.106(25,26);54.107(23,22);71{9.73()}80(41){}9.98(54)}};4.51=6(2){71{11 9=2.35();7(!9){5}9.73()}80(41){}}}46 7(49.15.39){11 69=6(42,32,30){11 19,13,21,33,64;13=42.90(\\x2789\\x27);19=32.103();19.60(30);64=19.77();88(43){64.86(13,13.59);19.82(13);7(!(19.87((30?\\x2766\\x27:\\x2783\\x27),32)\\x3E0\\x26\\x26(13.59!=12))){99}}7(19.87((30?\\x2766\\x27:\\x2783\\x27),32)===-1\\x26\\x2613.84){19.74((30?\\x27100\\x27:\\x2778\\x27),32);21=13.84;33=19.101.85}46{21=13.48;33=14.81(13)}13.48.72(13);5[21,33]};11 68=6(42,32,30,21,33){11 36,65,19,13,53;53=0;36=14.29(21)?21:21.47[33];65=14.29(21)?21.48:21;7(14.29(21)){53=33}13=42.90(\\x2789\\x27);65.86(13,36||12);19=42.76.75();19.82(13);13.48.72(13);32.74((30?\\x2766\\x27:\\x2778\\x27),19);5 32[30?\\x27105\\x27:\\x27104\\x27](\\x27102\\x27,53)};4.67=43;4.31=6(2){11 17;2.70();7(!2.15.39){5 40}17=2.15.39.56();5 17\\x26\\x2617.77().15===2.15};4.45=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,43)};4.44=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,40)};4.37=6(2){5 4.45(2)};4.38=6(2){5 4.44(2)};4.52=6(2,25,26,23,22){7(23==12){23=25}7(22==12){22=26}11 17=2.15.76.75();68(2.15,17,40,23,22);68(2.15,17,43,25,26);5 17.96()};4.51=6(2){5 2.15.39.95()}}46{4.67=40}}).94(24);\",\"|\",\"split\",\"||win||Selection|return|function|if|n1|sel|n2|var|null|cursorNode|Dom|document||range|o1|cursor|o2|node|foco|focn|this|orgn|orgo|_ref|_ref2|isText|bStart|hasSelection|textRange|offset|prototype|getSelection|anchorNode|getOrigin|getFocus|selection|false|e|doc|true|getEnd|getStart|else|childNodes|parentNode|root|isPreceding|clearSelection|setSelection|textOffset|r|isCursorPreceding|createRange|contains|compareDocumentPosition|previousSibling|collapse|d|k|focusNode|parent|anchorParent|StartToStart|supported|moveBoundary|getBoundary|focus|try|removeChild|removeAllRanges|setEndPoint|createTextRange|body|parentElement|EndToEnd|extend|catch|getChildIndex|moveToElementText|StartToEnd|nextSibling|length|insertBefore|compareEndPoints|while|a|createElement|focusOffset|0x02|nodeType|call|empty|select|anchorOffset|addRange|break|EndToStart|text|character|duplicate|moveEnd|moveStart|setStart|setEnd\",\"replace\",\"\",\"\\x5Cw+\",\"\\x5Cb\",\"g\"];eval(function (p,a,c,k,e,d){e=function (c){return c;} ;if(!_0xf6db[5][_0xf6db[4]](/^/,String)){while(c--){d[c]=k[c]||c;} ;k=[function (e){return d[e];} ];e=function (){return _0xf6db[6];} ;c=1;} ;while(c--){if(k[c]){p=p[_0xf6db[4]]( new RegExp(_0xf6db[7]+e(c)+_0xf6db[7],_0xf6db[8]),k[c]);} ;} ;return p;} (_0xf6db[0],10,108,_0xf6db[3][_0xf6db[2]](_0xf6db[1]),0,{}));\n\nif (typeof RELANG === 'undefined')\n{\n\tvar RELANG = {};\n}\n\nvar RLANG = {\n\thtml: 'HTML',\n\tvideo: 'Insert Video...',\n\timage: 'Insert Image...',\n\ttable: 'Table',\n\tlink: 'Link',\n\tlink_insert: 'Insert Link ...',\n\tunlink: 'Unlink',\n\tformatting: 'Formatting',\n\tparagraph: 'Paragraph',\n\tquote: 'Quote',\n\tcode: 'Code',\n\theader1: 'Header 1',\n\theader2: 'Header 2',\n\theader3: 'Header 3',\n\theader4: 'Header 4',\n\tbold:  'Bold',\n\titalic: 'Italic',\n\tfontcolor: 'Font Color',\n\tbackcolor: 'Back Color',\n\tunorderedlist: 'Unordered List',\n\torderedlist: 'Ordered List',\n\toutdent: 'Outdent',\n\tindent: 'Indent',\n\tcancel: 'Cancel',\n\tinsert: 'Insert',\n\tsave: 'Save',\n\t_delete: 'Delete',\n\tinsert_table: 'Insert Table...',\n\tinsert_row_above: 'Add Row Above',\n\tinsert_row_below: 'Add Row Below',\n\tinsert_column_left: 'Add Column Left',\n\tinsert_column_right: 'Add Column Right',\n\tdelete_column: 'Delete Column',\n\tdelete_row: 'Delete Row',\n\tdelete_table: 'Delete Table',\n\trows: 'Rows',\n\tcolumns: 'Columns',\n\tadd_head: 'Add Head',\n\tdelete_head: 'Delete Head',\n\ttitle: 'Title',\n\timage_position: 'Position',\n\tnone: 'None',\n\tleft: 'Left',\n\tright: 'Right',\n\timage_web_link: 'Image Web Link',\n\ttext: 'Text',\n\tmailto: 'Email',\n\tweb: 'URL',\n\tvideo_html_code: 'Video Embed Code',\n\tfile: 'Insert File...',\n\tupload: 'Upload',\n\tdownload: 'Download',\n\tchoose: 'Choose',\n\tor_choose: 'Or choose',\n\tdrop_file_here: 'Drop file here',\n\talign_left:\t'Align Left',\n\talign_center: 'Align Center',\n\talign_right: 'Align Right',\n\talign_justify: 'Justify',\n\thorizontalrule: 'Insert Horizontal Rule',\n\tdeleted: 'Deleted',\n\tanchor: 'Anchor',\n\tlink_new_tab: 'Open link in new tab'\n};\n\n(function($){\n\n\t// Plugin\n\tjQuery.fn.redactor = function(option)\n\t{\n\t\treturn this.each(function()\n\t\t{\n\t\t\tvar $obj = $(this);\n\n\t\t\tvar data = $obj.data('redactor');\n\t\t\tif (!data)\n\t\t\t{\n\t\t\t\t$obj.data('redactor', (data = new Redactor(this, option)));\n\t\t\t}\n\t\t});\n\t};\n\n\n\t// Initialization\n\tvar Redactor = function(element, options)\n\t{\n\t\t// Element\n\t\tthis.$el = $(element);\n\n\t\t// Lang\n\t\tif (typeof options !== 'undefined' && typeof options.lang !== 'undefined' && options.lang !== 'en' && typeof RELANG[options.lang] !== 'undefined')\n\t\t{\n\t\t\tRLANG = RELANG[options.lang];\n\t\t}\n\n\t\t// Options\n\t\tthis.opts = $.extend({\n\n\t\t\tlang: 'en',\n\t\t\tdirection: 'ltr', // ltr or rtl\n\n\t\t\tcallback: false, // function\n\t\t\tkeyupCallback: false, // function\n\t\t\tkeydownCallback: false, // function\n\t\t\texecCommandCallback: false, // function\n\n\t\t\tcleanup: true,\n\n\t\t\tfocus: false,\n\t\t\ttabindex: false,\n\t\t\tautoresize: true,\n\t\t\tminHeight: false,\n\t\t\tfixed: false,\n\t\t\tfixedTop: 0, // pixels\n\t\t\tfixedBox: false,\n\t\t\tsource: true,\n\t\t\tshortcuts: true,\n\n\t\t\tmobile: true,\n\t\t\tair: false,\n\t\t\twym: false,\n\n\t\t\tparagraphy: true,\n\t\t\tconvertLinks: true,\n\t\t\tconvertDivs: false,\n\t\t\tprotocol: 'http://', // for links http or https\n\n\t\t\tautosave: false, // false or url\n\t\t\tautosaveCallback: false, // function\n\t\t\tinterval: 60, // seconds\n\n\t\t\timageGetJson: false, // url (ex. /folder/images.json ) or false\n\n\t\t\timageUpload: false, // url\n\t\t\timageUploadCallback: false, // function\n\n\t\t\tfileUpload: false, // url\n\t\t\tfileUploadCallback: false, // function\n\n\t\t\tuploadCrossDomain: false,\n\t\t\tuploadFields: false,\n\n\t\t\tobserveImages: true,\n\t\t\toverlay: true, // modal overlay\n\n\t\t\tallowedTags: [\"code\", \"span\", \"div\", \"label\", \"a\", \"br\", \"p\", \"b\", \"i\", \"del\", \"strike\", \"u\",\n\t\t\t\t\t\"img\", \"video\", \"audio\", \"iframe\", \"object\", \"embed\", \"param\", \"blockquote\",\n\t\t\t\t\t\"mark\", \"cite\", \"small\", \"ul\", \"ol\", \"li\", \"hr\", \"dl\", \"dt\", \"dd\", \"sup\", \"sub\",\n\t\t\t\t\t\"big\", \"pre\", \"code\", \"figure\", \"figcaption\", \"strong\", \"em\", \"table\", \"tr\", \"td\",\n\t\t\t\t\t\"th\", \"tbody\", \"thead\", \"tfoot\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"ins\"],\n\n\t\t\tbuttonsCustom: {},\n\t\t\tbuttonsAdd: [],\n\t\t\tbuttons: ['html', '|', 'formatting', '|', 'bold', 'italic', 'deleted', '|', 'unorderedlist', 'orderedlist', 'outdent', 'indent', '|',\n\t\t\t\t\t'image', 'video', 'file', 'table', 'link', '|',\n\t\t\t\t\t'fontcolor', 'backcolor', '|', 'alignleft', 'aligncenter', 'alignright', 'justify', '|', 'horizontalrule'],\n\n\t\t\tairButtons: ['formatting', '|', 'bold', 'italic', 'deleted', '|', 'unorderedlist', 'orderedlist', 'outdent', 'indent', '|', 'fontcolor', 'backcolor'],\n\n\t\t\tcolors: [\n\t\t\t\t'#ffffff', '#000000', '#eeece1', '#1f497d', '#4f81bd', '#c0504d', '#9bbb59', '#8064a2', '#4bacc6', '#f79646', '#ffff00',\n\t\t\t\t'#f2f2f2', '#7f7f7f', '#ddd9c3', '#c6d9f0', '#dbe5f1', '#f2dcdb', '#ebf1dd', '#e5e0ec', '#dbeef3', '#fdeada', '#fff2ca',\n\t\t\t\t'#d8d8d8', '#595959', '#c4bd97', '#8db3e2', '#b8cce4', '#e5b9b7', '#d7e3bc', '#ccc1d9', '#b7dde8', '#fbd5b5', '#ffe694',\n\t\t\t\t'#bfbfbf', '#3f3f3f', '#938953', '#548dd4', '#95b3d7', '#d99694', '#c3d69b', '#b2a2c7', '#b7dde8', '#fac08f', '#f2c314',\n\t\t\t\t'#a5a5a5', '#262626', '#494429', '#17365d', '#366092', '#953734', '#76923c', '#5f497a', '#92cddc', '#e36c09', '#c09100',\n\t\t\t\t'#7f7f7f', '#0c0c0c', '#1d1b10', '#0f243e', '#244061', '#632423', '#4f6128', '#3f3151', '#31859b', '#974806', '#7f6000'],\n\n\t\t\t// private\n\t\t\tallEmptyHtml: '<p><br /></p>',\n\t\t\tmozillaEmptyHtml: '<p>&nbsp;</p>',\n\t\t\tbuffer: false,\n\t\t\tvisual: true,\n\n\t\t\t// modal windows container\n\t\t\tmodal_file: String() +\n\t\t\t\t'<form id=\"redactorUploadFileForm\" method=\"post\" action=\"\" enctype=\"multipart/form-data\">' +\n\t\t\t\t\t'<label>Name (optional)</label>' +\n\t\t\t\t\t'<input type=\"text\" id=\"redactor_filename\" class=\"redactor_input\" />' +\n\t\t\t\t\t'<div style=\"margin-top: 7px;\">' +\n\t\t\t\t\t\t'<input type=\"file\" id=\"redactor_file\" name=\"file\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</form>',\n\n\t\t\tmodal_image_edit: String() +\n\t\t\t\t'<label>' + RLANG.title + '</label>' +\n\t\t\t\t'<input id=\"redactor_file_alt\" class=\"redactor_input\" />' +\n\t\t\t\t'<label>' + RLANG.link + '</label>' +\n\t\t\t\t'<input id=\"redactor_file_link\" class=\"redactor_input\" />' +\n\t\t\t\t'<label>' + RLANG.image_position + '</label>' +\n\t\t\t\t'<select id=\"redactor_form_image_align\">' +\n\t\t\t\t\t'<option value=\"none\">' + RLANG.none + '</option>' +\n\t\t\t\t\t'<option value=\"left\">' + RLANG.left + '</option>' +\n\t\t\t\t\t'<option value=\"right\">' + RLANG.right + '</option>' +\n\t\t\t\t'</select>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_image_delete_btn\" style=\"color: #000;\">' + RLANG._delete + '</a>' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" name=\"save\" id=\"redactorSaveBtn\" value=\"' + RLANG.save + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\t\t\tmodal_image: String() +\n\t\t\t\t'<div id=\"redactor_tabs\">' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\" class=\"redactor_tabs_act\">' + RLANG.upload + '</a>' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\">' + RLANG.choose + '</a>' +\n\t\t\t\t\t'<a href=\"javascript:void(null);\">' + RLANG.link + '</a>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<form id=\"redactorInsertImageForm\" method=\"post\" action=\"\" enctype=\"multipart/form-data\">' +\n\t\t\t\t\t'<div id=\"redactor_tab1\" class=\"redactor_tab\">' +\n\t\t\t\t\t\t'<input type=\"file\" id=\"redactor_file\" name=\"file\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div id=\"redactor_tab2\" class=\"redactor_tab\" style=\"display: none;\">' +\n\t\t\t\t\t\t'<div id=\"redactor_image_box\"></div>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</form>' +\n\t\t\t\t'<div id=\"redactor_tab3\" class=\"redactor_tab\" style=\"display: none;\">' +\n\t\t\t\t\t'<label>' + RLANG.image_web_link + '</label>' +\n\t\t\t\t\t'<input name=\"redactor_file_link\" id=\"redactor_file_link\" class=\"redactor_input\"  />' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" name=\"upload\" id=\"redactor_upload_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\t\t\tmodal_link: String() +\n\t\t\t\t'<form id=\"redactorInsertLinkForm\" method=\"post\" action=\"\">' +\n\t\t\t\t\t'<div id=\"redactor_tabs\">' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" class=\"redactor_tabs_act\">URL</a>' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\">Email</a>' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\">' + RLANG.anchor + '</a>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<input type=\"hidden\" id=\"redactor_tab_selected\" value=\"1\" />' +\n\t\t\t\t\t'<div class=\"redactor_tab\" id=\"redactor_tab1\">' +\n\t\t\t\t\t\t'<label>URL</label><input id=\"redactor_link_url\" class=\"redactor_input\"  />' +\n\t\t\t\t\t\t'<label>' + RLANG.text + '</label><input class=\"redactor_input redactor_link_text\" id=\"redactor_link_url_text\" />' +\n\t\t\t\t\t\t'<label><input type=\"checkbox\" id=\"redactor_link_blank\"> ' + RLANG.link_new_tab +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"redactor_tab\" id=\"redactor_tab2\" style=\"display: none;\">' +\n\t\t\t\t\t\t'<label>Email</label><input id=\"redactor_link_mailto\" class=\"redactor_input\" />' +\n\t\t\t\t\t\t'<label>' + RLANG.text + '</label><input class=\"redactor_input redactor_link_text\" id=\"redactor_link_mailto_text\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"redactor_tab\" id=\"redactor_tab3\" style=\"display: none;\">' +\n\t\t\t\t\t\t'<label>' + RLANG.anchor + '</label><input class=\"redactor_input\" id=\"redactor_link_anchor\"  />' +\n\t\t\t\t\t\t'<label>' + RLANG.text + '</label><input class=\"redactor_input redactor_link_text\" id=\"redactor_link_anchor_text\" />' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</form>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" id=\"redactor_insert_link_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\t\t\tmodal_table: String() +\n\t\t\t\t\t'<label>' + RLANG.rows + '</label>' +\n\t\t\t\t\t'<input size=\"5\" value=\"2\" id=\"redactor_table_rows\" />' +\n\t\t\t\t\t'<label>' + RLANG.columns + '</label>' +\n\t\t\t\t\t'<input size=\"5\" value=\"3\" id=\"redactor_table_columns\" />' +\n\t\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t\t'<input type=\"button\" name=\"upload\" id=\"redactor_insert_table_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</div>',\n\n\t\t\tmodal_video: String() +\n\t\t\t\t'<form id=\"redactorInsertVideoForm\">' +\n\t\t\t\t\t'<label>' + RLANG.video_html_code + '</label>' +\n\t\t\t\t\t'<textarea id=\"redactor_insert_video_area\" style=\"width: 99%; height: 160px;\"></textarea>' +\n\t\t\t\t'</form>' +\n\t\t\t\t'<div id=\"redactor_modal_footer\">' +\n\t\t\t\t\t'<span class=\"redactor_btns_box\">' +\n\t\t\t\t\t\t'<input type=\"button\" id=\"redactor_insert_video_btn\" value=\"' + RLANG.insert + '\" />' +\n\t\t\t\t\t\t'<a href=\"javascript:void(null);\" id=\"redactor_btn_modal_close\">' + RLANG.cancel + '</a>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</div>',\n\n\n\t\t\ttoolbar: {\n\t\t\t\thtml:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.html,\n\t\t\t\t\tfunc: 'toggle'\n\t\t\t\t},\n\t\t\t\tformatting:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.formatting,\n\t\t\t\t\tfunc: 'show',\n\t\t\t\t\tdropdown:\n\t\t\t\t\t{\n\t\t\t\t\t\tp:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.paragraph,\n\t\t\t\t\t\t\texec: 'formatblock'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tblockquote:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.quote,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_blockquote'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpre:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.code,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_pre'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th1:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header1,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h1'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th2:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header2,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h2'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th3:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header3,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h3'\n\t\t\t\t\t\t},\n\t\t\t\t\t\th4:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.header4,\n\t\t\t\t\t\t\texec: 'formatblock',\n\t\t\t\t\t\t\tclassName: 'redactor_format_h4'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbold:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.bold,\n\t\t\t\t\texec: 'bold'\n\t\t\t\t},\n\t\t\t\titalic:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.italic,\n\t\t\t\t\texec: 'italic'\n\t\t\t\t},\n\t\t\t\tdeleted:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.deleted,\n\t\t\t\t\texec: 'strikethrough'\n\t\t\t\t},\n\t\t\t\tunorderedlist:\n\t\t\t\t{\n\t\t\t\t\ttitle: '&bull; ' + RLANG.unorderedlist,\n\t\t\t\t\texec: 'insertunorderedlist'\n\t\t\t\t},\n\t\t\t\torderedlist:\n\t\t\t\t{\n\t\t\t\t\ttitle: '1. ' + RLANG.orderedlist,\n\t\t\t\t\texec: 'insertorderedlist'\n\t\t\t\t},\n\t\t\t\toutdent:\n\t\t\t\t{\n\t\t\t\t\ttitle: '< ' + RLANG.outdent,\n\t\t\t\t\texec: 'outdent'\n\t\t\t\t},\n\t\t\t\tindent:\n\t\t\t\t{\n\t\t\t\t\ttitle: '> ' + RLANG.indent,\n\t\t\t\t\texec: 'indent'\n\t\t\t\t},\n\t\t\t\timage:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.image,\n\t\t\t\t\tfunc: 'showImage'\n\t\t\t\t},\n\t\t\t\tvideo:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.video,\n\t\t\t\t\tfunc: 'showVideo'\n\t\t\t\t},\n\t\t\t\tfile:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.file,\n\t\t\t\t\tfunc: 'showFile'\n\t\t\t\t},\n\t\t\t\ttable:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.table,\n\t\t\t\t\tfunc: 'show',\n\t\t\t\t\tdropdown:\n\t\t\t\t\t{\n\t\t\t\t\t\tinsert_table:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_table,\n\t\t\t\t\t\t\tfunc: 'showTable'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator_drop1:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'separator'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_row_above:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_row_above,\n\t\t\t\t\t\t\tfunc: 'insertRowAbove'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_row_below:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_row_below,\n\t\t\t\t\t\t\tfunc: 'insertRowBelow'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_column_left:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_column_left,\n\t\t\t\t\t\t\tfunc: 'insertColumnLeft'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinsert_column_right:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.insert_column_right,\n\t\t\t\t\t\t\tfunc: 'insertColumnRight'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator_drop2:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'separator'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadd_head:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.add_head,\n\t\t\t\t\t\t\tfunc: 'addHead'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_head:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_head,\n\t\t\t\t\t\t\tfunc: 'deleteHead'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator_drop3:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'separator'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_column:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_column,\n\t\t\t\t\t\t\tfunc: 'deleteColumn'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_row:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_row,\n\t\t\t\t\t\t\tfunc: 'deleteRow'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelete_table:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.delete_table,\n\t\t\t\t\t\t\tfunc: 'deleteTable'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlink:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.link,\n\t\t\t\t\tfunc: 'show',\n\t\t\t\t\tdropdown:\n\t\t\t\t\t{\n\t\t\t\t\t\tlink:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.link_insert,\n\t\t\t\t\t\t\tfunc: 'showLink'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tunlink:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: RLANG.unlink,\n\t\t\t\t\t\t\texec: 'unlink'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfontcolor:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.fontcolor,\n\t\t\t\t\tfunc: 'show'\n\t\t\t\t},\n\t\t\t\tbackcolor:\n\t\t\t\t{\n\t\t\t\t\ttitle: RLANG.backcolor,\n\t\t\t\t\tfunc: 'show'\n\t\t\t\t},\n\t\t\t\talignleft:\n\t\t\t\t{\n\t\t\t\t\texec: 'JustifyLeft',\n\t\t\t\t\ttitle: RLANG.align_left\n\t\t\t\t},\n\t\t\t\taligncenter:\n\t\t\t\t{\n\t\t\t\t\texec: 'JustifyCenter',\n\t\t\t\t\ttitle: RLANG.align_center\n\t\t\t\t},\n\t\t\t\talignright:\n\t\t\t\t{\n\t\t\t\t\texec: 'JustifyRight',\n\t\t\t\t\ttitle: RLANG.align_right\n\t\t\t\t},\n\t\t\t\tjustify:\n\t\t\t\t{\n\t\t\t\t\texec: 'justifyfull',\n\t\t\t\t\ttitle: RLANG.align_justify\n\t\t\t\t},\n\t\t\t\thorizontalrule:\n\t\t\t\t{\n\t\t\t\t\texec: 'inserthorizontalrule',\n\t\t\t\t\ttitle: RLANG.horizontalrule\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t}, options, this.$el.data());\n\n\t\tthis.dropdowns = [];\n\n\t\t// Init\n\t\tthis.init();\n\t};\n\n\t// Functionality\n\tRedactor.prototype = {\n\n\n\t\t// Initialization\n\t\tinit: function()\n\t\t{\n\n\t\t\t// get dimensions\n\t\t\tthis.height = this.$el.css('height');\n\t\t\tthis.width = this.$el.css('width');\n\n\t\t\t// mobile\n\t\t\tif (this.opts.mobile === false && this.isMobile())\n\t\t\t{\n\t\t\t\tthis.build(true);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.opts.paragraphy === false)\n\t\t\t{\n\t\t\t\tthis.opts.convertDivs = false;\n\t\t\t}\n\n\t\t\t// extend buttons\n\t\t\tif (this.opts.air)\n\t\t\t{\n\t\t\t\tthis.opts.buttons = this.opts.airButtons;\n\t\t\t}\n\t\t\t// else if (this.opts.toolbar !== false)\n\t\t\t// {\n\t\t\t\tif (this.opts.source === false)\n\t\t\t\t{\n\t\t\t\t\tvar index = this.opts.buttons.indexOf('html');\n\t\t\t\t\tvar next = this.opts.buttons[index+1];\n\t\t\t\t\tthis.opts.buttons.splice(index, 1);\n\t\t\t\t\tif (typeof next !== 'undefined' && next === '|')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.opts.buttons.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$.extend(this.opts.toolbar, this.opts.buttonsCustom);\n\t\t\t\t$.each(this.opts.buttonsAdd, $.proxy(function(i,s)\n\t\t\t\t{\n\t\t\t\t\tthis.opts.buttons.push(s);\n\n\t\t\t\t}, this));\n\t\t\t//}\n\n\t\t\t// construct editor\n\t\t\tthis.build();\n\n\t\t\t// air enable\n\t\t\tthis.enableAir();\n\n\t\t\t// toolbar\n\t\t\tthis.buildToolbar();\n\n\t\t\t// paste\n\t\t\tvar oldsafari = false;\n\t\t\tif ($.browser.webkit && navigator.userAgent.indexOf('Chrome') === -1)\n\t\t\t{\n\t\t\t\tvar arr = $.browser.version.split('.');\n\t\t\t\tif (arr[0] < 536) oldsafari = true;\n\t\t\t}\n\n\t\t\tif (this.isMobile(true) === false && oldsafari === false)\n\t\t\t{\n\t\t\t\tthis.$editor.bind('paste', $.proxy(function(e)\n\t\t\t\t{\n\t\t\t\t\tif (this.opts.cleanup === false)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setBuffer();\n\n\t\t\t\t\tif (this.opts.autoresize === true)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.saveScroll = document.body.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.saveScroll = this.$editor.scrollTop();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (e.originalEvent.clipboardData) {\n\n\t\t\t\t\t\tvar pasted;\n\n\t\t\t\t\t\t// if (/text\\/html/.test(e.originalEvent.clipboardData.types)) {\n\t\t\t\t\t\t// \tpasted = e.originalEvent.clipboardData.getData('text/html');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t// else if (/text\\/plain/.test(e.originalEvent.clipboardData.types)) {\n\t\t\t\t\t\t\tpasted = e.originalEvent.clipboardData.getData('text/plain');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t// else {\n\t\t\t\t\t\t\t// pasted = \"\";\n\t\t\t\t\t\t// }\n\n\t\t\t\t\t\tthis.restoreSelection();\n\t\t\t\t\t\tthis.pasteCleanUp(pasted);\n\n\t\t\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar frag = this.extractContent();\n\n\t\t\t\t\t\tsetTimeout($.proxy(function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar pastedFrag = this.extractContent();\n\t\t\t\t\t\t\tthis.$editor.append(frag);\n\t\t\t\t\t\t\tthis.restoreSelection();\n\n\t\t\t\t\t\t\tvar html = this.getFragmentHtml(pastedFrag);\n\t\t\t\t\t\t\tthis.pasteCleanUp(html);\n\t\t\t\t\t\t}, this), 1);\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// var frag = this.extractContent();\n\n\t\t\t\t\t// setTimeout($.proxy(function()\n\t\t\t\t\t// {\n\t\t\t\t\t// \tvar pastedFrag = this.extractContent();\n\t\t\t\t\t// \tthis.$editor.append(frag);\n\t\t\t\t\t// \tthis.restoreSelection();\n\n\t\t\t\t\t// \tvar html = this.getFragmentHtml(pastedFrag);\n\t\t\t\t\t// \tthis.pasteCleanUp(html);\n\n\t\t\t\t\t// }, this), 1);\n\n\t\t\t\t}, this));\n\t\t\t}\n\n\t\t\t// key handlers\n\t\t\tthis.keyup();\n\t\t\tthis.keydown();\n\n\t\t\t// autosave\n\t\t\tif (this.opts.autosave !== false)\n\t\t\t{\n\t\t\t\tthis.autoSave();\n\t\t\t}\n\n\t\t\t// observers\n\t\t\tthis.observeImages();\n\t\t\tthis.observeTables();\n\n\t\t\t// FF fix\n\t\t\tif ($.browser.mozilla)\n\t\t\t{\n\t\t\t\tdocument.execCommand('enableObjectResizing', false, false);\n\t\t\t\tdocument.execCommand('enableInlineTableEditing', false, false);\n\t\t\t}\n\n\t\t\t// focus\n\t\t\tif (this.opts.focus)\n\t\t\t{\n\t\t\t\tthis.$editor.focus();\n\t\t\t}\n\n\t\t\t// fixed\n\t\t\tif (this.opts.fixed)\n\t\t\t{\n\t\t\t\tthis.observeScroll();\n\t\t\t\t$(document).scroll($.proxy(this.observeScroll, this));\n\t\t\t}\n\n\t\t\t// callback\n\t\t\tif (typeof this.opts.callback === 'function')\n\t\t\t{\n\t\t\t\tthis.opts.callback(this);\n\t\t\t}\n\n\t\t},\n\t\tshortcuts: function(e, cmd)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tthis.execCommand(cmd, false);\n\t\t},\n\t\tkeyup: function()\n\t\t{\n\t\t\tthis.$editor.keyup($.proxy(function(e)\n\t\t\t{\n\t\t\t\tvar key = e.keyCode || e.which;\n\n\t\t\t\t// callback as you type\n\t\t\t\tif (typeof this.opts.keyupCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.keyupCallback(this, e);\n\t\t\t\t}\n\n\t\t\t\t// if empty\n\t\t\t\tif (key === 8 || key === 46)\n\t\t\t\t{\n\t\t\t\t\tthis.observeImages();\n\t\t\t\t\treturn this.formatEmpty(e);\n\t\t\t\t}\n\n\t\t\t\t// new line p\n\t\t\t\tif (key === 13 && !e.shiftKey && !e.ctrlKey && !e.metaKey)\n\t\t\t\t{\n\t\t\t\t\tif ($.browser.webkit && this.opts.paragraphy)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.formatNewLine(e);\n\t\t\t\t\t}\n\n\t\t\t\t\t// convert links\n\t\t\t\t\tif (this.opts.convertLinks)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$editor.linkify();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.syncCode();\n\n\t\t\t}, this));\n\t\t},\n\t\tkeydown: function()\n\t\t{\n\t\t\tthis.$editor.keydown($.proxy(function(e)\n\t\t\t{\n\t\t\t\tthis.air.hide();\n\t\t\t\tvar key = e.keyCode || e.which;\n\t\t\t\tvar parent = this.getParentNode();\n\t\t\t\tvar pre = false;\n\t\t\t\tvar ctrl = e.ctrlKey || e.metaKey;\n\n\t\t\t\tif (parent && $(parent).get(0).tagName === 'PRE')\n\t\t\t\t{\n\t\t\t\t\tpre = true;\n\t\t\t\t}\n\n\t\t\t\t// callback keydown\n\t\t\t\tif (typeof this.opts.keydownCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.keydownCallback(this, e);\n\t\t\t\t}\n\n\t\t\t\t// breakline\n\t\t\t\tif (this.opts.paragraphy === false && $.browser.webkit && key === 13 && !e.shiftKey && !e.ctrlKey && !e.metaKey)\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.insertNodeAtCaret($('<span class=\"redactor-breakline\"><br></span>').get(0));\n\t\t\t\t\tsetTimeout($.proxy(function()\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$editor.find('span.redactor-breakline').replaceWith('<br>');\n\t\t\t\t\t\tsetTimeout($.proxy(function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.syncCode();\n\t\t\t\t\t\t}, this), 10);\n\n\t\t\t\t\t}, this), 10);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (ctrl && this.opts.shortcuts)\n\t\t\t\t{\n\t\t\t\t\tif (key === 90)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (this.opts.buffer !== false)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tthis.getBuffer();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (e.shiftKey)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.shortcuts(e, 'redo');\t// Ctrl + Shift + z\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.shortcuts(e, 'undo'); // Ctrl + z\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 77)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'removeFormat'); // Ctrl + m\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 66)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'bold'); // Ctrl + b\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 73)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'italic'); // Ctrl + i\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 74)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'insertunorderedlist'); // Ctrl + j\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 75)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'insertorderedlist'); // Ctrl + k\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 76)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'superscript'); // Ctrl + l\n\t\t\t\t\t}\n\t\t\t\t\telse if (key === 72)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'subscript'); // Ctrl + h\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// clear undo buffer\n\t\t\t\tif (!ctrl && key !== 90)\n\t\t\t\t{\n\t\t\t\t\tthis.opts.buffer = false;\n\t\t\t\t}\n\n\t\t\t\t// enter\n\t\t\t\tif (pre === true && key === 13)\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.insertNodeAtCaret(document.createTextNode('\\r\\n'));\n\t\t\t\t}\n\n\t\t\t\t// tab\n\t\t\t\tif (this.opts.shortcuts && !e.shiftKey && key === 9)\n\t\t\t\t{\n\t\t\t\t\tif (pre === false)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.shortcuts(e, 'indent'); // Tab\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.insertNodeAtCaret(document.createTextNode('\\t'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (this.opts.shortcuts && e.shiftKey && key === 9 )\n\t\t\t\t{\n\t\t\t\t\tthis.shortcuts(e, 'outdent'); // Shift + tab\n\t\t\t\t}\n\n\t\t\t\t// safari shift key + enter\n\t\t\t\tif ($.browser.webkit && navigator.userAgent.indexOf('Chrome') === -1)\n\t\t\t\t{\n\t\t\t\t\treturn this.safariShiftKeyEnter(e, key);\n\t\t\t\t}\n\t\t\t}, this));\n\t\t},\n\t\tbuild: function(mobile)\n\t\t{\n\t\t\tif (mobile !== true)\n\t\t\t{\n\t\t\t\t// container\n\t\t\t\tthis.$box = $('<div class=\"redactor_box\"></div>');\n\n\t\t\t\t// air box\n\t\t\t\tif (this.opts.air)\n\t\t\t\t{\n\t\t\t\t\tthis.air = $('<div class=\"redactor_air\" style=\"display: none;\"></div>');\n\t\t\t\t}\n\n\t\t\t\t// editor\n\t\t\t\tthis.textareamode = true;\n\t\t\t\tif (this.$el.get(0).tagName === 'TEXTAREA')\n\t\t\t\t{\n\t\t\t\t\tthis.$editor = $('<div></div>');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.textareamode = false;\n\t\t\t\t\tthis.$editor = this.$el;\n\t\t\t\t\tthis.$el = $('<textarea name=\"' + this.$editor.attr('id') + '\"></textarea>').css('height', this.height);\n\t\t\t\t}\n\n\t\t\t\tthis.$editor.addClass('redactor_editor').attr('contenteditable', true).attr('dir', this.opts.direction);\n\n\t\t\t\tif (this.opts.tabindex !== false)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.attr('tabindex', this.opts.tabindex);\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.minHeight !== false)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.css('min-height', this.opts.minHeight + 'px');\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.wym === true)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.addClass('redactor_editor_wym');\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.autoresize === false)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.css('height', this.height);\n\t\t\t\t}\n\n\t\t\t\t// hide textarea\n\t\t\t\tthis.$el.hide();\n\n\t\t\t\t// append box and frame\n\t\t\t\tvar html = '';\n\t\t\t\tif (this.textareamode)\n\t\t\t\t{\n\t\t\t\t\t// get html\n\t\t\t\t\thtml = this.$el.val();\n\n\t\t\t\t\tthis.$box.insertAfter(this.$el).append(this.$editor).append(this.$el);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// get html\n\t\t\t\t\thtml = this.$editor.html();\n\n\t\t\t\t\tthis.$box.insertAfter(this.$editor).append(this.$el).append(this.$editor);\n\n\t\t\t\t}\n\n\t\t\t\t// conver newlines to p\n\t\t\t\tif (this.opts.paragraphy)\n\t\t\t\t{\n\t\t\t\t\thtml = this.paragraphy(html);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thtml = html.replace(/<p>([\\w\\W]*?)<\\/p>/gi, '$1<br><br>');\n\t\t\t\t}\n\n\t\t\t\t// enable\n\t\t\t\tthis.$editor.html(html);\n\n\t\t\t\tif (this.textareamode === false)\n\t\t\t\t{\n\t\t\t\t\tthis.syncCode();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.$el.get(0).tagName !== 'TEXTAREA')\n\t\t\t\t{\n\t\t\t\t\tvar html = this.$el.val();\n\t\t\t\t\tvar textarea = $('<textarea name=\"' + this.$editor.attr('id') + '\"></textarea>').css('height', this.height).val(html);\n\t\t\t\t\tthis.$el.hide();\n\t\t\t\t\tthis.$el.after(textarea);\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tenableAir: function()\n\t\t{\n\t\t\tif (this.opts.air === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.air.hide();\n\n\t\t\tthis.$editor.bind('click', $.proxy(function(e)\n\t\t\t{\n\t\t\t\tvar p = this.getSelection();\n\t\t\t\tif (!p || !p.anchorNode) {\n\t\t\t\t\tthis.air.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar a = p.anchorNode.tagName && p.anchorNode.tagName === 'P' ? p.anchorNode : ( p.anchorNode.parentNode.tagName === 'P' ? p.anchorNode.parentNode : false );\n\t\t\t\tif (a && e.target === a && $(a).hasClass('media-row')) {\n\t\t\t\t\t$('.redactor_air').addClass('media');\n\t\t\t\t\tthis.showAir(e);\n\t\t\t\t\t$('.redactor_air li a:hidden').parent().hide();\n\t\t\t\t} else if (p.type === 'Caret') {\n\t\t\t\t\tthis.air.hide();\n\t\t\t\t}\n\n\t\t\t}, this));\n\n\t\t\tthis.$editor.bind('textselect', $.proxy(function(e)\n\t\t\t{\n\t\t\t\t$('.redactor_air').removeClass('media');\n\t\t\t\t$('.redactor_air li').show();\n\t\t\t\tthis.showAir(e);\n\n\t\t\t}, this));\n\n\t\t\tthis.$editor.bind('textunselect', $.proxy(function()\n\t\t\t{\n\t\t\t\tthis.air.hide();\n\n\t\t\t}, this));\n\n\t\t},\n\t\tshowAir: function(e)\n\t\t{\n\t\t\t$('.redactor_air').hide();\n\n\t\t\tvar width = this.air.innerWidth();\n\t\t\tvar left = e.clientX - 15;\n\n\t\t\tif ($(document).width() < (left + width))\n\t\t\t{\n\t\t\t\tleft = left - width;\n\t\t\t}\n\n\t\t\tthis.air.css({ left: left + 'px', top: (e.clientY + $(document).scrollTop() + 14) + 'px' }).show();\n\t\t},\n\t\tsyncCode: function()\n\t\t{\n\t\t\tthis.$el.val(this.$editor.html());\n\t\t},\n\n\t\t// API functions\n\t\tsetCode: function(html)\n\t\t{\n\t\t\tthis.$editor.html(html).focus();\n\n\t\t\tthis.syncCode();\n\t\t},\n\t\tgetCode: function()\n\t\t{\n\t\t\tif (this.opts.visual)\n\t\t\t{\n\t\t\t\treturn this.$editor.html()\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn this.$el.val();\n\t\t\t}\n\t\t},\n\t\tinsertHtml: function(html)\n\t\t{\n\t\t\tthis.$editor.focus();\n\t\t\tthis.execCommand('inserthtml', html);\n\t\t\tthis.observeImages();\n\t\t},\n\t\tdestroy: function()\n\t\t{\n\t\t\tvar html = this.getCode();\n\n\t\t\tif (this.textareamode)\n\t\t\t{\n\t\t\t\tthis.$box.after(this.$el);\n\t\t\t\tthis.$box.remove();\n\t\t\t\tthis.$el.height(this.height).val(html).show();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$box.after(this.$editor);\n\t\t\t\tthis.$box.remove();\n\t\t\t\tthis.$editor.removeClass('redactor_editor').removeClass('redactor_editor_wym').attr('contenteditable', false).html(html).show();\n\t\t\t}\n\n\t\t\t$('.redactor_air').remove();\n\n\t\t\tfor (var i = 0; i < this.dropdowns.length; i++)\n\t\t\t{\n\t\t\t\tthis.dropdowns[i].remove();\n\t\t\t\tdelete(this.dropdowns[i]);\n\t\t\t}\n\n\t\t},\n\t\t// end API functions\n\n\t\t// OBSERVERS\n\t\tobserveImages: function()\n\t\t{\n\t\t\tif (this.opts.observeImages === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.$editor.find('img').each($.proxy(function(i,s)\n\t\t\t{\n\t\t\t\tif ($.browser.msie)\n\t\t\t\t{\n\t\t\t\t\t$(s).attr('unselectable', 'on');\n\t\t\t\t}\n\n\t\t\t\tthis.resizeImage(s);\n\n\t\t\t}, this));\n\n\t\t},\n\t\tobserveTables: function()\n\t\t{\n\t\t\tthis.$editor.find('table').click($.proxy(this.tableObserver, this));\n\t\t},\n\t\tobserveScroll: function()\n\t\t{\n\t\t\tvar scrolltop = $(document).scrollTop();\n\t\t\tvar boxtop = this.$box.offset().top;\n\t\t\tvar left = 0;\n\n\t\t\tif (scrolltop > boxtop)\n\t\t\t{\n\t\t\t\tvar width = '100%';\n\t\t\t\tif (this.opts.fixedBox)\n\t\t\t\t{\n\t\t\t\t\tleft = this.$editor.offset().left;\n\t\t\t\t\twidth = this.$editor.innerWidth();\n\t\t\t\t}\n\n\t\t\t\tthis.fixed = true;\n\t\t\t\tthis.$toolbar.css({ position: 'fixed', width: width, zIndex: 100, top: this.opts.fixedTop + 'px', left: left });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.fixed = false;\n\t\t\t\tthis.$toolbar.css({ position: 'relative', width: 'auto', zIndex: 1, top: 0, left: left });\n\t\t\t}\n\t\t},\n\n\t\t// BUFFER\n\t\tsetBuffer: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\t\t\tthis.opts.buffer = this.$editor.html();\n\t\t},\n\t\tgetBuffer: function()\n\t\t{\n\t\t\tif (this.opts.buffer === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.$editor.html(this.opts.buffer);\n\n\t\t\tif (!$.browser.msie)\n\t\t\t{\n\t\t\t\tthis.restoreSelection();\n\t\t\t}\n\n\t\t\tthis.opts.buffer = false;\n\t\t},\n\n\t\t// EXECCOMMAND\n\t\texecCommand: function(cmd, param)\n\t\t{\n\t\t\tif (this.opts.visual == false)\n\t\t\t{\n\t\t\t\tthis.$el.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tvar parent;\n\n\t\t\t\tif (cmd === 'inserthtml' && $.browser.msie)\n\t\t\t\t{\n\t\t\t\t\t /*** IE-Insertion-Fix by Fabio Poloni ***/\n\t\t\t\t\tif (!this.$editor.is(\":focus\"))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$editor.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tdocument.selection.createRange().pasteHTML(param);\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'formatblock' && $.browser.msie)\n\t\t\t\t{\n\t\t\t\t\tdocument.execCommand(cmd, false, '<' + param + '>');\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'unlink')\n\t\t\t\t{\n\t\t\t\t\tparent = this.getParentNode();\n\t\t\t\t\tif ($(parent).get(0).tagName === 'A')\n\t\t\t\t\t{\n\t\t\t\t\t\t$(parent).replaceWith($(parent).text());\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'formatblock' && param === 'blockquote')\n\t\t\t\t{\n\t\t\t\t\tparent = this.getParentNode();\n\t\t\t\t\tif ($(parent).get(0).tagName === 'BLOCKQUOTE')\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, 'p');\n\t\t\t\t\t}\n\t\t\t\t\telse if ($(parent).get(0).tagName === 'P')\n\t\t\t\t\t{\n\t\t\t\t\t\tvar parent2 = $(parent).parent();\n\t\t\t\t\t\tif ($(parent2).get(0).tagName === 'BLOCKQUOTE')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar node = $('<p>' + $(parent).html() + '</p>');\n\t\t\t\t\t\t\t$(parent2).replaceWith(node);\n\t\t\t\t\t\t\tthis.setFocusNode(node.get(0));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (cmd === 'formatblock' && param === 'pre')\n\t\t\t\t{\n\t\t\t\t\tparent = this.getParentNode();\n\t\t\t\t\tif ($(parent).get(0).tagName === 'PRE')\n\t\t\t\t\t{\n\t\t\t\t\t\t$(parent).replaceWith('<p>' + $(parent).text() + '</p>');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdocument.execCommand(cmd, false, param);\n\t\t\t\t}\n\n\t\t\t\tif (cmd === 'inserthorizontalrule')\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.find('hr').removeAttr('id');\n\t\t\t\t}\n\n\t\t\t\tthis.syncCode();\n\n\t\t\t\tif (this.oldIE())\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.focus();\n\t\t\t\t}\n\n\t\t\t\tif (typeof this.opts.execCommandCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.execCommandCallback(this, cmd);\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.air)\n\t\t\t\t{\n\t\t\t\t\tthis.air.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) { }\n\t\t},\n\n\t\t// FORMAT NEW LINE\n\t\tformatNewLine: function(e)\n\t\t{\n\t\t\tvar parent = this.getParentNode();\n\n\t\t\tif (parent.nodeName === 'DIV' && parent.className === 'redactor_editor')\n\t\t\t{\n\t\t\t\tvar element = $(this.getCurrentNode());\n\n\t\t\t\tif (element.get(0).tagName === 'DIV' && (element.html() === '' || element.html() === '<br>'))\n\t\t\t\t{\n\t\t\t\t\tvar newElement = $('<p>').append(element.clone().get(0).childNodes);\n\t\t\t\t\telement.replaceWith(newElement);\n\t\t\t\t\tnewElement.html('<br />');\n\t\t\t\t\tthis.setFocusNode(newElement.get(0));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// SAFARI SHIFT KEY + ENTER\n\t\tsafariShiftKeyEnter: function(e, key)\n\t\t{\n\t\t\tif (e.shiftKey && key === 13)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.insertNodeAtCaret($('<span><br /></span>').get(0));\n\t\t\t\tthis.syncCode();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\n\t\t// FORMAT EMPTY\n\t\tformatEmpty: function(e)\n\t\t{\n\t\t\tvar html = $.trim(this.$editor.html());\n\n\t\t\tif ($.browser.mozilla)\n\t\t\t{\n\t\t\t\thtml = html.replace(/<br>/i, '');\n\t\t\t}\n\n\t\t\tif (html === '')\n\t\t\t{\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar nodehtml = this.opts.allEmptyHtml;\n\t\t\t\tif ($.browser.mozilla)\n\t\t\t\t{\n\t\t\t\t\tnodehtml = this.opts.mozillaEmptyHtml;\n\t\t\t\t}\n\n\t\t\t\tvar node = $(nodehtml).get(0);\n\t\t\t\tthis.$editor.html(node);\n\t\t\t\tthis.setFocusNode(node);\n\n\t\t\t\tthis.syncCode();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.syncCode();\n\t\t\t}\n\t\t},\n\n\t\t// PARAGRAPHY\n\t\tparagraphy: function (str)\n\t\t{\n\n\n\t\t\tstr = $.trim(str);\n\t\t\tif (str === '')\n\t\t\t{\n\t\t\t\tif (!$.browser.mozilla)\n\t\t\t\t{\n\t\t\t\t\treturn this.opts.allEmptyHtml;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn this.opts.mozillaEmptyHtml;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// convert div to p\n\t\t\tif (this.opts.convertDivs)\n\t\t\t{\n\n\t\t\t\tstr = str.replace(/<div(.*?)>([\\w\\W]*?)<\\/div>/gi, '<p>$2</p>');\n\t\t\t}\n\n\t\t\t// inner functions\n\t\t\tvar X = function(x, a, b) { return x.replace(new RegExp(a, 'g'), b); };\n\t\t\tvar R = function(a, b) { return X(str, a, b); };\n\n\t\t\t// block elements\n\t\t\tvar blocks = '(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])';\n\n\t\t\t//str = '<p>' + str;\n\t\t\tstr += '\\n';\n\n\t\t\tR('<br />\\\\s*<br />', '\\n\\n');\n\t\t\tR('(<' + blocks + '[^>]*>)', '\\n$1');\n\t\t\tR('(</' + blocks + '>)', '$1\\n\\n');\n\t\t\tR('\\r\\n|\\r', '\\n'); // newlines\n\t\t\tR('\\n\\n+', '\\n\\n'); // remove duplicates\n\t\t\tR('\\n?((.|\\n)+?)$', '<p>$1</p>\\n'); // including one at the end\n\t\t\tR('<p>\\\\s*?</p>', ''); // remove empty p\n\t\t\tR('<p>(<div[^>]*>\\\\s*)', '$1<p>');\n\t\t\tR('<p>([^<]+)\\\\s*?(</(div|address|form)[^>]*>)', '<p>$1</p>$2');\n\t\t\tR('<p>\\\\s*(</?' + blocks + '[^>]*>)\\\\s*</p>', '$1');\n\t\t\tR('<p>(<li.+?)</p>', '$1');\n\t\t\tR('<p>\\\\s*(</?' + blocks + '[^>]*>)', '$1');\n\t\t\tR('(</?' + blocks + '[^>]*>)\\\\s*</p>', '$1');\n\t\t\tR('(</?' + blocks + '[^>]*>)\\\\s*<br />', '$1');\n\t\t\tR('<br />(\\\\s*</?(p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)', '$1');\n\n\t\t\t// pre\n\t\t\tif (str.indexOf('<pre') != -1)\n\t\t\t{\n\t\t\t\tR('(<pre(.|\\n)*?>)((.|\\n)*?)</pre>', function(m0, m1, m2, m3)\n\t\t\t\t{\n\t\t\t\t\treturn X(m1, '\\\\\\\\([\\'\\\"\\\\\\\\])', '$1') + X(X(X(m3, '<p>', '\\n'), '</p>|<br />', ''), '\\\\\\\\([\\'\\\"\\\\\\\\])', '$1') + '</pre>';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn R('\\n</p>$', '</p>');\n\t\t},\n\n\t\t// REMOVE TAGS\n\t\tstripTags: function(html)\n\t\t{\n\t\t\tvar allowed = this.opts.allowedTags;\n\t\t\tvar tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi;\n\t\t\treturn html.replace(tags, function ($0, $1)\n\t\t\t{\n\t\t\t\treturn $.inArray($1.toLowerCase(), allowed) > '-1' ? $0 : '';\n\t\t\t});\n\t\t},\n\n\n\t\t// PASTE CLEANUP\n\t\tpasteCleanUp: function(html)\n\t\t{\n\t\t\t// remove comments and php tags\n\t\t\thtml = html.replace(/<!--[\\s\\S]*?-->|<\\?(?:php)?[\\s\\S]*?\\?>/gi, '');\n\n\t\t\t// remove nbsp\n\t\t\thtml = html.replace(/(&nbsp;){1,}/gi, '&nbsp;');\n\n\t\t\t// remove google docs marker\n\t\t\thtml = html.replace(/<b\\sid=\"internal-source-marker(.*?)\">([\\w\\W]*?)<\\/b>/gi, \"$2\");\n\n\t\t\t// strip tags\n\t\t\thtml = this.stripTags(html);\n\n\t\t\t// prevert\n\t\t\thtml = html.replace(/<td><br><\\/td>/gi, '[td]');\n\t\t\thtml = html.replace(/<a(.*?)>([\\w\\W]*?)<\\/a>/gi, '[a$1]$2[/a]');\n\t\t\thtml = html.replace(/<iframe(.*?)>([\\w\\W]*?)<\\/iframe>/gi, '[iframe$1]$2[/iframe]');\n\t\t\thtml = html.replace(/<video(.*?)>([\\w\\W]*?)<\\/video>/gi, '[video$1]$2[/video]');\n\t\t\thtml = html.replace(/<audio(.*?)>([\\w\\W]*?)<\\/audio>/gi, '[audio$1]$2[/audio]');\n\t\t\thtml = html.replace(/<embed(.*?)>([\\w\\W]*?)<\\/embed>/gi, '[embed$1]$2[/embed]');\n\t\t\thtml = html.replace(/<object(.*?)>([\\w\\W]*?)<\\/object>/gi, '[object$1]$2[/object]');\n\t\t\thtml = html.replace(/<param(.*?)>/gi, '[param$1]');\n\t\t\thtml = html.replace(/<img(.*?)>/gi, '[img$1]');\n\n\t\t\t// remove attributes\n\t\t\thtml = html.replace(/<(\\w+)([\\w\\W]*?)>/gi, '<$1>');\n\n\t\t\t// remove empty\n\t\t\thtml = html.replace(/<[^\\/>][^>]*>(\\s*|\\t*|\\n*|&nbsp;|<br>)<\\/[^>]+>/gi, '');\n\t\t\thtml = html.replace(/<[^\\/>][^>]*>(\\s*|\\t*|\\n*|&nbsp;|<br>)<\\/[^>]+>/gi, '');\n\n\t\t\t// revert\n\t\t\thtml = html.replace(/\\[td\\]/gi, '<td><br></td>');\n\t\t\thtml = html.replace(/\\[a(.*?)\\]([\\w\\W]*?)\\[\\/a\\]/gi, '<a$1>$2</a>');\n\t\t\thtml = html.replace(/\\[iframe(.*?)\\]([\\w\\W]*?)\\[\\/iframe\\]/gi, '<iframe$1>$2</iframe>');\n\t\t\thtml = html.replace(/\\[video(.*?)\\]([\\w\\W]*?)\\[\\/video\\]/gi, '<video$1>$2</video>');\n\t\t\thtml = html.replace(/\\[audio(.*?)\\]([\\w\\W]*?)\\[\\/audio\\]/gi, '<audio$1>$2</audio>');\n\t\t\thtml = html.replace(/\\[embed(.*?)\\]([\\w\\W]*?)\\[\\/embed\\]/gi, '<embed$1>$2</embed>');\n\t\t\thtml = html.replace(/\\[object(.*?)\\]([\\w\\W]*?)\\[\\/object\\]/gi, '<object$1>$2</object>');\n\t\t\thtml = html.replace(/\\[param(.*?)\\]/gi, '<param$1>');\n\t\t\thtml = html.replace(/\\[img(.*?)\\]/gi, '<img$1>');\n\n\t\t\t// convert div to p\n\t\t\tif (this.opts.convertDivs)\n\t\t\t{\n\t\t\t\thtml = html.replace(/<div(.*?)>([\\w\\W]*?)<\\/div>/gi, '<p>$2</p>');\n\t\t\t}\n\n\t\t\tif (this.opts.paragraphy === false)\n\t\t\t{\n\t\t\t\thtml = html.replace(/<p>([\\w\\W]*?)<\\/p>/gi, '$1<br>');\n\t\t\t}\n\n\t\t\t// remove span\n\t\t\thtml = html.replace(/<span>([\\w\\W]*?)<\\/span>/gi, '$1');\n\n\t\t\thtml = html.replace(/\\n{3,}/gi, '\\n');\n\n\t\t\t// remove dirty p\n\t\t\thtml = html.replace(/<p><p>/g, '<p>');\n\t\t\thtml = html.replace(/<\\/p><\\/p>/g, '</p>');\n\n\t\t\tthis.execCommand('inserthtml', html);\n\n\t\t\tif (this.opts.autoresize === true)\n\t\t\t{\n\t\t\t\t$(document.body).scrollTop(this.saveScroll);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$editor.scrollTop(this.saveScroll);\n\t\t\t}\n\n\t\t},\n\n\n\t\t// TEXTAREA CODE FORMATTING\n\t\tformattingRemove: function(html)\n\t\t{\n\t\t\t// save pre\n\t\t\tvar prebuffer = [];\n\t\t\tvar pre = html.match(/<pre(.*?)>([\\w\\W]*?)<\\/pre>/gi);\n\t\t\tif (pre !== null)\n\t\t\t{\n\t\t\t\t$.each(pre, function(i,s)\n\t\t\t\t{\n\t\t\t\t\thtml = html.replace(s, 'prebuffer_' + i);\n\t\t\t\t\tprebuffer.push(s);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thtml = html.replace(/\\s{2,}/g, ' ');\n\t\t\thtml = html.replace(/\\n/g, ' ');\n\t\t\thtml = html.replace(/[\\t]*/g, '');\n\t\t\thtml = html.replace(/\\n\\s*\\n/g, \"\\n\");\n\t\t\thtml = html.replace(/^[\\s\\n]*/g, '');\n\t\t\thtml = html.replace(/[\\s\\n]*$/g, '');\n\t\t\thtml = html.replace(/>\\s+</g, '><');\n\n\t\t\tif (prebuffer)\n\t\t\t{\n\t\t\t\t$.each(prebuffer, function(i,s)\n\t\t\t\t{\n\t\t\t\t\thtml = html.replace('prebuffer_' + i, s);\n\t\t\t\t});\n\n\t\t\t\tprebuffer = [];\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingIndenting: function(html)\n\t\t{\n\t\t\thtml = html.replace(/<li/g, \"\\t<li\");\n\t\t\thtml = html.replace(/<tr/g, \"\\t<tr\");\n\t\t\thtml = html.replace(/<td/g, \"\\t\\t<td\");\n\t\t\thtml = html.replace(/<\\/tr>/g, \"\\t</tr>\");\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingEmptyTags: function(html)\n\t\t{\n\t\t\tvar etags = [\"<pre></pre>\",\"<blockquote>\\\\s*</blockquote>\",\"<em>\\\\s*</em>\",\"<ul></ul>\",\"<ol></ol>\",\"<li></li>\",\"<table></table>\",\"<tr></tr>\",\"<span>\\\\s*<span>\", \"<span>&nbsp;<span>\", \"<b>\\\\s*</b>\", \"<b>&nbsp;</b>\", \"<p>\\\\s*</p>\", \"<p>&nbsp;</p>\",  \"<p>\\\\s*<br>\\\\s*</p>\", \"<div>\\\\s*</div>\", \"<div>\\\\s*<br>\\\\s*</div>\"];\n\t\t\tfor (var i = 0; i < etags.length; ++i)\n\t\t\t{\n\t\t\t\tvar bbb = etags[i];\n\t\t\t\thtml = html.replace(new RegExp(bbb,'gi'), \"\");\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingAddBefore: function(html)\n\t\t{\n\t\t\tvar lb = '\\r\\n';\n\t\t\tvar btags = [\"<p\", \"<form\",\"</ul>\", '</ol>', \"<fieldset\",\"<legend\",\"<object\",\"<embed\",\"<select\",\"<option\",\"<input\",\"<textarea\",\"<pre\",\"<blockquote\",\"<ul\",\"<ol\",\"<li\",\"<dl\",\"<dt\",\"<dd\",\"<table\", \"<thead\",\"<tbody\",\"<caption\",\"</caption>\",\"<th\",\"<tr\",\"<td\",\"<figure\"];\n\t\t\tfor (var i = 0; i < btags.length; ++i)\n\t\t\t{\n\t\t\t\tvar eee = btags[i];\n\t\t\t\thtml = html.replace(new RegExp(eee,'gi'),lb+eee);\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformattingAddAfter: function(html)\n\t\t{\n\t\t\tvar lb = '\\r\\n';\n\t\t\tvar atags = ['</p>', '</div>', '</h1>', '</h2>', '</h3>', '</h4>', '</h5>', '</h6>', '<br>', '<br />', '</dl>', '</dt>', '</dd>', '</form>', '</blockquote>', '</pre>', '</legend>', '</fieldset>', '</object>', '</embed>', '</textarea>', '</select>', '</option>', '</table>', '</thead>', '</tbody>', '</tr>', '</td>', '</th>', '</figure>'];\n\t\t\tfor (var i = 0; i < atags.length; ++i)\n\t\t\t{\n\t\t\t\tvar aaa = atags[i];\n\t\t\t\thtml = html.replace(new RegExp(aaa,'gi'),aaa+lb);\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\t\tformatting: function(html)\n\t\t{\n\t\t\thtml = this.formattingRemove(html);\n\n\t\t\t// empty tags\n\t\t\thtml = this.formattingEmptyTags(html);\n\n\t\t\t// add formatting before\n\t\t\thtml = this.formattingAddBefore(html);\n\n\t\t\t// add formatting after\n\t\t\thtml = this.formattingAddAfter(html);\n\n\t\t\t// indenting\n\t\t\thtml = this.formattingIndenting(html);\n\n\t\t\treturn html;\n\t\t},\n\n\t\thide: function() {\n\t\t\tif (this.opts.visual)\n\t\t\t{\n\t\t\t\tthis.$editor.hide();\n\n\t\t\t\thtml = this.$editor.html();\n\t\t\t\thtml = $.trim(this.formatting(html));\n\n\t\t\t\tthis.$el.height(this.$editor.innerHeight()).val(html).show().focus();\n\n\t\t\t\tthis.setBtnActive('html');\n\t\t\t\tthis.opts.visual = false;\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tvar html;\n\n\t\t\tif (!this.opts.visual)\n\t\t\t{\n\t\t\t\tthis.$el.hide();\n\n\n\t\t\t\tvar html = this.stripTags(this.$el.val());\n\t\t\t\tthis.$editor.html(html);\n\t\t\t\tthis.$editor.show();\n\n\t\t\t\tif (this.$editor.html() === '')\n\t\t\t\t{\n\t\t\t\t\tif (!$.browser.mozilla)\n\t\t\t\t\t{\n\t\t\t\t\t\thtml = this.opts.allEmptyHtml;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\thtml = this.opts.mozillaEmptyHtml;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setCode(html);\n\t\t\t\t}\n\n\t\t\t\tthis.$editor.focus();\n\n\t\t\t\tthis.setBtnInactive('html');\n\t\t\t\tthis.opts.visual = true;\n\n\t\t\t\tthis.observeImages();\n\t\t\t\tthis.observeTables();\n\t\t\t}\n\t\t},\n\n\t\t// TOGGLE\n\t\ttoggle: function()\n\t\t{\n\t\t\tif (this.opts.visual)\n\t\t\t{\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t},\n\n\t\t// AUTOSAVE\n\t\tautoSave: function()\n\t\t{\n\t\t\tsetInterval($.proxy(function()\n\t\t\t{\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: this.opts.autosave,\n\t\t\t\t\ttype: 'post',\n\t\t\t\t\tdata: this.$el.attr('name') + '=' + this.getCode(),\n\t\t\t\t\tsuccess: $.proxy(function(data)\n\t\t\t\t\t{\n\t\t\t\t\t\t// callback\n\t\t\t\t\t\tif (typeof this.opts.autosaveCallback === 'function')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.opts.autosaveCallback(data, this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, this)\n\t\t\t\t});\n\n\n\t\t\t}, this), this.opts.interval*1000);\n\t\t},\n\n\t\t// TOOLBAR\n\t\tbuildToolbar: function()\n\t\t{\n\t\t\tif (this.opts.toolbar === false)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.$toolbar = $('<ul>').addClass('redactor_toolbar');\n\n\t\t\tif (this.opts.air)\n\t\t\t{\n\t\t\t\t$(this.air).append(this.$toolbar);\n\t\t\t\t$('body').prepend(this.air);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$box.prepend(this.$toolbar);\n\t\t\t}\n\n\t\t\t$.each(this.opts.buttons, $.proxy(function(i,key)\n\t\t\t{\n\n\t\t\t\tif (key !== '|' && typeof this.opts.toolbar[key] !== 'undefined')\n\t\t\t\t{\n\t\t\t\t\tvar s = this.opts.toolbar[key];\n\n\t\t\t\t\tif (this.opts.fileUpload === false && key === 'file')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar li = $('<li>');\n\t\t\t\t\tvar a = this.buildButton(key, s);\n\n\t\t\t\t\t// dropdown\n\t\t\t\t\tif (key === 'backcolor' || key === 'fontcolor' || typeof(s.dropdown) !== 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tvar dropdown = $('<div class=\"redactor_dropdown\" style=\"display: none;\">');\n\n\t\t\t\t\t\tif (key === 'backcolor' || key === 'fontcolor')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdropdown = this.buildColorPicker(dropdown, key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdropdown = this.buildDropdown(dropdown, s.dropdown);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.dropdowns.push(dropdown.appendTo($(document.body)));\n\n\t\t\t\t\t\t// observing dropdown\n\t\t\t\t\t\tthis.hdlHideDropDown = $.proxy(function(e) { this.hideDropDown(e, dropdown, key); }, this);\n\t\t\t\t\t\tthis.hdlShowDropDown = $.proxy(function(e) { this.showDropDown(e, dropdown, key); }, this);\n\n\t\t\t\t\t\ta.click(this.hdlShowDropDown);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.$toolbar.append($(li).append(a));\n\t\t\t\t}\n\n\n\t\t\t\tif (key === '|')\n\t\t\t\t{\n\t\t\t\t\tthis.$toolbar.append($('<li class=\"redactor_separator\"></li>'));\n\t\t\t\t}\n\n\t\t\t}, this));\n\n\t\t\t$(document).click(this.hdlHideDropDown);\n\t\t\tthis.$editor.click(this.hdlHideDropDown);\n\n\t\t},\n\t\tbuildButton: function(key, s)\n\t\t{\n\t\t\tvar button = $('<a href=\"javascript:void(null);\" title=\"' + s.title + '\" class=\"redactor_btn_' + key + '\"></a>');\n\n\t\t\tif (typeof s.func === 'undefined')\n\t\t\t{\n\t\t\t\tbutton.click($.proxy(function() { this.execCommand(s.exec, key); $('#edit-area').trigger('keyup'); }, this));\n\t\t\t}\n\t\t\telse if (s.func !== 'show')\n\t\t\t{\n\t\t\t\tbutton.click($.proxy(function(e) {\n\n\t\t\t\t\tthis[s.func](e);\n\n\t\t\t\t}, this));\n\t\t\t}\n\n\t\t\tif (typeof s.callback !== 'undefined')\n\t\t\t{\n\t\t\t\tbutton.click($.proxy(function(e) { s.callback(this, e, key); }, this));\n\t\t\t}\n\n\t\t\treturn button;\n\t\t},\n\t\tbuildDropdown: function(dropdown, obj)\n\t\t{\n\t\t\t$.each(obj, $.proxy(\n\t\t\t\tfunction (x, d)\n\t\t\t\t{\n\t\t\t\t\tif (typeof(d.className) === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\td.className = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar drop_a;\n\t\t\t\t\tif (typeof d.name !== 'undefined' && d.name === 'separator')\n\t\t\t\t\t{\n\t\t\t\t\t\tdrop_a = $('<a class=\"redactor_separator_drop\">');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdrop_a = $('<a href=\"javascript:void(null);\" class=\"' + d.className + '\">' + d.title + '</a>');\n\n\t\t\t\t\t\tif (typeof(d.func) === 'undefined')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(drop_a).click($.proxy(function() { this.execCommand(d.exec, x); }, this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(drop_a).click($.proxy(function(e) { this[d.func](e); }, this));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$(dropdown).append(drop_a);\n\n\t\t\t\t}, this)\n\t\t\t);\n\n\t\t\treturn dropdown;\n\n\t\t},\n\t\tbuildColorPicker: function(dropdown, key)\n\t\t{\n\t\t\tvar mode;\n\t\t\tif (key === 'backcolor')\n\t\t\t{\n\t\t\t\tif ($.browser.msie)\n\t\t\t\t{\n\t\t\t\t\tmode = 'BackColor';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tmode = 'hilitecolor';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmode = 'forecolor';\n\t\t\t}\n\n\t\t\t$(dropdown).width(210);\n\n\t\t\tvar len = this.opts.colors.length;\n\t\t\tfor (var i = 0; i < len; ++i)\n\t\t\t{\n\t\t\t\tvar color = this.opts.colors[i];\n\n\t\t\t\tvar swatch = $('<a rel=\"' + color + '\" href=\"javascript:void(null);\" class=\"redactor_color_link\"></a>').css({ 'backgroundColor': color });\n\t\t\t\t$(dropdown).append(swatch);\n\n\t\t\t\tvar _self = this;\n\t\t\t\t$(swatch).click(function()\n\t\t\t\t{\n\t\t\t\t\t_self.execCommand(mode, $(this).attr('rel'));\n\n\t\t\t\t\tif (mode === 'forecolor')\n\t\t\t\t\t{\n\t\t\t\t\t\t_self.$editor.find('font').replaceWith(function() {\n\n\t\t\t\t\t\t\treturn $('<span style=\"color: ' + $(this).attr('color') + ';\">' + $(this).html() + '</span>');\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.browser.msie && mode === 'BackColor')\n\t\t\t\t\t{\n\t\t\t\t\t\t_self.$editor.find('font').replaceWith(function() {\n\n\t\t\t\t\t\t\treturn $('<span style=\"' + $(this).attr('style') + '\">' + $(this).html() + '</span>');\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar elnone = $('<a href=\"javascript:void(null);\" class=\"redactor_color_none\"></a>').html(RLANG.none);\n\n\t\t\tif (key === 'backcolor')\n\t\t\t{\n\t\t\t\telnone.click($.proxy(this.setBackgroundNone, this));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\telnone.click($.proxy(this.setColorNone, this));\n\t\t\t}\n\n\t\t\t$(dropdown).append(elnone);\n\n\t\t\treturn dropdown;\n\t\t},\n\t\tsetBackgroundNone: function()\n\t\t{\n\t\t\t$(this.getParentNode()).css('background-color', 'transparent');\n\t\t\tthis.syncCode();\n\t\t},\n\t\tsetColorNone: function()\n\t\t{\n\t\t\t$(this.getParentNode()).attr('color', '').css('color', '');\n\t\t\tthis.syncCode();\n\t\t},\n\n\n\t\t// DROPDOWNS\n\t\tshowDropDown: function(e, dropdown, key)\n\t\t{\n\t\t\tif (this.getBtn(key).hasClass('dropact'))\n\t\t\t{\n\t\t\t\tthis.hideAllDropDown();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideAllDropDown();\n\n\t\t\t\tthis.setBtnActive(key);\n\t\t\t\tthis.getBtn(key).addClass('dropact');\n\n\t\t\t\tvar left = this.getBtn(key).offset().left;\n\n\t\t\t\tif (this.opts.air)\n\t\t\t\t{\n\t\t\t\t\tvar air_top = this.air.offset().top;\n\n\t\t\t\t\t$(dropdown).css({ position: 'absolute', left: left + 'px', top: air_top+30 + 'px' }).show();\n\t\t\t\t}\n\t\t\t\telse if (this.opts.fixed && this.fixed)\n\t\t\t\t{\n\t\t\t\t\t$(dropdown).css({ position: 'fixed', left: left + 'px', top: '30px' }).show();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar top = this.$toolbar.offset().top + 30;\n\t\t\t\t\t$(dropdown).css({ position: 'absolute', left: left + 'px', top: top + 'px' }).show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\thideAllDropDown: function()\n\t\t{\n\t\t\tthis.$toolbar.find('a.dropact').removeClass('act').removeClass('dropact');\n\t\t\t$('.redactor_dropdown').hide();\n\t\t},\n\t\thideDropDown: function(e, dropdown, key)\n\t\t{\n\t\t\tif (!$(e.target).hasClass('dropact'))\n\t\t\t{\n\t\t\t\t$(dropdown).removeClass('act');\n\t\t\t\tthis.showedDropDown = false;\n\t\t\t\tthis.hideAllDropDown();\n\t\t\t}\n\t\t},\n\n\t\t// SELECTION AND NODE MANIPULATION\n\t\tgetSelection: function ()\n\t\t{\n\t\t\tif (typeof window.getSelection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn document.getSelection();\n\t\t\t}\n\t\t\telse if (typeof document.selection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn document.selection.createRange();\n\t\t\t}\n\t\t},\n\t\tgetFragmentHtml: function (fragment)\n\t\t{\n\t\t\tvar cloned = fragment.cloneNode(true);\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.appendChild(cloned);\n\t\t\treturn div.innerHTML;\n\t\t},\n\t\textractContent: function()\n\t\t{\n\t\t\tvar node = this.$editor.get(0);\n\t\t\tvar frag = document.createDocumentFragment(), child;\n\t\t\twhile ((child = node.firstChild))\n\t\t\t{\n\t\t\t\tfrag.appendChild(child);\n\t\t\t}\n\n\t\t\treturn frag;\n\t\t},\n\t\tsaveSelection: function()\n\t\t{\n\t\t\tthis.savedSel = null;\n\t\t\tthis.savedSelObj = null;\n\n\t\t\tif ($.browser.msie && parseInt($.browser.version, 10) < 9)\n\t\t\t{\n\t\t\t\tvar node = this.$editor.get(0);\n\t\t\t\tthis.savedSel = window.Selection.getOrigin(node);\n\t\t\t\tthis.savedSelObj = window.Selection.getFocus(node);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.savedSel = window.Selection.getOrigin(window);\n\t\t\t\tthis.savedSelObj = window.Selection.getFocus(window);\n\t\t\t}\n\t\t},\n\t\trestoreSelection: function()\n\t\t{\n\t\t\tif (this.savedSel !== null && this.savedSelObj !== null && this.savedSel[0].tagName !== 'BODY')\n\t\t\t{\n\t\t\t\tif ($(this.savedSel[0]).closest('.redactor_editor').size() == 0)\n\t\t\t\t{\n\t\t\t\t\tthis.$editor.focus();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\twindow.Selection.setSelection(window, this.savedSel[0], this.savedSel[1], this.savedSelObj[0], this.savedSelObj[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$editor.focus();\n\t\t\t}\n\t\t},\n\t\tgetParentNode: function()\n\t\t{\n\t\t\tif (typeof window.getSelection !== 'undefined')\n\t\t\t{\n\t\t\t\tvar s = window.getSelection();\n\t\t\t\tif (s.rangeCount > 0)\n\t\t\t\t{\n\t\t\t\t\treturn this.getSelection().getRangeAt(0).startContainer.parentNode;\n\t\t\t\t}\n\t\t\t\telse return false;\n\n\t\t\t}\n\t\t\telse if (typeof document.selection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn this.getSelection().parentElement();\n\t\t\t}\n\t\t},\n\t\tgetCurrentNode: function()\n\t\t{\n\t\t\tif (typeof window.getSelection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn this.getSelection().getRangeAt(0).startContainer;\n\t\t\t}\n\t\t\telse if (typeof document.selection !== 'undefined')\n\t\t\t{\n\t\t\t\treturn this.getSelection();\n\t\t\t}\n\t\t},\n\t\tsetFocusNode: function(node)\n\t\t{\n\t\t\tif (typeof node === 'undefined')\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar range = document.createRange();\n\t\t\t\tvar selection = this.getSelection();\n\n\t\t\t\tif (selection !== null)\n\t\t\t\t{\n\t\t\t\t\trange.selectNodeContents(node);\n\t\t\t\t\tselection.addRange(range);\n\t\t\t\t\tselection.collapse(node, 0);\n\t\t\t\t}\n\n\t\t\t\tthis.$editor.focus();\n\n\t\t\t} catch (e) { }\n\n\t\t},\n\t\tinsertNodeAtCaret: function (node)\n\t\t{\n\t\t\tif (window.getSelection)\n\t\t\t{\n\t\t\t\tvar sel = this.getSelection();\n\t\t\t\tif (sel.rangeCount)\n\t\t\t\t{\n\t\t\t\t\tvar range = sel.getRangeAt(0);\n\t\t\t\t\trange.collapse(false);\n\t\t\t\t\trange.insertNode(node);\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.selectNodeContents(node);\n\t\t\t\t\trange.collapse(false);\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (document.selection)\n\t\t\t{\n\t\t\t\tvar html = (node.nodeType === 1) ? node.outerHTML : node.data;\n\t\t\t\tvar id = \"marker_\" + (\"\" + Math.random()).slice(2);\n\t\t\t\thtml += '<span id=\"' + id + '\"></span>';\n\t\t\t\tvar textRange = this.getSelection();\n\t\t\t\ttextRange.collapse(false);\n\t\t\t\ttextRange.pasteHTML(html);\n\t\t\t\tvar markerSpan = document.getElementById(id);\n\t\t\t\ttextRange.moveToElementText(markerSpan);\n\t\t\t\ttextRange.select();\n\t\t\t\tmarkerSpan.parentNode.removeChild(markerSpan);\n\t\t\t}\n\t\t},\n\t\tgetSelectedHtml: function()\n\t\t{\n\t\t\tvar html = '';\n\t\t\tif (window.getSelection)\n\t\t\t{\n\t\t\t\tvar sel = window.getSelection();\n\t\t\t\tif (sel.rangeCount)\n\t\t\t\t{\n\t\t\t\t\tvar container = document.createElement(\"div\");\n\t\t\t\t\tfor (var i = 0, len = sel.rangeCount; i < len; ++i)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontainer.appendChild(sel.getRangeAt(i).cloneContents());\n\t\t\t\t\t}\n\n\t\t\t\t\thtml = container.innerHTML;\n\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (document.selection)\n\t\t\t{\n\t\t\t\tif (document.selection.type === \"Text\")\n\t\t\t\t{\n\t\t\t\t\thtml = document.selection.createRange().htmlText;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\n\t\t// BUTTONS MANIPULATIONS\n\t\tgetBtn: function(key)\n\t\t{\n\t\t\treturn $(this.$toolbar.find('a.redactor_btn_' + key));\n\t\t},\n\t\tsetBtnActive: function(key)\n\t\t{\n\t\t\tthis.getBtn(key).addClass('act');\n\t\t},\n\t\tsetBtnInactive: function(key)\n\t\t{\n\t\t\tthis.getBtn(key).removeClass('act');\n\t\t},\n\n\t\t// RESIZE IMAGES\n\t\tresizeImage: function(resize)\n\t\t{\n\t\t\tvar clicked = false;\n\t\t\tvar clicker = false;\n\t\t\tvar start_x;\n\t\t\tvar start_y;\n\t\t\tvar ratio = $(resize).width()/$(resize).height();\n\t\t\tvar min_w = 10;\n\t\t\tvar min_h = 10;\n\n\t\t\t$(resize).hover(function() { $(resize).css('cursor', 'nw-resize'); }, function() { $(resize).css('cursor','default'); clicked = false; });\n\n\t\t\t$(resize).mousedown(function(e)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\n\t\t\t\tratio = $(resize).width()/$(resize).height();\n\n\t\t\t\tclicked = true;\n\t\t\t\tclicker = true;\n\n\t\t\t\tstart_x = Math.round(e.pageX - $(resize).eq(0).offset().left);\n\t\t\t\tstart_y = Math.round(e.pageY - $(resize).eq(0).offset().top);\n\t\t\t});\n\n\t\t\t$(resize).mouseup($.proxy(function(e)\n\t\t\t{\n\t\t\t\tclicked = false;\n\t\t\t\tthis.syncCode();\n\n\t\t\t}, this));\n\n\t\t\t$(resize).click($.proxy(function(e)\n\t\t\t{\n\t\t\t\tif (clicker)\n\t\t\t\t{\n\t\t\t\t\tthis.imageEdit(e);\n\t\t\t\t}\n\n\t\t\t}, this));\n\n\t\t\t$(resize).mousemove(function(e)\n\t\t\t{\n\t\t\t\tif (clicked)\n\t\t\t\t{\n\t\t\t\t\tclicker = false;\n\n\t\t\t\t\tvar mouse_x = Math.round(e.pageX - $(this).eq(0).offset().left) - start_x;\n\t\t\t\t\tvar mouse_y = Math.round(e.pageY - $(this).eq(0).offset().top) - start_y;\n\n\t\t\t\t\tvar div_h = $(resize).height();\n\n\t\t\t\t\tvar new_h = parseInt(div_h, 10) + mouse_y;\n\t\t\t\t\tvar new_w = new_h*ratio;\n\n\t\t\t\t\tif (new_w > min_w)\n\t\t\t\t\t{\n\t\t\t\t\t\t$(resize).width(new_w);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (new_h > min_h)\n\t\t\t\t\t{\n\t\t\t\t\t\t$(resize).height(new_h);\n\t\t\t\t\t}\n\n\t\t\t\t\tstart_x = Math.round(e.pageX - $(this).eq(0).offset().left);\n\t\t\t\t\tstart_y = Math.round(e.pageY - $(this).eq(0).offset().top);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// TABLE\n\t\tshowTable: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tthis.modalInit(RLANG.table, 'table', 300, $.proxy(function()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_insert_table_btn').click($.proxy(this.insertTable, this));\n\t\t\t\t}, this),\n\n\t\t\t\tfunction()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_table_rows').focus();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tinsertTable: function()\n\t\t{\n\t\t\tvar rows = $('#redactor_table_rows').val();\n\t\t\tvar columns = $('#redactor_table_columns').val();\n\n\t\t\tvar table_box = $('<div></div>');\n\n\t\t\tvar tableid = Math.floor(Math.random() * 99999);\n\t\t\tvar table = $('<table id=\"table' + tableid + '\"><tbody></tbody></table>');\n\n\t\t\tfor (var i = 0; i < rows; i++)\n\t\t\t{\n\t\t\t\tvar row = $('<tr></tr>');\n\t\t\t\tfor (var z = 0; z < columns; z++)\n\t\t\t\t{\n\t\t\t\t\tvar column = $('<td><br></td>');\n\t\t\t\t\t$(row).append(column);\n\t\t\t\t}\n\t\t\t\t$(table).append(row);\n\t\t\t}\n\n\t\t\t$(table_box).append(table);\n\t\t\tvar html = $(table_box).html() + '<p></p>';\n\n\t\t\tthis.restoreSelection();\n\t\t\tthis.execCommand('inserthtml', html);\n\t\t\tthis.modalClose();\n\t\t\tthis.observeTables();\n\n\t\t},\n\t\ttableObserver: function(e)\n\t\t{\n\t\t\tthis.$table = $(e.target).closest('table');\n\n\t\t\tthis.$table_tr = this.$table.find('tr');\n\t\t\tthis.$table_td = this.$table.find('td');\n\n\t\t\tthis.$table_td.removeClass('redactor-current-td');\n\n\t\t\tthis.$tbody = $(e.target).closest('tbody');\n\t\t\tthis.$thead = $(this.$table).find('thead');\n\n\t\t\tthis.$current_td = $(e.target);\n\t\t\tthis.$current_td.addClass('redactor-current-td');\n\n\t\t\tthis.$current_tr = $(e.target).closest('tr');\n\t\t},\n\t\tdeleteTable: function()\n\t\t{\n\t\t\t$(this.$table).remove();\n\t\t\tthis.$table = false;\n\t\t\tthis.syncCode();\n\t\t},\n\t\tdeleteRow: function()\n\t\t{\n\t\t\t$(this.$current_tr).remove();\n\t\t\tthis.syncCode();\n\t\t},\n\t\tdeleteColumn: function()\n\t\t{\n\t\t\tvar index = $(this.$current_td).get(0).cellIndex;\n\n\t\t\t$(this.$table).find('tr').each(function()\n\t\t\t{\n\t\t\t\t$(this).find('td').eq(index).remove();\n\t\t\t});\n\n\t\t\tthis.syncCode();\n\t\t},\n\t\taddHead: function()\n\t\t{\n\t\t\tif ($(this.$table).find('thead').size() !== 0)\n\t\t\t{\n\t\t\t\tthis.deleteHead();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar tr = $(this.$table).find('tr').first().clone();\n\t\t\t\ttr.find('td').html('&nbsp;');\n\t\t\t\tthis.$thead = $('<thead></thead>');\n\t\t\t\tthis.$thead.append(tr);\n\t\t\t\t$(this.$table).prepend(this.$thead);\n\t\t\t\tthis.syncCode();\n\t\t\t}\n\t\t},\n\t\tdeleteHead: function()\n\t\t{\n\t\t\t$(this.$thead).remove();\n\t\t\tthis.$thead = false;\n\t\t\tthis.syncCode();\n\t\t},\n\t\tinsertRowAbove: function()\n\t\t{\n\t\t\tthis.insertRow('before');\n\t\t},\n\t\tinsertRowBelow: function()\n\t\t{\n\t\t\tthis.insertRow('after');\n\t\t},\n\t\tinsertColumnLeft: function()\n\t\t{\n\t\t\tthis.insertColumn('before');\n\t\t},\n\t\tinsertColumnRight: function()\n\t\t{\n\t\t\tthis.insertColumn('after');\n\t\t},\n\t\tinsertRow: function(type)\n\t\t{\n\t\t\tvar new_tr = $(this.$current_tr).clone();\n\t\t\tnew_tr.find('td').html('&nbsp;');\n\t\t\tif (type === 'after')\n\t\t\t{\n\t\t\t\t$(this.$current_tr).after(new_tr);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$(this.$current_tr).before(new_tr);\n\t\t\t}\n\n\t\t\tthis.syncCode();\n\t\t},\n\t\tinsertColumn: function(type)\n\t\t{\n\t\t\tvar index = 0;\n\n\t\t\tthis.$current_td.addClass('redactor-current-td');\n\n\t\t\tthis.$current_tr.find('td').each(function(i,s)\n\t\t\t{\n\t\t\t\tif ($(s).hasClass('redactor-current-td'))\n\t\t\t\t{\n\t\t\t\t\tindex = i;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.$table_tr.each(function(i,s)\n\t\t\t{\n\t\t\t\tvar current = $(s).find('td').eq(index);\n\n\t\t\t\tvar td = current.clone();\n\t\t\t\ttd.html('&nbsp;');\n\n\t\t\t\tif (type === 'after')\n\t\t\t\t{\n\t\t\t\t\t$(current).after(td);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$(current).before(td);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tthis.syncCode();\n\t\t},\n\n\t\t// INSERT VIDEO\n\t\tshowVideo: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\t\t\tthis.modalInit(RLANG.video, 'video', 600, $.proxy(function()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_insert_video_btn').click($.proxy(this.insertVideo, this));\n\t\t\t\t}, this),\n\n\t\t\t\tfunction()\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_insert_video_area').focus();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tinsertVideo: function()\n\t\t{\n\t\t\tvar data = $('#redactor_insert_video_area').val();\n\t\t\tdata = this.stripTags(data);\n\n\t\t\tthis.restoreSelection();\n\t\t\tthis.execCommand('inserthtml', data);\n\t\t\tthis.modalClose();\n\t\t},\n\n\t\t// INSERT IMAGE\n\t\timageEdit: function(e)\n\t\t{\n\t\t\tvar $el = $(e.target);\n\t\t\tvar parent = $el.parent();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\t$('#redactor_file_alt').val($el.attr('alt'));\n\t\t\t\t$('#redactor_image_edit_src').attr('href', $el.attr('src'));\n\t\t\t\t$('#redactor_form_image_align').val($el.css('float'));\n\n\t\t\t\tif ($(parent).get(0).tagName === 'A')\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_file_link').val($(parent).attr('href'));\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_image_delete_btn').click($.proxy(function() { this.imageDelete($el); }, this));\n\t\t\t\t$('#redactorSaveBtn').click($.proxy(function() { this.imageSave($el); }, this));\n\n\t\t\t}, this);\n\n\t\t\tthis.modalInit(RLANG.image, 'image_edit', 380,  handler);\n\n\t\t},\n\t\timageDelete: function(el)\n\t\t{\n\t\t\t$(el).remove();\n\t\t\tthis.modalClose();\n\t\t\tthis.syncCode();\n\t\t},\n\t\timageSave: function(el)\n\t\t{\n\t\t\tvar parent = $(el).parent();\n\n\t\t\t$(el).attr('alt', $('#redactor_file_alt').val());\n\n\t\t\tvar floating = $('#redactor_form_image_align').val();\n\n\t\t\tif (floating === 'left')\n\t\t\t{\n\t\t\t\t$(el).css({ 'float': 'left', margin: '0 10px 10px 0' });\n\t\t\t}\n\t\t\telse if (floating === 'right')\n\t\t\t{\n\t\t\t\t$(el).css({ 'float': 'right', margin: '0 0 10px 10px' });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$(el).css({ 'float': 'none', margin: '0' });\n\t\t\t}\n\n\t\t\t// as link\n\t\t\tvar link = $.trim($('#redactor_file_link').val());\n\t\t\tif (link !== '')\n\t\t\t{\n\t\t\t\tif ($(parent).get(0).tagName !== 'A')\n\t\t\t\t{\n\t\t\t\t\t$(el).replaceWith('<a href=\"' + link + '\">' + this.outerHTML(el) + '</a>');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$(parent).attr('href', link);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif ($(parent).get(0).tagName === 'A')\n\t\t\t\t{\n\t\t\t\t\t$(parent).replaceWith(this.outerHTML(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t\tthis.observeImages();\n\t\t\tthis.syncCode();\n\n\t\t},\n\t\tshowImage: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\t// json\n\t\t\t\tif (this.opts.imageGetJson !== false)\n\t\t\t\t{\n\t\t\t\t\t$.getJSON(this.opts.imageGetJson, $.proxy(function(data) {\n\n\t\t\t\t\t\tvar folders = {};\n\t\t\t\t\t\tvar z = 0;\n\n\t\t\t\t\t\t// folders\n\t\t\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (typeof val.folder !== 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tz++;\n\t\t\t\t\t\t\t\tfolders[val.folder] = z;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}, this));\n\n\t\t\t\t\t\tvar folderclass = false;\n\t\t\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// title\n\t\t\t\t\t\t\tvar thumbtitle = '';\n\t\t\t\t\t\t\tif (typeof val.title !== 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthumbtitle = val.title;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar folderkey = 0;\n\t\t\t\t\t\t\tif (!$.isEmptyObject(folders) && typeof val.folder !== 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfolderkey = folders[val.folder];\n\t\t\t\t\t\t\t\tif (folderclass === false)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfolderclass = '.redactorfolder' + folderkey;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar img = $('<img src=\"' + val.thumb + '\" class=\"redactorfolder redactorfolder' + folderkey + '\" rel=\"' + val.image + '\" title=\"' + thumbtitle + '\" />');\n\t\t\t\t\t\t\t$('#redactor_image_box').append(img);\n\t\t\t\t\t\t\t$(img).click($.proxy(this.imageSetThumb, this));\n\n\n\t\t\t\t\t\t}, this));\n\n\t\t\t\t\t\t// folders\n\t\t\t\t\t\tif (!$.isEmptyObject(folders))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$('.redactorfolder').hide();\n\t\t\t\t\t\t\t$(folderclass).show();\n\n\t\t\t\t\t\t\tvar onchangeFunc = function(e)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$('.redactorfolder').hide();\n\t\t\t\t\t\t\t\t$('.redactorfolder' + $(e.target).val()).show();\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tvar select = $('<select id=\"redactor_image_box_select\">');\n\t\t\t\t\t\t\t$.each(folders, function(k,v)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tselect.append($('<option value=\"' + v + '\">' + k + '</option>'));\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t$('#redactor_image_box').before(select);\n\t\t\t\t\t\t\tselect.change(onchangeFunc);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_tabs a').eq(1).remove();\n\t\t\t\t}\n\n\t\t\t\tif (this.opts.imageUpload !== false)\n\t\t\t\t{\n\n\t\t\t\t\t// dragupload\n\t\t\t\t\tif (this.opts.uploadCrossDomain === false && this.isMobile() === false)\n\t\t\t\t\t{\n\n\t\t\t\t\t\tif ($('#redactor_file').size() !== 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$('#redactor_file').dragupload(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: this.opts.imageUpload,\n\t\t\t\t\t\t\t\tuploadFields: this.opts.uploadFields,\n\t\t\t\t\t\t\t\tsuccess: $.proxy(this.imageUploadCallback, this)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// ajax upload\n\t\t\t\t\tthis.uploadInit('redactor_file', { auto: true, url: this.opts.imageUpload, success: $.proxy(this.imageUploadCallback, this)  });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$('.redactor_tab').hide();\n\t\t\t\t\tif (this.opts.imageGetJson === false)\n\t\t\t\t\t{\n\t\t\t\t\t\t$('#redactor_tabs').remove();\n\t\t\t\t\t\t$('#redactor_tab3').show();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvar tabs = $('#redactor_tabs a');\n\t\t\t\t\t\ttabs.eq(0).remove();\n\t\t\t\t\t\ttabs.eq(1).addClass('redactor_tabs_act');\n\t\t\t\t\t\t$('#redactor_tab2').show();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_upload_btn').click($.proxy(this.imageUploadCallbackLink, this));\n\n\t\t\t}, this);\n\n\t\t\tvar endCallback = $.proxy(function()\n\t\t\t{\n\t\t\t\tif (this.opts.imageUpload === false && this.opts.imageGetJson === false)\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_file_link').focus();\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tthis.modalInit(RLANG.image, 'image', 570, handler, endCallback, true);\n\n\t\t},\n\t\timageSetThumb: function(e)\n\t\t{\n\t\t\tthis._imageSet('<img src=\"' + $(e.target).attr('rel') + '\" alt=\"' + $(e.target).attr('title') + '\" />', true);\n\t\t},\n\t\timageUploadCallbackLink: function()\n\t\t{\n\t\t\tif ($('#redactor_file_link').val() !== '')\n\t\t\t{\n\t\t\t\tvar data = '<img src=\"' + $('#redactor_file_link').val() + '\" />';\n\t\t\t\tthis._imageSet(data, true);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.modalClose();\n\t\t\t}\n\t\t},\n\t\timageUploadCallback: function(data)\n\t\t{\n\t\t\tthis._imageSet(data);\n\t\t},\n\t\t_imageSet: function(json, link)\n\t\t{\n\t\t\tthis.restoreSelection();\n\n\t\t\tif (json !== false)\n\t\t\t{\n\t\t\t\tvar html = '', data = '';\n\t\t\t\tif (link !== true)\n\t\t\t\t{\n\t\t\t\t\tdata = $.parseJSON(json);\n\t\t\t\t\thtml = '<p><img src=\"' + data.filelink + '\" /></p>';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thtml = json;\n\t\t\t\t}\n\n\t\t\t\tthis.execCommand('inserthtml', html);\n\n\t\t\t\t// upload image callback\n\t\t\t\tif (link !== true && typeof this.opts.imageUploadCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.imageUploadCallback(this, data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t\tthis.observeImages();\n\t\t},\n\n\t\t// INSERT LINK\n\t\tshowLink: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\tthis.insert_link_node = false;\n\t\t\t\tvar sel = this.getSelection();\n\t\t\t\tvar url = '', text = '', target = '';\n\n\t\t\t\tif ($.browser.msie)\n\t\t\t\t{\n\t\t\t\t\tvar parent = this.getParentNode();\n\t\t\t\t\tif (parent.nodeName === 'A')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.insert_link_node = $(parent);\n\t\t\t\t\t\ttext = this.insert_link_node.text();\n\t\t\t\t\t\turl = this.insert_link_node.attr('href');\n\t\t\t\t\t\ttarget = this.insert_link_node.attr('target');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (this.oldIE())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext = sel.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext = sel.toString();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (sel && sel.anchorNode && sel.anchorNode.parentNode.tagName === 'A')\n\t\t\t\t\t{\n\t\t\t\t\t\turl = sel.anchorNode.parentNode.href;\n\t\t\t\t\t\ttext = sel.anchorNode.parentNode.text;\n\t\t\t\t\t\ttarget = sel.anchorNode.parentNode.target;\n\n\t\t\t\t\t\tif (sel.toString() === '')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.insert_link_node = sel.anchorNode.parentNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttext = sel.toString();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$('.redactor_link_text').val(text);\n\n\t\t\t\tvar turl = url.replace(self.location.href, '');\n\n\t\t\t\tif (url.search('mailto:') === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.setModalTab(2);\n\n\t\t\t\t\t$('#redactor_tab_selected').val(2);\n\t\t\t\t\t$('#redactor_link_mailto').val(url.replace('mailto:', ''));\n\t\t\t\t}\n\t\t\t\telse if (turl.search(/^#/gi) === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.setModalTab(3);\n\n\t\t\t\t\t$('#redactor_tab_selected').val(3);\n\t\t\t\t\t$('#redactor_link_anchor').val(turl.replace(/^#/gi, ''));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_link_url').val(url);\n\t\t\t\t}\n\n\t\t\t\tif (target === '_blank')\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_link_blank').attr('checked', true);\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_insert_link_btn').click($.proxy(this.insertLink, this));\n\n\n\t\t\t}, this);\n\n\t\t\tvar endCallback = function(url)\n\t\t\t{\n\t\t\t\t$('#redactor_link_url').focus();\n\t\t\t};\n\n\n\t\t\tthis.modalInit(RLANG.link, 'link', 460, handler, endCallback);\n\n\t\t},\n\t\tinsertLink: function()\n\t\t{\n\t\t\tvar tab_selected = $('#redactor_tab_selected').val();\n\t\t\tvar link = '', text = '', target = '';\n\n\t\t\tif (tab_selected === '1') // url\n\t\t\t{\n\t\t\t\tlink = $('#redactor_link_url').val();\n\t\t\t\ttext = $('#redactor_link_url_text').val();\n\n\t\t\t\tif ($('#redactor_link_blank').attr('checked'))\n\t\t\t\t{\n\t\t\t\t\ttarget = '_blank';\n\t\t\t\t}\n\n\t\t\t\t// test http\n\t\t\t\tvar re = new RegExp('^https?://', 'i');\n\t\t\t\tif (link.search(re) == -1 && link.indexOf('mailto:') !== 0)\n\t\t\t\t{\n\t\t\t\t\tlink = this.opts.protocol + link;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (tab_selected === '2') // mailto\n\t\t\t{\n\t\t\t\tlink = 'mailto:' + $('#redactor_link_mailto').val();\n\t\t\t\ttext = $('#redactor_link_mailto_text').val();\n\t\t\t}\n\t\t\telse if (tab_selected === '3') // anchor\n\t\t\t{\n\t\t\t\tlink = '#' + $('#redactor_link_anchor').val();\n\t\t\t\ttext = $('#redactor_link_anchor_text').val();\n\t\t\t}\n\n\t\t\tthis._insertLink('<a href=\"' + link + '\" target=\"' + target + '\">' +  text + '</a>&nbsp;', $.trim(text), link, target);\n\n\t\t},\n\t\t_insertLink: function(a, text, link, target)\n\t\t{\n\t\t\tthis.$editor.focus();\n\t\t\tthis.restoreSelection();\n\n\t\t\tif (text !== '')\n\t\t\t{\n\t\t\t\tif (this.insert_link_node)\n\t\t\t\t{\n\t\t\t\t\t$(this.insert_link_node).text(text);\n\t\t\t\t\t$(this.insert_link_node).attr('href', link);\n\t\t\t\t\tif (target !== '')\n\t\t\t\t\t{\n\t\t\t\t\t\t$(this.insert_link_node).attr('target', target);\n\t\t\t\t\t}\n\t\t\t\t\tthis.syncCode();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.execCommand('inserthtml', a);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t},\n\n\t\t// INSERT FILE\n\t\tshowFile: function()\n\t\t{\n\t\t\tthis.saveSelection();\n\n\t\t\tvar handler = $.proxy(function()\n\t\t\t{\n\t\t\t\tvar sel = this.getSelection();\n\n\t\t\t\tvar text = '';\n\n\t\t\t\tif (this.oldIE())\n\t\t\t\t{\n\t\t\t\t\ttext = sel.text;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttext = sel.toString();\n\t\t\t\t}\n\n\t\t\t\t$('#redactor_filename').val(text);\n\n\t\t\t\t// dragupload\n\t\t\t\tif (this.opts.uploadCrossDomain === false && this.isMobile() === false)\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_file').dragupload(\n\t\t\t\t\t{\n\t\t\t\t\t\turl: this.opts.fileUpload,\n\t\t\t\t\t\tuploadFields: this.opts.uploadFields,\n\t\t\t\t\t\tsuccess: $.proxy(function(data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.fileUploadCallback(data);\n\t\t\t\t\t\t}, this)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.uploadInit('redactor_file', { auto: true, url: this.opts.fileUpload, success: $.proxy(function(data) {\n\n\t\t\t\t\tthis.fileUploadCallback(data);\n\n\t\t\t\t}, this)});\n\n\t\t\t}, this);\n\n\t\t\tthis.modalInit(RLANG.file, 'file', 500, handler);\n\t\t},\n\t\tfileUploadCallback: function(json)\n\t\t{\n\t\t\tthis.restoreSelection();\n\n\t\t\tif (json !== false)\n\t\t\t{\n\t\t\t\tvar data = $.parseJSON(json);\n\t\t\t\tvar text = $('#redactor_filename').val();\n\n\t\t\t\tif (text === '')\n\t\t\t\t{\n\t\t\t\t\ttext = data.filename;\n\t\t\t\t}\n\n\t\t\t\tvar link = '<a href=\"' + data.filelink + '\">' + text + '</a>';\n\n\t\t\t\t// chrome fix\n\t\t\t\tif ($.browser.webkit && !!window.chrome)\n\t\t\t\t{\n\t\t\t\t\tlink = link + '&nbsp;';\n\t\t\t\t}\n\n\t\t\t\tthis.execCommand('inserthtml', link);\n\n\t\t\t\t// file upload callback\n\t\t\t\tif (typeof this.opts.fileUploadCallback === 'function')\n\t\t\t\t{\n\t\t\t\t\tthis.opts.fileUploadCallback(this, data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modalClose();\n\t\t},\n\n\n\n\t\t// MODAL\n\t\tmodalInit: function(title, url, width, handler, endCallback)\n\t\t{\n\t\t\t// modal overlay\n\t\t\tif ($('#redactor_modal_overlay').size() === 0)\n\t\t\t{\n\t\t\t\tthis.overlay = $('<div id=\"redactor_modal_overlay\" style=\"display: none;\"></div>');\n\t\t\t\t$('body').prepend(this.overlay);\n\t\t\t}\n\n\t\t\tif (this.opts.overlay)\n\t\t\t{\n\t\t\t\t$('#redactor_modal_overlay').show();\n\t\t\t\t$('#redactor_modal_overlay').click($.proxy(this.modalClose, this));\n\t\t\t}\n\n\t\t\tif ($('#redactor_modal').size() === 0)\n\t\t\t{\n\t\t\t\tthis.modal = $('<div id=\"redactor_modal\" style=\"display: none;\"><div id=\"redactor_modal_close\">&times;</div><div id=\"redactor_modal_header\"></div><div id=\"redactor_modal_inner\"></div></div>');\n\t\t\t\t$('body').append(this.modal);\n\t\t\t}\n\n\t\t\t$('#redactor_modal_close').click($.proxy(this.modalClose, this));\n\n\t\t\tthis.hdlModalClose = $.proxy(function(e) { if ( e.keyCode === 27) { this.modalClose(); } }, this);\n\n\t\t\t$(document).keyup(this.hdlModalClose);\n\t\t\tthis.$editor.keyup(this.hdlModalClose);\n\n\t\t\t$('#redactor_modal_inner').html(this.opts['modal_' + url]);\n\t\t\t$('#redactor_modal_header').html(title);\n\n\t\t\t// tabs\n\t\t\tif ($('#redactor_tabs').size() !== 0)\n\t\t\t{\n\t\t\t\tvar that = this;\n\t\t\t\t$('#redactor_tabs a').each(function(i,s)\n\t\t\t\t{\n\t\t\t\t\ti++;\n\t\t\t\t\t$(s).click(function()\n\t\t\t\t\t{\n\t\t\t\t\t\t$('#redactor_tabs a').removeClass('redactor_tabs_act');\n\t\t\t\t\t\t$(this).addClass('redactor_tabs_act');\n\t\t\t\t\t\t$('.redactor_tab').hide();\n\t\t\t\t\t\t$('#redactor_tab' + i).show();\n\t\t\t\t\t\t$('#redactor_tab_selected').val(i);\n\n\t\t\t\t\t\tif (that.isMobile() === false)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar height = $('#redactor_modal').outerHeight();\n\t\t\t\t\t\t\t$('#redactor_modal').css('margin-top', '-' + (height+10)/2 + 'px');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#redactor_btn_modal_close').click($.proxy(this.modalClose, this));\n\n\t\t\t// callback\n\t\t\tif (typeof(handler) === 'function')\n\t\t\t{\n\t\t\t\thandler();\n\t\t\t}\n\n\t\t\t// setup\n\t\t\tvar height = $('#redactor_modal').outerHeight();\n\n\t\t\tif (this.isMobile() === false)\n\t\t\t{\n\t\t\t\t$('#redactor_modal').css({ position: 'fixed', top: '50%', left: '50%', width: width + 'px', height: 'auto', minHeight: 'auto', marginTop: '-' + (height+10)/2 + 'px', marginLeft: '-' + (width+60)/2 + 'px' }).fadeIn('fast');\n\n\t\t\t\tthis.modalSaveBodyOveflow = $(document.body).css('overflow');\n\t\t\t\t$(document.body).css('overflow', 'hidden');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('#redactor_modal').css({ position: 'fixed', width: '100%', height: '100%', top: '0', left: '0', margin: '0', minHeight: '300px' }).show();\n\t\t\t}\n\n\t\t\t// end callback\n\t\t\tif (typeof(endCallback) === 'function')\n\t\t\t{\n\t\t\t\tendCallback();\n\t\t\t}\n\n\t\t},\n\t\tmodalClose: function()\n\t\t{\n\n\t\t\t$('#redactor_modal_close').unbind('click', this.modalClose);\n\t\t\t$('#redactor_modal').fadeOut('fast', $.proxy(function()\n\t\t\t{\n\t\t\t\t$('#redactor_modal_inner').html('');\n\n\t\t\t\tif (this.opts.overlay)\n\t\t\t\t{\n\t\t\t\t\t$('#redactor_modal_overlay').hide();\n\t\t\t\t\t$('#redactor_modal_overlay').unbind('click', this.modalClose);\n\t\t\t\t}\n\n\t\t\t\t$(document).unbind('keyup', this.hdlModalClose);\n\t\t\t\tthis.$editor.unbind('keyup', this.hdlModalClose);\n\n\t\t\t}, this));\n\n\t\t\tif (this.isMobile() === false)\n\t\t\t{\n\t\t\t\t$(document.body).css('overflow', this.modalSaveBodyOveflow);\n\t\t\t}\n\n\t\t},\n\t\tsetModalTab: function(num)\n\t\t{\n\t\t\t$('.redactor_tab').hide();\n\t\t\tvar tabs = $('#redactor_tabs a');\n\t\t\ttabs.removeClass('redactor_tabs_act');\n\t\t\ttabs.eq(num-1).addClass('redactor_tabs_act');\n\t\t\t$('#redactor_tab' + num).show();\n\t\t},\n\n\t\t// UPLOAD\n\t\tuploadInit: function(element, options)\n\t\t{\n\t\t\t// Upload Options\n\t\t\tthis.uploadOptions = {\n\t\t\t\turl: false,\n\t\t\t\tsuccess: false,\n\t\t\t\tstart: false,\n\t\t\t\ttrigger: false,\n\t\t\t\tauto: false,\n\t\t\t\tinput: false\n\t\t\t};\n\n\t\t\t$.extend(this.uploadOptions, options);\n\n\t\t\t// Test input or form\n\t\t\tif ($('#' + element).size() !== 0 && $('#' + element).get(0).tagName === 'INPUT')\n\t\t\t{\n\t\t\t\tthis.uploadOptions.input = $('#' + element);\n\t\t\t\tthis.element = $($('#' + element).get(0).form);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.element = $('#' + element);\n\t\t\t}\n\n\t\t\tthis.element_action = this.element.attr('action');\n\n\t\t\t// Auto or trigger\n\t\t\tif (this.uploadOptions.auto)\n\t\t\t{\n\t\t\t\t$(this.uploadOptions.input).change($.proxy(function()\n\t\t\t\t{\n\t\t\t\t\tthis.element.submit(function(e) { return false; });\n\t\t\t\t\tthis.uploadSubmit();\n\t\t\t\t}, this));\n\n\t\t\t}\n\t\t\telse if (this.uploadOptions.trigger)\n\t\t\t{\n\t\t\t\t$('#' + this.uploadOptions.trigger).click($.proxy(this.uploadSubmit, this));\n\t\t\t}\n\t\t},\n\t\tuploadSubmit : function()\n\t\t{\n\t\t\tthis.uploadForm(this.element, this.uploadFrame());\n\t\t},\n\t\tuploadFrame : function()\n\t\t{\n\t\t\tthis.id = 'f' + Math.floor(Math.random() * 99999);\n\n\t\t\tvar d = document.createElement('div');\n\t\t\tvar iframe = '<iframe style=\"display:none\" id=\"'+this.id+'\" name=\"'+this.id+'\"></iframe>';\n\t\t\td.innerHTML = iframe;\n\t\t\tdocument.body.appendChild(d);\n\n\t\t\t// Start\n\t\t\tif (this.uploadOptions.start)\n\t\t\t{\n\t\t\t\tthis.uploadOptions.start();\n\t\t\t}\n\n\t\t\t$('#' + this.id).load($.proxy(this.uploadLoaded, this));\n\n\t\t\treturn this.id;\n\t\t},\n\t\tuploadForm : function(f, name)\n\t\t{\n\t\t\tif (this.uploadOptions.input)\n\t\t\t{\n\t\t\t\tvar formId = 'redactorUploadForm' + this.id;\n\t\t\t\tvar fileId = 'redactorUploadFile' + this.id;\n\t\t\t\tthis.form = $('<form  action=\"' + this.uploadOptions.url + '\" method=\"POST\" target=\"' + name + '\" name=\"' + formId + '\" id=\"' + formId + '\" enctype=\"multipart/form-data\"></form>');\n\n\t\t\t\t// append hidden fields\n\t\t\t\tif (this.opts.uploadFields !== false && typeof this.opts.uploadFields === 'object')\n\t\t\t\t{\n\t\t\t\t\t$.each(this.opts.uploadFields, $.proxy(function(k,v)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (v.indexOf('#') === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tv = $(v).val();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar hidden = $('<input type=\"hidden\" name=\"' + k + '\" value=\"' + v + '\">');\n\t\t\t\t\t\t$(this.form).append(hidden);\n\n\t\t\t\t\t}, this));\n\t\t\t\t}\n\n\t\t\t\tvar oldElement = this.uploadOptions.input;\n\t\t\t\tvar newElement = $(oldElement).clone();\n\t\t\t\t$(oldElement).attr('id', fileId);\n\t\t\t\t$(oldElement).before(newElement);\n\t\t\t\t$(oldElement).appendTo(this.form);\n\t\t\t\t$(this.form).css('position', 'absolute');\n\t\t\t\t$(this.form).css('top', '-2000px');\n\t\t\t\t$(this.form).css('left', '-2000px');\n\t\t\t\t$(this.form).appendTo('body');\n\n\t\t\t\tthis.form.submit();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tf.attr('target', name);\n\t\t\t\tf.attr('method', 'POST');\n\t\t\t\tf.attr('enctype', 'multipart/form-data');\n\t\t\t\tf.attr('action', this.uploadOptions.url);\n\n\t\t\t\tthis.element.submit();\n\t\t\t}\n\n\t\t},\n\t\tuploadLoaded : function()\n\t\t{\n\t\t\tvar i = $('#' + this.id);\n\t\t\tvar d;\n\n\t\t\tif (i.contentDocument)\n\t\t\t{\n\t\t\t\td = i.contentDocument;\n\t\t\t}\n\t\t\telse if (i.contentWindow)\n\t\t\t{\n\t\t\t\td = i.contentWindow.document;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\td = window.frames[this.id].document;\n\t\t\t}\n\n\t\t\t// Success\n\t\t\tif (this.uploadOptions.success)\n\t\t\t{\n\t\t\t\tif (typeof d !== 'undefined')\n\t\t\t\t{\n\t\t\t\t\t// Remove bizarre <pre> tag wrappers around our json data:\n\t\t\t\t\tvar rawString = d.body.innerHTML;\n\t\t\t\t\tvar jsonString = rawString.match(/\\{.*\\}/)[0];\n\t\t\t\t\tthis.uploadOptions.success(jsonString);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\talert('Upload failed!');\n\t\t\t\t\tthis.uploadOptions.success(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.element.attr('action', this.element_action);\n\t\t\tthis.element.attr('target', '');\n\n\t\t},\n\n\t\t// UTILITY\n\t\toldIE: function()\n\t\t{\n\t\t\tif ($.browser.msie && parseInt($.browser.version, 10) < 9)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\touterHTML: function(s)\n\t\t{\n\t\t\treturn $(\"<p>\").append($(s).eq(0).clone()).html();\n\t\t},\n\t\tnormalize: function(str)\n\t\t{\n\t\t\treturn parseInt(str.replace('px',''), 10);\n\t\t},\n\t\tisMobile: function(ipad)\n\t\t{\n\t\t\tif (ipad === true && /(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t};\n\n\n\t// API\n\t$.fn.getEditor = function()\n\t{\n\t\treturn this.data('redactor').$editor;\n\t};\n\n\t$.fn.getCode = function()\n\t{\n\t\treturn this.data('redactor').getCode();\n\t};\n\n\t$.fn.getText = function()\n\t{\n\t\treturn this.data('redactor').$editor.text();\n\t};\n\n\t$.fn.getSelected = function()\n\t{\n\t\treturn this.data('redactor').getSelectedHtml();\n\t};\n\n\t$.fn.setCode = function(html)\n\t{\n\t\tthis.data('redactor').setCode(html);\n\t};\n\n\t$.fn.insertHtml = function(html)\n\t{\n\t\tthis.data('redactor').insertHtml(html);\n\t};\n\n\t$.fn.destroyEditor = function()\n\t{\n\t\tthis.data('redactor').destroy();\n\t\tthis.removeData('redactor');\n\t};\n\n\t$.fn.setFocus = function()\n\t{\n\t\tthis.data('redactor').$editor.focus();\n\t};\n\n\t$.fn.execCommand = function(cmd, param)\n\t{\n\t\tthis.data('redactor').execCommand(cmd, param);\n\t};\n\n})(jQuery);\n\n/*\n\tPlugin Drag and drop Upload v1.0.2\n\thttp://imperavi.com/\n\tCopyright 2012, Imperavi Inc.\n*/\n(function($){\n\n\t\"use strict\";\n\n\t// Initialization\n\t$.fn.dragupload = function(options)\n\t{\n\t\treturn this.each(function() {\n\t\t\tvar obj = new Construct(this, options);\n\t\t\tobj.init();\n\t\t});\n\t};\n\n\t// Options and variables\n\tfunction Construct(el, options) {\n\n\t\tthis.opts = $.extend({\n\n\t\t\turl: false,\n\t\t\tsuccess: false,\n\t\t\tpreview: false,\n\t\t\tuploadFields: false,\n\n\t\t\ttext: RLANG.drop_file_here,\n\t\t\tatext: RLANG.or_choose\n\n\t\t}, options);\n\n\t\tthis.$el = $(el);\n\t}\n\n\t// Functionality\n\tConstruct.prototype = {\n\t\tinit: function()\n\t\t{\n\t\t\tif (!$.browser.msie)\n\t\t\t{\n\t\t\t\tthis.droparea = $('<div class=\"redactor_droparea\"></div>');\n\t\t\t\tthis.dropareabox = $('<div class=\"redactor_dropareabox\">' + this.opts.text + '</div>');\n\t\t\t\tthis.dropalternative = $('<div class=\"redactor_dropalternative\">' + this.opts.atext + '</div>');\n\n\t\t\t\tthis.droparea.append(this.dropareabox);\n\n\t\t\t\tthis.$el.before(this.droparea);\n\t\t\t\tthis.$el.before(this.dropalternative);\n\n\t\t\t\t// drag over\n\t\t\t\tthis.dropareabox.bind('dragover', $.proxy(function() { return this.ondrag(); }, this));\n\n\t\t\t\t// drag leave\n\t\t\t\tthis.dropareabox.bind('dragleave', $.proxy(function() { return this.ondragleave(); }, this));\n\n\t\t\t\tvar uploadProgress = $.proxy(function(e)\n\t\t\t\t{\n\t\t\t\t\tvar percent = parseInt(e.loaded / e.total * 100, 10);\n\t\t\t\t\tthis.dropareabox.text('Loading ' + percent + '%');\n\n\t\t\t\t}, this);\n\n\t\t\t\tvar xhr = jQuery.ajaxSettings.xhr();\n\n\t\t\t\tif (xhr.upload)\n\t\t\t\t{\n\t\t\t\t\txhr.upload.addEventListener('progress', uploadProgress, false);\n\t\t\t\t}\n\n\t\t\t\tvar provider = function () { return xhr; };\n\n\t\t\t\t// drop\n\t\t\t\tthis.dropareabox.get(0).ondrop = $.proxy(function(event)\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tthis.dropareabox.removeClass('hover').addClass('drop');\n\n\t\t\t\t\tvar file = event.dataTransfer.files[0];\n\t\t\t\t\tvar fd = new FormData();\n\n\t\t\t\t\t// append hidden fields\n\t\t\t\t\tif (this.opts.uploadFields !== false && typeof this.opts.uploadFields === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\t$.each(this.opts.uploadFields, $.proxy(function(k,v)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (v.indexOf('#') === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tv = $(v).val();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfd.append(k, v);\n\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t}\n\n\t\t\t\t\t// append file data\n\t\t\t\t\tfd.append('file', file);\n\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\turl: this.opts.url,\n\t\t\t\t\t\tdata: fd,\n\t\t\t\t\t\txhr: provider,\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tcontentType: false,\n\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tsuccess: $.proxy(function(data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (this.opts.success !== false)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.opts.success(data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.opts.preview === true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.dropareabox.html(data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}, this)\n\t\t\t\t\t});\n\n\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\t\tondrag: function()\n\t\t{\n\t\t\tthis.dropareabox.addClass('hover');\n\t\t\treturn false;\n\t\t},\n\t\tondragleave: function()\n\t\t{\n\t\t\tthis.dropareabox.removeClass('hover');\n\t\t\treturn false;\n\t\t}\n\t};\n\n})(jQuery);\n\n\n// Define: Linkify plugin from stackoverflow\n(function($){\n\n\t\"use strict\";\n\n\tvar protocol = 'http://';\n\tvar url1 = /(^|&lt;|\\s)(www\\..+?\\..+?)(\\s|&gt;|$)/g,\n\turl2 = /(^|&lt;|\\s)(((https?|ftp):\\/\\/|mailto:).+?)(\\s|&gt;|$)/g,\n\n\t\tlinkifyThis = function ()\n\t\t{\n\t\t\tvar childNodes = this.childNodes,\n\t\t\ti = childNodes.length;\n\t\t\twhile(i--)\n\t\t\t{\n\t\t\t\tvar n = childNodes[i];\n\t\t\t\tif (n.nodeType === 3)\n\t\t\t\t{\n\t\t\t\t\tvar html = n.nodeValue;\n\t\t\t\t\tif (html)\n\t\t\t\t\t{\n\t\t\t\t\t\thtml = html.replace(/&/g, '&amp;')\n\t\t\t\t\t\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t\t\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t\t\t\t\t\t.replace(url1, '$1<a href=\"' + protocol + '$2\">$2</a>$3')\n\t\t\t\t\t\t\t\t\t.replace(url2, '$1<a href=\"$2\">$2</a>$5');\n\n\t\t\t\t\t\t$(n).after(html).remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (n.nodeType === 1  &&  !/^(a|button|textarea)$/i.test(n.tagName))\n\t\t\t\t{\n\t\t\t\t\tlinkifyThis.call(n);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t$.fn.linkify = function ()\n\t{\n\t\tthis.each(linkifyThis);\n\t};\n\n})(jQuery);\n\n\n\n\n/* jQuery plugin textselect\n * version: 0.9\n * author: Josef Moravec, josef.moravec@gmail.com\n * updated: Imperavi Inc.\n *\n */\n(function($){$.event.special.textselect={setup:function(data,namespaces){$(this).data(\"textselected\",false);$(this).data(\"ttt\",data);$(this).bind('mouseup',$.event.special.textselect.handler)},teardown:function(data){$(this).unbind('mouseup',$.event.special.textselect.handler)},handler:function(event){var data=$(this).data(\"ttt\");var text=$.event.special.textselect.getSelectedText(data).toString();if(text!=''){$(this).data(\"textselected\",true);event.type=\"textselect\";event.text=text;$.event.handle.apply(this,arguments)}},getSelectedText:function(data){var text='';if(window.getSelection)text=window.getSelection();else if(document.getSelection){text=document.getSelection();}else if(document.selection){text=document.selection.createRange().text;}return text}};$.event.special.textunselect={setup:function(data,namespaces){$(this).data(\"rttt\",data);$(this).data(\"textselected\",false);$(this).bind('mouseup',$.event.special.textunselect.handler);$(this).bind('keyup',$.event.special.textunselect.handlerKey)},teardown:function(data){$(this).unbind('mouseup',$.event.special.textunselect.handler)},handler:function(event){if($(this).data(\"textselected\")){var data=$(this).data(\"rttt\");var text=$.event.special.textselect.getSelectedText(data).toString();if(text==''){$(this).data(\"textselected\",false);event.type=\"textunselect\";$.event.handle.apply(this,arguments)}}},handlerKey:function(event){if($(this).data(\"textselected\")){var data=$(this).data(\"rttt\");var text=$.event.special.textselect.getSelectedText(data).toString();if((event.keyCode=27)&&(text=='')){$(this).data(\"textselected\",false);event.type=\"textunselect\";$.event.handle.apply(this,arguments)}}}}})(jQuery);","/*\n    Spectrum: The No Hassle Colorpicker\n    https://github.com/bgrins/spectrum\n    Author: Brian Grinstead\n    License: MIT\n    Requires: jQuery, spectrum.css\n*/\n\n(function(window, $, undefined) {\n    var defaultOpts = {\n        color: false,\n        flat: false,\n        showInput: false,\n        showButtons: false,\n        changeOnMove: true,\n        showInitial: false,\n        beforeShow: noop,\n        move: noop,\n        change: noop,\n        show: noop,\n        hide: noop,\n        showPalette: false,\n        showPaletteOnly: false,\n        addSelectionToPalette: true,\n        maxPaletteSize: 7,\n        theme: 'sp-dark',\n        palette: ['fff', '000']\n    },\n    spectrums = [],\n    IE = $.browser.msie,\n    replaceInput = [\n        \"<div class='sp-replacer sp-cf'>\",\n            \"<div class='sp-preview'></div>\",\n            \"<div class='sp-dd'>&#9660;</div>\",\n        \"</div>\"\n    ].join(''),\n    markup = (function() {\n\n        // IE does not support gradients with multiple stops, so we need to simulate\n        //  that for the rainbow slider with 8 divs that each have a single gradient\n        var gradientFix = \"\";\n        if (IE) {\n            for (var i = 1; i <= 6; i++) {\n                gradientFix += \"<div class='sp-\" + i + \"'></div>\";\n            }\n        }\n\n        return [\n            \"<div class='sp-container'>\",\n                \"<div class='sp-top sp-cf'>\",\n                    \"<div class='sp-fill'></div>\",\n                    \"<div class='sp-top-inner'>\",\n                        \"<div class='sp-color'>\",\n                            \"<div class='sp-sat'>\",\n                                \"<div class='sp-val'>\",\n                                    \"<div class='sp-dragger'></div>\",\n                                \"</div>\",\n                            \"</div>\",\n                        \"</div>\",\n                        \"<div class='sp-hue'>\",\n                            \"<div class='sp-slider'></div>\",\n                            gradientFix,\n                        \"</div>\",\n                    \"</div>\",\n                \"</div>\",\n                \"<div class='sp-initial sp-thumb sp-cf'></div>\",\n                \"<div class='sp-palette sp-thumb sp-cf'></div>\",\n                \"<div class='sp-input-container sp-cf'>\",\n                    \"<input class='sp-input' type='text' spellcheck='false'  />\",\n                    \"<div>\",\n                        \"<button class='sp-cancel sp-hide-small'>Cancel</button>\",\n                        \"<button class='sp-choose sp-hide-small'>Choose</button>\",\n                        \"<button class='sp-cancel sp-show-small'>X</button>\",\n                        \"<button class='sp-choose sp-show-small'></button>\",\n                    \"</div>\",\n                \"</div>\",\n            \"</div>\"\n        ].join(\"\");\n    })(),\n    paletteTemplate = function(p, active) {\n        var html = [];\n        for (var i = 0; i < p.length; i++) {\n            var c = i == active ? \" class='sp-thumb-active' \" : \"\";\n            html.push('<span title=\"' + tinycolor(p[i]).toHexString() + '\" style=\"background-color:' + tinycolor(p[i]).toHexString() + ';\"' + c + '></span>');\n        }\n        return html.join('');\n    };\n\n    function hideAll() {\n        for (var i = 0; i < spectrums.length; i++) {\n            if (spectrums[i]) {\n                spectrums[i].hide();\n            }\n        }\n    }\n    function instanceOptions(o, callbackContext) {\n        var opts = $.extend({ }, defaultOpts, o);\n        opts.callbacks = {\n            'move': bind(opts.move, callbackContext),\n            'change': bind(opts.change, callbackContext),\n            'show': bind(opts.show, callbackContext),\n            'hide': bind(opts.hide, callbackContext),\n            'beforeShow': bind(opts.beforeShow, callbackContext)\n        };\n\n        return opts;\n    }\n\n    function spectrum(element, o) {\n\n        var opts = instanceOptions(o, element),\n            flat = opts.flat,\n            showPaletteOnly = opts.showPaletteOnly,\n            showPalette = opts.showPalette || showPaletteOnly,\n            showInitial = opts.showInitial && !flat,\n            addSelectionToPalette = opts.addSelectionToPalette,\n            theme = opts.theme,\n            callbacks = opts.callbacks,\n            resize = throttle(reflow, 10),\n            visible = false,\n            dragWidth = 0,\n            dragHeight = 0,\n            dragHelperHeight = 0,\n            slideHeight = 0,\n            slideWidth = 0,\n            slideHelperHeight = 0,\n            currentHue = 0,\n            currentSaturation = 0,\n            currentValue = 0,\n            palette = opts.palette.slice(0),\n            draggingClass = \"sp-dragging\",\n            paletteLookup = { };\n\n        var doc = element.ownerDocument,\n            body = doc.body,\n            boundElement = $(element),\n            container = $(markup, doc).addClass(theme),\n            dragger = container.find(\".sp-color\"),\n            dragHelper = container.find(\".sp-dragger\"),\n            slider = container.find(\".sp-hue\"),\n            slideHelper = container.find(\".sp-slider\"),\n            textInput = container.find(\".sp-input\"),\n            paletteContainer = container.find(\".sp-palette\"),\n            initialColorContainer = container.find(\".sp-initial\"),\n            cancelButton = container.find(\".sp-cancel\"),\n            chooseButton = container.find(\".sp-choose\"),\n            isInput = boundElement.is(\"input\"),\n            changeOnMove = (opts.changeOnMove || flat),\n            shouldReplace = isInput && !flat,\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme) : $([]),\n            offsetElement = (shouldReplace) ? replacer : boundElement,\n            previewElement = replacer.find(\".sp-preview\"),\n            initialColor = opts.color || (isInput && boundElement.val()),\n            colorOnShow = false,\n            isInitialized = false;\n\n        function initialize() {\n\n            if (IE) {\n                container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\n            }\n\n            container.toggleClass(\"sp-flat\", flat);\n            container.toggleClass(\"sp-input-disabled\", !opts.showInput);\n            container.toggleClass(\"sp-buttons-disabled\", !opts.showButtons);\n            container.toggleClass(\"sp-palette-disabled\", !showPalette);\n            container.toggleClass(\"sp-palette-only\", showPaletteOnly);\n            container.toggleClass(\"sp-initial-disabled\", !showInitial);\n\n            if (shouldReplace) {\n                boundElement.hide().after(replacer);\n            }\n\n            if (flat) {\n                boundElement.after(container).hide();\n            }\n            else {\n                $(body).append(container.hide());\n            }\n\n            offsetElement.bind(\"click.spectrum touchstart.spectrum\", function(e) {\n                toggle();\n\n                e.stopPropagation();\n\n                if (!$(e.target).is(\"input\")) {\n                    e.preventDefault();\n                }\n            });\n\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\n            container.click(stopPropagation);\n\n            // Handle user typed input\n            textInput.change(setFromTextInput);\n            textInput.keydown(function(e) { if (e.keyCode == 13) { setFromTextInput(); } } );\n\n            cancelButton.bind(\"click touchstart\", function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n                cancel();\n                hide();\n            });\n\n            chooseButton.bind(\"click touchstart\", function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n                hide();\n            });\n\n            draggable(slider, function(dragX, dragY) {\n                currentHue = (dragY / slideHeight);\n                move();\n            }, dragStart, dragStop);\n\n            draggable(dragger, function(dragX, dragY) {\n                currentSaturation = dragX / dragWidth;\n                currentValue = (dragHeight - dragY) / dragHeight;\n                move();\n            }, dragStart, dragStop);\n\n            if (!!initialColor) {\n                set(initialColor);\n                if (addSelectionToPalette) {\n                    palette.push(initialColor);\n                }\n            }\n\n            setPalette(palette);\n\n            if (flat) {\n                show();\n            }\n\n            function palletElementClick(e) {\n                set($(this).css(\"background-color\"));\n                e.stopPropagation();\n            }\n            paletteContainer.delegate(\"span\", \"click touchstart\", palletElementClick);\n            initialColorContainer.delegate(\"span\", \"click touchstart\", palletElementClick);\n\n            isInitialized = true;\n        }\n\n        function setPalette(p) {\n            if (showPalette) {\n                var unique = [];\n                paletteLookup = { };\n                for (var i = 0; i < p.length; i++) {\n                    var hex = tinycolor(p[i]).toHexString();\n                    if (!paletteLookup.hasOwnProperty(hex)) {\n                        paletteLookup[hex] = unique.push(p[i]) - 1;\n                    }\n                }\n                palette = unique.slice(0, opts.maxPaletteSize);\n                drawPalette();\n            }\n        }\n        function drawPalette(active) {\n            paletteContainer.html(paletteTemplate(palette, active));\n        }\n        function drawInitial() {\n            if (showInitial) {\n                var initial = colorOnShow;\n                var current = get();\n                var activeIndex = 0;\n                if (!tinycolor.equals(initial, current)) {\n                    activeIndex = 1;\n                }\n                initialColorContainer.html(paletteTemplate([initial, current], activeIndex));\n            }\n        }\n        function dragStart() {\n            if (dragHeight === 0 || dragWidth === 0 || slideHeight === 0) {\n                reflow();\n            }\n            container.addClass(draggingClass);\n        }\n        function dragStop() {\n          container.removeClass(draggingClass);\n        }\n        function setFromTextInput() {\n            set(textInput.val());\n        }\n\n        function toggle() {\n            (visible) ? hide() : show();\n        }\n\n        function show() {\n            if (visible) { return; }\n            if (callbacks.beforeShow(get()) === false) return;\n\n            hideAll();\n            visible = true;\n\n            $(doc).bind(\"click touchstart\", hide);\n            $(window).bind(\"resize\", resize);\n            replacer.addClass(\"sp-active\");\n            container.show();\n\n            reflow();\n            updateUI();\n\n            colorOnShow = get();\n            drawInitial();\n            callbacks.show(get());\n        }\n\n        function cancel() {\n            set(colorOnShow);\n        }\n\n        function hide() {\n            if (!visible || flat) { return; }\n            visible = false;\n\n            $(doc).unbind(\"click touchstart\", hide);\n            $(window).unbind(\"resize\", resize);\n\n            replacer.removeClass(\"sp-active\");\n            container.hide();\n\n            var realColor = get();\n\n            // Update the palette with the current color\n            if (addSelectionToPalette) {\n                palette.push(realColor.toHexString());\n                setPalette(palette);\n            }\n\n            // Change hasn't been called yet, so call it now that the picker has closed\n            if (!changeOnMove) {\n                updateOriginalInput();\n            }\n\n            callbacks.hide(realColor);\n        }\n\n        function set(color) {\n            var newColor = tinycolor(color);\n            var newHsv = newColor.toHsv();\n\n            currentHue = newHsv.h;\n            currentSaturation = newHsv.s;\n            currentValue = newHsv.v;\n\n            updateUI();\n\n            // set can be called from a default value,  don't want to trigger a change in that case\n            if (isInitialized) {\n                updateOriginalInput();\n            }\n        }\n\n        function get() {\n            return tinycolor({ h: currentHue, s: currentSaturation, v: currentValue });\n        }\n\n        function move() {\n            updateUI();\n\n            if (changeOnMove) {\n                updateOriginalInput();\n            }\n\n            callbacks.move(get());\n        }\n\n        function updateUI() {\n\n            updateHelperLocations();\n\n            // Update dragger background color (gradients take care of saturation and value).\n            var flatColor = tinycolor({ h: currentHue, s: \"1.0\", v: \"1.0\"});\n            dragger.css(\"background-color\", flatColor.toHexString());\n\n            var realColor = get(),\n                realHex = realColor.toHexString();\n\n            // Update the replaced elements background color (with actual selected color)\n            previewElement.css(\"background-color\", realHex);\n\n            // Update the text entry input as it changes happen\n            if (isInput) {\n                textInput.val(realHex);\n            }\n\n            if (showPalette) {\n                drawPalette(paletteLookup[realHex]);\n            }\n\n            drawInitial();\n        }\n\n        function updateHelperLocations() {\n            var h = currentHue;\n            var s = currentSaturation;\n            var v = currentValue;\n\n            // Where to show the little circle in that displays your current selected color\n            var dragX = s * dragWidth;\n            var dragY = dragHeight - (v * dragHeight);\n            dragX = Math.max(\n                -dragHelperHeight,\n                Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\n            );\n            dragY = Math.max(\n                -dragHelperHeight,\n                Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\n            );\n            dragHelper.css({\n                \"top\": dragY+6,\n                \"left\": dragX+6\n            });\n\n            // Where to show the bar that displays your current selected hue\n            var slideY = (currentHue) * slideHeight;\n            slideHelper.css({\n                \"top\": (slideY - slideHelperHeight) - 3\n            });\n        }\n\n        function updateOriginalInput() {\n            var color = get();\n            if (isInput) {\n                boundElement.val(color.toRgbString());\n            }\n\n            callbacks.change(color);\n        }\n\n        function reflow() {\n            dragWidth = dragger.width();\n            dragHeight = dragger.height();\n            dragHelperHeight = dragHelper.height();\n            slideWidth = slider.width();\n            slideHeight = slider.height();\n            slideHelperHelperHeight = slideHelper.height();\n\n            if (!flat) {\n                container.offset(getOffset(container, offsetElement));\n            }\n\n            updateHelperLocations();\n        }\n\n        function destroy() {\n            boundElement.show();\n            offsetElement.unbind(\"click.spectrum touchstart.spectrum\");\n            container.remove();\n            replacer.remove();\n            spectrums[spect.id] = null;\n        }\n\n        initialize();\n\n        var spect = {\n            show: show,\n            hide: hide,\n            set: set,\n            get: get,\n            destroy: destroy\n        };\n\n        spect.id = spectrums.push(spect) - 1;\n\n        return  spect;\n    }\n\n    /**\n     * checkOffset - get the offset below/above and left/right element depending on screen position\n     * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\n     */\n    function getOffset(picker, input) {\n        var extraY = -5;\n        var dpWidth = picker.outerWidth();\n        var dpHeight = picker.outerHeight();\n        var inputWidth = input.outerWidth();\n        var inputHeight =  input.outerHeight();\n        var doc = picker[0].ownerDocument;\n        var docElem = doc.documentElement;\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\n        var offset = input.offset();\n        offset.top += inputHeight;\n\n        offset.left -=\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\n            Math.abs(offset.left + dpWidth - viewWidth) : 0);\n\n        offset.top -=\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\n            Math.abs(dpHeight + inputHeight - extraY) : extraY)  );\n\n        return offset;\n    }\n\n    /**\n     * noop - do nothing\n     */\n    function noop() {\n\n    }\n\n    /**\n     * stopPropagation - makes the code only doing this a little easier to read in line\n     */\n    function stopPropagation(e) {\n        e.stopPropagation();\n    }\n\n    /**\n     * Create a function bound to a given object\n     * Thanks to underscore.js\n     */\n    function bind (func, obj) {\n        var slice = Array.prototype.slice;\n        var args = slice.call(arguments, 2);\n        return function() {\n            return func.apply(obj, args.concat(slice.call(arguments)));\n        }\n    }\n\n    /**\n     * Lightweight drag helper.  Handles containment within the element, so that\n     * when dragging, the x is within [0,element.width] and y is within [0,element.height]\n     */\n    function draggable(element, onmove, onstart, onstop) {\n        onmove = onmove || function() { };\n        onstart = onstart || function() { };\n        onstop = onstop || function() { };\n        var doc = element.ownerDocument || document;\n        var dragging = false;\n        var offset = { };\n        var maxHeight = 0;\n        var maxWidth = 0;\n        var IE = $.browser.msie;\n        var hasTouch = ('ontouchstart' in window);\n\n        var duringDragEvents = { };\n        duringDragEvents[\"selectstart\"] = prevent;\n        duringDragEvents[\"dragstart\"] = prevent;\n        duringDragEvents[(hasTouch ? \"touchmove\" : \"mousemove\")] = move;\n        duringDragEvents[(hasTouch ? \"touchend\" : \"mouseup\")] = stop;\n\n        function prevent(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            e.returnValue = false;\n        }\n\n        function move(e) {\n            if (dragging) {\n                // Mouseup happened outside of window\n                if (IE && !(document.documentMode >= 9) && !e.button) {\n                    return stop();\n                }\n\n                var touches =  e.originalEvent.touches;\n                var pageX = touches ? touches[0].pageX : e.pageX;\n                var pageY = touches ? touches[0].pageY : e.pageY;\n\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n\n                if (hasTouch) {\n                    // Stop scrolling in iOS\n                    prevent(e);\n                }\n\n                onmove.apply(element, [dragX, dragY]);\n            }\n        }\n        function start(e) {\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\n            var touches =  e.originalEvent.touches;\n\n            if (!rightclick && !dragging) {\n                if (onstart.apply(element, arguments) !== false) {\n                    dragging = true;\n                    maxHeight = $(element).height();\n                    maxWidth = $(element).width();\n                    offset = $(element).offset();\n\n                    $(doc).bind(duringDragEvents);\n\n                    if (!hasTouch) {\n                        move(e);\n                    }\n                    else {\n                        prevent(e);\n                    }\n                }\n            }\n        }\n        function stop() {\n            if (dragging) {\n                $(doc).unbind(duringDragEvents);\n                onstop.apply(element, arguments);\n            }\n            dragging = false;\n        }\n\n        $(element).bind(hasTouch ? \"touchstart\" : \"mousedown\", start);\n    }\n\n    function throttle(func, wait, debounce) {\n        var timeout;\n        return function() {\n          var context = this, args = arguments;\n          var throttler = function() {\n            timeout = null;\n            func.apply(context, args);\n          };\n          if (debounce) clearTimeout(timeout);\n          if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    }\n\n\n    /**\n     * Define a jQuery plugin\n     */\n    var dataID = \"spectrum.id\";\n    $.fn.spectrum = function(opts, extra) {\n        if (typeof opts == \"string\") {\n            if (opts == \"get\") {\n                return spectrums[this.eq(0).data(dataID)].get();\n            }\n\n            return this.each(function() {\n                var spect = spectrums[$(this).data(dataID)];\n                if (spect) {\n                    if (opts == \"show\") { spect.show(); }\n                    if (opts == \"hide\") { spect.hide(); }\n                    if (opts == \"set\")  { spect.set(extra); }\n                    if (opts == \"destroy\")  {\n                        spect.destroy();\n                        $(this).removeData(dataID);\n                    }\n                }\n            });\n        }\n\n        // Initializing a new one\n        return this.spectrum(\"destroy\").each(function() {\n            var spect = spectrum(this, opts);\n            $(this).data(dataID, spect.id);\n        });\n    };\n\n    $.fn.spectrum.load = true;\n    $.fn.spectrum.loadOpts = { };\n    $.fn.spectrum.draggable = draggable;\n\n    $(function() {\n        if ($.fn.spectrum.load) {\n            $(\"input[type=spectrum]\").each(function() {\n                var existing = spectrums[$(this).data(dataID)];\n                if (!existing) {\n                    $(this).spectrum($.fn.spectrum.loadOpts);\n                }\n            });\n        }\n    });\n\n})(this, jQuery);\n\n// TinyColor.js - https://github.com/bgrins/TinyColor - 2011 Brian Grinstead - v0.5\n(function(s){function d(b,a){if(typeof b==\"object\"&&b.hasOwnProperty(\"_tc_id\"))return b;if(typeof b==\"object\"&&(!a||!a.skipRatio))for(var c in b)b[c]===1&&(b[c]=\"1.0\");c=v(b);var k=c.r,f=c.g,d=c.b,h=n(c.a);k<1&&(k=e(k));f<1&&(f=e(f));d<1&&(d=e(d));return{ok:c.ok,_tc_id:w++,alpha:h,toHsv:function(){return t(k,f,d)},toHsvString:function(){var a=t(k,f,d),b=e(a.h*360),c=e(a.s*100);a=e(a.v*100);return\"hsv(\"+b+\", \"+c+\"%, \"+a+\"%)\"},toHsl:function(){return u(k,f,d)},toHslString:function(){var a=u(k,f,d),\nb=e(a.h*360),c=e(a.s*100);a=e(a.l*100);return h==1?\"hsl(\"+b+\", \"+c+\"%, \"+a+\"%)\":\"hsla(\"+b+\", \"+c+\"%, \"+a+\"%, \"+h+\")\"},toHex:function(){return q(k,f,d)},toHexString:function(){return\"#\"+q(k,f,d)},toRgb:function(){return{r:e(k),g:e(f),b:e(d)}},toRgbString:function(){return h==1?\"rgb(\"+e(k)+\", \"+e(f)+\", \"+e(d)+\")\":\"rgba(\"+e(k)+\", \"+e(f)+\", \"+e(d)+\", \"+h+\")\"},toName:function(){return x[q(k,d,f)]||!1},toFilter:function(){var a=q(k,f,d),b=Math.round(n(h)*255).toString(16);return\"progid:DXImageTransform.Microsoft.gradient(startColorstr=#\"+\nb+a+\",endColorstr=#\"+b+a+\")\"}}}function v(b){var a={r:255,g:255,b:255},c=1,d=!1;typeof b==\"string\"&&(b=y(b));if(typeof b==\"object\"){if(b.hasOwnProperty(\"r\")&&b.hasOwnProperty(\"g\")&&b.hasOwnProperty(\"b\"))a={r:j(b.r,255)*255,g:j(b.g,255)*255,b:j(b.b,255)*255},d=!0;else if(b.hasOwnProperty(\"h\")&&b.hasOwnProperty(\"s\")&&b.hasOwnProperty(\"v\")){var f=b.h,g=b.s;a=b.v;var h,e,o;f=j(f,360);g=j(g,100);a=j(a,100);d=p.floor(f*6);var i=f*6-d;f=a*(1-g);var n=a*(1-i*g);g=a*(1-(1-i)*g);switch(d%6){case 0:h=a;e=g;\no=f;break;case 1:h=n;e=a;o=f;break;case 2:h=f;e=a;o=g;break;case 3:h=f;e=n;o=a;break;case 4:h=g;e=f;o=a;break;case 5:h=a,e=f,o=n}a={r:h*255,g:e*255,b:o*255};d=!0}else b.hasOwnProperty(\"h\")&&b.hasOwnProperty(\"s\")&&b.hasOwnProperty(\"l\")&&(a=z(b.h,b.s,b.l),d=!0);if(b.hasOwnProperty(\"a\"))c=b.a}return{ok:d,r:l(255,m(a.r,0)),g:l(255,m(a.g,0)),b:l(255,m(a.b,0)),a:c}}function u(b,a,c){b=j(b,255);a=j(a,255);c=j(c,255);var d=m(b,a,c),f=l(b,a,c),g,e=(d+f)/2;if(d==f)g=f=0;else{var i=d-f;f=e>0.5?i/(2-d-f):i/(d+\nf);switch(d){case b:g=(a-c)/i+(a<c?6:0);break;case a:g=(c-b)/i+2;break;case c:g=(b-a)/i+4}g/=6}return{h:g,s:f,l:e}}function z(b,a,c){function d(a,b,c){c<0&&(c+=1);c>1&&(c-=1);if(c<1/6)return a+(b-a)*6*c;if(c<0.5)return b;if(c<2/3)return a+(b-a)*(2/3-c)*6;return a}b=j(b,360);a=j(a,100);c=j(c,100);if(a==0)c=a=b=c;else{var f=c<0.5?c*(1+a):c+a-c*a,e=2*c-f;c=d(e,f,b+1/3);a=d(e,f,b);b=d(e,f,b-1/3)}return{r:c*255,g:a*255,b:b*255}}function t(b,a,c){b=j(b,255);a=j(a,255);c=j(c,255);var d=m(b,a,c),f=l(b,a,\nc),e,h=d-f;if(d==f)e=0;else{switch(d){case b:e=(a-c)/h+(a<c?6:0);break;case a:e=(c-b)/h+2;break;case c:e=(b-a)/h+4}e/=6}return{h:e,s:d==0?0:h/d,v:d}}function q(b,a,c){function d(a){return a.length==1?\"0\"+a:a}return[d(e(b).toString(16)),d(e(a).toString(16)),d(e(c).toString(16))].join(\"\")}function j(b,a){typeof b==\"string\"&&b.indexOf(\".\")!=-1&&n(b)===1&&(b=\"100%\");var c=typeof b===\"string\"&&b.indexOf(\"%\")!=-1;b=l(a,m(0,n(b)));c&&(b*=a/100);if(p.abs(b-a)<1.0E-6)return 1;else if(b>=1)return b%a/n(a);\nreturn b}function y(b){b=b.replace(A,\"\").replace(B,\"\").toLowerCase();r[b]&&(b=r[b]);if(b==\"transparent\")return{r:0,g:0,b:0,a:0};var a;if(a=i.rgb.exec(b))return{r:a[1],g:a[2],b:a[3]};if(a=i.rgba.exec(b))return{r:a[1],g:a[2],b:a[3],a:a[4]};if(a=i.hsl.exec(b))return{h:a[1],s:a[2],l:a[3]};if(a=i.hsla.exec(b))return{h:a[1],s:a[2],l:a[3],a:a[4]};if(a=i.hsv.exec(b))return{h:a[1],s:a[2],v:a[3]};if(a=i.hex6.exec(b))return{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)};if(a=i.hex3.exec(b))return{r:parseInt(a[1]+\n\"\"+a[1],16),g:parseInt(a[2]+\"\"+a[2],16),b:parseInt(a[3]+\"\"+a[3],16)};return!1}var A=/^[\\s,#]+/,B=/\\s+$/,w=0,p=Math,e=p.round,l=p.min,m=p.max,n=s.parseFloat;d.equals=function(b,a){return d(b).toHex()==d(a).toHex()};d.desaturate=function(b,a){var c=d(b).toHsl();c.s-=(a||10)/100;c.s=l(1,m(0,c.s));return d(c)};d.saturate=function(b,a){var c=d(b).toHsl();c.s+=(a||10)/100;c.s=l(1,m(0,c.s));return d(c)};d.greyscale=function(b){return d.desaturate(b,100)};d.lighten=function(b,a){var c=d(b).toHsl();c.l+=(a||\n10)/100;c.l=l(1,m(0,c.l));return d(c)};d.darken=function(b,a){var c=d(b).toHsl();c.l-=(a||10)/100;c.l=l(1,m(0,c.l));return d(c)};d.complement=function(b){b=d(b).toHsl();b.h=(b.h+0.5)%1;return d(b)};d.triad=function(b){var a=d(b).toHsl(),c=a.h*360;return[d(b),d({h:(c+120)%360,s:a.s,l:a.l}),d({h:(c+240)%360,s:a.s,l:a.l})]};d.tetrad=function(b){var a=d(b).toHsl(),c=a.h*360;return[d(b),d({h:(c+90)%360,s:a.s,l:a.l}),d({h:(c+180)%360,s:a.s,l:a.l}),d({h:(c+270)%360,s:a.s,l:a.l})]};d.splitcomplement=function(b){var a=\nd(b).toHsl(),c=a.h*360;return[d(b),d({h:(c+72)%360,s:a.s,l:a.l}),d({h:(c+216)%360,s:a.s,l:a.l})]};d.analogous=function(b,a,c){a=a||6;c=c||30;var e=d(b).toHsl();c=360/c;b=[d(b)];e.h*=360;for(e.h=(e.h-(c*a>>1)+720)%360;--a;)e.h=(e.h+c)%360,b.push(d(e));return b};d.monochromatic=function(b,a){a=a||6;var c=d(b).toHsv(),e=c.h,f=c.s;c=c.v;for(var g=[];a--;)g.push(d({h:e,s:f,v:c})),c=(c+0.2)%1;return g};d.readable=function(b,a){var c=d(b).toRgb(),e=d(a).toRgb();return(e.r-c.r)*(e.r-c.r)+(e.g-c.g)*(e.g-c.g)+\n(e.b-c.b)*(e.b-c.b)>10404};var r=d.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",\ndarkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",\ngold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",\nlightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",\nolive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",\nslategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},x=function(b){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[b[c]]=c);return a}(r),i={rgb:RegExp(\"rgb[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),\nrgba:RegExp(\"rgba[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),hsl:RegExp(\"hsl[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),hsla:RegExp(\"hsla[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),\nhsv:RegExp(\"hsv[\\\\s|\\\\(]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))[,|\\\\s]+((?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?))\\\\s*\\\\)?\"),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};s.tinycolor=d})(this);"],"sourceRoot":"/source/"}